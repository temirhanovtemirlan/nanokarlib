/*
 *  Plugins - slick.js
 */
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(t,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(t),appendDots:i(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return i('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=i(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(t).data("slick")||{},n.options=i.extend({},n.defaults,o,s),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.instanceUid=e++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):!0===o?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),!1===s.options.vertical?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this,t=e.options.asNavFor;return t&&null!==t&&(t=i(t).not(e.$slider)),t},e.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(!0===o.options.dots){for(o.$slider.addClass("slick-dotted"),t=i("<ul />").addClass(o.options.dotsClass),e=0;e<=o.getDotCount();e+=1)t.append(i("<li />").append(o.options.customPaging.call(this,o,e)));o.$dots=t.appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),l.options.rows>1){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,r=this,l=!1,d=r.$slider.width(),a=window.innerWidth||i(window).width();if("window"===r.respondTo?n=a:"slider"===r.respondTo?n=d:"min"===r.respondTo&&(n=Math.min(a,d)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(o in r.breakpoints)r.breakpoints.hasOwnProperty(o)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[o]&&(s=r.breakpoints[o]):n>r.breakpoints[o]&&(s=r.breakpoints[o]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||t)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=i.extend({},r.originalSettings,r.breakpointSettings[s]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),l=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),l=s),e||!1===l||r.$slider.trigger("breakpoint",[r,l])}},e.prototype.changeSlide=function(e,t){var o,s,n,r=this,l=i(e.currentTarget);switch(l.is("a")&&e.preventDefault(),l.is("li")||(l=l.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0,o=n?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===o?r.options.slidesToScroll:r.options.slidesToShow-o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,t);break;case"next":s=0===o?r.options.slidesToScroll:o,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||l.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(d),!1,t),l.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t;if(e=this.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",i.proxy(e.interrupt,e,!0)).off("mouseleave.slick",i.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&((i=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(i))},e.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=o.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},e.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,r=(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,r=n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(n.slideOffset=0,r=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){return this.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(!1===e.options.infinite?i=e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o=this;return t=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){if(n.offsetLeft-t+i(n).outerWidth()/2>-1*o.swipeLeft)return e=n,!1}),Math.abs(i(e).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$slider).hasClass("slick-initialized")||(i(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this,t=Math.ceil(e.slideCount/e.options.slidesToShow),o=e.getNavigableIndexes().filter(function(i){return i>=0&&i<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){var s=o.indexOf(t);i(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+t,tabindex:-1}),-1!==s&&i(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+s})}),e.$dots.attr("role","tablist").find("li").each(function(s){var n=o[s];i(this).attr({role:"presentation"}),i(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+n,"aria-label":s+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,n=s+e.options.slidesToShow;s<n;s++)e.$slides.eq(s).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.interrupt,e,!0)).on("mouseleave.slick",i.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",i.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(e.setPosition)},e.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=i(this).attr("data-srcset"),s=i(this).attr("data-sizes")||n.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,t])},r.src=t})}var t,o,s,n=this;if(!0===n.options.centerMode?!0===n.options.infinite?s=(o=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=Math.ceil(o+n.options.slidesToShow),!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t=n.$slider.find(".slick-slide").slice(o,s),"anticipated"===n.options.lazyLoad)for(var r=o-1,l=s,d=n.$slider.find(".slick-slide"),a=0;a<n.options.slidesToScroll;a++)r<0&&(r=n.slideCount-1),t=(t=t.add(d.eq(r))).add(d.eq(l)),r--,l++;e(t),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},e.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&i(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var t,o,s,n,r,l=this,d=i("img[data-lazy]",l.$slider);d.length?(t=d.first(),o=t.attr("data-lazy"),s=t.attr("data-srcset"),n=t.attr("data-sizes")||l.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){s&&(t.attr("srcset",s),n&&t.attr("sizes",n)),t.attr("src",o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===l.options.adaptiveHeight&&l.setPosition(),l.$slider.trigger("lazyLoaded",[l,t,o]),l.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){l.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),l.$slider.trigger("lazyLoadError",[l,t,o]),l.progressiveLazyLoad())},r.src=o):l.$slider.trigger("allImagesLoaded",[l])},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>o&&(s.currentSlide=o),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,n.hasOwnProperty(e)){for(t=n[e].breakpoint;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},e.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,!0===t.options.rtl?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,t,o,s,n,r=this,l=!1;if("object"===i.type(arguments[0])?(o=arguments[0],l=arguments[1],n="multiple"):"string"===i.type(arguments[0])&&(o=arguments[0],s=arguments[1],l=arguments[2],"responsive"===arguments[0]&&"array"===i.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)r.options[o]=s;else if("multiple"===n)i.each(o,function(i,e){r.options[i]=e});else if("responsive"===n)for(t in s)if("array"!==i.type(r.options.responsive))r.options.responsive=[s[t]];else{for(e=r.options.responsive.length-1;e>=0;)r.options.responsive[e].breakpoint===s[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(s[t])}l&&(r.unload(),r.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o+s.slideCount;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.interrupt=function(i){var e=this;i||e.autoPlay(),e.interrupted=i},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));s||(s=0),t.slideCount<=t.options.slidesToShow?t.slideHandler(s,!1,!0):t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d=null,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,d=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(l=(l=a.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t?a.animateSlide(d,function(){a.postSlide(s)}):a.postSlide(s)}},e.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&o>=0?!1===s.options.rtl?"left":"right":o<=360&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?o>=35&&o<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1,!1;if(o.interrupted=!1,o.shouldClick=!(o.touchObject.swipeLength>10),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&r>4?(l.scrolling=!0,!1):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,!1===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},e.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$slider.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var i=this;i.options.autoplay&&(document[i.hidden]?i.interrupted=!0:i.interrupted=!1)},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),r=o.length;for(i=0;i<r;i++)if("object"==typeof s||void 0===s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),void 0!==t)return t;return o}});


/*
 *  Plugins - popper.js
 */
(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Popper=t()})(this,function(){'use strict';function e(e){return e&&'[object Function]'==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var o=window.getComputedStyle(e,null);return t?o[t]:o}function o(e){return'HTML'===e.nodeName?e:e.parentNode||e.host}function n(e){if(!e||-1!==['HTML','BODY','#document'].indexOf(e.nodeName))return window.document.body;var i=t(e),r=i.overflow,p=i.overflowX,s=i.overflowY;return /(auto|scroll)/.test(r+s+p)?e:n(o(e))}function r(e){var o=e&&e.offsetParent,i=o&&o.nodeName;return i&&'BODY'!==i&&'HTML'!==i?-1!==['TD','TABLE'].indexOf(o.nodeName)&&'static'===t(o,'position')?r(o):o:window.document.documentElement}function p(e){var t=e.nodeName;return'BODY'!==t&&('HTML'===t||r(e.firstElementChild)===e)}function s(e){return null===e.parentNode?e:s(e.parentNode)}function d(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return window.document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=o?e:t,n=o?t:e,a=document.createRange();a.setStart(i,0),a.setEnd(n,0);var f=a.commonAncestorContainer;if(e!==f&&t!==f||i.contains(n))return p(f)?f:r(f);var l=s(e);return l.host?d(l.host,t):d(e,s(t).host)}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',o='top'===t?'scrollTop':'scrollLeft',i=e.nodeName;if('BODY'===i||'HTML'===i){var n=window.document.documentElement,r=window.document.scrollingElement||n;return r[o]}return e[o]}function f(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=a(t,'top'),n=a(t,'left'),r=o?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=n*r,e.right+=n*r,e}function l(e,t){var o='x'===t?'Left':'Top',i='Left'==o?'Right':'Bottom';return+e['border'+o+'Width'].split('px')[0]+ +e['border'+i+'Width'].split('px')[0]}function m(e,t,o,i){return _(t['offset'+e],o['client'+e],o['offset'+e],ie()?o['offset'+e]+i['margin'+('Height'===e?'Top':'Left')]+i['margin'+('Height'===e?'Bottom':'Right')]:0)}function h(){var e=window.document.body,t=window.document.documentElement,o=ie()&&window.getComputedStyle(t);return{height:m('Height',e,t,o),width:m('Width',e,t,o)}}function c(e){return se({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var o={};if(ie())try{o=e.getBoundingClientRect();var i=a(e,'top'),n=a(e,'left');o.top+=i,o.left+=n,o.bottom+=i,o.right+=n}catch(e){}else o=e.getBoundingClientRect();var r={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},p='HTML'===e.nodeName?h():{},s=p.width||e.clientWidth||r.right-r.left,d=p.height||e.clientHeight||r.bottom-r.top,f=e.offsetWidth-s,m=e.offsetHeight-d;if(f||m){var g=t(e);f-=l(g,'x'),m-=l(g,'y'),r.width-=f,r.height-=m}return c(r)}function u(e,o){var i=ie(),r='HTML'===o.nodeName,p=g(e),s=g(o),d=n(e),a=t(o),l=+a.borderTopWidth.split('px')[0],m=+a.borderLeftWidth.split('px')[0],h=c({top:p.top-s.top-l,left:p.left-s.left-m,width:p.width,height:p.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var u=+a.marginTop.split('px')[0],b=+a.marginLeft.split('px')[0];h.top-=l-u,h.bottom-=l-u,h.left-=m-b,h.right-=m-b,h.marginTop=u,h.marginLeft=b}return(i?o.contains(d):o===d&&'BODY'!==d.nodeName)&&(h=f(h,o)),h}function b(e){var t=window.document.documentElement,o=u(e,t),i=_(t.clientWidth,window.innerWidth||0),n=_(t.clientHeight,window.innerHeight||0),r=a(t),p=a(t,'left'),s={top:r-o.top+o.marginTop,left:p-o.left+o.marginLeft,width:i,height:n};return c(s)}function y(e){var i=e.nodeName;return'BODY'===i||'HTML'===i?!1:'fixed'===t(e,'position')||y(o(e))}function w(e,t,i,r){var p={top:0,left:0},s=d(e,t);if('viewport'===r)p=b(s);else{var a;'scrollParent'===r?(a=n(o(e)),'BODY'===a.nodeName&&(a=window.document.documentElement)):'window'===r?a=window.document.documentElement:a=r;var f=u(a,s);if('HTML'===a.nodeName&&!y(s)){var l=h(),m=l.height,c=l.width;p.top+=f.top-f.marginTop,p.bottom=m+f.top,p.left+=f.left-f.marginLeft,p.right=c+f.left}else p=f}return p.left+=i,p.top+=i,p.right-=i,p.bottom-=i,p}function v(e){var t=e.width,o=e.height;return t*o}function E(e,t,o,i,n){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf('auto'))return e;var p=w(o,i,r,n),s={top:{width:p.width,height:t.top-p.top},right:{width:p.right-t.right,height:p.height},bottom:{width:p.width,height:p.bottom-t.bottom},left:{width:t.left-p.left,height:p.height}},d=Object.keys(s).map(function(e){return se({key:e},s[e],{area:v(s[e])})}).sort(function(e,t){return t.area-e.area}),a=d.filter(function(e){var t=e.width,i=e.height;return t>=o.clientWidth&&i>=o.clientHeight}),f=0<a.length?a[0].key:d[0].key,l=e.split('-')[1];return f+(l?'-'+l:'')}function x(e,t,o){var i=d(t,o);return u(o,i)}function O(e){var t=window.getComputedStyle(e),o=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight),n={width:e.offsetWidth+i,height:e.offsetHeight+o};return n}function L(e){var t={left:'right',right:'left',bottom:'top',top:'bottom'};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function S(e,t,o){o=o.split('-')[0];var i=O(e),n={width:i.width,height:i.height},r=-1!==['right','left'].indexOf(o),p=r?'top':'left',s=r?'left':'top',d=r?'height':'width',a=r?'width':'height';return n[p]=t[p]+t[d]/2-i[d]/2,n[s]=o===s?t[s]-i[a]:t[L(s)],n}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function C(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var i=T(e,function(e){return e[t]===o});return e.indexOf(i)}function N(t,o,i){var n=void 0===i?t:t.slice(0,C(t,'name',i));return n.forEach(function(t){t.function&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var i=t.function||t.fn;t.enabled&&e(i)&&(o.offsets.popper=c(o.offsets.popper),o.offsets.reference=c(o.offsets.reference),o=i(o,t))}),o}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=x(this.state,this.popper,this.reference),e.placement=E(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=S(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position='absolute',e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some(function(e){var o=e.name,i=e.enabled;return i&&o===t})}function B(e){for(var t=[!1,'ms','Webkit','Moz','O'],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length-1;n++){var i=t[n],r=i?''+i+o:e;if('undefined'!=typeof window.document.body.style[r])return r}return null}function D(){return this.state.isDestroyed=!0,W(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.left='',this.popper.style.position='',this.popper.style.top='',this.popper.style[B('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function H(e,t,o,i){var r='BODY'===e.nodeName,p=r?window:e;p.addEventListener(t,o,{passive:!0}),r||H(n(p.parentNode),t,o,i),i.push(p)}function P(e,t,o,i){o.updateBound=i,window.addEventListener('resize',o.updateBound,{passive:!0});var r=n(e);return H(r,'scroll',o.updateBound,o.scrollParents),o.scrollElement=r,o.eventsEnabled=!0,o}function A(){this.state.eventsEnabled||(this.state=P(this.reference,this.options,this.state,this.scheduleUpdate))}function M(e,t){return window.removeEventListener('resize',t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener('scroll',t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function I(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=M(this.reference,this.state))}function R(e){return''!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function U(e,t){Object.keys(t).forEach(function(o){var i='';-1!==['width','height','top','right','bottom','left'].indexOf(o)&&R(t[o])&&(i='px'),e.style[o]=t[o]+i})}function Y(e,t){Object.keys(t).forEach(function(o){var i=t[o];!1===i?e.removeAttribute(o):e.setAttribute(o,t[o])})}function F(e,t,o){var i=T(e,function(e){var o=e.name;return o===t}),n=!!i&&e.some(function(e){return e.name===o&&e.enabled&&e.order<i.order});if(!n){var r='`'+t+'`';console.warn('`'+o+'`'+' modifier is required by '+r+' modifier in order to work, be sure to include it before '+r+'!')}return n}function j(e){return'end'===e?'start':'start'===e?'end':e}function K(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=ae.indexOf(e),i=ae.slice(o+1).concat(ae.slice(0,o));return t?i.reverse():i}function q(e,t,o,i){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+n[1],p=n[2];if(!r)return e;if(0===p.indexOf('%')){var s;switch(p){case'%p':s=o;break;case'%':case'%r':default:s=i;}var d=c(s);return d[t]/100*r}if('vh'===p||'vw'===p){var a;return a='vh'===p?_(document.documentElement.clientHeight,window.innerHeight||0):_(document.documentElement.clientWidth,window.innerWidth||0),a/100*r}return r}function G(e,t,o,i){var n=[0,0],r=-1!==['right','left'].indexOf(i),p=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=p.indexOf(T(p,function(e){return-1!==e.search(/,|\s/)}));p[s]&&-1===p[s].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var d=/\s*,\s*|\s+/,a=-1===s?[p]:[p.slice(0,s).concat([p[s].split(d)[0]]),[p[s].split(d)[1]].concat(p.slice(s+1))];return a=a.map(function(e,i){var n=(1===i?!r:r)?'height':'width',p=!1;return e.reduce(function(e,t){return''===e[e.length-1]&&-1!==['+','-'].indexOf(t)?(e[e.length-1]=t,p=!0,e):p?(e[e.length-1]+=t,p=!1,e):e.concat(t)},[]).map(function(e){return q(e,n,t,o)})}),a.forEach(function(e,t){e.forEach(function(o,i){R(o)&&(n[t]+=o*('-'===e[i-1]?-1:1))})}),n}for(var z=Math.min,V=Math.floor,_=Math.max,X=['native code','[object MutationObserverConstructor]'],Q=function(e){return X.some(function(t){return-1<(e||'').toString().indexOf(t)})},J='undefined'!=typeof window,Z=['Edge','Trident','Firefox'],$=0,ee=0;ee<Z.length;ee+=1)if(J&&0<=navigator.userAgent.indexOf(Z[ee])){$=1;break}var i,te=J&&Q(window.MutationObserver),oe=te?function(e){var t=!1,o=0,i=document.createElement('span'),n=new MutationObserver(function(){e(),t=!1});return n.observe(i,{attributes:!0}),function(){t||(t=!0,i.setAttribute('x-index',o),++o)}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},$))}},ie=function(){return void 0==i&&(i=-1!==navigator.appVersion.indexOf('MSIE 10')),i},ne=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},re=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),pe=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},se=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var i in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},de=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],ae=de.slice(3),fe={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},le=function(){function t(o,i){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};ne(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=oe(this.update.bind(this)),this.options=se({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=o.jquery?o[0]:o,this.popper=i.jquery?i[0]:i,this.options.modifiers={},Object.keys(se({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){n.options.modifiers[e]=se({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return se({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();var p=this.options.eventsEnabled;p&&this.enableEventListeners(),this.state.eventsEnabled=p}return re(t,[{key:'update',value:function(){return k.call(this)}},{key:'destroy',value:function(){return D.call(this)}},{key:'enableEventListeners',value:function(){return A.call(this)}},{key:'disableEventListeners',value:function(){return I.call(this)}}]),t}();return le.Utils=('undefined'==typeof window?global:window).PopperUtils,le.placements=de,le.Defaults={placement:'bottom',eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split('-')[0],i=t.split('-')[1];if(i){var n=e.offsets,r=n.reference,p=n.popper,s=-1!==['bottom','top'].indexOf(o),d=s?'left':'top',a=s?'width':'height',f={start:pe({},d,r[d]),end:pe({},d,r[d]+r[a]-p[a])};e.offsets.popper=se({},p,f[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var o,i=t.offset,n=e.placement,r=e.offsets,p=r.popper,s=r.reference,d=n.split('-')[0];return o=R(+i)?[+i,0]:G(i,p,s,d),'left'===d?(p.top+=o[0],p.left-=o[1]):'right'===d?(p.top+=o[0],p.left+=o[1]):'top'===d?(p.left+=o[0],p.top-=o[1]):'bottom'===d&&(p.left+=o[0],p.top+=o[1]),e.popper=p,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||r(e.instance.popper);e.instance.reference===o&&(o=r(o));var i=w(e.instance.popper,e.instance.reference,t.padding,o);t.boundaries=i;var n=t.priority,p=e.offsets.popper,s={primary:function(e){var o=p[e];return p[e]<i[e]&&!t.escapeWithReference&&(o=_(p[e],i[e])),pe({},e,o)},secondary:function(e){var o='right'===e?'left':'top',n=p[o];return p[e]>i[e]&&!t.escapeWithReference&&(n=z(p[o],i[e]-('right'===e?p.width:p.height))),pe({},o,n)}};return n.forEach(function(e){var t=-1===['left','top'].indexOf(e)?'secondary':'primary';p=se({},p,s[t](e))}),e.offsets.popper=p,e},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,i=t.reference,n=e.placement.split('-')[0],r=V,p=-1!==['top','bottom'].indexOf(n),s=p?'right':'bottom',d=p?'left':'top',a=p?'width':'height';return o[s]<r(i[d])&&(e.offsets.popper[d]=r(i[d])-o[a]),o[d]>r(i[s])&&(e.offsets.popper[d]=r(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!F(e.instance.modifiers,'arrow','keepTogether'))return e;var o=t.element;if('string'==typeof o){if(o=e.instance.popper.querySelector(o),!o)return e;}else if(!e.instance.popper.contains(o))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),e;var i=e.placement.split('-')[0],n=e.offsets,r=n.popper,p=n.reference,s=-1!==['left','right'].indexOf(i),d=s?'height':'width',a=s?'top':'left',f=s?'left':'top',l=s?'bottom':'right',m=O(o)[d];p[l]-m<r[a]&&(e.offsets.popper[a]-=r[a]-(p[l]-m)),p[a]+m>r[l]&&(e.offsets.popper[a]+=p[a]+m-r[l]);var h=p[a]+p[d]/2-m/2,g=h-c(e.offsets.popper)[a];return g=_(z(r[d]-m,g),0),e.arrowElement=o,e.offsets.arrow={},e.offsets.arrow[a]=Math.round(g),e.offsets.arrow[f]='',e},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,'inner'))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=w(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),i=e.placement.split('-')[0],n=L(i),r=e.placement.split('-')[1]||'',p=[];switch(t.behavior){case fe.FLIP:p=[i,n];break;case fe.CLOCKWISE:p=K(i);break;case fe.COUNTERCLOCKWISE:p=K(i,!0);break;default:p=t.behavior;}return p.forEach(function(s,d){if(i!==s||p.length===d+1)return e;i=e.placement.split('-')[0],n=L(i);var a=e.offsets.popper,f=e.offsets.reference,l=V,m='left'===i&&l(a.right)>l(f.left)||'right'===i&&l(a.left)<l(f.right)||'top'===i&&l(a.bottom)>l(f.top)||'bottom'===i&&l(a.top)<l(f.bottom),h=l(a.left)<l(o.left),c=l(a.right)>l(o.right),g=l(a.top)<l(o.top),u=l(a.bottom)>l(o.bottom),b='left'===i&&h||'right'===i&&c||'top'===i&&g||'bottom'===i&&u,y=-1!==['top','bottom'].indexOf(i),w=!!t.flipVariations&&(y&&'start'===r&&h||y&&'end'===r&&c||!y&&'start'===r&&g||!y&&'end'===r&&u);(m||b||w)&&(e.flipped=!0,(m||b)&&(i=p[d+1]),w&&(r=j(r)),e.placement=i+(r?'-'+r:''),e.offsets.popper=se({},e.offsets.popper,S(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,'flip'))}),e},behavior:'flip',padding:5,boundariesElement:'viewport'},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split('-')[0],i=e.offsets,n=i.popper,r=i.reference,p=-1!==['left','right'].indexOf(o),s=-1===['top','left'].indexOf(o);return n[p?'left':'top']=r[t]-(s?n[p?'width':'height']:0),e.placement=L(t),e.offsets.popper=c(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!F(e.instance.modifiers,'hide','preventOverflow'))return e;var t=e.offsets.reference,o=T(e.instance.modifiers,function(e){return'preventOverflow'===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes['x-out-of-boundaries']=''}else{if(!1===e.hide)return e;e.hide=!1,e.attributes['x-out-of-boundaries']=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,i=t.y,n=e.offsets.popper,p=T(e.instance.modifiers,function(e){return'applyStyle'===e.name}).gpuAcceleration;void 0!==p&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var s,d,a=void 0===p?t.gpuAcceleration:p,f=r(e.instance.popper),l=g(f),m={position:n.position},h={left:V(n.left),top:V(n.top),bottom:V(n.bottom),right:V(n.right)},c='bottom'===o?'top':'bottom',u='right'===i?'left':'right',b=B('transform');if(d='bottom'==c?-l.height+h.bottom:h.top,s='right'==u?-l.width+h.right:h.left,a&&b)m[b]='translate3d('+s+'px, '+d+'px, 0)',m[c]=0,m[u]=0,m.willChange='transform';else{var y='bottom'==c?-1:1,w='right'==u?-1:1;m[c]=d*y,m[u]=s*w,m.willChange=c+', '+u}var v={"x-placement":e.placement};return e.attributes=se({},v,e.attributes),e.styles=se({},m,e.styles),e},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(e){return U(e.instance.popper,e.styles),Y(e.instance.popper,e.attributes),e.offsets.arrow&&U(e.arrowElement,e.offsets.arrow),e},onLoad:function(e,t,o,i,n){var r=x(n,t,e),p=E(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute('x-placement',p),U(t,{position:'absolute'}),o},gpuAcceleration:void 0}}},le});


/*
 *  Plugins - headhesive.js
 */
!function(t,s,e){"use strict";function i(t){for(var s=0;t;)s+=t.offsetTop,t=t.offsetParent;return s}var o=function(t,s){for(var e in s)s.hasOwnProperty(e)&&(t[e]="object"==typeof s[e]?o(t[e],s[e]):s[e]);return t},n=function(t,s){var e,i,o,n=Date.now||function(){return(new Date).getTime()},l=null,c=0,h=function(){c=n(),l=null,o=t.apply(e,i),e=i=null};return function(){var r=n(),f=s-(r-c);return e=this,i=arguments,0>=f?(clearTimeout(l),l=null,c=r,o=t.apply(e,i),e=i=null):l||(l=setTimeout(h,f)),o}},l=function(){return t.pageYOffset!==e?t.pageYOffset:(s.documentElement||s.body.parentNode||s.body).scrollTop},c=function(e,i){"querySelector"in s&&"addEventListener"in t&&(this.visible=!1,this.options={offset:300,classes:{clone:"headhesive",stick:"headhesive--stick",unstick:"headhesive--unstick"},throttle:250,onInit:function(){},onStick:function(){},onUnstick:function(){},onDestroy:function(){}},this.elem="string"==typeof e?s.querySelector(e):e,this.options=o(this.options,i),this.init())};c.prototype={constructor:c,init:function(){if(this.clonedElem=this.elem.cloneNode(!0),this.clonedElem.className+=" "+this.options.classes.clone,s.body.insertBefore(this.clonedElem,s.body.firstChild),"number"==typeof this.options.offset)this.scrollOffset=this.options.offset;else{if("string"!=typeof this.options.offset)throw new Error("Invalid offset: "+this.options.offset);this.scrollOffset=i(s.querySelector(this.options.offset))}this._throttleUpdate=n(this.update.bind(this),this.options.throttle),t.addEventListener("scroll",this._throttleUpdate,!1),this.options.onInit.call(this)},destroy:function(){s.body.removeChild(this.clonedElem),t.removeEventListener("scroll",this._throttleUpdate),this.options.onDestroy.call(this)},stick:function(){this.visible||(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.unstick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.stick,this.visible=!0,this.options.onStick.call(this))},unstick:function(){this.visible&&(this.clonedElem.className=this.clonedElem.className.replace(new RegExp("(^|\\s)*"+this.options.classes.stick+"(\\s|$)*","g"),""),this.clonedElem.className+=" "+this.options.classes.unstick,this.visible=!1,this.options.onUnstick.call(this))},update:function(){l()>this.scrollOffset?this.stick():this.unstick()}},t.Headhesive=c}(window,document);



/*
 *  Plugins - bootstrap.js
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e((t=t||self).bootstrap={},t.jQuery,t.Popper)}(this,(function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;function l(t){var n=this,i=!1;return e(this).one(c.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||c.triggerTransitionEnd(n)}),t),this}var c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),o=parseFloat(n),s=parseFloat(i);return o||s?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],s=e[i],r=s&&c.isElement(s)?"element":null===(a=s)||"undefined"==typeof a?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(r))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+r+'" but expected type "'+o+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?c.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if("undefined"==typeof e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};c.jQueryDetection(),e.fn.emulateTransitionEnd=l,e.event.special[c.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var h="alert",u=e.fn[h],d=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=c.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest(".alert")[0]),i},n._triggerCloseEvent=function(t){var n=e.Event("close.bs.alert");return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass("show"),e(t).hasClass("fade")){var i=c.getTransitionDurationFromElement(t);e(t).one(c.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.alert");o||(o=new t(this),i.data("bs.alert",o)),"close"===n&&o[n](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',d._handleDismiss(new d)),e.fn[h]=d._jQueryInterface,e.fn[h].Constructor=d,e.fn[h].noConflict=function(){return e.fn[h]=u,d._jQueryInterface};var f=e.fn.button,g=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest('[data-toggle="buttons"]')[0];if(i){var o=this._element.querySelector('input:not([type="hidden"])');if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains("active"))t=!1;else{var s=i.querySelector(".active");s&&e(s).removeClass("active")}t&&("checkbox"!==o.type&&"radio"!==o.type||(o.checked=!this._element.classList.contains("active")),e(o).trigger("change")),o.focus(),n=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),t&&e(this._element).toggleClass("active"))},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var n=t.target,i=n;if(e(n).hasClass("btn")||(n=e(n).closest(".btn")[0]),!n||n.hasAttribute("disabled")||n.classList.contains("disabled"))t.preventDefault();else{var o=n.querySelector('input:not([type="hidden"])');if(o&&(o.hasAttribute("disabled")||o.classList.contains("disabled")))return void t.preventDefault();"LABEL"===i.tagName&&o&&"checkbox"===o.type&&t.preventDefault(),g._jQueryInterface.call(e(n),"toggle")}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){var n=e(t.target).closest(".btn")[0];e(n).toggleClass("focus",/^focus(in)?$/.test(t.type))})),e(window).on("load.bs.button.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var i=t[e],o=i.querySelector('input:not([type="hidden"])');o.checked||o.hasAttribute("checked")?i.classList.add("active"):i.classList.remove("active")}for(var s=0,r=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;s<r;s++){var a=t[s];"true"===a.getAttribute("aria-pressed")?a.classList.add("active"):a.classList.remove("active")}})),e.fn.button=g._jQueryInterface,e.fn.button.Constructor=g,e.fn.button.noConflict=function(){return e.fn.button=f,g._jQueryInterface};var m="carousel",p=".bs.carousel",_=e.fn[m],v={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},b={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},y={TOUCH:"touch",PEN:"pen"},E=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide("next")},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide("prev")},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(c.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(".active.carousel-item");var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one("slid.bs.carousel",(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var o=t>i?"next":"prev";this._slide(o,this._items[t])}},n.dispose=function(){e(this._element).off(p),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=a(a({},v),t),c.typeCheckConfig(m,t,b),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on("keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on("mouseenter.bs.carousel",(function(e){return t.pause(e)})).on("mouseleave.bs.carousel",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&y[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&y[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};e(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on("pointerdown.bs.carousel",(function(t){return n(t)})),e(this._element).on("pointerup.bs.carousel",(function(t){return i(t)})),this._element.classList.add("pointer-event")):(e(this._element).on("touchstart.bs.carousel",(function(t){return n(t)})),e(this._element).on("touchmove.bs.carousel",(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),e(this._element).on("touchend.bs.carousel",(function(t){return i(t)})))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n="next"===t,i="prev"===t,o=this._getItemIndex(e),s=this._items.length-1;if((i&&0===o||n&&o===s)&&!this._config.wrap)return e;var r=(o+("prev"===t?-1:1))%this._items.length;return-1===r?this._items[this._items.length-1]:this._items[r]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(".active.carousel-item")),s=e.Event("slide.bs.carousel",{relatedTarget:t,direction:n,from:o,to:i});return e(this._element).trigger(s),s},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));e(n).removeClass("active");var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass("active")}},n._slide=function(t,n){var i,o,s,r=this,a=this._element.querySelector(".active.carousel-item"),l=this._getItemIndex(a),h=n||a&&this._getItemByDirection(t,a),u=this._getItemIndex(h),d=Boolean(this._interval);if("next"===t?(i="carousel-item-left",o="carousel-item-next",s="left"):(i="carousel-item-right",o="carousel-item-prev",s="right"),h&&e(h).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(h,s).isDefaultPrevented()&&a&&h){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(h);var f=e.Event("slid.bs.carousel",{relatedTarget:h,direction:s,from:l,to:u});if(e(this._element).hasClass("slide")){e(h).addClass(o),c.reflow(h),e(a).addClass(i),e(h).addClass(i);var g=parseInt(h.getAttribute("data-interval"),10);g?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=g):this._config.interval=this._config.defaultInterval||this._config.interval;var m=c.getTransitionDurationFromElement(a);e(a).one(c.TRANSITION_END,(function(){e(h).removeClass(i+" "+o).addClass("active"),e(a).removeClass("active "+o+" "+i),r._isSliding=!1,setTimeout((function(){return e(r._element).trigger(f)}),0)})).emulateTransitionEnd(m)}else e(a).removeClass("active"),e(h).addClass("active"),this._isSliding=!1,e(this._element).trigger(f);d&&this.cycle()}},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.carousel"),o=a(a({},v),e(this).data());"object"==typeof n&&(o=a(a({},o),n));var s="string"==typeof n?n:o.slide;if(i||(i=new t(this,o),e(this).data("bs.carousel",i)),"number"==typeof n)i.to(n);else if("string"==typeof s){if("undefined"==typeof i[s])throw new TypeError('No method named "'+s+'"');i[s]()}else o.interval&&o.ride&&(i.pause(),i.cycle())}))},t._dataApiClickHandler=function(n){var i=c.getSelectorFromElement(this);if(i){var o=e(i)[0];if(o&&e(o).hasClass("carousel")){var s=a(a({},e(o).data()),e(this).data()),r=this.getAttribute("data-slide-to");r&&(s.interval=!1),t._jQueryInterface.call(e(o),s),r&&e(o).data("bs.carousel").to(r),n.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return v}}]),t}();e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",E._dataApiClickHandler),e(window).on("load.bs.carousel.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,i=t.length;n<i;n++){var o=e(t[n]);E._jQueryInterface.call(o,o.data())}})),e.fn[m]=E._jQueryInterface,e.fn[m].Constructor=E,e.fn[m].noConflict=function(){return e.fn[m]=_,E._jQueryInterface};var w="collapse",T=e.fn[w],C={toggle:!0,parent:""},S={toggle:"boolean",parent:"(string|element)"},D=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),i=0,o=n.length;i<o;i++){var s=n[i],r=c.getSelectorFromElement(s),a=[].slice.call(document.querySelectorAll(r)).filter((function(e){return e===t}));null!==r&&a.length>0&&(this._selector=r,this._triggerArray.push(s))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass("show")?this.hide():this.show()},n.show=function(){var n,i,o=this;if(!this._isTransitioning&&!e(this._element).hasClass("show")&&(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t){return"string"==typeof o._config.parent?t.getAttribute("data-parent")===o._config.parent:t.classList.contains("collapse")}))).length&&(n=null),!(n&&(i=e(n).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var s=e.Event("show.bs.collapse");if(e(this._element).trigger(s),!s.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data("bs.collapse",null));var r=this._getDimension();e(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[r]=0,this._triggerArray.length&&e(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(r[0].toUpperCase()+r.slice(1)),l=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,(function(){e(o._element).removeClass("collapsing").addClass("collapse show"),o._element.style[r]="",o.setTransitioning(!1),e(o._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(l),this._element.style[r]=this._element[a]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass("show")){var n=e.Event("hide.bs.collapse");if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",c.reflow(this._element),e(this._element).addClass("collapsing").removeClass("collapse show");var o=this._triggerArray.length;if(o>0)for(var s=0;s<o;s++){var r=this._triggerArray[s],a=c.getSelectorFromElement(r);if(null!==a)e([].slice.call(document.querySelectorAll(a))).hasClass("show")||e(r).addClass("collapsed").attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[i]="";var l=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(l)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=a(a({},C),t)).toggle=Boolean(t.toggle),c.typeCheckConfig(w,t,S),t},n._getDimension=function(){return e(this._element).hasClass("width")?"width":"height"},n._getParent=function(){var n,i=this;c.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',s=[].slice.call(n.querySelectorAll(o));return e(s).each((function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass("show");n.length&&e(n).toggleClass("collapsed",!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=c.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.collapse"),s=a(a(a({},C),i.data()),"object"==typeof n&&n?n:{});if(!o&&s.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(s.toggle=!1),o||(o=new t(this,s),i.data("bs.collapse",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return C}}]),t}();e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=c.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(i));e(o).each((function(){var t=e(this),i=t.data("bs.collapse")?"toggle":n.data();D._jQueryInterface.call(t,i)}))})),e.fn[w]=D._jQueryInterface,e.fn[w].Constructor=D,e.fn[w].noConflict=function(){return e.fn[w]=T,D._jQueryInterface};var k="dropdown",N=e.fn[k],A=new RegExp("38|40|27"),I={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},O={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},j=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")){var n=e(this._menu).hasClass("show");t._clearMenus(),n||this.show(!0)}},i.show=function(i){if(void 0===i&&(i=!1),!(this._element.disabled||e(this._element).hasClass("disabled")||e(this._menu).hasClass("show"))){var o={relatedTarget:this._element},s=e.Event("show.bs.dropdown",o),r=t._getParentFromElement(this._element);if(e(r).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar&&i){if("undefined"==typeof n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=r:c.isElement(this._config.reference)&&(a=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(r).addClass("position-static"),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(r).closest(".navbar-nav").length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass("show"),e(r).toggleClass("show").trigger(e.Event("shown.bs.dropdown",o))}}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")&&e(this._menu).hasClass("show")){var n={relatedTarget:this._element},i=e.Event("hide.bs.dropdown",n),o=t._getParentFromElement(this._element);e(o).trigger(i),i.isDefaultPrevented()||(this._popper&&this._popper.destroy(),e(this._menu).toggleClass("show"),e(o).toggleClass("show").trigger(e.Event("hidden.bs.dropdown",n)))}},i.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on("click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},i._getConfig=function(t){return t=a(a(a({},this.constructor.Default),e(this._element).data()),t),c.typeCheckConfig(k,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(".dropdown-menu"))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n="bottom-start";return t.hasClass("dropup")?n=e(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":t.hasClass("dropright")?n="right-start":t.hasClass("dropleft")?n="left-start":e(this._menu).hasClass("dropdown-menu-right")&&(n="bottom-end"),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=a(a({},e.offsets),t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),a(a({},t),this._config.popperConfig)},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.dropdown");if(i||(i=new t(this,"object"==typeof n?n:null),e(this).data("bs.dropdown",i)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),o=0,s=i.length;o<s;o++){var r=t._getParentFromElement(i[o]),a=e(i[o]).data("bs.dropdown"),l={relatedTarget:i[o]};if(n&&"click"===n.type&&(l.clickEvent=n),a){var c=a._menu;if(e(r).hasClass("show")&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(r,n.target))){var h=e.Event("hide.bs.dropdown",l);e(r).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[o].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),e(c).removeClass("show"),e(r).removeClass("show").trigger(e.Event("hidden.bs.dropdown",l)))}}}},t._getParentFromElement=function(t){var e,n=c.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if(!(/input|textarea/i.test(n.target.tagName)?32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(".dropdown-menu").length):!A.test(n.which))&&!this.disabled&&!e(this).hasClass("disabled")){var i=t._getParentFromElement(this),o=e(i).hasClass("show");if(o||27!==n.which){if(n.preventDefault(),n.stopPropagation(),!o||o&&(27===n.which||32===n.which))return 27===n.which&&e(i.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void e(this).trigger("click");var s=[].slice.call(i.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t){return e(t).is(":visible")}));if(0!==s.length){var r=s.indexOf(n.target);38===n.which&&r>0&&r--,40===n.which&&r<s.length-1&&r++,r<0&&(r=0),s[r].focus()}}}},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return I}},{key:"DefaultType",get:function(){return O}}]),t}();e(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',j._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",j._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",j._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),j._jQueryInterface.call(e(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})),e.fn[k]=j._jQueryInterface,e.fn[k].Constructor=j,e.fn[k].noConflict=function(){return e.fn[k]=N,j._jQueryInterface};var P=e.fn.modal,x={backdrop:!0,keyboard:!0,focus:!0,show:!0},L={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},R=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass("fade")&&(this._isTransitioning=!0);var i=e.Event("show.bs.modal",{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return n.hide(t)})),e(this._dialog).on("mousedown.dismiss.bs.modal",(function(){e(n._element).one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event("hide.bs.modal");if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var o=e(this._element).hasClass("fade");if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off("focusin.bs.modal"),e(this._element).removeClass("show"),e(this._element).off("click.dismiss.bs.modal"),e(this._dialog).off("mousedown.dismiss.bs.modal"),o){var s=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(s)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(".bs.modal")})),e(document).off("focusin.bs.modal"),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=a(a({},x),t),c.typeCheckConfig("modal",t,L),t},n._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var n=e.Event("hidePrevented.bs.modal");if(e(this._element).trigger(n),n.defaultPrevented)return;this._element.classList.add("modal-static");var i=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,(function(){t._element.classList.remove("modal-static")})).emulateTransitionEnd(i),this._element.focus()}else this.hide()},n._showElement=function(t){var n=this,i=e(this._element).hasClass("fade"),o=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass("modal-dialog-scrollable")&&o?o.scrollTop=0:this._element.scrollTop=0,i&&c.reflow(this._element),e(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t}),r=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(s)};if(i){var a=c.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(c.TRANSITION_END,r).emulateTransitionEnd(a)}else r()},n._enforceFocus=function(){var t=this;e(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown?e(this._element).on("keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||e(this._element).off("keydown.dismiss.bs.modal")},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on("resize.bs.modal",(function(e){return t.handleUpdate(e)})):e(window).off("resize.bs.modal")},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger("hidden.bs.modal")}))},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on("click.dismiss.bs.modal",(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&n._triggerBackdropTransition()})),i&&c.reflow(this._backdrop),e(this._backdrop).addClass("show"),!t)return;if(!i)return void t();var o=c.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(c.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass("show");var s=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass("fade")){var r=c.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(c.TRANSITION_END,s).emulateTransitionEnd(r)}else s()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),i=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each((function(n,i){var o=i.style.paddingRight,s=e(i).css("padding-right");e(i).data("padding-right",o).css("padding-right",parseFloat(s)+t._scrollbarWidth+"px")})),e(i).each((function(n,i){var o=i.style.marginRight,s=e(i).css("margin-right");e(i).data("margin-right",o).css("margin-right",parseFloat(s)-t._scrollbarWidth+"px")}));var o=document.body.style.paddingRight,s=e(document.body).css("padding-right");e(document.body).data("padding-right",o).css("padding-right",parseFloat(s)+this._scrollbarWidth+"px")}e(document.body).addClass("modal-open")},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));e(t).each((function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""}));var n=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each((function(t,n){var i=e(n).data("margin-right");"undefined"!=typeof i&&e(n).css("margin-right",i).removeData("margin-right")}));var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each((function(){var o=e(this).data("bs.modal"),s=a(a(a({},x),e(this).data()),"object"==typeof n&&n?n:{});if(o||(o=new t(this,s),e(this).data("bs.modal",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n](i)}else s.show&&o.show(i)}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return x}}]),t}();e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n,i=this,o=c.getSelectorFromElement(this);o&&(n=document.querySelector(o));var s=e(n).data("bs.modal")?"toggle":a(a({},e(n).data()),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var r=e(n).one("show.bs.modal",(function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",(function(){e(i).is(":visible")&&i.focus()}))}));R._jQueryInterface.call(e(n),s,this)})),e.fn.modal=R._jQueryInterface,e.fn.modal.Constructor=R,e.fn.modal.noConflict=function(){return e.fn.modal=P,R._jQueryInterface};var q=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],F={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Q=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,B=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function H(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),s=[].slice.call(i.body.querySelectorAll("*")),r=function(t,n){var i=s[t],r=i.nodeName.toLowerCase();if(-1===o.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[r]||[]);a.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===q.indexOf(n)||Boolean(t.nodeValue.match(Q)||t.nodeValue.match(B));for(var i=e.filter((function(t){return t instanceof RegExp})),o=0,s=i.length;o<s;o++)if(n.match(i[o]))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)}))},a=0,l=s.length;a<l;a++)r(a);return i.body.innerHTML}var U="tooltip",M=e.fn[U],W=new RegExp("(^|\\s)bs-tooltip\\S+","g"),V=["sanitize","whiteList","sanitizeFn"],z={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},K={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},X={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:F,popperConfig:null},Y={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},$=function(){function t(t,e){if("undefined"==typeof n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var o=c.findShadowRoot(this.element),s=e.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!s)return;var r=this.getTipElement(),a=c.getUID(this.constructor.NAME);r.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(r).addClass("fade");var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,h=this._getAttachment(l);this.addAttachmentClass(h);var u=this._getContainer();e(r).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(r).appendTo(u),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,r,this._getPopperConfig(h)),e(r).addClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),"out"===n&&t._leave(null,t)};if(e(this.tip).hasClass("fade")){var f=c.getTransitionDurationFromElement(this.tip);e(this.tip).one(c.TRANSITION_END,d).emulateTransitionEnd(f)}else d()}},i.hide=function(t){var n=this,i=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),s=function(){"show"!==n._hoverState&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(o),!o.isDefaultPrevented()){if(e(i).removeClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,e(this.tip).hasClass("fade")){var r=c.getTransitionDurationFromElement(i);e(i).one(c.TRANSITION_END,s).emulateTransitionEnd(r)}else s();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(".tooltip-inner")),this.getTitle()),e(t).removeClass("fade show")},i.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=H(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getPopperConfig=function(t){var e=this;return a(a({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),this.config.popperConfig)},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=a(a({},e.offsets),t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:c.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return K[t.toUpperCase()]},i._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==n){var i="hover"===n?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o="hover"===n?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(o,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},e(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=a(a({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e(n.getTipElement()).hasClass("show")||"show"===n._hoverState?n._hoverState="show":(clearTimeout(n._timeout),n._hoverState="show",n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){"show"===n._hoverState&&n.show()}),n.config.delay.show):n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){"out"===n._hoverState&&n.hide()}),n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach((function(t){-1!==V.indexOf(t)&&delete n[t]})),"number"==typeof(t=a(a(a({},this.constructor.Default),n),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),c.typeCheckConfig(U,t,this.constructor.DefaultType),t.sanitize&&(t.template=H(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(W);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.tooltip"),o="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,o),e(this).data("bs.tooltip",i)),"string"==typeof n)){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return X}},{key:"NAME",get:function(){return U}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return Y}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return z}}]),t}();e.fn[U]=$._jQueryInterface,e.fn[U].Constructor=$,e.fn[U].noConflict=function(){return e.fn[U]=M,$._jQueryInterface};var J="popover",G=e.fn[J],Z=new RegExp("(^|\\s)bs-popover\\S+","g"),tt=a(a({},$.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),et=a(a({},$.DefaultType),{},{content:"(string|element|function)"}),nt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},it=function(t){var n,i;function s(){return t.apply(this,arguments)||this}i=t,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var r=s.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},r.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},r.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(".popover-body"),n),t.removeClass("fade show")},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(Z);null!==n&&n.length>0&&t.removeClass(n.join(""))},s._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new s(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(s,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return tt}},{key:"NAME",get:function(){return J}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return nt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return et}}]),s}($);e.fn[J]=it._jQueryInterface,e.fn[J].Constructor=it,e.fn[J].noConflict=function(){return e.fn[J]=G,it._jQueryInterface};var ot="scrollspy",st=e.fn[ot],rt={offset:10,method:"auto",target:""},at={offset:"number",method:"string",target:"(string|element)"},lt=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on("scroll.bs.scrollspy",(function(t){return i._process(t)})),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?n:this._config.method,o="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var n,s=c.getSelectorFromElement(t);if(s&&(n=document.querySelector(s)),n){var r=n.getBoundingClientRect();if(r.width||r.height)return[e(n)[i]().top+o,s]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=a(a({},rt),"object"==typeof t&&t?t:{})).target&&c.isElement(t.target)){var n=e(t.target).attr("id");n||(n=c.getUID(ot),e(t.target).attr("id",n)),t.target="#"+n}return c.typeCheckConfig(ot,t,at),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;){this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&("undefined"==typeof this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass("dropdown-item")?(i.closest(".dropdown").find(".dropdown-toggle").addClass("active"),i.addClass("active")):(i.addClass("active"),i.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),i.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),e(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.scrollspy");if(i||(i=new t(this,"object"==typeof n&&n),e(this).data("bs.scrollspy",i)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return rt}}]),t}();e(window).on("load.bs.scrollspy.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),n=t.length;n--;){var i=e(t[n]);lt._jQueryInterface.call(i,i.data())}})),e.fn[ot]=lt._jQueryInterface,e.fn[ot].Constructor=lt,e.fn[ot].noConflict=function(){return e.fn[ot]=st,lt._jQueryInterface};var ct=e.fn.tab,ht=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass("active")||e(this._element).hasClass("disabled"))){var n,i,o=e(this._element).closest(".nav, .list-group")[0],s=c.getSelectorFromElement(this._element);if(o){var r="UL"===o.nodeName||"OL"===o.nodeName?"> li > .active":".active";i=(i=e.makeArray(e(o).find(r)))[i.length-1]}var a=e.Event("hide.bs.tab",{relatedTarget:this._element}),l=e.Event("show.bs.tab",{relatedTarget:i});if(i&&e(i).trigger(a),e(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){s&&(n=document.querySelector(s)),this._activate(this._element,o);var h=function(){var n=e.Event("hidden.bs.tab",{relatedTarget:t._element}),o=e.Event("shown.bs.tab",{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(o)};n?this._activate(n,n.parentNode,h):h()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var o=this,s=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(".active"):e(n).find("> li > .active"))[0],r=i&&s&&e(s).hasClass("fade"),a=function(){return o._transitionComplete(t,s,i)};if(s&&r){var l=c.getTransitionDurationFromElement(s);e(s).removeClass("show").one(c.TRANSITION_END,a).emulateTransitionEnd(l)}else a()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass("active");var o=e(n.parentNode).find("> .dropdown-menu .active")[0];o&&e(o).removeClass("active"),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),c.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&e(t.parentNode).hasClass("dropdown-menu")){var s=e(t).closest(".dropdown")[0];if(s){var r=[].slice.call(s.querySelectorAll(".dropdown-toggle"));e(r).addClass("active")}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.tab");if(o||(o=new t(this),i.data("bs.tab",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),ht._jQueryInterface.call(e(this),"show")})),e.fn.tab=ht._jQueryInterface,e.fn.tab.Constructor=ht,e.fn.tab.noConflict=function(){return e.fn.tab=ct,ht._jQueryInterface};var ut=e.fn.toast,dt={animation:"boolean",autohide:"boolean",delay:"number"},ft={animation:!0,autohide:!0,delay:500},gt=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this,n=e.Event("show.bs.toast");if(e(this._element).trigger(n),!n.isDefaultPrevented()){this._config.animation&&this._element.classList.add("fade");var i=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),e(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),c.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var o=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,i).emulateTransitionEnd(o)}else i()}},n.hide=function(){if(this._element.classList.contains("show")){var t=e.Event("hide.bs.toast");e(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains("show")&&this._element.classList.remove("show"),e(this._element).off("click.dismiss.bs.toast"),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=a(a(a({},ft),e(this._element).data()),"object"==typeof t&&t?t:{}),c.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return t.hide()}))},n._close=function(){var t=this,n=function(){t._element.classList.add("hide"),e(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var i=c.getTransitionDurationFromElement(this._element);e(this._element).one(c.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),o=i.data("bs.toast");if(o||(o=new t(this,"object"==typeof n&&n),i.data("bs.toast",o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n](this)}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"DefaultType",get:function(){return dt}},{key:"Default",get:function(){return ft}}]),t}();e.fn.toast=gt._jQueryInterface,e.fn.toast.Constructor=gt,e.fn.toast.noConflict=function(){return e.fn.toast=ut,gt._jQueryInterface},t.Alert=d,t.Button=g,t.Carousel=E,t.Collapse=D,t.Dropdown=j,t.Modal=R,t.Popover=it,t.Scrollspy=lt,t.Tab=ht,t.Toast=gt,t.Tooltip=$,t.Util=c,Object.defineProperty(t,"__esModule",{value:!0})}));


/*
 *  Plugins - wow.js
 */
!function(a,b){if("function"==typeof define&&define.amd)define(["module","exports"],b);else if("undefined"!=typeof exports)b(module,exports);else{var c={exports:{}};b(c,c.exports),a.WOW=c.exports}}(this,function(a,b){"use strict";function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(a,b){return b.indexOf(a)>=0}function e(a,b){for(var c in b)if(null==a[c]){var d=b[c];a[c]=d}return a}function f(a){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)}function g(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=arguments.length<=3||void 0===arguments[3]?null:arguments[3],e=void 0;return null!=document.createEvent?(e=document.createEvent("CustomEvent"),e.initCustomEvent(a,b,c,d)):null!=document.createEventObject?(e=document.createEventObject(),e.eventType=a):e.eventName=a,e}function h(a,b){null!=a.dispatchEvent?a.dispatchEvent(b):b in(null!=a)?a[b]():"on"+b in(null!=a)&&a["on"+b]()}function i(a,b,c){null!=a.addEventListener?a.addEventListener(b,c,!1):null!=a.attachEvent?a.attachEvent("on"+b,c):a[b]=c}function j(a,b,c){null!=a.removeEventListener?a.removeEventListener(b,c,!1):null!=a.detachEvent?a.detachEvent("on"+b,c):delete a[b]}function k(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight}Object.defineProperty(b,"__esModule",{value:!0});var l,m,n=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),o=window.WeakMap||window.MozWeakMap||function(){function a(){c(this,a),this.keys=[],this.values=[]}return n(a,[{key:"get",value:function(a){for(var b=0;b<this.keys.length;b++){var c=this.keys[b];if(c===a)return this.values[b]}}},{key:"set",value:function(a,b){for(var c=0;c<this.keys.length;c++){var d=this.keys[c];if(d===a)return this.values[c]=b,this}return this.keys.push(a),this.values.push(b),this}}]),a}(),p=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver||(m=l=function(){function a(){c(this,a),"undefined"!=typeof console&&null!==console&&(console.warn("MutationObserver is not supported by your browser."),console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content."))}return n(a,[{key:"observe",value:function(){}}]),a}(),l.notSupported=!0,m),q=window.getComputedStyle||function(a){var b=/(\-([a-z]){1})/g;return{getPropertyValue:function(c){"float"===c&&(c="styleFloat"),b.test(c)&&c.replace(b,function(a,b){return b.toUpperCase()});var d=a.currentStyle;return(null!=d?d[c]:void 0)||null}}},r=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c(this,a),this.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null,resetAnimation:!0},this.animate=function(){return"requestAnimationFrame"in window?function(a){return window.requestAnimationFrame(a)}:function(a){return a()}}(),this.vendors=["moz","webkit"],this.start=this.start.bind(this),this.resetAnimation=this.resetAnimation.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.scrollCallback=this.scrollCallback.bind(this),this.scrolled=!0,this.config=e(b,this.defaults),null!=b.scrollContainer&&(this.config.scrollContainer=document.querySelector(b.scrollContainer)),this.animationNameCache=new o,this.wowEvent=g(this.config.boxClass)}return n(a,[{key:"init",value:function(){this.element=window.document.documentElement,d(document.readyState,["interactive","complete"])?this.start():i(document,"DOMContentLoaded",this.start),this.finished=[]}},{key:"start",value:function(){var a=this;if(this.stopped=!1,this.boxes=[].slice.call(this.element.querySelectorAll("."+this.config.boxClass)),this.all=this.boxes.slice(0),this.boxes.length)if(this.disabled())this.resetStyle();else for(var b=0;b<this.boxes.length;b++){var c=this.boxes[b];this.applyStyle(c,!0)}if(this.disabled()||(i(this.config.scrollContainer||window,"scroll",this.scrollHandler),i(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live){var d=new p(function(b){for(var c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.addedNodes.length;e++){var f=d.addedNodes[e];a.doSync(f)}});d.observe(document.body,{childList:!0,subtree:!0})}}},{key:"stop",value:function(){this.stopped=!0,j(this.config.scrollContainer||window,"scroll",this.scrollHandler),j(window,"resize",this.scrollHandler),null!=this.interval&&clearInterval(this.interval)}},{key:"sync",value:function(){p.notSupported&&this.doSync(this.element)}},{key:"doSync",value:function(a){if("undefined"!=typeof a&&null!==a||(a=this.element),1===a.nodeType){a=a.parentNode||a;for(var b=a.querySelectorAll("."+this.config.boxClass),c=0;c<b.length;c++){var e=b[c];d(e,this.all)||(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),this.scrolled=!0)}}}},{key:"show",value:function(a){return this.applyStyle(a),a.className=a.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(a),h(a,this.wowEvent),this.config.resetAnimation&&(i(a,"animationend",this.resetAnimation),i(a,"oanimationend",this.resetAnimation),i(a,"webkitAnimationEnd",this.resetAnimation),i(a,"MSAnimationEnd",this.resetAnimation)),a}},{key:"applyStyle",value:function(a,b){var c=this,d=a.getAttribute("data-wow-duration"),e=a.getAttribute("data-wow-delay"),f=a.getAttribute("data-wow-iteration");return this.animate(function(){return c.customStyle(a,b,d,e,f)})}},{key:"resetStyle",value:function(){for(var a=0;a<this.boxes.length;a++){var b=this.boxes[a];b.style.visibility="visible"}}},{key:"resetAnimation",value:function(a){if(a.type.toLowerCase().indexOf("animationend")>=0){var b=a.target||a.srcElement;b.className=b.className.replace(this.config.animateClass,"").trim()}}},{key:"customStyle",value:function(a,b,c,d,e){return b&&this.cacheAnimationName(a),a.style.visibility=b?"hidden":"visible",c&&this.vendorSet(a.style,{animationDuration:c}),d&&this.vendorSet(a.style,{animationDelay:d}),e&&this.vendorSet(a.style,{animationIterationCount:e}),this.vendorSet(a.style,{animationName:b?"none":this.cachedAnimationName(a)}),a}},{key:"vendorSet",value:function(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];a[""+c]=d;for(var e=0;e<this.vendors.length;e++){var f=this.vendors[e];a[""+f+c.charAt(0).toUpperCase()+c.substr(1)]=d}}}},{key:"vendorCSS",value:function(a,b){for(var c=q(a),d=c.getPropertyCSSValue(b),e=0;e<this.vendors.length;e++){var f=this.vendors[e];d=d||c.getPropertyCSSValue("-"+f+"-"+b)}return d}},{key:"animationName",value:function(a){var b=void 0;try{b=this.vendorCSS(a,"animation-name").cssText}catch(c){b=q(a).getPropertyValue("animation-name")}return"none"===b?"":b}},{key:"cacheAnimationName",value:function(a){return this.animationNameCache.set(a,this.animationName(a))}},{key:"cachedAnimationName",value:function(a){return this.animationNameCache.get(a)}},{key:"scrollHandler",value:function(){this.scrolled=!0}},{key:"scrollCallback",value:function(){if(this.scrolled){this.scrolled=!1;for(var a=[],b=0;b<this.boxes.length;b++){var c=this.boxes[b];if(c){if(this.isVisible(c)){this.show(c);continue}a.push(c)}}this.boxes=a,this.boxes.length||this.config.live||this.stop()}}},{key:"offsetTop",value:function(a){for(;void 0===a.offsetTop;)a=a.parentNode;for(var b=a.offsetTop;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop;return b}},{key:"isVisible",value:function(a){var b=a.getAttribute("data-wow-offset")||this.config.offset,c=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,d=c+Math.min(this.element.clientHeight,k())-b,e=this.offsetTop(a),f=e+a.clientHeight;return d>=e&&f>=c}},{key:"disabled",value:function(){return!this.config.mobile&&f(navigator.userAgent)}}]),a}();b["default"]=r,a.exports=b["default"]});


/*
 *  Plugins - html2canvas.js
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.html2canvas=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){(function(b){!function(e){function f(a){throw new RangeError(I[a])}function g(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function h(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(H,".");var e=a.split("."),f=g(e,b).join(".");return d+f}function i(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:x}function l(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;q>e;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=t>=i?y:i>=t+z?z:i-t,!(n>l);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;q>h;++h)p=a[h],128>p&&u.push(L(p));for(d=e=u.length,e&&u.push(E);q>d;){for(j=w,h=0;q>h;++h)p=a[h],p>=b&&j>p&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;q>h;++h)if(p=a[h],b>p&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=g>=n?y:n>=g+z?z:n-g,!(o>k);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d&&!d.nodeType&&d,s="object"==typeof c&&c&&!c.nodeType&&c,t="object"==typeof b&&b;(t.global===t||t.window===t||t.self===t)&&(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.3.2",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&s)if(c.exports==r)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b,c){function d(a,b,c){!a.defaultView||b===a.defaultView.pageXOffset&&c===a.defaultView.pageYOffset||a.defaultView.scrollTo(b,c)}function e(a,b){try{b&&(b.width=a.width,b.height=a.height,b.getContext("2d").putImageData(a.getContext("2d").getImageData(0,0,a.width,a.height),0,0))}catch(c){h("Unable to copy canvas content from",a,c)}}function f(a,b){for(var c=3===a.nodeType?document.createTextNode(a.nodeValue):a.cloneNode(!1),d=a.firstChild;d;)(b===!0||1!==d.nodeType||"SCRIPT"!==d.nodeName)&&c.appendChild(f(d,b)),d=d.nextSibling;return 1===a.nodeType&&(c._scrollTop=a.scrollTop,c._scrollLeft=a.scrollLeft,"CANVAS"===a.nodeName?e(a,c):("TEXTAREA"===a.nodeName||"SELECT"===a.nodeName)&&(c.value=a.value)),c}function g(a){if(1===a.nodeType){a.scrollTop=a._scrollTop,a.scrollLeft=a._scrollLeft;for(var b=a.firstChild;b;)g(b),b=b.nextSibling}}var h=a("./log");b.exports=function(a,b,c,e,h,i,j){var k=f(a.documentElement,h.javascriptEnabled),l=b.createElement("iframe");return l.className="html2canvas-container",l.style.visibility="hidden",l.style.position="fixed",l.style.left="-10000px",l.style.top="0px",l.style.border="0",l.width=c,l.height=e,l.scrolling="no",b.body.appendChild(l),new Promise(function(b){var c=l.contentWindow.document;l.contentWindow.onload=l.onload=function(){var a=setInterval(function(){c.body.childNodes.length>0&&(g(c.documentElement),clearInterval(a),"view"===h.type&&(l.contentWindow.scrollTo(i,j),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.contentWindow.scrollY===j&&l.contentWindow.scrollX===i||(c.documentElement.style.top=-j+"px",c.documentElement.style.left=-i+"px",c.documentElement.style.position="absolute")),b(l))},50)},c.open(),c.write("<!DOCTYPE html><html></html>"),d(a,i,j),c.replaceChild(c.adoptNode(k),c.documentElement),c.close()})}},{"./log":13}],3:[function(a,b,c){function d(a){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(a)||this.namedColor(a)||this.rgb(a)||this.rgba(a)||this.hex6(a)||this.hex3(a)}d.prototype.darken=function(a){var b=1-a;return new d([Math.round(this.r*b),Math.round(this.g*b),Math.round(this.b*b),this.a])},d.prototype.isTransparent=function(){return 0===this.a},d.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},d.prototype.fromArray=function(a){return Array.isArray(a)&&(this.r=Math.min(a[0],255),this.g=Math.min(a[1],255),this.b=Math.min(a[2],255),a.length>3&&(this.a=a[3])),Array.isArray(a)};var e=/^#([a-f0-9]{3})$/i;d.prototype.hex3=function(a){var b=null;return null!==(b=a.match(e))&&(this.r=parseInt(b[1][0]+b[1][0],16),this.g=parseInt(b[1][1]+b[1][1],16),this.b=parseInt(b[1][2]+b[1][2],16)),null!==b};var f=/^#([a-f0-9]{6})$/i;d.prototype.hex6=function(a){var b=null;return null!==(b=a.match(f))&&(this.r=parseInt(b[1].substring(0,2),16),this.g=parseInt(b[1].substring(2,4),16),this.b=parseInt(b[1].substring(4,6),16)),null!==b};var g=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;d.prototype.rgb=function(a){var b=null;return null!==(b=a.match(g))&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3])),null!==b};var h=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;d.prototype.rgba=function(a){var b=null;return null!==(b=a.match(h))&&(this.r=Number(b[1]),this.g=Number(b[2]),this.b=Number(b[3]),this.a=Number(b[4])),null!==b},d.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},d.prototype.namedColor=function(a){a=a.toLowerCase();var b=i[a];if(b)this.r=b[0],this.g=b[1],this.b=b[2];else if("transparent"===a)return this.r=this.g=this.b=this.a=0,!0;return!!b},d.prototype.isColor=!0;var i={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};b.exports=d},{}],4:[function(b,c,d){function e(a,b){var c=x++;if(b=b||{},b.logging&&(r.options.logging=!0,r.options.start=Date.now()),b.async="undefined"==typeof b.async?!0:b.async,b.allowTaint="undefined"==typeof b.allowTaint?!1:b.allowTaint,b.removeContainer="undefined"==typeof b.removeContainer?!0:b.removeContainer,b.javascriptEnabled="undefined"==typeof b.javascriptEnabled?!1:b.javascriptEnabled,b.imageTimeout="undefined"==typeof b.imageTimeout?1e4:b.imageTimeout,b.renderer="function"==typeof b.renderer?b.renderer:n,b.strict=!!b.strict,"string"==typeof a){if("string"!=typeof b.proxy)return Promise.reject("Proxy must be used when rendering url");var d=null!=b.width?b.width:window.innerWidth,e=null!=b.height?b.height:window.innerHeight;return u(l(a),b.proxy,document,d,e,b).then(function(a){return g(a.contentWindow.document.documentElement,a,b,d,e)})}var h=(void 0===a?[document.documentElement]:a.length?a:[a])[0];return h.setAttribute(w+c,c),f(h.ownerDocument,b,h.ownerDocument.defaultView.innerWidth,h.ownerDocument.defaultView.innerHeight,c).then(function(a){return"function"==typeof b.onrendered&&(r("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),b.onrendered(a)),a})}function f(a,b,c,d,e){return t(a,a,c,d,b,a.defaultView.pageXOffset,a.defaultView.pageYOffset).then(function(f){r("Document cloned");var h=w+e,i="["+h+"='"+e+"']";a.querySelector(i).removeAttribute(h);var j=f.contentWindow,k=j.document.querySelector(i),l="function"==typeof b.onclone?Promise.resolve(b.onclone(j.document)):Promise.resolve(!0);return l.then(function(){return g(k,f,b,c,d)})})}function g(a,b,c,d,e){var f=b.contentWindow,g=new m(f.document),l=new o(c,g),n=v(a),q="view"===c.type?d:j(f.document),s="view"===c.type?e:k(f.document),t=new c.renderer(q,s,l,c,document),u=new p(a,t,g,l,c);return u.ready.then(function(){r("Finished rendering");var d;return d="view"===c.type?i(t.canvas,{width:t.canvas.width,height:t.canvas.height,top:0,left:0,x:0,y:0}):a===f.document.body||a===f.document.documentElement||null!=c.canvas?t.canvas:i(t.canvas,{width:null!=c.width?c.width:n.width,height:null!=c.height?c.height:n.height,top:n.top,left:n.left,x:0,y:0}),h(b,c),d})}function h(a,b){b.removeContainer&&(a.parentNode.removeChild(a),r("Cleaned up container"))}function i(a,b){var c=document.createElement("canvas"),d=Math.min(a.width-1,Math.max(0,b.left)),e=Math.min(a.width,Math.max(1,b.left+b.width)),f=Math.min(a.height-1,Math.max(0,b.top)),g=Math.min(a.height,Math.max(1,b.top+b.height));c.width=b.width,c.height=b.height;var h=e-d,i=g-f;return r("Cropping canvas at:","left:",b.left,"top:",b.top,"width:",h,"height:",i),r("Resulting crop with width",b.width,"and height",b.height,"with x",d,"and y",f),c.getContext("2d").drawImage(a,d,f,h,i,b.x,b.y,h,i),c}function j(a){return Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}function k(a){return Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))}function l(a){var b=document.createElement("a");return b.href=a,b.href=b.href,b}var m=b("./support"),n=b("./renderers/canvas"),o=b("./imageloader"),p=b("./nodeparser"),q=b("./nodecontainer"),r=b("./log"),s=b("./utils"),t=b("./clone"),u=b("./proxy").loadUrlDocument,v=s.getBounds,w="data-html2canvas-node",x=0;e.CanvasRenderer=n,e.NodeContainer=q,e.log=r,e.utils=s;var y="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:e;c.exports=y,"function"==typeof a&&a.amd&&a("html2canvas",[],function(){return y})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(a,b,c){function d(a){if(this.src=a,e("DummyImageContainer for",a),!this.promise||!this.image){e("Initiating DummyImageContainer"),d.prototype.image=new Image;var b=this.image;d.prototype.promise=new Promise(function(a,c){b.onload=a,b.onerror=c,b.src=f(),b.complete===!0&&a(b)})}}var e=a("./log"),f=a("./utils").smallImage;b.exports=d},{"./log":13,"./utils":26}],6:[function(a,b,c){function d(a,b){var c,d,f=document.createElement("div"),g=document.createElement("img"),h=document.createElement("span"),i="Hidden Text";f.style.visibility="hidden",f.style.fontFamily=a,f.style.fontSize=b,f.style.margin=0,f.style.padding=0,document.body.appendChild(f),g.src=e(),g.width=1,g.height=1,g.style.margin=0,g.style.padding=0,g.style.verticalAlign="baseline",h.style.fontFamily=a,h.style.fontSize=b,h.style.margin=0,h.style.padding=0,h.appendChild(document.createTextNode(i)),f.appendChild(h),f.appendChild(g),c=g.offsetTop-h.offsetTop+1,f.removeChild(h),f.appendChild(document.createTextNode(i)),f.style.lineHeight="normal",g.style.verticalAlign="super",d=g.offsetTop-f.offsetTop+1,document.body.removeChild(f),this.baseline=c,this.lineWidth=1,this.middle=d}var e=a("./utils").smallImage;b.exports=d},{"./utils":26}],7:[function(a,b,c){function d(){this.data={}}var e=a("./font");d.prototype.getMetrics=function(a,b){return void 0===this.data[a+"-"+b]&&(this.data[a+"-"+b]=new e(a,b)),this.data[a+"-"+b]},b.exports=d},{"./font":6}],8:[function(a,b,c){function d(b,c,d){this.image=null,this.src=b;var e=this,g=f(b);this.promise=(c?new Promise(function(a){"about:blank"===b.contentWindow.document.URL||null==b.contentWindow.document.documentElement?b.contentWindow.onload=b.onload=function(){a(b)}:a(b)}):this.proxyLoad(d.proxy,g,d)).then(function(b){var c=a("./core");return c(b.contentWindow.document.documentElement,{type:"view",width:b.width,height:b.height,proxy:d.proxy,javascriptEnabled:d.javascriptEnabled,removeContainer:d.removeContainer,allowTaint:d.allowTaint,imageTimeout:d.imageTimeout/2})}).then(function(a){return e.image=a})}var e=a("./utils"),f=e.getBounds,g=a("./proxy").loadUrlDocument;d.prototype.proxyLoad=function(a,b,c){var d=this.src;return g(d.src,a,d.ownerDocument,b.width,b.height,c)},b.exports=d},{"./core":4,"./proxy":16,"./utils":26}],9:[function(a,b,c){function d(a){this.src=a.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}d.TYPES={LINEAR:1,RADIAL:2},d.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,b.exports=d},{}],10:[function(a,b,c){function d(a,b){this.src=a,this.image=new Image;var c=this;this.tainted=null,this.promise=new Promise(function(d,e){c.image.onload=d,c.image.onerror=e,b&&(c.image.crossOrigin="anonymous"),c.image.src=a,c.image.complete===!0&&d(c.image)})}b.exports=d},{}],11:[function(a,b,c){function d(a,b){this.link=null,this.options=a,this.support=b,this.origin=this.getOrigin(window.location.href)}var e=a("./log"),f=a("./imagecontainer"),g=a("./dummyimagecontainer"),h=a("./proxyimagecontainer"),i=a("./framecontainer"),j=a("./svgcontainer"),k=a("./svgnodecontainer"),l=a("./lineargradientcontainer"),m=a("./webkitgradientcontainer"),n=a("./utils").bind;d.prototype.findImages=function(a){var b=[];return a.reduce(function(a,b){switch(b.node.nodeName){case"IMG":return a.concat([{args:[b.node.src],method:"url"}]);case"svg":case"IFRAME":return a.concat([{args:[b.node],method:b.node.nodeName}])}return a},[]).forEach(this.addImage(b,this.loadImage),this),b},d.prototype.findBackgroundImage=function(a,b){return b.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(a,this.loadImage),this),a},d.prototype.addImage=function(a,b){return function(c){c.args.forEach(function(d){this.imageExists(a,d)||(a.splice(0,0,b.call(this,c)),e("Added image #"+a.length,"string"==typeof d?d.substring(0,100):d))},this)}},d.prototype.hasImageBackground=function(a){return"none"!==a.method},d.prototype.loadImage=function(a){if("url"===a.method){var b=a.args[0];return!this.isSVG(b)||this.support.svg||this.options.allowTaint?b.match(/data:image\/.*;base64,/i)?new f(b.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(b)||this.options.allowTaint===!0||this.isSVG(b)?new f(b,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new f(b,!0):this.options.proxy?new h(b,this.options.proxy):new g(b):new j(b)}return"linear-gradient"===a.method?new l(a):"gradient"===a.method?new m(a):"svg"===a.method?new k(a.args[0],this.support.svg):"IFRAME"===a.method?new i(a.args[0],this.isSameOrigin(a.args[0].src),this.options):new g(a)},d.prototype.isSVG=function(a){return"svg"===a.substring(a.length-3).toLowerCase()||j.prototype.isInline(a)},d.prototype.imageExists=function(a,b){return a.some(function(a){return a.src===b})},d.prototype.isSameOrigin=function(a){return this.getOrigin(a)===this.origin},d.prototype.getOrigin=function(a){var b=this.link||(this.link=document.createElement("a"));return b.href=a,b.href=b.href,b.protocol+b.hostname+b.port},d.prototype.getPromise=function(a){return this.timeout(a,this.options.imageTimeout)["catch"](function(){var b=new g(a.src);return b.promise.then(function(b){a.image=b})})},d.prototype.get=function(a){var b=null;return this.images.some(function(c){return(b=c).src===a})?b:null},d.prototype.fetch=function(a){return this.images=a.reduce(n(this.findBackgroundImage,this),this.findImages(a)),this.images.forEach(function(a,b){a.promise.then(function(){e("Succesfully loaded image #"+(b+1),a)},function(c){e("Failed loading image #"+(b+1),a,c)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),e("Finished searching images"),this},d.prototype.timeout=function(a,b){var c,d=Promise.race([a.promise,new Promise(function(d,f){c=setTimeout(function(){e("Timed out loading image",a),f(a)},b)})]).then(function(a){return clearTimeout(c),a});return d["catch"](function(){clearTimeout(c)}),d},b.exports=d},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(a,b,c){function d(a){e.apply(this,arguments),this.type=e.TYPES.LINEAR;var b=d.REGEXP_DIRECTION.test(a.args[0])||!e.REGEXP_COLORSTOP.test(a.args[0]);b?a.args[0].split(/\s+/).reverse().forEach(function(a,b){switch(a){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var c=this.y0,d=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=d,this.y1=c;break;case"center":break;default:var e=.01*parseFloat(a,10);if(isNaN(e))break;0===b?(this.y0=e,this.y1=1-this.y0):(this.x0=e,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=a.args.slice(b?1:0).map(function(a){var b=a.match(e.REGEXP_COLORSTOP),c=+b[2],d=0===c?"%":b[3];return{color:new f(b[1]),stop:"%"===d?c/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(a,b){null===a.stop&&this.colorStops.slice(b).some(function(c,d){return null!==c.stop?(a.stop=(c.stop-this.colorStops[b-1].stop)/(d+1)+this.colorStops[b-1].stop,!0):!1},this)},this)}var e=a("./gradientcontainer"),f=a("./color");d.prototype=Object.create(e.prototype),d.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,b.exports=d},{"./color":3,"./gradientcontainer":9}],13:[function(a,b,c){var d=function(){d.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-d.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};d.options={logging:!1},b.exports=d},{}],14:[function(a,b,c){function d(a,b){this.node=a,this.parent=b,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function e(a){var b=a.options[a.selectedIndex||0];return b?b.text||"":""}function f(a){if(a&&"matrix"===a[1])return a[2].split(",").map(function(a){return parseFloat(a.trim())});if(a&&"matrix3d"===a[1]){var b=a[2].split(",").map(function(a){return parseFloat(a.trim())});return[b[0],b[1],b[4],b[5],b[12],b[13]]}}function g(a){return-1!==a.toString().indexOf("%")}function h(a){return a.replace("px","")}function i(a){return parseFloat(a)}var j=a("./color"),k=a("./utils"),l=k.getBounds,m=k.parseBackgrounds,n=k.offsetBounds;d.prototype.cloneTo=function(a){a.visible=this.visible,a.borders=this.borders,a.bounds=this.bounds,a.clip=this.clip,a.backgroundClip=this.backgroundClip,a.computedStyles=this.computedStyles,a.styles=this.styles,a.backgroundImages=this.backgroundImages,a.opacity=this.opacity},d.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},d.prototype.assignStack=function(a){this.stack=a,a.children.push(this)},d.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},d.prototype.css=function(a){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[a]||(this.styles[a]=this.computedStyles[a])},d.prototype.prefixedCss=function(a){var b=["webkit","moz","ms","o"],c=this.css(a);return void 0===c&&b.some(function(b){return c=this.css(b+a.substr(0,1).toUpperCase()+a.substr(1)),void 0!==c},this),void 0===c?null:c},d.prototype.computedStyle=function(a){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,a)},d.prototype.cssInt=function(a){var b=parseInt(this.css(a),10);return isNaN(b)?0:b},d.prototype.color=function(a){return this.colors[a]||(this.colors[a]=new j(this.css(a)))},d.prototype.cssFloat=function(a){var b=parseFloat(this.css(a));return isNaN(b)?0:b},d.prototype.fontWeight=function(){var a=this.css("fontWeight");switch(parseInt(a,10)){case 401:a="bold";break;case 400:a="normal"}return a},d.prototype.parseClip=function(){var a=this.css("clip").match(this.CLIP);return a?{top:parseInt(a[1],10),right:parseInt(a[2],10),bottom:parseInt(a[3],10),left:parseInt(a[4],10)}:null},d.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=m(this.css("backgroundImage")))},d.prototype.cssList=function(a,b){var c=(this.css(a)||"").split(",");return c=c[b||0]||c[0]||"auto",c=c.trim().split(" "),1===c.length&&(c=[c[0],g(c[0])?"auto":c[0]]),c},d.prototype.parseBackgroundSize=function(a,b,c){var d,e,f=this.cssList("backgroundSize",c);if(g(f[0]))d=a.width*parseFloat(f[0])/100;else{if(/contain|cover/.test(f[0])){var h=a.width/a.height,i=b.width/b.height;return i>h^"contain"===f[0]?{width:a.height*i,height:a.height}:{width:a.width,height:a.width/i}}d=parseInt(f[0],10)}return e="auto"===f[0]&&"auto"===f[1]?b.height:"auto"===f[1]?d/b.width*b.height:g(f[1])?a.height*parseFloat(f[1])/100:parseInt(f[1],10),"auto"===f[0]&&(d=e/b.height*b.width),{width:d,height:e}},d.prototype.parseBackgroundPosition=function(a,b,c,d){var e,f,h=this.cssList("backgroundPosition",c);return e=g(h[0])?(a.width-(d||b).width)*(parseFloat(h[0])/100):parseInt(h[0],10),f="auto"===h[1]?e/b.width*b.height:g(h[1])?(a.height-(d||b).height)*parseFloat(h[1])/100:parseInt(h[1],10),"auto"===h[0]&&(e=f/b.height*b.width),{left:e,top:f}},d.prototype.parseBackgroundRepeat=function(a){return this.cssList("backgroundRepeat",a)[0]},d.prototype.parseTextShadows=function(){var a=this.css("textShadow"),b=[];if(a&&"none"!==a)for(var c=a.match(this.TEXT_SHADOW_PROPERTY),d=0;c&&d<c.length;d++){var e=c[d].match(this.TEXT_SHADOW_VALUES);b.push({color:new j(e[0]),offsetX:e[1]?parseFloat(e[1].replace("px","")):0,offsetY:e[2]?parseFloat(e[2].replace("px","")):0,blur:e[3]?e[3].replace("px",""):0})}return b},d.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var a=this.parseBounds(),b=this.prefixedCss("transformOrigin").split(" ").map(h).map(i);b[0]+=a.left,b[1]+=a.top,this.transformData={origin:b,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},d.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var a=this.prefixedCss("transform"),b=a?f(a.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=b?b:[1,0,0,1,0,0]}return this.transformMatrix},d.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?n(this.node):l(this.node))},d.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},d.prototype.getValue=function(){var a=this.node.value||"";return"SELECT"===this.node.tagName?a=e(this.node):"password"===this.node.type&&(a=Array(a.length+1).join("•")),0===a.length?this.node.placeholder||"":a},d.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,d.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,d.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,d.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,b.exports=d},{"./color":3,"./utils":26}],15:[function(a,b,c){function d(a,b,c,d,e){O("Starting NodeParser"),this.renderer=b,this.options=e,this.range=null,this.support=c,this.renderQueue=[],this.stack=new V(!0,1,a.ownerDocument,null);var f=new Q(a,null);if(e.background&&b.rectangle(0,0,b.width,b.height,new U(e.background)),a===a.ownerDocument.documentElement){var g=new Q(f.color("backgroundColor").isTransparent()?a.ownerDocument.body:a.ownerDocument.documentElement,null);b.rectangle(0,0,b.width,b.height,g.color("backgroundColor"))}f.visibile=f.isElementVisible(),this.createPseudoHideStyles(a.ownerDocument),this.disableAnimations(a.ownerDocument),this.nodes=J([f].concat(this.getChildren(f)).filter(function(a){return a.visible=a.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new T,O("Fetched nodes, total:",this.nodes.length),O("Calculate overflow clips"),this.calculateOverflowClips(),O("Start fetching images"),this.images=d.fetch(this.nodes.filter(B)),this.ready=this.images.ready.then(X(function(){return O("Images loaded, starting parsing"),O("Creating stacking contexts"),this.createStackingContexts(),O("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),O("Render queue created with "+this.renderQueue.length+" items"),new Promise(X(function(a){e.async?"function"==typeof e.async?e.async.call(this,this.renderQueue,a):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,a)):a():(this.renderQueue.forEach(this.paint,this),a())},this))},this))}function e(a){return a.parent&&a.parent.clip.length}function f(a){return a.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")})}function g(){}function h(a,b,c,d){return a.map(function(e,f){if(e.width>0){var g=b.left,h=b.top,i=b.width,j=b.height-a[2].width;switch(f){case 0:j=a[0].width,e.args=l({c1:[g,h],c2:[g+i,h],c3:[g+i-a[1].width,h+j],c4:[g+a[3].width,h+j]},d[0],d[1],c.topLeftOuter,c.topLeftInner,c.topRightOuter,c.topRightInner);break;case 1:g=b.left+b.width-a[1].width,i=a[1].width,e.args=l({c1:[g+i,h],c2:[g+i,h+j+a[2].width],c3:[g,h+j],c4:[g,h+a[0].width]},d[1],d[2],c.topRightOuter,c.topRightInner,c.bottomRightOuter,c.bottomRightInner);break;case 2:h=h+b.height-a[2].width,j=a[2].width,e.args=l({c1:[g+i,h+j],c2:[g,h+j],c3:[g+a[3].width,h],c4:[g+i-a[3].width,h]},d[2],d[3],c.bottomRightOuter,c.bottomRightInner,c.bottomLeftOuter,c.bottomLeftInner);break;case 3:i=a[3].width,e.args=l({c1:[g,h+j+a[2].width],c2:[g,h],c3:[g+i,h+a[0].width],c4:[g+i,h+j]},d[3],d[0],c.bottomLeftOuter,c.bottomLeftInner,c.topLeftOuter,c.topLeftInner)}}return e})}function i(a,b,c,d){var e=4*((Math.sqrt(2)-1)/3),f=c*e,g=d*e,h=a+c,i=b+d;return{topLeft:k({x:a,y:i},{x:a,y:i-g},{x:h-f,y:b},{x:h,y:b}),topRight:k({x:a,y:b},{x:a+f,y:b},{x:h,y:i-g},{x:h,y:i}),bottomRight:k({x:h,y:b},{x:h,y:b+g},{x:a+f,y:i},{x:a,y:i}),bottomLeft:k({x:h,y:i},{x:h-f,y:i},{x:a,y:b+g},{x:a,y:b})}}function j(a,b,c){var d=a.left,e=a.top,f=a.width,g=a.height,h=b[0][0]<f/2?b[0][0]:f/2,j=b[0][1]<g/2?b[0][1]:g/2,k=b[1][0]<f/2?b[1][0]:f/2,l=b[1][1]<g/2?b[1][1]:g/2,m=b[2][0]<f/2?b[2][0]:f/2,n=b[2][1]<g/2?b[2][1]:g/2,o=b[3][0]<f/2?b[3][0]:f/2,p=b[3][1]<g/2?b[3][1]:g/2,q=f-k,r=g-n,s=f-m,t=g-p;return{topLeftOuter:i(d,e,h,j).topLeft.subdivide(.5),topLeftInner:i(d+c[3].width,e+c[0].width,Math.max(0,h-c[3].width),Math.max(0,j-c[0].width)).topLeft.subdivide(.5),topRightOuter:i(d+q,e,k,l).topRight.subdivide(.5),topRightInner:i(d+Math.min(q,f+c[3].width),e+c[0].width,q>f+c[3].width?0:k-c[3].width,l-c[0].width).topRight.subdivide(.5),bottomRightOuter:i(d+s,e+r,m,n).bottomRight.subdivide(.5),bottomRightInner:i(d+Math.min(s,f-c[3].width),e+Math.min(r,g+c[0].width),Math.max(0,m-c[1].width),n-c[2].width).bottomRight.subdivide(.5),bottomLeftOuter:i(d,e+t,o,p).bottomLeft.subdivide(.5),bottomLeftInner:i(d+c[3].width,e+t,Math.max(0,o-c[3].width),p-c[2].width).bottomLeft.subdivide(.5)}}function k(a,b,c,d){var e=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(f){var g=e(a,b,f),h=e(b,c,f),i=e(c,d,f),j=e(g,h,f),l=e(h,i,f),m=e(j,l,f);return[k(a,g,j,m),k(m,l,i,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function l(a,b,c,d,e,f,g){var h=[];return b[0]>0||b[1]>0?(h.push(["line",d[1].start.x,d[1].start.y]),d[1].curveTo(h)):h.push(["line",a.c1[0],a.c1[1]]),c[0]>0||c[1]>0?(h.push(["line",f[0].start.x,f[0].start.y]),f[0].curveTo(h),h.push(["line",g[0].end.x,g[0].end.y]),g[0].curveToReversed(h)):(h.push(["line",a.c2[0],a.c2[1]]),h.push(["line",a.c3[0],a.c3[1]])),b[0]>0||b[1]>0?(h.push(["line",e[1].end.x,e[1].end.y]),e[1].curveToReversed(h)):h.push(["line",a.c4[0],a.c4[1]]),h}function m(a,b,c,d,e,f,g){b[0]>0||b[1]>0?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",f,g]),(c[0]>0||c[1]>0)&&a.push(["line",e[0].start.x,e[0].start.y])}function n(a){return a.cssInt("zIndex")<0}function o(a){return a.cssInt("zIndex")>0}function p(a){return 0===a.cssInt("zIndex")}function q(a){return-1!==["inline","inline-block","inline-table"].indexOf(a.css("display"))}function r(a){return a instanceof V}function s(a){return a.node.data.trim().length>0}function t(a){return/^(normal|none|0px)$/.test(a.parent.css("letterSpacing"))}function u(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){var c=a.css("border"+b+"Radius"),d=c.split(" ");return d.length<=1&&(d[1]=d[0]),d.map(G)})}function v(a){return a.nodeType===Node.TEXT_NODE||a.nodeType===Node.ELEMENT_NODE}function w(a){var b=a.css("position"),c=-1!==["absolute","relative","fixed"].indexOf(b)?a.css("zIndex"):"auto";return"auto"!==c}function x(a){return"static"!==a.css("position")}function y(a){return"none"!==a.css("float")}function z(a){return-1!==["inline-block","inline-table"].indexOf(a.css("display"))}function A(a){var b=this;return function(){return!a.apply(b,arguments)}}function B(a){return a.node.nodeType===Node.ELEMENT_NODE}function C(a){return a.isPseudoElement===!0}function D(a){return a.node.nodeType===Node.TEXT_NODE}function E(a){return function(b,c){return b.cssInt("zIndex")+a.indexOf(b)/a.length-(c.cssInt("zIndex")+a.indexOf(c)/a.length)}}function F(a){return a.getOpacity()<1}function G(a){return parseInt(a,10)}function H(a){return a.width}function I(a){return a.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(a.node.nodeName)}function J(a){return[].concat.apply([],a)}function K(a){var b=a.substr(0,1);return b===a.substr(a.length-1)&&b.match(/'|"/)?a.substr(1,a.length-2):a}function L(a){for(var b,c=[],d=0,e=!1;a.length;)M(a[d])===e?(b=a.splice(0,d),b.length&&c.push(P.ucs2.encode(b)),e=!e,d=0):d++,d>=a.length&&(b=a.splice(0,d),b.length&&c.push(P.ucs2.encode(b)));return c}function M(a){return-1!==[32,13,10,9,45].indexOf(a)}function N(a){return/[^\u0000-\u00ff]/.test(a)}var O=a("./log"),P=a("punycode"),Q=a("./nodecontainer"),R=a("./textcontainer"),S=a("./pseudoelementcontainer"),T=a("./fontmetrics"),U=a("./color"),V=a("./stackingcontext"),W=a("./utils"),X=W.bind,Y=W.getBounds,Z=W.parseBackgrounds,$=W.offsetBounds;d.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(a){if(B(a)){C(a)&&a.appendToDOM(),a.borders=this.parseBorders(a);var b="hidden"===a.css("overflow")?[a.borders.clip]:[],c=a.parseClip();c&&-1!==["absolute","fixed"].indexOf(a.css("position"))&&b.push([["rect",a.bounds.left+c.left,a.bounds.top+c.top,c.right-c.left,c.bottom-c.top]]),a.clip=e(a)?a.parent.clip.concat(b):b,a.backgroundClip="hidden"!==a.css("overflow")?a.clip.concat([a.borders.clip]):a.clip,C(a)&&a.cleanDOM()}else D(a)&&(a.clip=e(a)?a.parent.clip:[]);C(a)||(a.bounds=null)},this)},d.prototype.asyncRenderer=function(a,b,c){c=c||Date.now(),this.paint(a[this.renderIndex++]),a.length===this.renderIndex?b():c+20>Date.now()?this.asyncRenderer(a,b,c):setTimeout(X(function(){this.asyncRenderer(a,b)},this),0)},d.prototype.createPseudoHideStyles=function(a){this.createStyles(a,"."+S.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+S.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},d.prototype.disableAnimations=function(a){this.createStyles(a,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},d.prototype.createStyles=function(a,b){var c=a.createElement("style");c.innerHTML=b,a.body.appendChild(c)},d.prototype.getPseudoElements=function(a){var b=[[a]];if(a.node.nodeType===Node.ELEMENT_NODE){var c=this.getPseudoElement(a,":before"),d=this.getPseudoElement(a,":after");c&&b.push(c),d&&b.push(d)}return J(b)},d.prototype.getPseudoElement=function(a,b){var c=a.computedStyle(b);if(!c||!c.content||"none"===c.content||"-moz-alt-content"===c.content||"none"===c.display)return null;for(var d=K(c.content),e="url"===d.substr(0,3),g=document.createElement(e?"img":"html2canvaspseudoelement"),h=new S(g,a,b),i=c.length-1;i>=0;i--){var j=f(c.item(i));g.style[j]=c[j]}if(g.className=S.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+S.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,e)return g.src=Z(d)[0].args[0],[h];var k=document.createTextNode(d);return g.appendChild(k),[h,new R(k,h)]},d.prototype.getChildren=function(a){return J([].filter.call(a.node.childNodes,v).map(function(b){var c=[b.nodeType===Node.TEXT_NODE?new R(b,a):new Q(b,a)].filter(I);return b.nodeType===Node.ELEMENT_NODE&&c.length&&"TEXTAREA"!==b.tagName?c[0].isElementVisible()?c.concat(this.getChildren(c[0])):[]:c},this))},d.prototype.newStackingContext=function(a,b){var c=new V(b,a.getOpacity(),a.node,a.parent);a.cloneTo(c);var d=b?c.getParentStack(this):c.parent.stack;d.contexts.push(c),a.stack=c},d.prototype.createStackingContexts=function(){this.nodes.forEach(function(a){B(a)&&(this.isRootElement(a)||F(a)||w(a)||this.isBodyWithTransparentRoot(a)||a.hasTransform())?this.newStackingContext(a,!0):B(a)&&(x(a)&&p(a)||z(a)||y(a))?this.newStackingContext(a,!1):a.assignStack(a.parent.stack)},this)},d.prototype.isBodyWithTransparentRoot=function(a){return"BODY"===a.node.nodeName&&a.parent.color("backgroundColor").isTransparent()},d.prototype.isRootElement=function(a){return null===a.parent},d.prototype.sortStackingContexts=function(a){a.contexts.sort(E(a.contexts.slice(0))),a.contexts.forEach(this.sortStackingContexts,this)},d.prototype.parseTextBounds=function(a){return function(b,c,d){if("none"!==a.parent.css("textDecoration").substr(0,4)||0!==b.trim().length){if(this.support.rangeBounds&&!a.parent.hasTransform()){var e=d.slice(0,c).join("").length;return this.getRangeBounds(a.node,e,b.length)}if(a.node&&"string"==typeof a.node.data){var f=a.node.splitText(b.length),g=this.getWrapperBounds(a.node,a.parent.hasTransform());return a.node=f,g}}else(!this.support.rangeBounds||a.parent.hasTransform())&&(a.node=a.node.splitText(b.length));return{}}},d.prototype.getWrapperBounds=function(a,b){var c=a.ownerDocument.createElement("html2canvaswrapper"),d=a.parentNode,e=a.cloneNode(!0);c.appendChild(a.cloneNode(!0)),d.replaceChild(c,a);var f=b?$(c):Y(c);return d.replaceChild(e,c),f},d.prototype.getRangeBounds=function(a,b,c){var d=this.range||(this.range=a.ownerDocument.createRange());return d.setStart(a,b),d.setEnd(a,b+c),d.getBoundingClientRect()},d.prototype.parse=function(a){var b=a.contexts.filter(n),c=a.children.filter(B),d=c.filter(A(y)),e=d.filter(A(x)).filter(A(q)),f=c.filter(A(x)).filter(y),h=d.filter(A(x)).filter(q),i=a.contexts.concat(d.filter(x)).filter(p),j=a.children.filter(D).filter(s),k=a.contexts.filter(o);b.concat(e).concat(f).concat(h).concat(i).concat(j).concat(k).forEach(function(a){this.renderQueue.push(a),r(a)&&(this.parse(a),this.renderQueue.push(new g))},this)},d.prototype.paint=function(a){try{a instanceof g?this.renderer.ctx.restore():D(a)?(C(a.parent)&&a.parent.appendToDOM(),this.paintText(a),C(a.parent)&&a.parent.cleanDOM()):this.paintNode(a)}catch(b){if(O(b),this.options.strict)throw b}},d.prototype.paintNode=function(a){r(a)&&(this.renderer.setOpacity(a.opacity),this.renderer.ctx.save(),a.hasTransform()&&this.renderer.setTransform(a.parseTransform())),"INPUT"===a.node.nodeName&&"checkbox"===a.node.type?this.paintCheckbox(a):"INPUT"===a.node.nodeName&&"radio"===a.node.type?this.paintRadio(a):this.paintElement(a)},d.prototype.paintElement=function(a){var b=a.parseBounds();this.renderer.clip(a.backgroundClip,function(){this.renderer.renderBackground(a,b,a.borders.borders.map(H))},this),this.renderer.clip(a.clip,function(){this.renderer.renderBorders(a.borders.borders)},this),this.renderer.clip(a.backgroundClip,function(){switch(a.node.nodeName){case"svg":case"IFRAME":var c=this.images.get(a.node);c?this.renderer.renderImage(a,b,a.borders,c):O("Error loading <"+a.node.nodeName+">",a.node);break;case"IMG":var d=this.images.get(a.node.src);d?this.renderer.renderImage(a,b,a.borders,d):O("Error loading <img>",a.node.src);break;case"CANVAS":this.renderer.renderImage(a,b,a.borders,{image:a.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(a)}},this)},d.prototype.paintCheckbox=function(a){var b=a.parseBounds(),c=Math.min(b.width,b.height),d={width:c-1,height:c-1,top:b.top,left:b.left},e=[3,3],f=[e,e,e,e],g=[1,1,1,1].map(function(a){return{color:new U("#A5A5A5"),width:a}}),i=j(d,f,g);this.renderer.clip(a.backgroundClip,function(){this.renderer.rectangle(d.left+1,d.top+1,d.width-2,d.height-2,new U("#DEDEDE")),this.renderer.renderBorders(h(g,d,i,f)),a.node.checked&&(this.renderer.font(new U("#424242"),"normal","normal","bold",c-3+"px","arial"),this.renderer.text("✔",d.left+c/6,d.top+c-1))},this)},d.prototype.paintRadio=function(a){var b=a.parseBounds(),c=Math.min(b.width,b.height)-2;this.renderer.clip(a.backgroundClip,function(){this.renderer.circleStroke(b.left+1,b.top+1,c,new U("#DEDEDE"),1,new U("#A5A5A5")),a.node.checked&&this.renderer.circle(Math.ceil(b.left+c/4)+1,Math.ceil(b.top+c/4)+1,Math.floor(c/2),new U("#424242"))},this)},d.prototype.paintFormValue=function(a){var b=a.getValue();if(b.length>0){var c=a.node.ownerDocument,d=c.createElement("html2canvaswrapper"),e=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];e.forEach(function(b){try{d.style[b]=a.css(b)}catch(c){O("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}});var f=a.parseBounds();d.style.position="fixed",d.style.left=f.left+"px",d.style.top=f.top+"px",d.textContent=b,c.body.appendChild(d),this.paintText(new R(d.firstChild,a)),c.body.removeChild(d)}},d.prototype.paintText=function(a){a.applyTextTransform();var b=P.ucs2.decode(a.node.data),c=this.options.letterRendering&&!t(a)||N(a.node.data)?b.map(function(a){return P.ucs2.encode([a])}):L(b),d=a.parent.fontWeight(),e=a.parent.css("fontSize"),f=a.parent.css("fontFamily"),g=a.parent.parseTextShadows();this.renderer.font(a.parent.color("color"),a.parent.css("fontStyle"),a.parent.css("fontVariant"),d,e,f),g.length?this.renderer.fontShadow(g[0].color,g[0].offsetX,g[0].offsetY,g[0].blur):this.renderer.clearShadow(),this.renderer.clip(a.parent.clip,function(){c.map(this.parseTextBounds(a),this).forEach(function(b,d){b&&(this.renderer.text(c[d],b.left,b.bottom),this.renderTextDecoration(a.parent,b,this.fontMetrics.getMetrics(f,e)))},this)},this)},d.prototype.renderTextDecoration=function(a,b,c){switch(a.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(b.left,Math.round(b.top+c.baseline+c.lineWidth),b.width,1,a.color("color"));break;case"overline":this.renderer.rectangle(b.left,Math.round(b.top),b.width,1,a.color("color"));break;case"line-through":this.renderer.rectangle(b.left,Math.ceil(b.top+c.middle+c.lineWidth),b.width,1,a.color("color"))}};var _={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};d.prototype.parseBorders=function(a){var b=a.parseBounds(),c=u(a),d=["Top","Right","Bottom","Left"].map(function(b,c){var d=a.css("border"+b+"Style"),e=a.color("border"+b+"Color");"inset"===d&&e.isBlack()&&(e=new U([255,255,255,e.a]));var f=_[d]?_[d][c]:null;return{width:a.cssInt("border"+b+"Width"),color:f?e[f[0]](f[1]):e,args:null}}),e=j(b,c,d);return{clip:this.parseBackgroundClip(a,e,d,c,b),borders:h(d,b,e,c)}},d.prototype.parseBackgroundClip=function(a,b,c,d,e){var f=a.css("backgroundClip"),g=[];switch(f){case"content-box":case"padding-box":m(g,d[0],d[1],b.topLeftInner,b.topRightInner,e.left+c[3].width,e.top+c[0].width),m(g,d[1],d[2],b.topRightInner,b.bottomRightInner,e.left+e.width-c[1].width,e.top+c[0].width),m(g,d[2],d[3],b.bottomRightInner,b.bottomLeftInner,e.left+e.width-c[1].width,e.top+e.height-c[2].width),m(g,d[3],d[0],b.bottomLeftInner,b.topLeftInner,e.left+c[3].width,e.top+e.height-c[2].width);break;default:m(g,d[0],d[1],b.topLeftOuter,b.topRightOuter,e.left,e.top),m(g,d[1],d[2],b.topRightOuter,b.bottomRightOuter,e.left+e.width,e.top),m(g,d[2],d[3],b.bottomRightOuter,b.bottomLeftOuter,e.left+e.width,e.top+e.height),m(g,d[3],d[0],b.bottomLeftOuter,b.topLeftOuter,e.left,e.top+e.height)}return g},b.exports=d},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(a,b,c){function d(a,b,c){var d="withCredentials"in new XMLHttpRequest;if(!b)return Promise.reject("No proxy configured");var e=g(d),i=h(b,a,e);return d?k(i):f(c,i,e).then(function(a){return o(a.content)})}function e(a,b,c){var d="crossOrigin"in new Image,e=g(d),i=h(b,a,e);return d?Promise.resolve(i):f(c,i,e).then(function(a){return"data:"+a.type+";base64,"+a.content})}function f(a,b,c){return new Promise(function(d,e){var f=a.createElement("script"),g=function(){delete window.html2canvas.proxy[c],a.body.removeChild(f)};window.html2canvas.proxy[c]=function(a){g(),d(a)},f.src=b,f.onerror=function(a){g(),e(a)},a.body.appendChild(f)})}function g(a){return a?"":"html2canvas_"+Date.now()+"_"+ ++p+"_"+Math.round(1e5*Math.random())}function h(a,b,c){return a+"?url="+encodeURIComponent(b)+(c.length?"&callback=html2canvas.proxy."+c:"")}function i(a){return function(b){var c,d=new DOMParser;try{c=d.parseFromString(b,"text/html")}catch(e){m("DOMParser not supported, falling back to createHTMLDocument"),c=document.implementation.createHTMLDocument("");try{c.open(),c.write(b),c.close()}catch(f){m("createHTMLDocument write not supported, falling back to document.body.innerHTML"),c.body.innerHTML=b}}var g=c.querySelector("base");if(!g||!g.href.host){var h=c.createElement("base");h.href=a,c.head.insertBefore(h,c.head.firstChild)}return c}}function j(a,b,c,e,f,g){return new d(a,b,window.document).then(i(a)).then(function(a){return n(a,c,e,f,g,0,0)})}var k=a("./xhr"),l=a("./utils"),m=a("./log"),n=a("./clone"),o=l.decode64,p=0;c.Proxy=d,c.ProxyURL=e,c.loadUrlDocument=j},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(a,b,c){function d(a,b){var c=document.createElement("a");c.href=a,a=c.href,this.src=a,this.image=new Image;var d=this;this.promise=new Promise(function(c,f){d.image.crossOrigin="Anonymous",d.image.onload=c,d.image.onerror=f,new e(a,b,document).then(function(a){d.image.src=a})["catch"](f)})}var e=a("./proxy").ProxyURL;b.exports=d},{"./proxy":16}],18:[function(a,b,c){function d(a,b,c){e.call(this,a,b),this.isPseudoElement=!0,this.before=":before"===c}var e=a("./nodecontainer");d.prototype.cloneTo=function(a){d.prototype.cloneTo.call(this,a),a.isPseudoElement=!0,a.before=this.before},d.prototype=Object.create(e.prototype),d.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},d.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},d.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},d.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",d.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",b.exports=d},{"./nodecontainer":14}],19:[function(a,b,c){function d(a,b,c,d,e){this.width=a,this.height=b,this.images=c,this.options=d,this.document=e}var e=a("./log");d.prototype.renderImage=function(a,b,c,d){var e=a.cssInt("paddingLeft"),f=a.cssInt("paddingTop"),g=a.cssInt("paddingRight"),h=a.cssInt("paddingBottom"),i=c.borders,j=b.width-(i[1].width+i[3].width+e+g),k=b.height-(i[0].width+i[2].width+f+h);this.drawImage(d,0,0,d.image.width||j,d.image.height||k,b.left+e+i[3].width,b.top+f+i[0].width,j,k)},d.prototype.renderBackground=function(a,b,c){b.height>0&&b.width>0&&(this.renderBackgroundColor(a,b),this.renderBackgroundImage(a,b,c))},d.prototype.renderBackgroundColor=function(a,b){var c=a.color("backgroundColor");c.isTransparent()||this.rectangle(b.left,b.top,b.width,b.height,c)},d.prototype.renderBorders=function(a){a.forEach(this.renderBorder,this)},d.prototype.renderBorder=function(a){a.color.isTransparent()||null===a.args||this.drawShape(a.args,a.color)},d.prototype.renderBackgroundImage=function(a,b,c){var d=a.parseBackgroundImages();d.reverse().forEach(function(d,f,g){switch(d.method){case"url":var h=this.images.get(d.args[0]);h?this.renderBackgroundRepeating(a,b,h,g.length-(f+1),c):e("Error loading background-image",d.args[0]);break;case"linear-gradient":case"gradient":var i=this.images.get(d.value);i?this.renderBackgroundGradient(i,b,c):e("Error loading background-image",d.args[0]);break;case"none":break;default:e("Unknown background-image type",d.args[0])}},this)},d.prototype.renderBackgroundRepeating=function(a,b,c,d,e){var f=a.parseBackgroundSize(b,c.image,d),g=a.parseBackgroundPosition(b,c.image,d,f),h=a.parseBackgroundRepeat(d);switch(h){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(c,g,f,b,b.left+e[3],b.top+g.top+e[0],99999,f.height,e);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(c,g,f,b,b.left+g.left+e[3],b.top+e[0],f.width,99999,e);break;case"no-repeat":this.backgroundRepeatShape(c,g,f,b,b.left+g.left+e[3],b.top+g.top+e[0],f.width,f.height,e);break;default:this.renderBackgroundRepeat(c,g,f,{top:b.top,left:b.left},e[3],e[0])}},b.exports=d},{"./log":13}],20:[function(a,b,c){function d(a,b){f.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=a,this.canvas.height=b),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},h("Initialized CanvasRenderer with size",a,"x",b)}function e(a){return a.length>0}var f=a("../renderer"),g=a("../lineargradientcontainer"),h=a("../log");d.prototype=Object.create(f.prototype),d.prototype.setFillStyle=function(a){return this.ctx.fillStyle="object"==typeof a&&a.isColor?a.toString():a,this.ctx},d.prototype.rectangle=function(a,b,c,d,e){this.setFillStyle(e).fillRect(a,b,c,d)},d.prototype.circle=function(a,b,c,d){this.setFillStyle(d),this.ctx.beginPath(),this.ctx.arc(a+c/2,b+c/2,c/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},d.prototype.circleStroke=function(a,b,c,d,e,f){this.circle(a,b,c,d),this.ctx.strokeStyle=f.toString(),this.ctx.stroke()},d.prototype.drawShape=function(a,b){this.shape(a),this.setFillStyle(b).fill()},d.prototype.taints=function(a){if(null===a.tainted){this.taintCtx.drawImage(a.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),a.tainted=!1}catch(b){this.taintCtx=document.createElement("canvas").getContext("2d"),a.tainted=!0}}return a.tainted},d.prototype.drawImage=function(a,b,c,d,e,f,g,h,i){(!this.taints(a)||this.options.allowTaint)&&this.ctx.drawImage(a.image,b,c,d,e,f,g,h,i)},d.prototype.clip=function(a,b,c){this.ctx.save(),a.filter(e).forEach(function(a){this.shape(a).clip()},this),b.call(c),this.ctx.restore()},d.prototype.shape=function(a){return this.ctx.beginPath(),a.forEach(function(a,b){"rect"===a[0]?this.ctx.rect.apply(this.ctx,a.slice(1)):this.ctx[0===b?"moveTo":a[0]+"To"].apply(this.ctx,a.slice(1))},this),this.ctx.closePath(),this.ctx},d.prototype.font=function(a,b,c,d,e,f){this.setFillStyle(a).font=[b,c,d,e,f].join(" ").split(",")[0]},d.prototype.fontShadow=function(a,b,c,d){this.setVariable("shadowColor",a.toString()).setVariable("shadowOffsetY",b).setVariable("shadowOffsetX",c).setVariable("shadowBlur",d)},d.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},d.prototype.setOpacity=function(a){this.ctx.globalAlpha=a},d.prototype.setTransform=function(a){this.ctx.translate(a.origin[0],a.origin[1]),this.ctx.transform.apply(this.ctx,a.matrix),this.ctx.translate(-a.origin[0],-a.origin[1])},d.prototype.setVariable=function(a,b){return this.variables[a]!==b&&(this.variables[a]=this.ctx[a]=b),this},d.prototype.text=function(a,b,c){this.ctx.fillText(a,b,c)},d.prototype.backgroundRepeatShape=function(a,b,c,d,e,f,g,h,i){var j=[["line",Math.round(e),Math.round(f)],["line",Math.round(e+g),Math.round(f)],["line",Math.round(e+g),Math.round(h+f)],["line",Math.round(e),Math.round(h+f)]];this.clip([j],function(){this.renderBackgroundRepeat(a,b,c,d,i[3],i[0])},this)},d.prototype.renderBackgroundRepeat=function(a,b,c,d,e,f){var g=Math.round(d.left+b.left+e),h=Math.round(d.top+b.top+f);this.setFillStyle(this.ctx.createPattern(this.resizeImage(a,c),"repeat")),this.ctx.translate(g,h),this.ctx.fill(),this.ctx.translate(-g,-h)},d.prototype.renderBackgroundGradient=function(a,b){if(a instanceof g){var c=this.ctx.createLinearGradient(b.left+b.width*a.x0,b.top+b.height*a.y0,b.left+b.width*a.x1,b.top+b.height*a.y1);a.colorStops.forEach(function(a){c.addColorStop(a.stop,a.color.toString())}),this.rectangle(b.left,b.top,b.width,b.height,c)}},d.prototype.resizeImage=function(a,b){var c=a.image;if(c.width===b.width&&c.height===b.height)return c;var d,e=document.createElement("canvas");return e.width=b.width,e.height=b.height,d=e.getContext("2d"),d.drawImage(c,0,0,c.width,c.height,0,0,b.width,b.height),e},b.exports=d},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(a,b,c){function d(a,b,c,d){e.call(this,c,d),this.ownStacking=a,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*b}var e=a("./nodecontainer");d.prototype=Object.create(e.prototype),d.prototype.getParentStack=function(a){var b=this.parent?this.parent.stack:null;return b?b.ownStacking?b:b.getParentStack(a):a.stack},b.exports=d},{"./nodecontainer":14}],22:[function(a,b,c){function d(a){this.rangeBounds=this.testRangeBounds(a),this.cors=this.testCORS(),this.svg=this.testSVG()}d.prototype.testRangeBounds=function(a){var b,c,d,e,f=!1;return a.createRange&&(b=a.createRange(),b.getBoundingClientRect&&(c=a.createElement("boundtest"),c.style.height="123px",c.style.display="block",a.body.appendChild(c),b.selectNode(c),d=b.getBoundingClientRect(),e=d.height,123===e&&(f=!0),a.body.removeChild(c))),f},d.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},d.prototype.testSVG=function(){var a=new Image,b=document.createElement("canvas"),c=b.getContext("2d");a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{c.drawImage(a,0,0),b.toDataURL()}catch(d){return!1}return!0},b.exports=d},{}],23:[function(a,b,c){function d(a){this.src=a,this.image=null;var b=this;this.promise=this.hasFabric().then(function(){return b.isInline(a)?Promise.resolve(b.inlineFormatting(a)):e(a)}).then(function(a){return new Promise(function(c){window.html2canvas.svg.fabric.loadSVGFromString(a,b.createCanvas.call(b,c))})})}var e=a("./xhr"),f=a("./utils").decode64;d.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},d.prototype.inlineFormatting=function(a){return/^data:image\/svg\+xml;base64,/.test(a)?this.decode64(this.removeContentType(a)):this.removeContentType(a)},d.prototype.removeContentType=function(a){return a.replace(/^data:image\/svg\+xml(;base64)?,/,"")},d.prototype.isInline=function(a){return/^data:image\/svg\+xml/i.test(a)},d.prototype.createCanvas=function(a){var b=this;return function(c,d){var e=new window.html2canvas.svg.fabric.StaticCanvas("c");b.image=e.lowerCanvasEl,e.setWidth(d.width).setHeight(d.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(c,d)).renderAll(),a(e.lowerCanvasEl)}},d.prototype.decode64=function(a){return"function"==typeof window.atob?window.atob(a):f(a)},b.exports=d},{"./utils":26,"./xhr":28}],24:[function(a,b,c){function d(a,b){this.src=a,this.image=null;var c=this;this.promise=b?new Promise(function(b,d){c.image=new Image,c.image.onload=b,c.image.onerror=d,c.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(a),c.image.complete===!0&&b(c.image)}):this.hasFabric().then(function(){return new Promise(function(b){window.html2canvas.svg.fabric.parseSVGDocument(a,c.createCanvas.call(c,b))})})}var e=a("./svgcontainer");d.prototype=Object.create(e.prototype),b.exports=d},{"./svgcontainer":23}],25:[function(a,b,c){function d(a,b){f.call(this,a,b)}function e(a,b,c){return a.length>0?b+c.toUpperCase():void 0}var f=a("./nodecontainer");d.prototype=Object.create(f.prototype),d.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},d.prototype.transform=function(a){var b=this.node.data;switch(a){case"lowercase":return b.toLowerCase();case"capitalize":return b.replace(/(^|\s|:|-|\(|\))([a-z])/g,e);case"uppercase":return b.toUpperCase();default:return b}},b.exports=d},{"./nodecontainer":14}],26:[function(a,b,c){c.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},c.bind=function(a,b){return function(){return a.apply(b,arguments)}},c.decode64=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=a.length,l="";for(b=0;k>b;b+=4)c=j.indexOf(a[b]),d=j.indexOf(a[b+1]),e=j.indexOf(a[b+2]),f=j.indexOf(a[b+3]),g=c<<2|d>>4,h=(15&d)<<4|e>>2,i=(3&e)<<6|f,l+=64===e?String.fromCharCode(g):64===f||-1===f?String.fromCharCode(g,h):String.fromCharCode(g,h,i);return l},c.getBounds=function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=null==a.offsetWidth?b.width:a.offsetWidth;return{top:b.top,bottom:b.bottom||b.top+b.height,right:b.left+c,left:b.left,width:c,height:null==a.offsetHeight?b.height:a.offsetHeight}}return{}},c.offsetBounds=function(a){var b=a.offsetParent?c.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+b.top,bottom:a.offsetTop+a.offsetHeight+b.top,right:a.offsetLeft+b.left+a.offsetWidth,left:a.offsetLeft+b.left,width:a.offsetWidth,height:a.offsetHeight}},c.parseBackgrounds=function(a){var b,c,d,e,f,g,h,i=" \r\n	",j=[],k=0,l=0,m=function(){b&&('"'===c.substr(0,1)&&(c=c.substr(1,c.length-2)),c&&h.push(c),"-"===b.substr(0,1)&&(e=b.indexOf("-",1)+1)>0&&(d=b.substr(0,e),b=b.substr(e)),j.push({prefix:d,method:b.toLowerCase(),value:f,args:h,image:null})),h=[],b=d=c=f=""};return h=[],b=d=c=f="",a.split("").forEach(function(a){if(!(0===k&&i.indexOf(a)>-1)){switch(a){case'"':g?g===a&&(g=null):g=a;break;case"(":if(g)break;if(0===k)return k=1,void(f+=a);l++;break;case")":if(g)break;if(1===k){if(0===l)return k=0,f+=a,void m();l--}break;case",":if(g)break;if(0===k)return void m();if(1===k&&0===l&&!b.match(/^url$/i))return h.push(c),c="",void(f+=a)}f+=a,0===k?b+=a:c+=a}}),m(),j}},{}],27:[function(a,b,c){function d(a){e.apply(this,arguments),this.type="linear"===a.args[0]?e.TYPES.LINEAR:e.TYPES.RADIAL}var e=a("./gradientcontainer");d.prototype=Object.create(e.prototype),b.exports=d},{"./gradientcontainer":9}],28:[function(a,b,c){function d(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a),d.onload=function(){200===d.status?b(d.responseText):c(new Error(d.statusText))},d.onerror=function(){c(new Error("Network Error"))},d.send()})}b.exports=d},{}]},{},[4])(4)});


/*
 *  Plugins - three.js
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.THREE=t.THREE||{})}(this,function(t){function e(){}function i(t,e){this.x=t||0,this.y=e||0}function n(e,r,a,o,s,h,c,l,u,p){Object.defineProperty(this,"id",{value:zn++}),this.uuid=t.Math.generateUUID(),this.sourceFile=this.name="",this.image=void 0!==e?e:n.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==r?r:n.DEFAULT_MAPPING,this.wrapS=void 0!==a?a:1001,this.wrapT=void 0!==o?o:1001,this.magFilter=void 0!==s?s:1006,this.minFilter=void 0!==h?h:1008,this.anisotropy=void 0!==u?u:1,this.format=void 0!==c?c:1023,this.type=void 0!==l?l:1009,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==p?p:3e3,this.version=0,this.onUpdate=null}function r(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1}function a(e,i,a){this.uuid=t.Math.generateUUID(),this.width=e,this.height=i,this.scissor=new r(0,0,e,i),this.scissorTest=!1,this.viewport=new r(0,0,e,i),void 0===(a=a||{}).minFilter&&(a.minFilter=1006),this.texture=new n(void 0,void 0,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,this.stencilBuffer=void 0===a.stencilBuffer||a.stencilBuffer,this.depthTexture=void 0!==a.depthTexture?a.depthTexture:null}function o(t,e,i){a.call(this,t,e,i),this.activeMipMapLevel=this.activeCubeFace=0}function s(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}function h(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function c(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function l(t,e,i,r,a,o,s,h,c,l){t=void 0!==t?t:[],n.call(this,t,void 0!==e?e:301,i,r,a,o,s,h,c,l),this.flipY=!1}function u(t,e,i){var n=t[0];if(0>=n||0<n)return t;var r=e*i,a=Hn[r];if(void 0===a&&(a=new Float32Array(r),Hn[r]=a),0!==e)for(n.toArray(a,0),n=1,r=0;n!==e;++n)r+=i,t[n].toArray(a,r);return a}function p(t,e){var i=Vn[e];void 0===i&&(i=new Int32Array(e),Vn[e]=i);for(var n=0;n!==e;++n)i[n]=t.allocTextureUnit();return i}function d(t,e){t.uniform1f(this.addr,e)}function f(t,e){t.uniform1i(this.addr,e)}function m(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function g(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function v(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function y(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function x(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function _(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function b(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTexture2D(e||Bn,n)}function w(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTextureCube(e||Gn,n)}function M(t,e){t.uniform2iv(this.addr,e)}function E(t,e){t.uniform3iv(this.addr,e)}function S(t,e){t.uniform4iv(this.addr,e)}function T(t,e){t.uniform1fv(this.addr,e)}function A(t,e){t.uniform1iv(this.addr,e)}function L(t,e){t.uniform2fv(this.addr,u(e,this.size,2))}function R(t,e){t.uniform3fv(this.addr,u(e,this.size,3))}function P(t,e){t.uniform4fv(this.addr,u(e,this.size,4))}function C(t,e){t.uniformMatrix2fv(this.addr,!1,u(e,this.size,4))}function U(t,e){t.uniformMatrix3fv(this.addr,!1,u(e,this.size,9))}function I(t,e){t.uniformMatrix4fv(this.addr,!1,u(e,this.size,16))}function D(t,e,i){var n=e.length,r=p(i,n);for(t.uniform1iv(this.addr,r),t=0;t!==n;++t)i.setTexture2D(e[t]||Bn,r[t])}function N(t,e,i){var n=e.length,r=p(i,n);for(t.uniform1iv(this.addr,r),t=0;t!==n;++t)i.setTextureCube(e[t]||Gn,r[t])}function F(t,e,i){this.id=t,this.addr=i,this.setValue=function(t){switch(t){case 5126:return d;case 35664:return m;case 35665:return g;case 35666:return v;case 35674:return y;case 35675:return x;case 35676:return _;case 35678:return b;case 35680:return w;case 5124:case 35670:return f;case 35667:case 35671:return M;case 35668:case 35672:return E;case 35669:case 35673:return S}}(e.type)}function O(t,e,i){this.id=t,this.addr=i,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return T;case 35664:return L;case 35665:return R;case 35666:return P;case 35674:return C;case 35675:return U;case 35676:return I;case 35678:return D;case 35680:return N;case 5124:case 35670:return A;case 35667:case 35671:return M;case 35668:case 35672:return E;case 35669:case 35673:return S}}(e.type)}function z(t){this.id=t,this.seq=[],this.map={}}function B(t,e,i){this.seq=[],this.map={},this.renderer=i,i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(var n=0;n!==i;++n){var r=t.getActiveUniform(e,n),a=t.getUniformLocation(e,r.name),o=this,s=r.name,h=s.length;for(kn.lastIndex=0;;){var c=kn.exec(s),l=kn.lastIndex,u=c[1],p=c[3];if("]"===c[2]&&(u|=0),void 0===p||"["===p&&l+2===h){s=o,r=void 0===p?new F(u,r,a):new O(u,r,a),s.seq.push(r),s.map[r.id]=r;break}void 0===(p=o.map[u])&&(p=new z(u),u=o,o=p,u.seq.push(o),u.map[o.id]=o),o=p}}}function G(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}function H(t,e){this.min=void 0!==t?t:new i(1/0,1/0),this.max=void 0!==e?e:new i(-1/0,-1/0)}function V(t,e){var n,r,a,o,s,c,l,u,p,d,f,m,g,v,y,x=t.context,_=t.state;this.render=function(b,w,M){if(0!==e.length){b=new h;var E=M.w/M.z,S=.5*M.z,T=.5*M.w,A=new i((C=16/M.w)*E,C),L=new h(1,1,0),R=new i(1,1),P=new H;if(P.min.set(0,0),P.max.set(M.z-16,M.w-16),void 0===g){var C=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),U=new Uint16Array([0,1,2,0,2,3]);f=x.createBuffer(),m=x.createBuffer(),x.bindBuffer(x.ARRAY_BUFFER,f),x.bufferData(x.ARRAY_BUFFER,C,x.STATIC_DRAW),x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,m),x.bufferData(x.ELEMENT_ARRAY_BUFFER,U,x.STATIC_DRAW),v=x.createTexture(),y=x.createTexture(),_.bindTexture(x.TEXTURE_2D,v),x.texImage2D(x.TEXTURE_2D,0,x.RGB,16,16,0,x.RGB,x.UNSIGNED_BYTE,null),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),_.bindTexture(x.TEXTURE_2D,y),x.texImage2D(x.TEXTURE_2D,0,x.RGBA,16,16,0,x.RGBA,x.UNSIGNED_BYTE,null),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST);C={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},U=x.createProgram();var I=x.createShader(x.FRAGMENT_SHADER),D=x.createShader(x.VERTEX_SHADER),N="precision "+t.getPrecision()+" float;\n";x.shaderSource(I,N+C.fragmentShader),x.shaderSource(D,N+C.vertexShader),x.compileShader(I),x.compileShader(D),x.attachShader(U,I),x.attachShader(U,D),x.linkProgram(U),g=U,p=x.getAttribLocation(g,"position"),d=x.getAttribLocation(g,"uv"),n=x.getUniformLocation(g,"renderType"),r=x.getUniformLocation(g,"map"),a=x.getUniformLocation(g,"occlusionMap"),o=x.getUniformLocation(g,"opacity"),s=x.getUniformLocation(g,"color"),c=x.getUniformLocation(g,"scale"),l=x.getUniformLocation(g,"rotation"),u=x.getUniformLocation(g,"screenPosition")}for(x.useProgram(g),_.initAttributes(),_.enableAttribute(p),_.enableAttribute(d),_.disableUnusedAttributes(),x.uniform1i(a,0),x.uniform1i(r,1),x.bindBuffer(x.ARRAY_BUFFER,f),x.vertexAttribPointer(p,2,x.FLOAT,!1,16,0),x.vertexAttribPointer(d,2,x.FLOAT,!1,16,8),x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,m),_.disable(x.CULL_FACE),_.setDepthWrite(!1),U=0,I=e.length;U<I;U++)if(C=16/M.w,A.set(C*E,C),D=e[U],b.set(D.matrixWorld.elements[12],D.matrixWorld.elements[13],D.matrixWorld.elements[14]),b.applyMatrix4(w.matrixWorldInverse),b.applyProjection(w.projectionMatrix),L.copy(b),R.x=M.x+L.x*S+S-8,R.y=M.y+L.y*T+T-8,!0===P.containsPoint(R)){_.activeTexture(x.TEXTURE0),_.bindTexture(x.TEXTURE_2D,null),_.activeTexture(x.TEXTURE1),_.bindTexture(x.TEXTURE_2D,v),x.copyTexImage2D(x.TEXTURE_2D,0,x.RGB,R.x,R.y,16,16,0),x.uniform1i(n,0),x.uniform2f(c,A.x,A.y),x.uniform3f(u,L.x,L.y,L.z),_.disable(x.BLEND),_.enable(x.DEPTH_TEST),x.drawElements(x.TRIANGLES,6,x.UNSIGNED_SHORT,0),_.activeTexture(x.TEXTURE0),_.bindTexture(x.TEXTURE_2D,y),x.copyTexImage2D(x.TEXTURE_2D,0,x.RGBA,R.x,R.y,16,16,0),x.uniform1i(n,1),_.disable(x.DEPTH_TEST),_.activeTexture(x.TEXTURE1),_.bindTexture(x.TEXTURE_2D,v),x.drawElements(x.TRIANGLES,6,x.UNSIGNED_SHORT,0),D.positionScreen.copy(L),D.customUpdateCallback?D.customUpdateCallback(D):D.updateLensFlares(),x.uniform1i(n,2),_.enable(x.BLEND);N=0;for(var F=D.lensFlares.length;N<F;N++){var O=D.lensFlares[N];.001<O.opacity&&.001<O.scale&&(L.x=O.x,L.y=O.y,L.z=O.z,C=O.size*O.scale/M.w,A.x=C*E,A.y=C,x.uniform3f(u,L.x,L.y,L.z),x.uniform2f(c,A.x,A.y),x.uniform1f(l,O.rotation),x.uniform1f(o,O.opacity),x.uniform3f(s,O.color.r,O.color.g,O.color.b),_.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),t.setTexture2D(O.texture,1),x.drawElements(x.TRIANGLES,6,x.UNSIGNED_SHORT,0))}}_.enable(x.CULL_FACE),_.enable(x.DEPTH_TEST),_.setDepthWrite(!0),t.resetGLState()}}}function k(t,e){var i,r,a,o,c,l,u,p,d,f,m,g,v,y,x,_,b;function w(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var M,E,S,T,A=t.context,L=t.state,R=new h,P=new s,C=new h;this.render=function(s,h){if(0!==e.length){if(void 0===S){var U=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),I=new Uint16Array([0,1,2,0,2,3]);M=A.createBuffer(),E=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,M),A.bufferData(A.ARRAY_BUFFER,U,A.STATIC_DRAW),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,E),A.bufferData(A.ELEMENT_ARRAY_BUFFER,I,A.STATIC_DRAW);U=A.createProgram(),I=A.createShader(A.VERTEX_SHADER);var D=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(I,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n")),A.shaderSource(D,["precision "+t.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n")),A.compileShader(I),A.compileShader(D),A.attachShader(U,I),A.attachShader(U,D),A.linkProgram(U),S=U,_=A.getAttribLocation(S,"position"),b=A.getAttribLocation(S,"uv"),i=A.getUniformLocation(S,"uvOffset"),r=A.getUniformLocation(S,"uvScale"),a=A.getUniformLocation(S,"rotation"),o=A.getUniformLocation(S,"scale"),c=A.getUniformLocation(S,"color"),l=A.getUniformLocation(S,"map"),u=A.getUniformLocation(S,"opacity"),p=A.getUniformLocation(S,"modelViewMatrix"),d=A.getUniformLocation(S,"projectionMatrix"),f=A.getUniformLocation(S,"fogType"),m=A.getUniformLocation(S,"fogDensity"),g=A.getUniformLocation(S,"fogNear"),v=A.getUniformLocation(S,"fogFar"),y=A.getUniformLocation(S,"fogColor"),x=A.getUniformLocation(S,"alphaTest"),(U=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=8,U.height=8,(I=U.getContext("2d")).fillStyle="white",I.fillRect(0,0,8,8),(T=new n(U)).needsUpdate=!0}A.useProgram(S),L.initAttributes(),L.enableAttribute(_),L.enableAttribute(b),L.disableUnusedAttributes(),L.disable(A.CULL_FACE),L.enable(A.BLEND),A.bindBuffer(A.ARRAY_BUFFER,M),A.vertexAttribPointer(_,2,A.FLOAT,!1,16,0),A.vertexAttribPointer(b,2,A.FLOAT,!1,16,8),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,E),A.uniformMatrix4fv(d,!1,h.projectionMatrix.elements),L.activeTexture(A.TEXTURE0),A.uniform1i(l,0),I=U=0,(D=s.fog)?(A.uniform3f(y,D.color.r,D.color.g,D.color.b),D&&D.isFog?(A.uniform1f(g,D.near),A.uniform1f(v,D.far),A.uniform1i(f,1),I=U=1):D&&D.isFogExp2&&(A.uniform1f(m,D.density),A.uniform1i(f,2),I=U=2)):(A.uniform1i(f,0),I=U=0);D=0;for(var N=e.length;D<N;D++){(O=e[D]).modelViewMatrix.multiplyMatrices(h.matrixWorldInverse,O.matrixWorld),O.z=-O.modelViewMatrix.elements[14]}e.sort(w);var F=[];for(D=0,N=e.length;D<N;D++){var O,z=(O=e[D]).material;!1!==z.visible&&(A.uniform1f(x,z.alphaTest),A.uniformMatrix4fv(p,!1,O.modelViewMatrix.elements),O.matrixWorld.decompose(R,P,C),F[0]=C.x,F[1]=C.y,O=0,s.fog&&z.fog&&(O=I),U!==O&&(A.uniform1i(f,O),U=O),null!==z.map?(A.uniform2f(i,z.map.offset.x,z.map.offset.y),A.uniform2f(r,z.map.repeat.x,z.map.repeat.y)):(A.uniform2f(i,0,0),A.uniform2f(r,1,1)),A.uniform1f(u,z.opacity),A.uniform3f(c,z.color.r,z.color.g,z.color.b),A.uniform1f(a,z.rotation),A.uniform2fv(o,F),L.setBlending(z.blending,z.blendEquation,z.blendSrc,z.blendDst),L.setDepthTest(z.depthTest),L.setDepthWrite(z.depthWrite),z.map?t.setTexture2D(z.map,0):t.setTexture2D(T,0),A.drawElements(A.TRIANGLES,6,A.UNSIGNED_SHORT,0))}L.enable(A.CULL_FACE),t.resetGLState()}}}function j(){Object.defineProperty(this,"id",{value:Yn++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Material",this.lights=this.fog=!0,this.blending=1,this.side=0,this.shading=2,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.clippingPlanes=null,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.premultipliedAlpha=!1,this.overdraw=0,this._needsUpdate=this.visible=!0}function W(t){j.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function X(t){j.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.setValues(t)}function Y(t,e){this.min=void 0!==t?t:new h(1/0,1/0,1/0),this.max=void 0!==e?e:new h(-1/0,-1/0,-1/0)}function q(t,e){this.center=void 0!==t?t:new h,this.radius=void 0!==e?e:0}function Z(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function J(t,e){this.normal=void 0!==t?t:new h(1,0,0),this.constant=void 0!==e?e:0}function Q(t,e,i,n,r,a){this.planes=[void 0!==t?t:new J,void 0!==e?e:new J,void 0!==i?i:new J,void 0!==n?n:new J,void 0!==r?r:new J,void 0!==a?a:new J]}function K(e,n,o,s){function l(t,i,n,r){var a,o=t.geometry;a=w;var s=t.customDepthMaterial;return n&&(a=M,s=t.customDistanceMaterial),s?a=s:(s=!1,i.morphTargets&&(o&&o.isBufferGeometry?s=o.morphAttributes&&o.morphAttributes.position&&0<o.morphAttributes.position.length:o&&o.isGeometry&&(s=o.morphTargets&&0<o.morphTargets.length)),o=0,s&&(o|=1),(t=t.isSkinnedMesh&&i.skinning)&&(o|=2),a=a[o]),e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length&&(o=a.uuid,s=i.uuid,void 0===(t=E[o])&&(t={},E[o]=t),void 0===(o=t[s])&&(o=a.clone(),t[s]=o),a=o),a.visible=i.visible,a.wireframe=i.wireframe,s=i.side,I.renderSingleSided&&2==s&&(s=0),I.renderReverseSided&&(0===s?s=1:1===s&&(s=0)),a.side=s,a.clipShadows=i.clipShadows,a.clippingPlanes=i.clippingPlanes,a.wireframeLinewidth=i.wireframeLinewidth,a.linewidth=i.linewidth,n&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(r),a}function u(t,e,i){if(!1!==t.visible){0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!1===t.frustumCulled||!0===f.intersectsObject(t))&&!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),b.push(t));for(var n=0,r=(t=t.children).length;n<r;n++)u(t[n],e,i)}}var p=e.context,d=e.state,f=new Q,m=new c,g=n.shadows,v=new i,y=new i(s.maxTextureSize,s.maxTextureSize),x=new h,_=new h,b=[],w=Array(4),M=Array(4),E={},S=[new h(1,0,0),new h(-1,0,0),new h(0,0,1),new h(0,0,-1),new h(0,1,0),new h(0,-1,0)],T=[new h(0,1,0),new h(0,1,0),new h(0,1,0),new h(0,1,0),new h(0,0,1),new h(0,0,-1)],A=[new r,new r,new r,new r,new r,new r];(n=new X).depthPacking=3201,n.clipping=!0,s=Xn.distanceRGBA;for(var L=t.UniformsUtils.clone(s.uniforms),R=0;4!==R;++R){var P=0!=(1&R),C=0!=(2&R),U=n.clone();U.morphTargets=P,U.skinning=C,w[R]=U,P=new W({defines:{USE_SHADOWMAP:""},uniforms:L,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,morphTargets:P,skinning:C,clipping:!0}),M[R]=P}var I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.renderSingleSided=this.renderReverseSided=!0,this.render=function(t,i){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==g.length){d.clearColor(1,1,1,1),d.disable(p.BLEND),d.setDepthTest(!0),d.setScissorTest(!1);for(var n,r,s=0,h=g.length;s<h;s++){var c=g[s],w=c.shadow;if(void 0===w)console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");else{var M=w.camera;if(v.copy(w.mapSize),v.min(y),c&&c.isPointLight){n=6,r=!0;var E=v.x,L=v.y;A[0].set(2*E,L,E,L),A[1].set(0,L,E,L),A[2].set(3*E,L,E,L),A[3].set(E,L,E,L),A[4].set(3*E,0,E,L),A[5].set(E,0,E,L),v.x*=4,v.y*=2}else n=1,r=!1;for(null===w.map&&(w.map=new a(v.x,v.y,{minFilter:1003,magFilter:1003,format:1023}),M.updateProjectionMatrix()),w&&w.isSpotLightShadow&&w.update(c),E=w.map,w=w.matrix,_.setFromMatrixPosition(c.matrixWorld),M.position.copy(_),e.setRenderTarget(E),e.clear(),E=0;E<n;E++){r?(x.copy(M.position),x.add(S[E]),M.up.copy(T[E]),M.lookAt(x),d.viewport(A[E])):(x.setFromMatrixPosition(c.target.matrixWorld),M.lookAt(x)),M.updateMatrixWorld(),M.matrixWorldInverse.getInverse(M.matrixWorld),w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(M.projectionMatrix),w.multiply(M.matrixWorldInverse),m.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),f.setFromMatrix(m),b.length=0,u(t,i,M);L=0;for(var R=b.length;L<R;L++){var P=b[L],C=o.update(P);if((D=P.material)&&D.isMultiMaterial)for(var U=C.groups,D=D.materials,N=0,F=U.length;N<F;N++){var O=U[N],z=D[O.materialIndex];!0===z.visible&&(z=l(P,z,r,_),e.renderBufferDirect(M,null,C,z,P,O))}else z=l(P,D,r,_),e.renderBufferDirect(M,null,C,z,P,null)}}}}n=e.getClearColor(),r=e.getClearAlpha(),e.setClearColor(n,r),I.needsUpdate=!1}}}function $(t,e){this.origin=void 0!==t?t:new h,this.direction=void 0!==e?e:new h}function tt(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||tt.DefaultOrder}function et(){this.mask=1}function it(){Object.defineProperty(this,"id",{value:qn++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=it.DefaultUp.clone();var e=new h,i=new tt,n=new s,r=new h(1,1,1);i.onChange(function(){n.setFromEuler(i,!1)}),n.onChange(function(){i.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:i},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new c},normalMatrix:{value:new Z}}),this.matrix=new c,this.matrixWorld=new c,this.matrixAutoUpdate=it.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new et,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=null}function nt(t,e){this.start=void 0!==t?t:new h,this.end=void 0!==e?e:new h}function rt(t,e,i){this.a=void 0!==t?t:new h,this.b=void 0!==e?e:new h,this.c=void 0!==i?i:new h}function at(t,e,i,n,r,a){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new h,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new G,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}function ot(t){j.call(this),this.type="MeshBasicMaterial",this.color=new G(16777215),this.aoMap=this.map=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.lights=this.morphTargets=this.skinning=!1,this.setValues(t)}function st(e,i,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=t.Math.generateUUID(),this.array=e,this.itemSize=i,this.count=void 0!==e?e.length/i:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function ht(t,e){return new st(new Uint16Array(t),e)}function ct(t,e){return new st(new Uint32Array(t),e)}function lt(t,e){return new st(new Float32Array(t),e)}function ut(){Object.defineProperty(this,"id",{value:Zn++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function pt(){Object.defineProperty(this,"id",{value:Zn++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function dt(){Object.defineProperty(this,"id",{value:Zn++}),this.uuid=t.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0}}function ft(t,e){it.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new dt,this.material=void 0!==e?e:new ot({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function mt(t,e,i,n,r,a){function o(t,e,i,n,r,a,o,c,l,_,b){var w=a/l,M=o/_,E=a/2,S=o/2,T=c/2;o=l+1;for(var A=_+1,L=a=0,R=new h,P=0;P<A;P++)for(var C=P*M-S,U=0;U<o;U++)R[t]=(U*w-E)*n,R[e]=C*r,R[i]=T,p[m]=R.x,p[m+1]=R.y,p[m+2]=R.z,R[t]=0,R[e]=0,R[i]=0<c?1:-1,d[m]=R.x,d[m+1]=R.y,d[m+2]=R.z,f[g]=U/l,f[g+1]=1-P/_,m+=3,g+=2,a+=1;for(P=0;P<_;P++)for(U=0;U<l;U++)t=y+U+o*(P+1),e=y+(U+1)+o*(P+1),i=y+(U+1)+o*P,u[v]=y+U+o*P,u[v+1]=t,u[v+2]=i,u[v+3]=t,u[v+4]=e,u[v+5]=i,v+=6,L+=6;s.addGroup(x,L,b),x+=L,y+=a}dt.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var s=this,c=0+((n=Math.floor(n)||1)+1)*((r=Math.floor(r)||1)+1)*2+(n+1)*((a=Math.floor(a)||1)+1)*2+(a+1)*(r+1)*2,l=function(t,e,i){return 6*(t=0+t*r*2+t*a*2+a*r*2)}(n),u=new(65535<l?Uint32Array:Uint16Array)(l),p=new Float32Array(3*c),d=new Float32Array(3*c),f=new Float32Array(2*c),m=0,g=0,v=0,y=0,x=0;o("z","y","x",-1,-1,i,e,t,a,r,0),o("z","y","x",1,-1,i,e,-t,a,r,1),o("x","z","y",1,1,t,i,e,n,a,2),o("x","z","y",1,-1,t,i,-e,n,a,3),o("x","y","z",1,-1,t,e,i,n,r,4),o("x","y","z",-1,-1,t,e,-i,n,r,5),this.setIndex(new st(u,1)),this.addAttribute("position",new st(p,3)),this.addAttribute("normal",new st(d,3)),this.addAttribute("uv",new st(f,2))}function gt(t,e,i,n){dt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};var r=t/2,a=e/2,o=(i=Math.floor(i)||1)+1,s=(n=Math.floor(n)||1)+1,h=t/i,c=e/n;e=new Float32Array(o*s*3),t=new Float32Array(o*s*3);for(var l=new Float32Array(o*s*2),u=0,p=0,d=0;d<s;d++)for(var f=d*c-a,m=0;m<o;m++)e[u]=m*h-r,e[u+1]=-f,t[u+2]=1,l[p]=m/i,l[p+1]=1-d/n,u+=3,p+=2;for(u=0,r=new(65535<e.length/3?Uint32Array:Uint16Array)(i*n*6),d=0;d<n;d++)for(m=0;m<i;m++)a=m+o*(d+1),s=m+1+o*(d+1),h=m+1+o*d,r[u]=m+o*d,r[u+1]=a,r[u+2]=h,r[u+3]=a,r[u+4]=s,r[u+5]=h,u+=6;this.setIndex(new st(r,1)),this.addAttribute("position",new st(e,3)),this.addAttribute("normal",new st(t,3)),this.addAttribute("uv",new st(l,2))}function vt(){it.call(this),this.type="Camera",this.matrixWorldInverse=new c,this.projectionMatrix=new c}function yt(t,e,i,n){vt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function xt(t,e,i,n,r,a){vt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function _t(t,e,i){var n,r,a;return{setMode:function(t){n=t},setIndex:function(i){i.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(r=t.UNSIGNED_INT,a=4):(r=t.UNSIGNED_SHORT,a=2)},render:function(e,o){t.drawElements(n,o,r,e*a),i.calls++,i.vertices+=o,n===t.TRIANGLES&&(i.faces+=o/3)},renderInstances:function(o,s,h){var c=e.get("ANGLE_instanced_arrays");null===c?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(c.drawElementsInstancedANGLE(n,h,r,s*a,o.maxInstancedCount),i.calls++,i.vertices+=h*o.maxInstancedCount,n===t.TRIANGLES&&(i.faces+=o.maxInstancedCount*h/3))}}}function bt(t,e,i){var n;return{setMode:function(t){n=t},render:function(e,r){t.drawArrays(n,e,r),i.calls++,i.vertices+=r,n===t.TRIANGLES&&(i.faces+=r/3)},renderInstances:function(r){var a=e.get("ANGLE_instanced_arrays");if(null===a)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var o=(o=r.attributes.position)&&o.isInterleavedBufferAttribute?o.data.count:o.count;a.drawArraysInstancedANGLE(n,0,o,r.maxInstancedCount),i.calls++,i.vertices+=o*r.maxInstancedCount,n===t.TRIANGLES&&(i.faces+=r.maxInstancedCount*o/3)}}}}function wt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new h,color:new G,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new h,direction:new h,color:new G,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new h,color:new G,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"HemisphereLight":n={direction:new h,skyColor:new G,groundColor:new G}}return t[e.id]=n}}}function Mt(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),function(t){t=t.split("\n");for(var e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(i)),n}function Et(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+t)}}function St(t,e){var i=Et(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Tt(t,e){var i=Et(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function At(t,e){var i;switch(e){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Uncharted2";break;case 4:i="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Lt(t){return""!==t}function Rt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Pt(t){return t.replace(/#include +<([\w\d.]+)>/g,function(t,e){var i=jn[e];if(void 0===i)throw Error("Can not resolve #include <"+e+">");return Pt(i)})}function Ct(t){return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(t,e,i,n){for(t="",e=parseInt(e);e<parseInt(i);e++)t+=n.replace(/\[ i \]/g,"[ "+e+" ]");return t})}function Ut(t,e,i,n){var r=t.context,a=i.extensions,o=i.defines,s=i.__webglShader.vertexShader,h=i.__webglShader.fragmentShader,c="SHADOWMAP_TYPE_BASIC";1===n.shadowMapType?c="SHADOWMAP_TYPE_PCF":2===n.shadowMapType&&(c="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",u="ENVMAP_MODE_REFLECTION",p="ENVMAP_BLENDING_MULTIPLY";if(n.envMap){switch(i.envMap.mapping){case 301:case 302:l="ENVMAP_TYPE_CUBE";break;case 306:case 307:l="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:l="ENVMAP_TYPE_EQUIREC";break;case 305:l="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case 302:case 304:u="ENVMAP_MODE_REFRACTION"}switch(i.combine){case 0:p="ENVMAP_BLENDING_MULTIPLY";break;case 1:p="ENVMAP_BLENDING_MIX";break;case 2:p="ENVMAP_BLENDING_ADD"}}var d,f,m=0<t.gammaFactor?t.gammaFactor:1,g=(a=function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Lt).join("\n")}(a,n,t.extensions),function(t){var e,i=[];for(e in t){var n=t[e];!1!==n&&i.push("#define "+e+" "+n)}return i.join("\n")}(o)),v=r.createProgram();return i.isRawShaderMaterial?(o=[g,"\n"].filter(Lt).join("\n"),c=[a,g,"\n"].filter(Lt).join("\n")):(o=["precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,g,n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+n.maxBones,n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+n.numClippingPlanes,n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Lt).join("\n"),c=[a,"precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,g,n.alphaTest?"#define ALPHATEST "+n.alphaTest:"","#define GAMMA_FACTOR "+m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+u:"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+n.numClippingPlanes,n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",n.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?jn.tonemapping_pars_fragment:"",0!==n.toneMapping?At("toneMapping",n.toneMapping):"",n.outputEncoding||n.mapEncoding||n.envMapEncoding||n.emissiveMapEncoding?jn.encodings_pars_fragment:"",n.mapEncoding?St("mapTexelToLinear",n.mapEncoding):"",n.envMapEncoding?St("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?St("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.outputEncoding?Tt("linearToOutputTexel",n.outputEncoding):"",n.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Lt).join("\n")),s=Rt(s=Pt(s),n),h=Rt(h=Pt(h),n),i.isShaderMaterial||(s=Ct(s),h=Ct(h)),h=c+h,s=Mt(r,r.VERTEX_SHADER,o+s),h=Mt(r,r.FRAGMENT_SHADER,h),r.attachShader(v,s),r.attachShader(v,h),void 0!==i.index0AttributeName?r.bindAttribLocation(v,0,i.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n=r.getProgramInfoLog(v),l=r.getShaderInfoLog(s),u=r.getShaderInfoLog(h),m=p=!0,!1===r.getProgramParameter(v,r.LINK_STATUS)?(p=!1,console.error("THREE.WebGLProgram: shader error: ",r.getError(),"gl.VALIDATE_STATUS",r.getProgramParameter(v,r.VALIDATE_STATUS),"gl.getProgramInfoLog",n,l,u)):""!==n?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",n):""!==l&&""!==u||(m=!1),m&&(this.diagnostics={runnable:p,material:i,programLog:n,vertexShader:{log:l,prefix:o},fragmentShader:{log:u,prefix:c}}),r.deleteShader(s),r.deleteShader(h),this.getUniforms=function(){return void 0===d&&(d=new B(r,v,t)),d},this.getAttributes=function(){if(void 0===f){for(var t={},e=r.getProgramParameter(v,r.ACTIVE_ATTRIBUTES),i=0;i<e;i++){var n=r.getActiveAttrib(v,i).name;t[n]=r.getAttribLocation(v,n)}f=t}return f},this.destroy=function(){r.deleteProgram(v),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Jn++,this.code=e,this.usedTimes=1,this.program=v,this.vertexShader=s,this.fragmentShader=h,this}function It(t,e){function i(t,e){var i;return t?t&&t.isTexture?i=t.encoding:t&&t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),i=t.texture.encoding):i=3e3,3e3===i&&e&&(i=3007),i}var n=[],r={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");this.getParameters=function(n,a,o,s,h){var c,l=r[n.type];e.floatVertexTextures&&h&&h.skeleton&&h.skeleton.useVertexTexture?c=1024:(c=Math.floor((e.maxVertexUniforms-20)/4),void 0!==h&&h&&h.isSkinnedMesh&&((c=Math.min(h.skeleton.bones.length,c))<h.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+h.skeleton.bones.length+", this GPU supports just "+c+" (try OpenGL instead of ANGLE)")));var u=t.getPrecision();null!==n.precision&&((u=e.getMaxPrecision(n.precision))!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",u,"instead."));var p=t.getCurrentRenderTarget();return{shaderID:l,precision:u,supportsVertexTextures:e.vertexTextures,outputEncoding:i(p?p.texture:null,t.gammaOutput),map:!!n.map,mapEncoding:i(n.map,t.gammaInput),envMap:!!n.envMap,envMapMode:n.envMap&&n.envMap.mapping,envMapEncoding:i(n.envMap,t.gammaInput),envMapCubeUV:!!n.envMap&&(306===n.envMap.mapping||307===n.envMap.mapping),lightMap:!!n.lightMap,aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:i(n.emissiveMap,t.gammaInput),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,combine:n.combine,vertexColors:n.vertexColors,fog:!!o,useFog:n.fog,fogExp:o&&o.isFogExp2,flatShading:1===n.shading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:n.skinning,maxBones:c,useVertexTexture:e.floatVertexTextures&&h&&h.skeleton&&h.skeleton.useVertexTexture,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numHemiLights:a.hemi.length,numClippingPlanes:s,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&0<a.shadows.length,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:2===n.side,flipSided:1===n.side,depthPacking:void 0!==n.depthPacking&&n.depthPacking}},this.getProgramCode=function(t,e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);for(n=0;n<a.length;n++)i.push(e[a[n]]);return i.join()},this.acquireProgram=function(e,i,r){for(var a,o=0,s=n.length;o<s;o++){var h=n[o];if(h.code===r){++(a=h).usedTimes;break}}return void 0===a&&(a=new Ut(t,r,e,i),n.push(a)),a},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function Dt(t,e,i){function n(t){var o=t.target;null!==(t=a[o.id]).index&&r(t.index);var s,h=t.attributes;for(s in h)r(h[s]);o.removeEventListener("dispose",n),delete a[o.id],(s=e.get(o)).wireframe&&r(s.wireframe),e.delete(o),(o=e.get(t)).wireframe&&r(o.wireframe),e.delete(t),i.memory.geometries--}function r(i){var n;void 0!==(n=i.isInterleavedBufferAttribute?e.get(i.data).__webglBuffer:e.get(i).__webglBuffer)&&(t.deleteBuffer(n),i.isInterleavedBufferAttribute?e.delete(i.data):e.delete(i))}var a={};return{get:function(t){var e,r=t.geometry;return void 0!==a[r.id]?a[r.id]:(r.addEventListener("dispose",n),r.isBufferGeometry?e=r:r.isGeometry&&(void 0===r._bufferGeometry&&(r._bufferGeometry=(new dt).setFromObject(t)),e=r._bufferGeometry),a[r.id]=e,i.memory.geometries++,e)}}}function Nt(t,e,i){function n(i,n){var r=i.isInterleavedBufferAttribute?i.data:i,a=e.get(r);void 0===a.__webglBuffer?(a.__webglBuffer=t.createBuffer(),t.bindBuffer(n,a.__webglBuffer),t.bufferData(n,r.array,r.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW),a.version=r.version):a.version!==r.version&&(t.bindBuffer(n,a.__webglBuffer),!1===r.dynamic||-1===r.updateRange.count?t.bufferSubData(n,0,r.array):0===r.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,r.updateRange.offset*r.array.BYTES_PER_ELEMENT,r.array.subarray(r.updateRange.offset,r.updateRange.offset+r.updateRange.count)),r.updateRange.count=0),a.version=r.version)}var r=new Dt(t,e,i);return{getAttributeBuffer:function(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer},getWireframeAttribute:function(i){var r=e.get(i);if(void 0!==r.wireframe)return r.wireframe;var a=[],o=i.index;if(i=(s=i.attributes).position,null!==o)for(var s=0,h=(o=o.array).length;s<h;s+=3){var c=o[s+0],l=o[s+1],u=o[s+2];a.push(c,l,l,u,u,c)}else for(o=s.position.array,s=0,h=o.length/3-1;s<h;s+=3)c=s+0,l=s+1,u=s+2,a.push(c,l,l,u,u,c);return n(a=new st(new(65535<i.count?Uint32Array:Uint16Array)(a),1),t.ELEMENT_ARRAY_BUFFER),r.wireframe=a},update:function(e){var i=r.get(e);e.geometry.isGeometry&&i.updateFromObject(e),e=i.index;var a=i.attributes;for(var o in null!==e&&n(e,t.ELEMENT_ARRAY_BUFFER),a)n(a[o],t.ARRAY_BUFFER);for(o in e=i.morphAttributes)for(var s=0,h=(a=e[o]).length;s<h;s++)n(a[s],t.ARRAY_BUFFER);return i}}}function Ft(e,i,n,r,a,o,s){function h(t,e){if(t.width>e||t.height>e){var i=e/Math.max(t.width,t.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return n.width=Math.floor(t.width*i),n.height=Math.floor(t.height*i),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function c(e){return t.Math.isPowerOfTwo(e.width)&&t.Math.isPowerOfTwo(e.height)}function l(t){return 1003===t||1004===t||1005===t?e.NEAREST:e.LINEAR}function u(t){(t=t.target).removeEventListener("dispose",u);t:{var i=r.get(t);if(t.image&&i.__image__webglTextureCube)e.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)break t;e.deleteTexture(i.__webglTexture)}r.delete(t)}v.textures--}function p(t){(t=t.target).removeEventListener("dispose",p);var i=r.get(t),n=r.get(t.texture);if(t){if(void 0!==n.__webglTexture&&e.deleteTexture(n.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t&&t.isWebGLRenderTargetCube)for(n=0;6>n;n++)e.deleteFramebuffer(i.__webglFramebuffer[n]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[n]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer);r.delete(t.texture),r.delete(t)}v.textures--}function d(i,s){var l=r.get(i);if(0<i.version&&l.__version!==i.version)if(void 0===(d=i.image))console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",i);else{if(!1!==d.complete){void 0===l.__webglInit&&(l.__webglInit=!0,i.addEventListener("dispose",u),l.__webglTexture=e.createTexture(),v.textures++),n.activeTexture(e.TEXTURE0+s),n.bindTexture(e.TEXTURE_2D,l.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment);var p=h(i.image,a.maxTextureSize);if((1001!==i.wrapS||1001!==i.wrapT||1003!==i.minFilter&&1006!==i.minFilter)&&!1===c(p))if((d=p)instanceof HTMLImageElement||d instanceof HTMLCanvasElement){(m=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=t.Math.nearestPowerOfTwo(d.width),m.height=t.Math.nearestPowerOfTwo(d.height),m.getContext("2d").drawImage(d,0,0,m.width,m.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+d.width+"x"+d.height+"). Resized to "+m.width+"x"+m.height,d),p=m}else p=d;var d=c(p),m=o(i.format),g=o(i.type);f(e.TEXTURE_2D,i,d);var x=i.mipmaps;if(i&&i.isDepthTexture){if(x=e.DEPTH_COMPONENT,1015===i.type){if(!y)throw Error("Float Depth Texture only supported in WebGL2.0");x=e.DEPTH_COMPONENT32F}else y&&(x=e.DEPTH_COMPONENT16);1027===i.format&&(x=e.DEPTH_STENCIL),n.texImage2D(e.TEXTURE_2D,0,x,p.width,p.height,0,m,g,null)}else if(i&&i.isDataTexture)if(0<x.length&&d){for(var _=0,b=x.length;_<b;_++)p=x[_],n.texImage2D(e.TEXTURE_2D,_,m,p.width,p.height,0,m,g,p.data);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,m,p.width,p.height,0,m,g,p.data);else if(i&&i.isCompressedTexture)for(_=0,b=x.length;_<b;_++)p=x[_],1023!==i.format&&1022!==i.format?-1<n.getCompressedTextureFormats().indexOf(m)?n.compressedTexImage2D(e.TEXTURE_2D,_,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,_,m,p.width,p.height,0,m,g,p.data);else if(0<x.length&&d){for(_=0,b=x.length;_<b;_++)p=x[_],n.texImage2D(e.TEXTURE_2D,_,m,m,g,p);i.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,m,m,g,p);return i.generateMipmaps&&d&&e.generateMipmap(e.TEXTURE_2D),l.__version=i.version,void(i.onUpdate&&i.onUpdate(i))}console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",i)}n.activeTexture(e.TEXTURE0+s),n.bindTexture(e.TEXTURE_2D,l.__webglTexture)}function f(t,n,s){s?(e.texParameteri(t,e.TEXTURE_WRAP_S,o(n.wrapS)),e.texParameteri(t,e.TEXTURE_WRAP_T,o(n.wrapT)),e.texParameteri(t,e.TEXTURE_MAG_FILTER,o(n.magFilter)),e.texParameteri(t,e.TEXTURE_MIN_FILTER,o(n.minFilter))):(e.texParameteri(t,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(t,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),1001===n.wrapS&&1001===n.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",n),e.texParameteri(t,e.TEXTURE_MAG_FILTER,l(n.magFilter)),e.texParameteri(t,e.TEXTURE_MIN_FILTER,l(n.minFilter)),1003!==n.minFilter&&1006!==n.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",n)),!(s=i.get("EXT_texture_filter_anisotropic"))||1015===n.type&&null===i.get("OES_texture_float_linear")||1016===n.type&&null===i.get("OES_texture_half_float_linear")||!(1<n.anisotropy||r.get(n).__currentAnisotropy)||(e.texParameterf(t,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(n.anisotropy,a.getMaxAnisotropy())),r.get(n).__currentAnisotropy=n.anisotropy)}function m(t,i,a,s){var h=o(i.texture.format),c=o(i.texture.type);n.texImage2D(s,0,h,i.width,i.height,0,h,c,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function g(t,i){e.bindRenderbuffer(e.RENDERBUFFER,t),i.depthBuffer&&!i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):i.depthBuffer&&i.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,i.width,i.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}var v=s.memory,y="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;this.setTexture2D=d,this.setTextureCube=function(t,i){var s=r.get(t);if(6===t.image.length)if(0<t.version&&s.__version!==t.version){s.__image__webglTextureCube||(t.addEventListener("dispose",u),s.__image__webglTextureCube=e.createTexture(),v.textures++),n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,s.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var l=t&&t.isCompressedTexture,p=t.image[0]&&t.image[0].isDataTexture,d=[],m=0;6>m;m++)d[m]=l||p?p?t.image[m].image:t.image[m]:h(t.image[m],a.maxCubemapSize);var g=c(d[0]),y=o(t.format),x=o(t.type);for(f(e.TEXTURE_CUBE_MAP,t,g),m=0;6>m;m++)if(l)for(var _,b=d[m].mipmaps,w=0,M=b.length;w<M;w++)_=b[w],1023!==t.format&&1022!==t.format?-1<n.getCompressedTextureFormats().indexOf(y)?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,w,y,_.width,_.height,0,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,w,y,_.width,_.height,0,y,x,_.data);else p?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,d[m].width,d[m].height,0,y,x,d[m].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,y,x,d[m]);t.generateMipmaps&&g&&e.generateMipmap(e.TEXTURE_CUBE_MAP),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,s.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)},this.setupRenderTarget=function(t){var i=r.get(t),a=r.get(t.texture);t.addEventListener("dispose",p),a.__webglTexture=e.createTexture(),v.textures++;var o=t&&t.isWebGLRenderTargetCube,s=c(t);if(o){i.__webglFramebuffer=[];for(var h=0;6>h;h++)i.__webglFramebuffer[h]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(o){for(n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture),f(e.TEXTURE_CUBE_MAP,t.texture,s),h=0;6>h;h++)m(i.__webglFramebuffer[h],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+h);t.texture.generateMipmaps&&s&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,a.__webglTexture),f(e.TEXTURE_2D,t.texture,s),m(i.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),t.texture.generateMipmaps&&s&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);if(t.depthBuffer){if(i=r.get(t),a=t&&t.isWebGLRenderTargetCube,t.depthTexture){if(a)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");if(e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(r.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),d(t.depthTexture,0),i=r.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,i,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0)}}else if(a)for(i.__webglDepthbuffer=[],a=0;6>a;a++)e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),g(i.__webglDepthbuffer[a],t);else e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),g(i.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}},this.updateRenderTargetMipmap=function(t){var i=t.texture;i.generateMipmaps&&c(t)&&1003!==i.minFilter&&1006!==i.minFilter&&(t=t&&t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,i=r.get(i).__webglTexture,n.bindTexture(t,i),e.generateMipmap(t),n.bindTexture(t,null))}}function Ot(){var t={};return{get:function(e){e=e.uuid;var i=t[e];return void 0===i&&(i={},t[e]=i),i},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function zt(t,e,i){function n(e,i,n){var r=new Uint8Array(4),a=t.createTexture();for(t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST),e=0;e<n;e++)t.texImage2D(i+e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return a}function a(e){!0!==w[e]&&(t.enable(e),w[e]=!0)}function o(e){!1!==w[e]&&(t.disable(e),w[e]=!1)}function s(e,n,r,s,h,c,l,u){0!==e?(a(t.BLEND),e===E&&u===C||(2===e?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):3===e?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):4===e?u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),E=e,C=u),5===e?(h=h||n,c=c||r,l=l||s,n===S&&h===L||(t.blendEquationSeparate(i(n),i(h)),S=n,L=h),r===T&&s===A&&c===R&&l===P||(t.blendFuncSeparate(i(r),i(s),i(c),i(l)),T=r,A=s,R=c,P=l)):P=R=L=A=T=S=null):(o(t.BLEND),E=e)}function h(t){g.setFunc(t)}function c(e){U!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),U=e)}function l(e){0!==e?(a(t.CULL_FACE),e!==I&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):o(t.CULL_FACE),I=e}function u(e){void 0===e&&(e=t.TEXTURE0+z-1),B!==e&&(t.activeTexture(e),B=e)}function p(t,e,i,n){m.setClear(t,e,i,n)}function d(t){g.setClear(t)}function f(t){v.setClear(t)}var m=new function(){var e=!1,i=new r,n=null,a=new r;return{setMask:function(i){n===i||e||(t.colorMask(i,i,i,i),n=i)},setLocked:function(t){e=t},setClear:function(e,n,r,o){i.set(e,n,r,o),!1===a.equals(i)&&(t.clearColor(e,n,r,o),a.copy(i))},reset:function(){e=!1,n=null,a.set(0,0,0,1)}}},g=new function(){var e=!1,i=null,n=null,r=null;return{setTest:function(e){e?a(t.DEPTH_TEST):o(t.DEPTH_TEST)},setMask:function(n){i===n||e||(t.depthMask(n),i=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,r=n=i=null}}},v=new function(){var e=!1,i=null,n=null,r=null,s=null,h=null,c=null,l=null,u=null;return{setTest:function(e){e?a(t.STENCIL_TEST):o(t.STENCIL_TEST)},setMask:function(n){i===n||e||(t.stencilMask(n),i=n)},setFunc:function(e,i,a){n===e&&r===i&&s===a||(t.stencilFunc(e,i,a),n=e,r=i,s=a)},setOp:function(e,i,n){h===e&&c===i&&l===n||(t.stencilOp(e,i,n),h=e,c=i,l=n)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,u=l=c=h=s=r=n=i=null}}},y=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=new Uint8Array(y),_=new Uint8Array(y),b=new Uint8Array(y),w={},M=null,E=null,S=null,T=null,A=null,L=null,R=null,P=null,C=!1,U=null,I=null,D=null,N=null,F=null,O=null,z=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),B=null,G={},H=new r,V=new r,k={};return k[t.TEXTURE_2D]=n(t.TEXTURE_2D,t.TEXTURE_2D,1),k[t.TEXTURE_CUBE_MAP]=n(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:m,depth:g,stencil:v},init:function(){p(0,0,0,1),d(1),f(0),a(t.DEPTH_TEST),h(3),c(!1),l(1),a(t.CULL_FACE),a(t.BLEND),s(1)},initAttributes:function(){for(var t=0,e=x.length;t<e;t++)x[t]=0},enableAttribute:function(i){x[i]=1,0===_[i]&&(t.enableVertexAttribArray(i),_[i]=1),0!==b[i]&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(i,0),b[i]=0)},enableAttributeAndDivisor:function(e,i,n){x[e]=1,0===_[e]&&(t.enableVertexAttribArray(e),_[e]=1),b[e]!==i&&(n.vertexAttribDivisorANGLE(e,i),b[e]=i)},disableUnusedAttributes:function(){for(var e=0,i=_.length;e!==i;++e)_[e]!==x[e]&&(t.disableVertexAttribArray(e),_[e]=0)},enable:a,disable:o,getCompressedTextureFormats:function(){if(null===M&&(M=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<i.length;n++)M.push(i[n]);return M},setBlending:s,setColorWrite:function(t){m.setMask(t)},setDepthTest:function(t){g.setTest(t)},setDepthWrite:function(t){g.setMask(t)},setDepthFunc:h,setStencilTest:function(t){v.setTest(t)},setStencilWrite:function(t){v.setMask(t)},setStencilFunc:function(t,e,i){v.setFunc(t,e,i)},setStencilOp:function(t,e,i){v.setOp(t,e,i)},setFlipSided:c,setCullFace:l,setLineWidth:function(e){e!==D&&(t.lineWidth(e),D=e)},setPolygonOffset:function(e,i,n){e?(a(t.POLYGON_OFFSET_FILL),(N!==i||F!==n)&&(t.polygonOffset(i,n),N=i,F=n)):o(t.POLYGON_OFFSET_FILL)},getScissorTest:function(){return O},setScissorTest:function(e){(O=e)?a(t.SCISSOR_TEST):o(t.SCISSOR_TEST)},activeTexture:u,bindTexture:function(e,i){null===B&&u();var n=G[B];void 0===n&&(n={type:void 0,texture:void 0},G[B]=n),n.type===e&&n.texture===i||(t.bindTexture(e,i||k[e]),n.type=e,n.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}},clearColor:p,clearDepth:d,clearStencil:f,scissor:function(e){!1===H.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),H.copy(e))},viewport:function(e){!1===V.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),V.copy(e))},reset:function(){for(var e=0;e<_.length;e++)1===_[e]&&(t.disableVertexAttribArray(e),_[e]=0);w={},B=M=null,G={},I=U=E=null,m.reset(),g.reset(),v.reset()}}}function Bt(t,e,i){function n(e){if("highp"===e){if(0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision?"mediump":"lowp"}var r,a=void 0!==i.precision?i.precision:"highp";(o=n(a))!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o),i=!0===i.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth");var o=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),s=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),c=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),l=t.getParameter(t.MAX_VERTEX_ATTRIBS),u=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),p=t.getParameter(t.MAX_VARYING_VECTORS),d=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),f=0<s,m=!!e.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==r)return r;var i=e.get("EXT_texture_filter_anisotropic");return r=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:a,logarithmicDepthBuffer:i,maxTextures:o,maxVertexTextures:s,maxTextureSize:h,maxCubemapSize:c,maxAttributes:l,maxVertexUniforms:u,maxVaryings:p,maxFragmentUniforms:d,vertexTextures:f,floatFragmentTextures:m,floatVertexTextures:f&&m}}function Gt(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var n;switch(i){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":n=t.getExtension("WEBGL_compressed_texture_etc1");break;default:n=t.getExtension(i)}return null===n&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]=n}}}function Ht(){function t(){c.value!==n&&(c.value=n,c.needsUpdate=0<r),i.numPlanes=r}function e(t,e,n,r){var a=null!==t?t.length:0,o=null;if(0!==a){if(o=c.value,!0!==r||null===o)for(r=n+4*a,e=e.matrixWorldInverse,h.getNormalMatrix(e),(null===o||o.length<r)&&(o=new Float32Array(r)),r=0;r!==a;++r,n+=4)s.copy(t[r]).applyMatrix4(e,h),s.normal.toArray(o,n),o[n+3]=s.constant;c.value=o,c.needsUpdate=!0}return i.numPlanes=a,o}var i=this,n=null,r=0,a=!1,o=!1,s=new J,h=new Z,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.init=function(t,i,o){var s=0!==t.length||i||0!==r||a;return a=i,n=e(t,o,0),r=t.length,s},this.beginShadows=function(){o=!0,e(null)},this.endShadows=function(){o=!1,t()},this.setState=function(i,s,h,l,u){if(!a||null===i||0===i.length||o&&!s)o?e(null):t();else{var p=4*(s=o?0:r),d=l.clippingState||null;for(c.value=d,d=e(i,h,p,u),i=0;i!==p;++i)d[i]=n[i];l.clippingState=d,this.numPlanes+=s}}}function Vt(e){function i(t,e,i,n){!0===L&&(t*=n,e*=n,i*=n),Dt.clearColor(t,e,i,n)}function n(){Dt.init(),Dt.scissor(tt.copy(lt).multiplyScalar(ct)),Dt.viewport(it.copy(pt).multiplyScalar(ct)),i(rt.r,rt.g,rt.b,at)}function a(){$=j=null,J="",Z=-1,Dt.reset()}function o(t){t.preventDefault(),a(),n(),Vt.clear()}function s(t){(t=t.target).removeEventListener("dispose",s),l(t),Vt.delete(t)}function l(t){var e=Vt.get(t).program;t.program=void 0,void 0!==e&&Wt.releaseProgram(e)}function u(t,e){return Math.abs(e[0])-Math.abs(t[0])}function p(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function d(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function f(t,e,i,n,r){var a;i.transparent?(n=I,a=++D):(n=C,a=++U),void 0!==(a=n[a])?(a.id=t.id,a.object=t,a.geometry=e,a.material=i,a.z=Lt.z,a.group=r):(a={id:t.id,object:t,geometry:e,material:i,z:Lt.z,group:r},n.push(a))}function m(t){if(!vt.intersectsSphere(t))return!1;var e=Mt.numPlanes;if(0===e)return!0;var i=H.clippingPlanes,n=t.center;t=-t.radius;var r=0;do{if(i[r].distanceToPoint(n)<t)return!1}while(++r!==e);return!0}function g(t,e){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask))if(t.isLight)P.push(t);else if(t.isSprite){var i;(i=!1===t.frustumCulled)||(Tt.center.set(0,0,0),Tt.radius=.7071067811865476,Tt.applyMatrix4(t.matrixWorld),i=!0===m(Tt)),i&&F.push(t)}else if(t.isLensFlare)O.push(t);else if(t.isImmediateRenderObject)!0===H.sortObjects&&(Lt.setFromMatrixPosition(t.matrixWorld),Lt.applyProjection(At)),f(t,null,t.material,Lt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),(i=!1===t.frustumCulled)||(null===(i=t.geometry).boundingSphere&&i.computeBoundingSphere(),Tt.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),i=!0===m(Tt)),i)){if(!0===(a=t.material).visible)if(!0===H.sortObjects&&(Lt.setFromMatrixPosition(t.matrixWorld),Lt.applyProjection(At)),i=jt.update(t),a.isMultiMaterial)for(var n=i.groups,r=a.materials,a=0,o=n.length;a<o;a++){var s=n[a],h=r[s.materialIndex];!0===h.visible&&f(t,i,h,Lt.z,s)}else f(t,i,a,Lt.z,null)}for(a=0,o=(i=t.children).length;a<o;a++)g(i[a],e)}}function v(t,e,i,n){for(var r=0,a=t.length;r<a;r++){var o=(c=t[r]).object,s=c.geometry,h=void 0===n?c.material:n,c=c.group;if(o.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,o.matrixWorld),o.normalMatrix.getNormalMatrix(o.modelViewMatrix),o.isImmediateRenderObject){y(h);var l=x(e,i,h,o);J="",o.render(function(t){H.renderBufferImmediate(t,l,h)})}else null!==o.onBeforeRender&&o.onBeforeRender(),H.renderBufferDirect(e,i,s,h,o,c)}}function y(t){2===t.side?Dt.disable(z.CULL_FACE):Dt.enable(z.CULL_FACE),Dt.setFlipSided(1===t.side),!0===t.transparent?Dt.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):Dt.setBlending(0),Dt.setDepthFunc(t.depthFunc),Dt.setDepthTest(t.depthTest),Dt.setDepthWrite(t.depthWrite),Dt.setColorWrite(t.colorWrite),Dt.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function x(e,i,n,r){nt=0;var a=Vt.get(n);if(Et&&(St||e!==$)&&Mt.setState(n.clippingPlanes,n.clipShadows,e,a,e===$&&n.id===Z),!1===n.needsUpdate&&(void 0===a.program?n.needsUpdate=!0:n.fog&&a.fog!==i?n.needsUpdate=!0:n.lights&&a.lightsHash!==Rt.hash?n.needsUpdate=!0:void 0!==a.numClippingPlanes&&a.numClippingPlanes!==Mt.numPlanes&&(n.needsUpdate=!0)),n.needsUpdate){t:{var o=Vt.get(n),h=Wt.getParameters(n,Rt,i,Mt.numPlanes,r),c=Wt.getProgramCode(n,h),u=o.program,p=!0;if(void 0===u)n.addEventListener("dispose",s);else if(u.code!==c)l(n);else{if(void 0!==h.shaderID)break t;p=!1}if(p&&(h.shaderID?(u=Xn[h.shaderID],o.__webglShader={name:n.type,uniforms:t.UniformsUtils.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}):o.__webglShader={name:n.type,uniforms:n.uniforms,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader},n.__webglShader=o.__webglShader,u=Wt.acquireProgram(n,h,c),o.program=u,n.program=u),h=u.getAttributes(),n.morphTargets)for(c=n.numSupportedMorphTargets=0;c<H.maxMorphTargets;c++)0<=h["morphTarget"+c]&&n.numSupportedMorphTargets++;if(n.morphNormals)for(c=n.numSupportedMorphNormals=0;c<H.maxMorphNormals;c++)0<=h["morphNormal"+c]&&n.numSupportedMorphNormals++;h=o.__webglShader.uniforms,(n.isShaderMaterial||n.isRawShaderMaterial)&&!0!==n.clipping||(o.numClippingPlanes=Mt.numPlanes,h.clippingPlanes=Mt.uniform),o.fog=i,o.lightsHash=Rt.hash,n.lights&&(h.ambientLightColor.value=Rt.ambient,h.directionalLights.value=Rt.directional,h.spotLights.value=Rt.spot,h.pointLights.value=Rt.point,h.hemisphereLights.value=Rt.hemi,h.directionalShadowMap.value=Rt.directionalShadowMap,h.directionalShadowMatrix.value=Rt.directionalShadowMatrix,h.spotShadowMap.value=Rt.spotShadowMap,h.spotShadowMatrix.value=Rt.spotShadowMatrix,h.pointShadowMap.value=Rt.pointShadowMap,h.pointShadowMatrix.value=Rt.pointShadowMatrix),c=o.program.getUniforms(),c=B.seqWithValue(c.seq,h),o.uniformsList=c,o.dynamicUniforms=B.splitDynamic(c,h)}n.needsUpdate=!1}var d=!1;p=u=!1,c=(o=a.program).getUniforms(),h=a.__webglShader.uniforms;if(o.id!==j&&(z.useProgram(o.program),j=o.id,p=u=d=!0),n.id!==Z&&(Z=n.id,u=!0),(d||e!==$)&&(c.set(z,e,"projectionMatrix"),Ut.logarithmicDepthBuffer&&c.setValue(z,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),e!==$&&($=e,p=u=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap)&&(void 0!==(d=c.map.cameraPosition)&&d.setValue(z,Lt.setFromMatrixPosition(e.matrixWorld))),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(z,"viewMatrix",e.matrixWorldInverse),c.set(z,H,"toneMappingExposure"),c.set(z,H,"toneMappingWhitePoint")),n.skinning&&(c.setOptional(z,r,"bindMatrix"),c.setOptional(z,r,"bindMatrixInverse"),d=r.skeleton)&&(Ut.floatVertexTextures&&d.useVertexTexture?(c.set(z,d,"boneTexture"),c.set(z,d,"boneTextureWidth"),c.set(z,d,"boneTextureHeight")):c.setOptional(z,d,"boneMatrices")),u){var f;if(n.lights&&(u=p,h.ambientLightColor.needsUpdate=u,h.directionalLights.needsUpdate=u,h.pointLights.needsUpdate=u,h.spotLights.needsUpdate=u,h.hemisphereLights.needsUpdate=u),i&&n.fog&&(h.fogColor.value=i.color,i.isFog?(h.fogNear.value=i.near,h.fogFar.value=i.far):i.isFogExp2&&(h.fogDensity.value=i.density)),n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshDepthMaterial)h.opacity.value=n.opacity,h.diffuse.value=n.color,n.emissive&&h.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),h.map.value=n.map,h.specularMap.value=n.specularMap,h.alphaMap.value=n.alphaMap,n.aoMap&&(h.aoMap.value=n.aoMap,h.aoMapIntensity.value=n.aoMapIntensity),n.map?f=n.map:n.specularMap?f=n.specularMap:n.displacementMap?f=n.displacementMap:n.normalMap?f=n.normalMap:n.bumpMap?f=n.bumpMap:n.roughnessMap?f=n.roughnessMap:n.metalnessMap?f=n.metalnessMap:n.alphaMap?f=n.alphaMap:n.emissiveMap&&(f=n.emissiveMap),void 0!==f&&(f.isWebGLRenderTarget&&(f=f.texture),i=f.offset,f=f.repeat,h.offsetRepeat.value.set(i.x,i.y,f.x,f.y)),h.envMap.value=n.envMap,h.flipEnvMap.value=n.envMap&&n.envMap.isCubeTexture?-1:1,h.reflectivity.value=n.reflectivity,h.refractionRatio.value=n.refractionRatio;n.isLineBasicMaterial?(h.diffuse.value=n.color,h.opacity.value=n.opacity):n.isLineDashedMaterial?(h.diffuse.value=n.color,h.opacity.value=n.opacity,h.dashSize.value=n.dashSize,h.totalSize.value=n.dashSize+n.gapSize,h.scale.value=n.scale):n.isPointsMaterial?(h.diffuse.value=n.color,h.opacity.value=n.opacity,h.size.value=n.size*ct,h.scale.value=.5*w.clientHeight,h.map.value=n.map,null!==n.map&&(f=n.map.offset,i=n.map.repeat,h.offsetRepeat.value.set(f.x,f.y,i.x,i.y))):n.isMeshLambertMaterial?(n.lightMap&&(h.lightMap.value=n.lightMap,h.lightMapIntensity.value=n.lightMapIntensity),n.emissiveMap&&(h.emissiveMap.value=n.emissiveMap)):n.isMeshPhongMaterial?(h.specular.value=n.specular,h.shininess.value=Math.max(n.shininess,1e-4),n.lightMap&&(h.lightMap.value=n.lightMap,h.lightMapIntensity.value=n.lightMapIntensity),n.emissiveMap&&(h.emissiveMap.value=n.emissiveMap),n.bumpMap&&(h.bumpMap.value=n.bumpMap,h.bumpScale.value=n.bumpScale),n.normalMap&&(h.normalMap.value=n.normalMap,h.normalScale.value.copy(n.normalScale)),n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias)):n.isMeshPhysicalMaterial?(h.clearCoat.value=n.clearCoat,h.clearCoatRoughness.value=n.clearCoatRoughness,_(h,n)):n.isMeshStandardMaterial?_(h,n):n.isMeshDepthMaterial?n.displacementMap&&(h.displacementMap.value=n.displacementMap,h.displacementScale.value=n.displacementScale,h.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&(h.opacity.value=n.opacity),B.upload(z,a.uniformsList,h,H)}return c.set(z,r,"modelViewMatrix"),c.set(z,r,"normalMatrix"),c.setValue(z,"modelMatrix",r.matrixWorld),null!==(a=a.dynamicUniforms)&&(B.evalDynamic(a,h,r,n,e),B.upload(z,a,h,H)),o}function _(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function b(t){var e;if(1e3===t)return z.REPEAT;if(1001===t)return z.CLAMP_TO_EDGE;if(1002===t)return z.MIRRORED_REPEAT;if(1003===t)return z.NEAREST;if(1004===t)return z.NEAREST_MIPMAP_NEAREST;if(1005===t)return z.NEAREST_MIPMAP_LINEAR;if(1006===t)return z.LINEAR;if(1007===t)return z.LINEAR_MIPMAP_NEAREST;if(1008===t)return z.LINEAR_MIPMAP_LINEAR;if(1009===t)return z.UNSIGNED_BYTE;if(1017===t)return z.UNSIGNED_SHORT_4_4_4_4;if(1018===t)return z.UNSIGNED_SHORT_5_5_5_1;if(1019===t)return z.UNSIGNED_SHORT_5_6_5;if(1010===t)return z.BYTE;if(1011===t)return z.SHORT;if(1012===t)return z.UNSIGNED_SHORT;if(1013===t)return z.INT;if(1014===t)return z.UNSIGNED_INT;if(1015===t)return z.FLOAT;if(null!==(e=Ct.get("OES_texture_half_float"))&&1016===t)return e.HALF_FLOAT_OES;if(1021===t)return z.ALPHA;if(1022===t)return z.RGB;if(1023===t)return z.RGBA;if(1024===t)return z.LUMINANCE;if(1025===t)return z.LUMINANCE_ALPHA;if(1026===t)return z.DEPTH_COMPONENT;if(1027===t)return z.DEPTH_STENCIL;if(100===t)return z.FUNC_ADD;if(101===t)return z.FUNC_SUBTRACT;if(102===t)return z.FUNC_REVERSE_SUBTRACT;if(200===t)return z.ZERO;if(201===t)return z.ONE;if(202===t)return z.SRC_COLOR;if(203===t)return z.ONE_MINUS_SRC_COLOR;if(204===t)return z.SRC_ALPHA;if(205===t)return z.ONE_MINUS_SRC_ALPHA;if(206===t)return z.DST_ALPHA;if(207===t)return z.ONE_MINUS_DST_ALPHA;if(208===t)return z.DST_COLOR;if(209===t)return z.ONE_MINUS_DST_COLOR;if(210===t)return z.SRC_ALPHA_SATURATE;if(null!==(e=Ct.get("WEBGL_compressed_texture_s3tc"))){if(2001===t)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===t)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===t)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===t)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(e=Ct.get("WEBGL_compressed_texture_pvrtc"))){if(2100===t)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===t)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(2102===t)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===t)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(e=Ct.get("WEBGL_compressed_texture_etc1"))&&2151===t)return e.COMPRESSED_RGB_ETC1_WEBGL;if(null!==(e=Ct.get("EXT_blend_minmax"))){if(103===t)return e.MIN_EXT;if(104===t)return e.MAX_EXT}return null!==(e=Ct.get("WEBGL_depth_texture"))&&1020===t?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer","81");var w=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),M=void 0!==e.context?e.context:null,E=void 0!==e.alpha&&e.alpha,S=void 0===e.depth||e.depth,T=void 0===e.stencil||e.stencil,A=void 0!==e.antialias&&e.antialias,L=void 0===e.premultipliedAlpha||e.premultipliedAlpha,R=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,P=[],C=[],U=-1,I=[],D=-1,N=new Float32Array(8),F=[],O=[];this.domElement=w,this.context=null,this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1,this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var z,H=this,j=null,X=null,Y=null,Z=-1,J="",$=null,tt=new r,et=null,it=new r,nt=0,rt=new G(0),at=0,st=w.width,ht=w.height,ct=1,lt=new r(0,0,st,ht),ut=!1,pt=new r(0,0,st,ht),vt=new Q,Mt=new Ht,Et=!1,St=!1,Tt=new q,At=new c,Lt=new h,Rt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Pt={calls:0,vertices:0,faces:0,points:0};this.info={render:Pt,memory:{geometries:0,textures:0},programs:null};try{if(E={alpha:E,depth:S,stencil:T,antialias:A,premultipliedAlpha:L,preserveDrawingBuffer:R},null===(z=M||w.getContext("webgl",E)||w.getContext("experimental-webgl",E))){if(null!==w.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context."}void 0===z.getShaderPrecisionFormat&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),w.addEventListener("webglcontextlost",o,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var Ct=new Gt(z);Ct.get("WEBGL_depth_texture"),Ct.get("OES_texture_float"),Ct.get("OES_texture_float_linear"),Ct.get("OES_texture_half_float"),Ct.get("OES_texture_half_float_linear"),Ct.get("OES_standard_derivatives"),Ct.get("ANGLE_instanced_arrays"),Ct.get("OES_element_index_uint")&&(dt.MaxIndex=4294967296);var Ut=new Bt(z,Ct,e),Dt=new zt(z,Ct,b),Vt=new Ot,kt=new Ft(z,Ct,Dt,Vt,Ut,b,this.info),jt=new Nt(z,Vt,this.info),Wt=new It(this,Ut),Xt=new wt;this.info.programs=Wt.programs;var Yt=new bt(z,Ct,Pt),qt=new _t(z,Ct,Pt),Zt=new xt(-1,1,1,-1,0,1),Jt=new yt,Qt=new ft(new gt(2,2),new ot({depthTest:!1,depthWrite:!1,fog:!1}));e=Xn.cube;var Kt=new ft(new mt(5,5,5),new W({uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}));n(),this.context=z,this.capabilities=Ut,this.extensions=Ct,this.properties=Vt,this.state=Dt;var $t=new K(this,Rt,jt,Ut);this.shadowMap=$t;var te=new k(this,F),ee=new V(this,O);this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){Ct.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return Ut.getMaxAnisotropy()},this.getPrecision=function(){return Ut.precision},this.getPixelRatio=function(){return ct},this.setPixelRatio=function(t){void 0!==t&&(ct=t,this.setSize(pt.z,pt.w,!1))},this.getSize=function(){return{width:st,height:ht}},this.setSize=function(t,e,i){st=t,ht=e,w.width=t*ct,w.height=e*ct,!1!==i&&(w.style.width=t+"px",w.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,i,n){Dt.viewport(pt.set(t,e,i,n))},this.setScissor=function(t,e,i,n){Dt.scissor(lt.set(t,e,i,n))},this.setScissorTest=function(t){Dt.setScissorTest(ut=t)},this.getClearColor=function(){return rt},this.setClearColor=function(t,e){rt.set(t),at=void 0!==e?e:1,i(rt.r,rt.g,rt.b,at)},this.getClearAlpha=function(){return at},this.setClearAlpha=function(t){at=t,i(rt.r,rt.g,rt.b,at)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=z.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=z.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=z.STENCIL_BUFFER_BIT),z.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,i,n){this.setRenderTarget(t),this.clear(e,i,n)},this.resetGLState=a,this.dispose=function(){I=[],D=-1,C=[],U=-1,w.removeEventListener("webglcontextlost",o,!1)},this.renderBufferImmediate=function(t,e,i){Dt.initAttributes();var n=Vt.get(t);if(t.hasPositions&&!n.position&&(n.position=z.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=z.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=z.createBuffer()),t.hasColors&&!n.color&&(n.color=z.createBuffer()),e=e.getAttributes(),t.hasPositions&&(z.bindBuffer(z.ARRAY_BUFFER,n.position),z.bufferData(z.ARRAY_BUFFER,t.positionArray,z.DYNAMIC_DRAW),Dt.enableAttribute(e.position),z.vertexAttribPointer(e.position,3,z.FLOAT,!1,0,0)),t.hasNormals){if(z.bindBuffer(z.ARRAY_BUFFER,n.normal),!i.isMeshPhongMaterial&&!i.isMeshStandardMaterial&&1===i.shading)for(var r=0,a=3*t.count;r<a;r+=9){var o=t.normalArray,s=(o[r+0]+o[r+3]+o[r+6])/3,h=(o[r+1]+o[r+4]+o[r+7])/3,c=(o[r+2]+o[r+5]+o[r+8])/3;o[r+0]=s,o[r+1]=h,o[r+2]=c,o[r+3]=s,o[r+4]=h,o[r+5]=c,o[r+6]=s,o[r+7]=h,o[r+8]=c}z.bufferData(z.ARRAY_BUFFER,t.normalArray,z.DYNAMIC_DRAW),Dt.enableAttribute(e.normal),z.vertexAttribPointer(e.normal,3,z.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(z.bindBuffer(z.ARRAY_BUFFER,n.uv),z.bufferData(z.ARRAY_BUFFER,t.uvArray,z.DYNAMIC_DRAW),Dt.enableAttribute(e.uv),z.vertexAttribPointer(e.uv,2,z.FLOAT,!1,0,0)),t.hasColors&&0!==i.vertexColors&&(z.bindBuffer(z.ARRAY_BUFFER,n.color),z.bufferData(z.ARRAY_BUFFER,t.colorArray,z.DYNAMIC_DRAW),Dt.enableAttribute(e.color),z.vertexAttribPointer(e.color,3,z.FLOAT,!1,0,0)),Dt.disableUnusedAttributes(),z.drawArrays(z.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,n,r,a){y(n);var o=x(t,e,n,r),s=!1;if((t=i.id+"_"+o.id+"_"+n.wireframe)!==J&&(J=t,s=!0),void 0!==(e=r.morphTargetInfluences)){var h=[];t=0;for(var c=e.length;t<c;t++)s=e[t],h.push([s,t]);h.sort(u),8<h.length&&(h.length=8);var l=i.morphAttributes;for(t=0,c=h.length;t<c;t++)s=h[t],N[t]=s[0],0!==s[0]?(e=s[1],!0===n.morphTargets&&l.position&&i.addAttribute("morphTarget"+t,l.position[e]),!0===n.morphNormals&&l.normal&&i.addAttribute("morphNormal"+t,l.normal[e])):(!0===n.morphTargets&&i.removeAttribute("morphTarget"+t),!0===n.morphNormals&&i.removeAttribute("morphNormal"+t));for(t=h.length,e=N.length;t<e;t++)N[t]=0;o.getUniforms().setValue(z,"morphTargetInfluences",N),s=!0}if(e=i.index,c=i.attributes.position,h=1,!0===n.wireframe&&(e=jt.getWireframeAttribute(i),h=2),null!==e?(t=qt).setIndex(e):t=Yt,s){var p;s=void 0;if(i&&i.isInstancedBufferGeometry&&null===(p=Ct.get("ANGLE_instanced_arrays")))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===s&&(s=0),Dt.initAttributes();l=i.attributes,o=o.getAttributes();var d,f=n.defaultAttributeValues;for(d in o){var m=o[d];if(0<=m)if(void 0!==(E=l[d])){var g=z.FLOAT,v=E.array,_=E.normalized;v instanceof Float32Array?g=z.FLOAT:v instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):v instanceof Uint16Array?g=z.UNSIGNED_SHORT:v instanceof Int16Array?g=z.SHORT:v instanceof Uint32Array?g=z.UNSIGNED_INT:v instanceof Int32Array?g=z.INT:v instanceof Int8Array?g=z.BYTE:v instanceof Uint8Array&&(g=z.UNSIGNED_BYTE);v=E.itemSize;var b=jt.getAttributeBuffer(E);if(E&&E.isInterleavedBufferAttribute){var w=E.data,M=w.stride,E=E.offset;w&&w.isInstancedInterleavedBuffer?(Dt.enableAttributeAndDivisor(m,w.meshPerAttribute,p),void 0===i.maxInstancedCount&&(i.maxInstancedCount=w.meshPerAttribute*w.count)):Dt.enableAttribute(m),z.bindBuffer(z.ARRAY_BUFFER,b),z.vertexAttribPointer(m,v,g,_,M*w.array.BYTES_PER_ELEMENT,(s*M+E)*w.array.BYTES_PER_ELEMENT)}else E&&E.isInstancedBufferAttribute?(Dt.enableAttributeAndDivisor(m,E.meshPerAttribute,p),void 0===i.maxInstancedCount&&(i.maxInstancedCount=E.meshPerAttribute*E.count)):Dt.enableAttribute(m),z.bindBuffer(z.ARRAY_BUFFER,b),z.vertexAttribPointer(m,v,g,_,0,s*v*E.array.BYTES_PER_ELEMENT)}else if(void 0!==f&&void 0!==(g=f[d]))switch(g.length){case 2:z.vertexAttrib2fv(m,g);break;case 3:z.vertexAttrib3fv(m,g);break;case 4:z.vertexAttrib4fv(m,g);break;default:z.vertexAttrib1fv(m,g)}}Dt.disableUnusedAttributes()}null!==e&&z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,jt.getAttributeBuffer(e))}if(p=0,null!==e?p=e.count:void 0!==c&&(p=c.count),e=i.drawRange.start*h,c=null!==a?a.start*h:0,d=Math.max(e,c),0!==(a=Math.max(0,Math.min(p,e+i.drawRange.count*h,c+(null!==a?a.count*h:1/0))-1-d+1))){if(r.isMesh)if(!0===n.wireframe)Dt.setLineWidth(n.wireframeLinewidth*(null===X?ct:1)),t.setMode(z.LINES);else switch(r.drawMode){case 0:t.setMode(z.TRIANGLES);break;case 1:t.setMode(z.TRIANGLE_STRIP);break;case 2:t.setMode(z.TRIANGLE_FAN)}else r.isLine?(void 0===(n=n.linewidth)&&(n=1),Dt.setLineWidth(n*(null===X?ct:1)),r.isLineSegments?t.setMode(z.LINES):t.setMode(z.LINE_STRIP)):r.isPoints&&t.setMode(z.POINTS);i&&i.isInstancedBufferGeometry?0<i.maxInstancedCount&&t.renderInstances(i,d,a):t.render(d,a)}},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var a=t.fog;J="",Z=-1,$=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),At.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),vt.setFromMatrix(At),P.length=0,D=U=-1,F.length=0,O.length=0,St=this.localClippingEnabled,Et=Mt.init(this.clippingPlanes,St,e),g(t,e),C.length=U+1,I.length=D+1,!0===H.sortObjects&&(C.sort(p),I.sort(d)),Et&&Mt.beginShadows();for(var o=0,s=0,h=(x=P).length;s<h;s++){var l=x[s];l.castShadow&&(Rt.shadows[o++]=l)}Rt.shadows.length=o,$t.render(t,e);var u,f,m,y,x=P,_=l=0,b=0,w=e.matrixWorldInverse,M=0,E=0,S=0,T=0;for(o=0,s=x.length;o<s;o++)if(u=(h=x[o]).color,f=h.intensity,m=h.distance,y=h.shadow&&h.shadow.map?h.shadow.map.texture:null,h.isAmbientLight)l+=u.r*f,_+=u.g*f,b+=u.b*f;else if(h.isDirectionalLight){var A=Xt.get(h);A.color.copy(h.color).multiplyScalar(h.intensity),A.direction.setFromMatrixPosition(h.matrixWorld),Lt.setFromMatrixPosition(h.target.matrixWorld),A.direction.sub(Lt),A.direction.transformDirection(w),(A.shadow=h.castShadow)&&(A.shadowBias=h.shadow.bias,A.shadowRadius=h.shadow.radius,A.shadowMapSize=h.shadow.mapSize),Rt.directionalShadowMap[M]=y,Rt.directionalShadowMatrix[M]=h.shadow.matrix,Rt.directional[M++]=A}else h.isSpotLight?((A=Xt.get(h)).position.setFromMatrixPosition(h.matrixWorld),A.position.applyMatrix4(w),A.color.copy(u).multiplyScalar(f),A.distance=m,A.direction.setFromMatrixPosition(h.matrixWorld),Lt.setFromMatrixPosition(h.target.matrixWorld),A.direction.sub(Lt),A.direction.transformDirection(w),A.coneCos=Math.cos(h.angle),A.penumbraCos=Math.cos(h.angle*(1-h.penumbra)),A.decay=0===h.distance?0:h.decay,(A.shadow=h.castShadow)&&(A.shadowBias=h.shadow.bias,A.shadowRadius=h.shadow.radius,A.shadowMapSize=h.shadow.mapSize),Rt.spotShadowMap[S]=y,Rt.spotShadowMatrix[S]=h.shadow.matrix,Rt.spot[S++]=A):h.isPointLight?((A=Xt.get(h)).position.setFromMatrixPosition(h.matrixWorld),A.position.applyMatrix4(w),A.color.copy(h.color).multiplyScalar(h.intensity),A.distance=h.distance,A.decay=0===h.distance?0:h.decay,(A.shadow=h.castShadow)&&(A.shadowBias=h.shadow.bias,A.shadowRadius=h.shadow.radius,A.shadowMapSize=h.shadow.mapSize),Rt.pointShadowMap[E]=y,void 0===Rt.pointShadowMatrix[E]&&(Rt.pointShadowMatrix[E]=new c),Lt.setFromMatrixPosition(h.matrixWorld).negate(),Rt.pointShadowMatrix[E].identity().setPosition(Lt),Rt.point[E++]=A):h.isHemisphereLight&&((A=Xt.get(h)).direction.setFromMatrixPosition(h.matrixWorld),A.direction.transformDirection(w),A.direction.normalize(),A.skyColor.copy(h.color).multiplyScalar(f),A.groundColor.copy(h.groundColor).multiplyScalar(f),Rt.hemi[T++]=A);Rt.ambient[0]=l,Rt.ambient[1]=_,Rt.ambient[2]=b,Rt.directional.length=M,Rt.spot.length=S,Rt.point.length=E,Rt.hemi.length=T,Rt.hash=M+","+E+","+S+","+T+","+Rt.shadows.length,Et&&Mt.endShadows(),Pt.calls=0,Pt.vertices=0,Pt.faces=0,Pt.points=0,void 0===n&&(n=null),this.setRenderTarget(n),null===(x=t.background)?i(rt.r,rt.g,rt.b,at):x&&x.isColor&&(i(x.r,x.g,x.b,1),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),x&&x.isCubeTexture?(Jt.projectionMatrix.copy(e.projectionMatrix),Jt.matrixWorld.extractRotation(e.matrixWorld),Jt.matrixWorldInverse.getInverse(Jt.matrixWorld),Kt.material.uniforms.tCube.value=x,Kt.modelViewMatrix.multiplyMatrices(Jt.matrixWorldInverse,Kt.matrixWorld),jt.update(Kt),H.renderBufferDirect(Jt,null,Kt.geometry,Kt.material,Kt,null)):x&&x.isTexture&&(Qt.material.map=x,jt.update(Qt),H.renderBufferDirect(Zt,null,Qt.geometry,Qt.material,Qt,null)),t.overrideMaterial?(r=t.overrideMaterial,v(C,e,a,r),v(I,e,a,r)):(Dt.setBlending(0),v(C,e,a),v(I,e,a)),te.render(t,e),ee.render(t,e,it),n&&kt.updateRenderTargetMipmap(n),Dt.setDepthTest(!0),Dt.setDepthWrite(!0),Dt.setColorWrite(!0)}},this.setFaceCulling=function(t,e){Dt.setCullFace(t),Dt.setFlipSided(0===e)},this.allocTextureUnit=function(){var t=nt;return t>=Ut.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+Ut.maxTextures),nt+=1,t},this.setTexture2D=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),kt.setTexture2D(e,i)}}(),this.setTexture=function(){var t=!1;return function(e,i){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),kt.setTexture2D(e,i)}}(),this.setTextureCube=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?kt.setTextureCube(e,i):kt.setTextureCubeDynamic(e,i)}}(),this.getCurrentRenderTarget=function(){return X},this.setRenderTarget=function(t){(X=t)&&void 0===Vt.get(t).__webglFramebuffer&&kt.setupRenderTarget(t);var e,i=t&&t.isWebGLRenderTargetCube;t?(e=Vt.get(t),e=i?e.__webglFramebuffer[t.activeCubeFace]:e.__webglFramebuffer,tt.copy(t.scissor),et=t.scissorTest,it.copy(t.viewport)):(e=null,tt.copy(lt).multiplyScalar(ct),et=ut,it.copy(pt).multiplyScalar(ct)),Y!==e&&(z.bindFramebuffer(z.FRAMEBUFFER,e),Y=e),Dt.scissor(tt),Dt.setScissorTest(et),Dt.viewport(it),i&&(i=Vt.get(t.texture),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel))},this.readRenderTargetPixels=function(t,e,i,n,r,a){if(!1===(t&&t.isWebGLRenderTarget))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var o=Vt.get(t).__webglFramebuffer;if(o){var s=!1;o!==Y&&(z.bindFramebuffer(z.FRAMEBUFFER,o),s=!0);try{var h=t.texture,c=h.format,l=h.type;1023!==c&&b(c)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===l||b(l)===z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)||1015===l&&(Ct.get("OES_texture_float")||Ct.get("WEBGL_color_buffer_float"))||1016===l&&Ct.get("EXT_color_buffer_half_float")?z.checkFramebufferStatus(z.FRAMEBUFFER)===z.FRAMEBUFFER_COMPLETE?0<=e&&e<=t.width-n&&0<=i&&i<=t.height-r&&z.readPixels(e,i,n,r,b(c),b(l),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{s&&z.bindFramebuffer(z.FRAMEBUFFER,Y)}}}}}function kt(t,e){this.name="",this.color=new G(t),this.density=void 0!==e?e:25e-5}function jt(t,e,i){this.name="",this.color=new G(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Wt(){it.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.background=null,this.autoUpdate=!0}function Xt(t,e,i,n,r){it.call(this),this.lensFlares=[],this.positionScreen=new h,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,i,n,r)}function Yt(t){j.call(this),this.type="SpriteMaterial",this.color=new G(16777215),this.map=null,this.rotation=0,this.lights=this.fog=!1,this.setValues(t)}function qt(t){it.call(this),this.type="Sprite",this.material=void 0!==t?t:new Yt}function Zt(){it.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Jt(t,e,i,r,a,o,s,h,c,l,u,p){n.call(this,null,o,s,h,c,l,r,a,u,p),this.image={data:t,width:e,height:i},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==l?l:1003,this.generateMipmaps=this.flipY=!1}function Qt(e,i,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new c,e=e||[],this.bones=e.slice(0),this.useVertexTexture?(e=Math.sqrt(4*this.bones.length),e=t.Math.nextPowerOfTwo(Math.ceil(e)),this.boneTextureHeight=this.boneTextureWidth=e=Math.max(e,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Jt(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,1023,1015)):this.boneMatrices=new Float32Array(16*this.bones.length),void 0===i)this.calculateInverses();else if(this.bones.length===i.length)this.boneInverses=i.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],i=0,e=this.bones.length;i<e;i++)this.boneInverses.push(new c)}function Kt(t){it.call(this),this.type="Bone",this.skin=t}function $t(t,e,i){if(ft.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new c,this.bindMatrixInverse=new c,t=[],this.geometry&&void 0!==this.geometry.bones){for(var n,r=0,a=this.geometry.bones.length;r<a;++r)n=this.geometry.bones[r],e=new Kt(this),t.push(e),e.name=n.name,e.position.fromArray(n.pos),e.quaternion.fromArray(n.rotq),void 0!==n.scl&&e.scale.fromArray(n.scl);for(r=0,a=this.geometry.bones.length;r<a;++r)-1!==(n=this.geometry.bones[r]).parent&&null!==n.parent&&void 0!==t[n.parent]?t[n.parent].add(t[r]):this.add(t[r])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new Qt(t,void 0,i),this.matrixWorld)}function te(t){j.call(this),this.type="LineBasicMaterial",this.color=new G(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.lights=!1,this.setValues(t)}function ee(t,e,i){if(1===i)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new ie(t,e);it.call(this),this.type="Line",this.geometry=void 0!==t?t:new dt,this.material=void 0!==e?e:new te({color:16777215*Math.random()})}function ie(t,e){ee.call(this,t,e),this.type="LineSegments"}function ne(t){j.call(this),this.type="PointsMaterial",this.color=new G(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function re(t,e){it.call(this),this.type="Points",this.geometry=void 0!==t?t:new dt,this.material=void 0!==e?e:new ne({color:16777215*Math.random()})}function ae(){it.call(this),this.type="Group"}function oe(t,e,i,r,a,o,s,h,c){n.call(this,t,e,i,r,a,o,s,h,c),this.generateMipmaps=!1;var l=this;!function e(){requestAnimationFrame(e),t.readyState>=t.HAVE_CURRENT_DATA&&(l.needsUpdate=!0)}()}function se(t,e,i,r,a,o,s,h,c,l,u,p){n.call(this,null,o,s,h,c,l,r,a,u,p),this.image={width:e,height:i},this.mipmaps=t,this.generateMipmaps=this.flipY=!1}function he(t,e,i,r,a,o,s,h,c){n.call(this,t,e,i,r,a,o,s,h,c),this.needsUpdate=!0}function ce(t,e,i,r,a,o,s,h,c,l){if(1026!==(l=void 0!==l?l:1026)&&1027!==l)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n.call(this,null,r,a,o,s,h,l,i,c),this.image={width:t,height:e},this.type=void 0!==i?i:1012,this.magFilter=void 0!==s?s:1003,this.minFilter=void 0!==h?h:1003,this.generateMipmaps=this.flipY=!1}function le(t){function e(t,e){return t-e}dt.call(this);var i=[0,0],n={},r=["a","b","c"];if(t&&t.isGeometry){var a=t.vertices,o=t.faces,s=0,h=new Uint32Array(6*o.length);t=0;for(var c=o.length;t<c;t++)for(var l=o[t],u=0;3>u;u++){i[0]=l[r[u]],i[1]=l[r[(u+1)%3]],i.sort(e);var p=i.toString();void 0===n[p]&&(h[2*s]=i[0],h[2*s+1]=i[1],n[p]=!0,s++)}for(i=new Float32Array(6*s),t=0,c=s;t<c;t++)for(u=0;2>u;u++)n=a[h[2*t+u]],i[(s=6*t+3*u)+0]=n.x,i[s+1]=n.y,i[s+2]=n.z;this.addAttribute("position",new st(i,3))}else if(t&&t.isBufferGeometry){if(null!==t.index){for(c=t.index.array,a=t.attributes.position,s=0,0===(r=t.groups).length&&t.addGroup(0,c.length),h=new Uint32Array(2*c.length),o=0,l=r.length;o<l;++o){u=(t=r[o]).start,p=t.count,t=u;for(var d=u+p;t<d;t+=3)for(u=0;3>u;u++)i[0]=c[t+u],i[1]=c[t+(u+1)%3],i.sort(e),void 0===n[p=i.toString()]&&(h[2*s]=i[0],h[2*s+1]=i[1],n[p]=!0,s++)}for(i=new Float32Array(6*s),t=0,c=s;t<c;t++)for(u=0;2>u;u++)s=6*t+3*u,n=h[2*t+u],i[s+0]=a.getX(n),i[s+1]=a.getY(n),i[s+2]=a.getZ(n)}else for(h=(s=(a=t.attributes.position.array).length/3)/3,i=new Float32Array(6*s),t=0,c=h;t<c;t++)for(u=0;3>u;u++)h=9*t+3*u,i[(s=18*t+6*u)+0]=a[h],i[s+1]=a[h+1],i[s+2]=a[h+2],n=9*t+(u+1)%3*3,i[s+3]=a[n],i[s+4]=a[n+1],i[s+5]=a[n+2];this.addAttribute("position",new st(i,3))}}function ue(t,e,n){ut.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};var r,a,o,s,h,c,l,u,p=this.vertices,d=this.faces,f=this.faceVertexUvs[0],m=e+1;for(r=0;r<=n;r++)for(s=r/n,a=0;a<=e;a++)o=t(o=a/e,s),p.push(o);for(r=0;r<n;r++)for(a=0;a<e;a++)t=r*m+a,p=r*m+a+1,s=(r+1)*m+a+1,o=(r+1)*m+a,h=new i(a/e,r/n),c=new i((a+1)/e,r/n),l=new i((a+1)/e,(r+1)/n),u=new i(a/e,(r+1)/n),d.push(new at(t,p,o)),f.push([h,c,u]),d.push(new at(p,s,o)),f.push([c.clone(),l,u.clone()]);this.computeFaceNormals(),this.computeVertexNormals()}function pe(t,e,n,r){function a(t){var e=t.normalize().clone();return e.index=l.vertices.push(e)-1,e.uv=new i(Math.atan2(t.z,-t.x)/2/Math.PI+.5,1-(Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5)),e}function o(t,e,i){var n=new at(t.index,e.index,i.index,[t.clone(),e.clone(),i.clone()]);l.faces.push(n),y.copy(t).add(e).add(i).divideScalar(3),n=Math.atan2(y.z,-y.x),l.faceVertexUvs[0].push([c(t.uv,t,n),c(e.uv,e,n),c(i.uv,i,n)])}function s(t,e){for(var i=Math.pow(2,e),n=a(l.vertices[t.a]),r=a(l.vertices[t.b]),s=a(l.vertices[t.c]),h=[],c=0;c<=i;c++){h[c]=[];for(var u=a(n.clone().lerp(s,c/i)),p=a(r.clone().lerp(s,c/i)),d=i-c,f=0;f<=d;f++)h[c][f]=0===f&&c===i?u:a(u.clone().lerp(p,f/d))}for(c=0;c<i;c++)for(f=0;f<2*(i-c)-1;f++)n=Math.floor(f/2),0==f%2?o(h[c][n+1],h[c+1][n],h[c][n]):o(h[c][n+1],h[c+1][n+1],h[c+1][n])}function c(t,e,n){return 0>n&&1===t.x&&(t=new i(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new i(n/2/Math.PI+.5,t.y)),t.clone()}ut.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;for(var l=this,u=0,p=t.length;u<p;u+=3)a(new h(t[u],t[u+1],t[u+2]));t=this.vertices;var d=[],f=u=0;for(p=e.length;u<p;u+=3,f++){var m=t[e[u]],g=t[e[u+1]],v=t[e[u+2]];d[f]=new at(m.index,g.index,v.index,[m.clone(),g.clone(),v.clone()])}var y=new h;for(u=0,p=d.length;u<p;u++)s(d[u],r);for(u=0,p=this.faceVertexUvs[0].length;u<p;u++)r=(e=this.faceVertexUvs[0][u])[0].x,t=e[1].x,d=e[2].x,f=Math.min(r,t,d),.9<Math.max(r,t,d)&&.1>f&&(.2>r&&(e[0].x+=1),.2>t&&(e[1].x+=1),.2>d&&(e[2].x+=1));for(u=0,p=this.vertices.length;u<p;u++)this.vertices[u].multiplyScalar(n);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new q(new h,n)}function de(t,e){pe.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}function fe(t,e){pe.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}function me(t,e){var i=(1+Math.sqrt(5))/2;pe.call(this,[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}function ge(t,e){var i=(1+Math.sqrt(5))/2,n=1/i;pe.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}function ve(t,e,n,r,a,o){ut.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:n,radialSegments:r,closed:a,taper:o},e=e||64,n=n||1,r=r||8,a=a||!1,o=o||ve.NoTaper;var s,c,l,u,p,d,f,m,g,v,y=[],x=e+1,_=new h;for(g=(m=new ve.FrenetFrames(t,e,a)).normals,v=m.binormals,this.tangents=m.tangents,this.normals=g,this.binormals=v,m=0;m<x;m++)for(y[m]=[],l=m/(x-1),f=t.getPointAt(l),s=g[m],c=v[m],p=n*o(l),l=0;l<r;l++)u=l/r*2*Math.PI,d=-p*Math.cos(u),u=p*Math.sin(u),_.copy(f),_.x+=d*s.x+u*c.x,_.y+=d*s.y+u*c.y,_.z+=d*s.z+u*c.z,y[m][l]=this.vertices.push(new h(_.x,_.y,_.z))-1;for(m=0;m<e;m++)for(l=0;l<r;l++)o=a?(m+1)%e:m+1,x=(l+1)%r,t=y[m][l],n=y[o][l],o=y[o][x],x=y[m][x],_=new i(m/e,l/r),g=new i((m+1)/e,l/r),v=new i((m+1)/e,(l+1)/r),s=new i(m/e,(l+1)/r),this.faces.push(new at(t,n,x)),this.faceVertexUvs[0].push([_,g,s]),this.faces.push(new at(n,o,x)),this.faceVertexUvs[0].push([g.clone(),v,s.clone()]);this.computeFaceNormals(),this.computeVertexNormals()}function ye(t,e,n,r,a,o){function s(t,e,i,n,r){var a=Math.sin(t);e=i/e*t,i=Math.cos(e),r.x=n*(2+i)*.5*Math.cos(t),r.y=n*(2+i)*a*.5,r.z=n*Math.sin(e)*.5}dt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:a,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,a=a||2,o=o||3;var c,l,u=((r=Math.floor(r)||8)+1)*(n+1),p=new st(new(65535<(p=r*n*6)?Uint32Array:Uint16Array)(p),1),d=new st(new Float32Array(3*u),3),f=new st(new Float32Array(3*u),3),m=(u=new st(new Float32Array(2*u),2),0),g=0,v=new h,y=new h,x=new i,_=new h,b=new h,w=new h,M=new h,E=new h;for(c=0;c<=n;++c)for(s(l=c/n*a*Math.PI*2,a,o,t,_),s(l+.01,a,o,t,b),M.subVectors(b,_),E.addVectors(b,_),w.crossVectors(M,E),E.crossVectors(w,M),w.normalize(),E.normalize(),l=0;l<=r;++l){var S=l/r*Math.PI*2,T=-e*Math.cos(S);S=e*Math.sin(S);v.x=_.x+(T*E.x+S*w.x),v.y=_.y+(T*E.y+S*w.y),v.z=_.z+(T*E.z+S*w.z),d.setXYZ(m,v.x,v.y,v.z),y.subVectors(v,_).normalize(),f.setXYZ(m,y.x,y.y,y.z),x.x=c/n,x.y=l/r,u.setXY(m,x.x,x.y),m++}for(l=1;l<=n;l++)for(c=1;c<=r;c++)t=(r+1)*l+(c-1),e=(r+1)*l+c,a=(r+1)*(l-1)+c,p.setX(g,(r+1)*(l-1)+(c-1)),g++,p.setX(g,t),g++,p.setX(g,a),g++,p.setX(g,t),g++,p.setX(g,e),g++,p.setX(g,a),g++;this.setIndex(p),this.addAttribute("position",d),this.addAttribute("normal",f),this.addAttribute("uv",u)}function xe(t,e,i,n,r,a,o){ut.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ye(t,e,i,n,r,a)),this.mergeVertices()}function _e(t,e,i,n,r){dt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},t=t||100,e=e||40,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=(i+1)*(n+1),c=new(65535<(c=i*n*6)?Uint32Array:Uint16Array)(c),l=new Float32Array(3*s),u=new Float32Array(3*s),p=(s=new Float32Array(2*s),0),d=0,f=0,m=new h,g=new h,v=new h;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var y=o/n*r,x=a/i*Math.PI*2;g.x=(t+e*Math.cos(x))*Math.cos(y),g.y=(t+e*Math.cos(x))*Math.sin(y),g.z=e*Math.sin(x),l[p]=g.x,l[p+1]=g.y,l[p+2]=g.z,m.x=t*Math.cos(y),m.y=t*Math.sin(y),v.subVectors(g,m).normalize(),u[p]=v.x,u[p+1]=v.y,u[p+2]=v.z,s[d]=o/n,s[d+1]=a/i,p+=3,d+=2}for(a=1;a<=i;a++)for(o=1;o<=n;o++)t=(n+1)*(a-1)+o-1,e=(n+1)*(a-1)+o,r=(n+1)*a+o,c[f]=(n+1)*a+o-1,c[f+1]=t,c[f+2]=r,c[f+3]=t,c[f+4]=e,c[f+5]=r,f+=6;this.setIndex(new st(c,1)),this.addAttribute("position",new st(l,3)),this.addAttribute("normal",new st(u,3)),this.addAttribute("uv",new st(s,2))}function be(t,e,i,n,r){ut.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new _e(t,e,i,n,r))}function we(t,e){void 0!==t&&(ut.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals())}function Me(t,e){var i=(e=e||{}).font;if(!1===(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ut;i=i.generateShapes(t,e.size,e.curveSegments),e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),we.call(this,i,e),this.type="TextGeometry"}function Ee(t,e,i,n,r,a,o){dt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},t=t||50,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;for(var s=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),c=(e+1)*(i+1),l=new st(new Float32Array(3*c),3),u=new st(new Float32Array(3*c),3),p=(c=new st(new Float32Array(2*c),2),0),d=[],f=new h,m=0;m<=i;m++){for(var g=[],v=m/i,y=0;y<=e;y++){var x=y/e,_=-t*Math.cos(n+x*r)*Math.sin(a+v*o),b=t*Math.cos(a+v*o),w=t*Math.sin(n+x*r)*Math.sin(a+v*o);f.set(_,b,w).normalize(),l.setXYZ(p,_,b,w),u.setXYZ(p,f.x,f.y,f.z),c.setXY(p,x,1-v),g.push(p),p++}d.push(g)}for(n=[],m=0;m<i;m++)for(y=0;y<e;y++)r=d[m][y+1],o=d[m][y],p=d[m+1][y],f=d[m+1][y+1],(0!==m||0<a)&&n.push(r,o,f),(m!==i-1||s<Math.PI)&&n.push(o,p,f);this.setIndex(new(65535<l.count?ct:ht)(n,1)),this.addAttribute("position",l),this.addAttribute("normal",u),this.addAttribute("uv",c),this.boundingSphere=new q(new h,t)}function Se(t,e,i,n,r,a,o){ut.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Ee(t,e,i,n,r,a,o))}function Te(t,e,n,r,a,o){dt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:o},t=t||20,e=e||50,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI;var s,c,l=((n=void 0!==n?Math.max(3,n):8)+1)*((r=void 0!==r?Math.max(1,r):1)+1),u=new st(new(65535<(u=n*r*6)?Uint32Array:Uint16Array)(u),1),p=new st(new Float32Array(3*l),3),d=new st(new Float32Array(3*l),3),f=(l=new st(new Float32Array(2*l),2),0),m=0,g=t,v=(e-t)/r,y=new h,x=new i;for(t=0;t<=r;t++){for(c=0;c<=n;c++)s=a+c/n*o,y.x=g*Math.cos(s),y.y=g*Math.sin(s),p.setXYZ(f,y.x,y.y,y.z),d.setXYZ(f,0,0,1),x.x=(y.x/e+1)/2,x.y=(y.y/e+1)/2,l.setXY(f,x.x,x.y),f++;g+=v}for(t=0;t<r;t++)for(e=t*(n+1),c=0;c<n;c++)a=s=c+e,o=s+n+1,f=s+n+2,s+=1,u.setX(m,a),m++,u.setX(m,o),m++,u.setX(m,f),m++,u.setX(m,a),m++,u.setX(m,f),m++,u.setX(m,s),m++;this.setIndex(u),this.addAttribute("position",p),this.addAttribute("normal",d),this.addAttribute("uv",l)}function Ae(t,e,i,n,r,a){ut.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Te(t,e,i,n,r,a))}function Le(t,e,i,n){ut.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new gt(t,e,i,n))}function Re(e,n,r,a){dt.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:a},n=Math.floor(n)||12,r=r||0,a=a||2*Math.PI,a=t.Math.clamp(a,0,2*Math.PI);var o=(n+1)*e.length,s=new st(new(65535<(g=n*e.length*6)?Uint32Array:Uint16Array)(g),1),c=new st(new Float32Array(3*o),3),l=new st(new Float32Array(2*o),2),u=0,p=0,d=1/n,f=new h,m=new i;for(o=0;o<=n;o++){var g=r+o*d*a,v=Math.sin(g),y=Math.cos(g);for(g=0;g<=e.length-1;g++)f.x=e[g].x*v,f.y=e[g].y,f.z=e[g].x*y,c.setXYZ(u,f.x,f.y,f.z),m.x=o/n,m.y=g/(e.length-1),l.setXY(u,m.x,m.y),u++}for(o=0;o<n;o++)for(g=0;g<e.length-1;g++)u=(r=g+o*e.length)+e.length,d=r+e.length+1,f=r+1,s.setX(p,r),p++,s.setX(p,u),p++,s.setX(p,f),p++,s.setX(p,u),p++,s.setX(p,d),p++,s.setX(p,f),p++;if(this.setIndex(s),this.addAttribute("position",c),this.addAttribute("uv",l),this.computeVertexNormals(),a===2*Math.PI)for(a=this.attributes.normal.array,s=new h,c=new h,l=new h,r=n*e.length*3,g=o=0;o<e.length;o++,g+=3)s.x=a[g+0],s.y=a[g+1],s.z=a[g+2],c.x=a[r+g+0],c.y=a[r+g+1],c.z=a[r+g+2],l.addVectors(s,c).normalize(),a[g+0]=a[r+g+0]=l.x,a[g+1]=a[r+g+1]=l.y,a[g+2]=a[r+g+2]=l.z}function Pe(t,e,i,n){ut.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},this.fromBufferGeometry(new Re(t,e,i,n)),this.mergeVertices()}function Ce(t,e){ut.call(this),this.type="ShapeGeometry",!1===Array.isArray(t)&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()}function Ue(e,i){function n(t,e){return t-e}dt.call(this);var r,a=Math.cos(t.Math.DEG2RAD*(void 0!==i?i:1)),o=[0,0],s={},h=["a","b","c"];e&&e.isBufferGeometry?(r=new ut).fromBufferGeometry(e):r=e.clone(),r.mergeVertices(),r.computeFaceNormals();for(var c=r.vertices,l=0,u=(r=r.faces).length;l<u;l++)for(var p=r[l],d=0;3>d;d++){o[0]=p[h[d]],o[1]=p[h[(d+1)%3]],o.sort(n);var f=o.toString();void 0===s[f]?s[f]={vert1:o[0],vert2:o[1],face1:l,face2:void 0}:s[f].face2=l}for(f in o=[],s)(void 0===(h=s[f]).face2||r[h.face1].normal.dot(r[h.face2].normal)<=a)&&(l=c[h.vert1],o.push(l.x),o.push(l.y),o.push(l.z),l=c[h.vert2],o.push(l.x),o.push(l.y),o.push(l.z));this.addAttribute("position",new st(new Float32Array(o),3))}function Ie(t,e,n,r,a,o,s,c){function l(n){var a,o,l,p=new i,d=new h,f=0,b=!0===n?t:e,E=!0===n?1:-1;for(o=x,a=1;a<=r;a++)g.setXYZ(x,0,w*E,0),v.setXYZ(x,0,E,0),p.x=.5,p.y=.5,y.setXY(x,p.x,p.y),x++;for(l=x,a=0;a<=r;a++){var S=a/r*c+s,T=Math.cos(S);S=Math.sin(S);d.x=b*S,d.y=w*E,d.z=b*T,g.setXYZ(x,d.x,d.y,d.z),v.setXYZ(x,0,E,0),p.x=.5*T+.5,p.y=.5*S*E+.5,y.setXY(x,p.x,p.y),x++}for(a=0;a<r;a++)p=o+a,d=l+a,!0===n?(m.setX(_,d),_++,m.setX(_,d+1)):(m.setX(_,d+1),_++,m.setX(_,d)),_++,m.setX(_,p),_++,f+=3;u.addGroup(M,f,!0===n?1:2),M+=f}dt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:c};var u=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,a=Math.floor(a)||1,o=void 0!==o&&o,s=void 0!==s?s:0,c=void 0!==c?c:2*Math.PI;var p=0;!1===o&&(0<t&&p++,0<e&&p++);var d=function(){var t=(r+1)*(a+1);return!1===o&&(t+=(r+1)*p+r*p),t}(),f=function(){var t=r*a*6;return!1===o&&(t+=r*p*3),t}(),m=new st(new(65535<f?Uint32Array:Uint16Array)(f),1),g=new st(new Float32Array(3*d),3),v=new st(new Float32Array(3*d),3),y=new st(new Float32Array(2*d),2),x=0,_=0,b=[],w=n/2,M=0;!function(){var i,o,l=new h,p=new h,d=0,f=(e-t)/n;for(o=0;o<=a;o++){var E=[],S=o/a,T=S*(e-t)+t;for(i=0;i<=r;i++){var A=i/r,L=A*c+s,R=Math.sin(L);L=Math.cos(L);p.x=T*R,p.y=-S*n+w,p.z=T*L,g.setXYZ(x,p.x,p.y,p.z),l.set(R,f,L).normalize(),v.setXYZ(x,l.x,l.y,l.z),y.setXY(x,A,1-S),E.push(x),x++}b.push(E)}for(i=0;i<r;i++)for(o=0;o<a;o++)l=b[o+1][i],p=b[o+1][i+1],f=b[o][i+1],m.setX(_,b[o][i]),_++,m.setX(_,l),_++,m.setX(_,f),_++,m.setX(_,l),_++,m.setX(_,p),_++,m.setX(_,f),_++,d+=6;u.addGroup(M,d,0),M+=d}(),!1===o&&(0<t&&l(!0),0<e&&l(!1)),this.setIndex(m),this.addAttribute("position",g),this.addAttribute("normal",v),this.addAttribute("uv",y)}function De(t,e,i,n,r,a,o,s){ut.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Ie(t,e,i,n,r,a,o,s)),this.mergeVertices()}function Ne(t,e,i,n,r,a,o){De.call(this,0,t,e,i,n,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function Fe(t,e,i,n,r,a,o){Ie.call(this,0,t,e,i,n,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,thetaStart:a,thetaLength:o}}function Oe(t,e,i,n){dt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r=e+2,a=new Float32Array(3*r),o=new Float32Array(3*r);r=new Float32Array(2*r);o[2]=1,r[0]=.5,r[1]=.5;for(var s=0,c=3,l=2;s<=e;s++,c+=3,l+=2){var u=i+s/e*n;a[c]=t*Math.cos(u),a[c+1]=t*Math.sin(u),o[c+2]=1,r[l]=(a[c]/t+1)/2,r[l+1]=(a[c+1]/t+1)/2}for(i=[],c=1;c<=e;c++)i.push(c,c+1,0);this.setIndex(new st(new Uint16Array(i),1)),this.addAttribute("position",new st(a,3)),this.addAttribute("normal",new st(o,3)),this.addAttribute("uv",new st(r,2)),this.boundingSphere=new q(new h,t)}function ze(t,e,i,n){ut.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new Oe(t,e,i,n))}function Be(t,e,i,n,r,a){ut.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new mt(t,e,i,n,r,a)),this.mergeVertices()}function Ge(){W.call(this,{uniforms:t.UniformsUtils.merge([Wn.lights,{opacity:{value:1}}]),vertexShader:jn.shadow_vert,fragmentShader:jn.shadow_frag}),this.transparent=this.lights=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function He(t){W.call(this,t),this.type="RawShaderMaterial"}function Ve(e){this.uuid=t.Math.generateUUID(),this.type="MultiMaterial",this.materials=e instanceof Array?e:[],this.visible=!0}function ke(t){j.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new G(16777215),this.metalness=this.roughness=.5,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new G(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function je(t){ke.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoatRoughness=this.clearCoat=0,this.setValues(t)}function We(t){j.call(this),this.type="MeshPhongMaterial",this.color=new G(16777215),this.specular=new G(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new G(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function Xe(t){j.call(this,t),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=this.lights=this.fog=!1,this.setValues(t)}function Ye(t){j.call(this),this.type="MeshLambertMaterial",this.color=new G(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new G(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function qe(t){j.call(this),this.type="LineDashedMaterial",this.color=new G(16777215),this.scale=this.linewidth=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function Ze(t,e,i){var n=this,r=!1,a=0,o=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===r&&void 0!==n.onStart&&n.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==n.onProgress&&n.onProgress(t,a,o),a===o&&(r=!1,void 0!==n.onLoad)&&n.onLoad()},this.itemError=function(t){void 0!==n.onError&&n.onError(t)}}function Je(e){this.manager=void 0!==e?e:t.DefaultLoadingManager}function Qe(e){this.manager=void 0!==e?e:t.DefaultLoadingManager,this._parser=null}function Ke(e){this.manager=void 0!==e?e:t.DefaultLoadingManager,this._parser=null}function $e(e){this.manager=void 0!==e?e:t.DefaultLoadingManager}function ti(e){this.manager=void 0!==e?e:t.DefaultLoadingManager}function ei(e){this.manager=void 0!==e?e:t.DefaultLoadingManager}function ii(t,e){it.call(this),this.type="Light",this.color=new G(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function ni(t,e,i){ii.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(it.DefaultUp),this.updateMatrix(),this.groundColor=new G(e)}function ri(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new c}function ai(){ri.call(this,new yt(50,1,.5,500))}function oi(t,e,i,n,r,a){ii.call(this,t,e),this.type="SpotLight",this.position.copy(it.DefaultUp),this.updateMatrix(),this.target=new it,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new ai}function si(t,e,i,n){ii.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new ri(new yt(90,1,.5,500))}function hi(t){ri.call(this,new xt(-5,5,5,-5,.5,500))}function ci(t,e){ii.call(this,t,e),this.type="DirectionalLight",this.position.copy(it.DefaultUp),this.updateMatrix(),this.target=new it,this.shadow=new hi}function li(t,e){ii.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function ui(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function pi(t,e,i,n){ui.call(this,t,e,i,n),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function di(t,e,i,n){ui.call(this,t,e,i,n)}function fi(t,e,i,n){ui.call(this,t,e,i,n)}function mi(e,i,n,r){if(void 0===e)throw Error("track name is undefined");if(void 0===i||0===i.length)throw Error("no keyframes in track named "+e);this.name=e,this.times=t.AnimationUtils.convertArray(i,this.TimeBufferType),this.values=t.AnimationUtils.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function gi(t,e,i,n){mi.call(this,t,e,i,n)}function vi(t,e,i,n){ui.call(this,t,e,i,n)}function yi(t,e,i,n){mi.call(this,t,e,i,n)}function xi(t,e,i,n){mi.call(this,t,e,i,n)}function _i(t,e,i,n){mi.call(this,t,e,i,n)}function bi(t,e,i){mi.call(this,t,e,i)}function wi(t,e,i,n){mi.call(this,t,e,i,n)}function Mi(t,e,i,n){mi.apply(this,arguments)}function Ei(e,i,n){this.name=e,this.tracks=n,this.duration=void 0!==i?i:-1,this.uuid=t.Math.generateUUID(),0>this.duration&&this.resetDuration(),this.optimize()}function Si(e){this.manager=void 0!==e?e:t.DefaultLoadingManager,this.textures={}}function Ti(e){this.manager=void 0!==e?e:t.DefaultLoadingManager}function Ai(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Li(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:t.DefaultLoadingManager,this.withCredentials=!1}function Ri(e){this.manager=void 0!==e?e:t.DefaultLoadingManager,this.texturePath=""}function Pi(){}function Ci(t,e){this.v1=t,this.v2=e}function Ui(){this.curves=[],this.autoClose=!1}function Ii(t,e,i,n,r,a,o,s){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0}function Di(t){this.points=void 0===t?[]:t}function Ni(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n}function Fi(t,e,i){this.v0=t,this.v1=e,this.v2=i}function Oi(){zi.apply(this,arguments),this.holes=[]}function zi(t){Ui.call(this),this.currentPoint=new i,t&&this.fromPoints(t)}function Bi(){this.subPaths=[],this.currentPath=null}function Gi(t){this.data=t}function Hi(e){this.manager=void 0!==e?e:t.DefaultLoadingManager}function Vi(){return void 0===tr&&(tr=new(window.AudioContext||window.webkitAudioContext)),tr}function ki(e){this.manager=void 0!==e?e:t.DefaultLoadingManager}function ji(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Wi(t,e,i){it.call(this),this.type="CubeCamera";var n=new yt(90,1,t,e);n.up.set(0,-1,0),n.lookAt(new h(1,0,0)),this.add(n);var r=new yt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new h(-1,0,0)),this.add(r);var a=new yt(90,1,t,e);a.up.set(0,0,1),a.lookAt(new h(0,1,0)),this.add(a);var s=new yt(90,1,t,e);s.up.set(0,0,-1),s.lookAt(new h(0,-1,0)),this.add(s);var c=new yt(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new h(0,0,1)),this.add(c);var l=new yt(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new h(0,0,-1)),this.add(l),this.renderTarget=new o(i,i,{format:1022,magFilter:1006,minFilter:1006}),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,o=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,n,i),i.activeCubeFace=1,t.render(e,r,i),i.activeCubeFace=2,t.render(e,a,i),i.activeCubeFace=3,t.render(e,s,i),i.activeCubeFace=4,t.render(e,c,i),i.texture.generateMipmaps=o,i.activeCubeFace=5,t.render(e,l,i),t.setRenderTarget(null)}}function Xi(){it.call(this),this.type="AudioListener",this.context=Vi(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Yi(t){it.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function qi(t){Yi.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Zi(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ji(t,e,i){switch(this.binding=t,this.valueSize=i,t=Float64Array,e){case"quaternion":e=this._slerp;break;case"string":case"bool":t=Array,e=this._select;break;default:e=this._lerp}this.buffer=new t(4*i),this._mixBufferRegion=e,this.referenceCount=this.useCount=this.cumulativeWeight=0}function Qi(t,e,i){this.path=e,this.parsedPath=i||Qi.parseTrackName(e),this.node=Qi.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Ki(e){this.uuid=t.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var i={};this._indicesByUUID=i;for(var n=0,r=arguments.length;n!==r;++n)i[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}function $i(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null,e=(t=e.tracks).length,i=Array(e);for(var n={endingStart:2400,endingEnd:2400},r=0;r!==e;++r){var a=t[r].createInterpolant(null);i[r]=a,a.settings=n}this._interpolantSettings=n,this._interpolants=i,this._propertyBindings=Array(e),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function tn(t){this._root=t,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function en(t,e){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=e),this.value=t,this.dynamic=!1}function nn(){dt.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function rn(e,i,n,r){this.uuid=t.Math.generateUUID(),this.data=e,this.itemSize=i,this.offset=n,this.normalized=!0===r}function an(e,i){this.uuid=t.Math.generateUUID(),this.array=e,this.stride=i,this.count=void 0!==e?e.length/i:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function on(t,e,i){an.call(this,t,e),this.meshPerAttribute=i||1}function sn(t,e,i){st.call(this,t,e),this.meshPerAttribute=i||1}function hn(t,e,i,n){this.ray=new $(t,e),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function cn(t,e){return t.distance-e.distance}function ln(t,e,i,n){if(!1!==t.visible&&(t.raycast(e,i),!0===n)){n=0;for(var r=(t=t.children).length;n<r;n++)ln(t[n],e,i,!0)}}function un(t){this.autoStart=void 0===t||t,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function pn(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function dn(t,e){ft.call(this,t,e),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length;this.createAnimation("__default",0,i-1,i/1),this.setAnimationWeight("__default",1)}function fn(t){it.call(this),this.material=t,this.render=function(t){}}function mn(t,e,i,n){this.object=t,this.size=void 0!==e?e:1,t=void 0!==i?i:16711680,n=void 0!==n?n:1,e=0,(i=this.object.geometry)&&i.isGeometry?e=3*i.faces.length:i&&i.isBufferGeometry&&(e=i.attributes.normal.count),i=new dt,e=new lt(6*e,3),i.addAttribute("position",e),ie.call(this,i,new te({color:t,linewidth:n})),this.matrixAutoUpdate=!1,this.update()}function gn(t){it.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,t=new dt;for(var e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,n=1;32>i;i++,n++){var r=i/32*Math.PI*2,a=n/32*Math.PI*2;e.push(Math.cos(r),Math.sin(r),1,Math.cos(a),Math.sin(a),1)}t.addAttribute("position",new lt(e,3)),e=new te({fog:!1}),this.cone=new ie(t,e),this.add(this.cone),this.update()}function vn(t){this.bones=this.getBoneList(t);for(var e=new ut,i=0;i<this.bones.length;i++){var n=this.bones[i];n.parent&&n.parent.isBone&&(e.vertices.push(new h),e.vertices.push(new h),e.colors.push(new G(0,0,1)),e.colors.push(new G(0,1,0)))}e.dynamic=!0,i=new te({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0}),ie.call(this,e,i),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function yn(t,e){this.light=t,this.light.updateMatrixWorld();var i=new Ee(e,4,2),n=new ot({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),ft.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function xn(t,e){it.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new G,new G];var i=new Se(e,4,2);i.rotateX(-Math.PI/2);for(var n=0;8>n;n++)i.faces[n].color=this.colors[4>n?0:1];n=new ot({vertexColors:1,wireframe:!0}),this.lightSphere=new ft(i,n),this.add(this.lightSphere),this.update()}function _n(t,e,i,n){e=e||1,i=new G(void 0!==i?i:4473924),n=new G(void 0!==n?n:8947848);for(var r=e/2,a=2*t/e,o=[],s=[],h=0,c=0,l=-t;h<=e;h++,l+=a){o.push(-t,0,l,t,0,l),o.push(l,0,-t,l,0,t);var u=h===r?i:n;u.toArray(s,c),c+=3,u.toArray(s,c),c+=3,u.toArray(s,c),c+=3,u.toArray(s,c),c+=3}(t=new dt).addAttribute("position",new lt(o,3)),t.addAttribute("color",new lt(s,3)),o=new te({vertexColors:2}),ie.call(this,t,o)}function bn(t,e,i,n){this.object=t,this.size=void 0!==e?e:1,t=void 0!==i?i:16776960,n=void 0!==n?n:1,e=0,(i=this.object.geometry)&&i.isGeometry?e=i.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."),i=new dt,e=new lt(6*e,3),i.addAttribute("position",e),ie.call(this,i,new te({color:t,linewidth:n})),this.matrixAutoUpdate=!1,this.update()}function wn(t,e){it.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var i=new dt;i.addAttribute("position",new lt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new te({fog:!1});this.add(new ee(i,n)),(i=new dt).addAttribute("position",new lt([0,0,0,0,0,1],3)),this.add(new ee(i,n)),this.update()}function Mn(t){function e(t,e,n){i(t,n),i(e,n)}function i(t,e){n.vertices.push(new h),n.colors.push(new G(e)),void 0===a[t]&&(a[t]=[]),a[t].push(n.vertices.length-1)}var n=new ut,r=new te({color:16777215,vertexColors:1}),a={};e("n1","n2",16755200),e("n2","n4",16755200),e("n4","n3",16755200),e("n3","n1",16755200),e("f1","f2",16755200),e("f2","f4",16755200),e("f4","f3",16755200),e("f3","f1",16755200),e("n1","f1",16755200),e("n2","f2",16755200),e("n3","f3",16755200),e("n4","f4",16755200),e("p","n1",16711680),e("p","n2",16711680),e("p","n3",16711680),e("p","n4",16711680),e("u1","u2",43775),e("u2","u3",43775),e("u3","u1",43775),e("c","t",16777215),e("p","c",3355443),e("cn1","cn2",3355443),e("cn3","cn4",3355443),e("cf1","cf2",3355443),e("cf3","cf4",3355443),ie.call(this,n,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function En(t,e){var i=void 0!==e?e:8947848;this.object=t,this.box=new Y,ft.call(this,new Be(1,1,1),new ot({color:i,wireframe:!0}))}function Sn(t,e){void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new dt;r.setIndex(new st(i,1)),r.addAttribute("position",new st(n,3)),ie.call(this,r,new te({color:e})),void 0!==t&&this.update(t)}function Tn(t,e,i,n,r,a){it.call(this),void 0===n&&(n=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),this.position.copy(e),this.line=new ee(ir,new te({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ft(nr,new ot({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}function An(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);(t=new dt).addAttribute("position",new st(e,3)),t.addAttribute("color",new st(i,3)),e=new te({vertexColors:2}),ie.call(this,t,e)}function Ln(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),t.CatmullRomCurve3.call(this,e),this.type="catmullrom",this.closed=!0}function Rn(t,e,i,n,r,a){Ii.call(this,t,e,i,i,n,r,a)}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return 0>t?-1:0<t?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var n=i.indexOf(e);-1!==n&&i.splice(n,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var i,n=[],r=e.length;for(i=0;i<r;i++)n[i]=e[i];for(i=0;i<r;i++)n[i].call(this,t)}}}});var Pn,Cn,Un,In,Dn={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},Nn={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Fn={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},On={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};t.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:(Cn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Un=Array(36),In=0,function(){for(var t=0;36>t;t++)8===t||13===t||18===t||23===t?Un[t]="-":14===t?Un[t]="4":(2>=In&&(In=33554432+16777216*Math.random()|0),Pn=15&In,In>>=4,Un[t]=Cn[19===t?3&Pn|8:Pn]);return Un.join("")}),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(e){return e*t.Math.DEG2RAD},radToDeg:function(e){return e*t.Math.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}},i.prototype={constructor:i,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):this.y=this.x=0,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return 0>t&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x;return e*e+(t=this.y-t.y)*t},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}},n.DEFAULT_IMAGE=void 0,n.DEFAULT_MAPPING=300,n.prototype={constructor:n,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var i={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=t.Math.generateUUID()),void 0===e.images[n.uuid]){var r,a=e.images,o=n.uuid,s=n.uuid;void 0!==n.toDataURL?r=n:((r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0,n.width,n.height)),r=2048<r.width||2048<r.height?r.toDataURL("image/jpeg",.6):r.toDataURL("image/png"),a[o]={uuid:s,url:r}}i.image=n.uuid}return e.textures[this.uuid]=i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300===this.mapping){if(t.multiply(this.repeat),t.add(this.offset),0>t.x||1<t.x)switch(this.wrapS){case 1e3:t.x-=Math.floor(t.x);break;case 1001:t.x=0>t.x?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(0>t.y||1<t.y)switch(this.wrapT){case 1e3:t.y-=Math.floor(t.y);break;case 1001:t.y=0>t.y?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(n.prototype,e.prototype);var zn=0;r.prototype={constructor:r,isVector4:!0,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.w=this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):this.w=this.z=this.y=this.x=0,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w;return t=t.elements,this.x=t[0]*e+t[4]*i+t[8]*n+t[12]*r,this.y=t[1]*e+t[5]*i+t[9]*n+t[13]*r,this.z=t[2]*e+t[6]*i+t[10]*n+t[14]*r,this.w=t[3]*e+t[7]*i+t[11]*n+t[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return 1e-4>e?(this.x=1,this.z=this.y=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r=(t=t.elements)[0];n=t[4];var a=t[8],o=t[1],s=t[5],h=t[9];i=t[2],e=t[6];var c=t[10];return.01>Math.abs(n-o)&&.01>Math.abs(a-i)&&.01>Math.abs(h-e)?.1>Math.abs(n+o)&&.1>Math.abs(a+i)&&.1>Math.abs(h+e)&&.1>Math.abs(r+s+c-3)?(this.set(1,0,0,0),this):(t=Math.PI,c=(c+1)/2,n=(n+o)/4,a=(a+i)/4,h=(h+e)/4,(r=(r+1)/2)>(s=(s+1)/2)&&r>c?.01>r?(e=0,n=i=.707106781):(i=n/(e=Math.sqrt(r)),n=a/e):s>c?.01>s?(e=.707106781,i=0,n=.707106781):(e=n/(i=Math.sqrt(s)),n=h/i):.01>c?(i=e=.707106781,n=0):(e=a/(n=Math.sqrt(c)),i=h/n),this.set(e,i,n,t),this):(t=Math.sqrt((e-h)*(e-h)+(a-i)*(a-i)+(o-n)*(o-n)),.001>Math.abs(t)&&(t=1),this.x=(e-h)/t,this.y=(a-i)/t,this.z=(o-n)/t,this.w=Math.acos((r+s+c-1)/2),this)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new r,e=new r),t.set(i,i,i,i),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},Object.assign(a.prototype,e.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.prototype.isWebGLRenderTargetCube=!0,s.prototype={constructor:s,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(t._x/2),n=Math.cos(t._y/2),r=Math.cos(t._z/2),a=Math.sin(t._x/2),o=Math.sin(t._y/2),s=Math.sin(t._z/2),h=t.order;return"XYZ"===h?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):"YXZ"===h?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):"ZXY"===h?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):"ZYX"===h?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):"YZX"===h?(this._x=a*n*r+i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r-a*o*s):"XZY"===h&&(this._x=a*n*r-i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r+a*o*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e=(i=t.elements)[0];t=i[4];var i,n=i[8],r=i[1],a=i[5],o=i[9],s=i[2],h=i[6],c=e+a+(i=i[10]);return 0<c?(e=.5/Math.sqrt(c+1),this._w=.25/e,this._x=(h-o)*e,this._y=(n-s)*e,this._z=(r-t)*e):e>a&&e>i?(e=2*Math.sqrt(1+e-a-i),this._w=(h-o)/e,this._x=.25*e,this._y=(t+r)/e,this._z=(n+s)/e):a>i?(e=2*Math.sqrt(1+a-e-i),this._w=(n-s)/e,this._x=(t+r)/e,this._y=.25*e,this._z=(o+h)/e):(e=2*Math.sqrt(1+i-e-a),this._w=(r-t)/e,this._x=(n+s)/e,this._y=(o+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(i,n){return void 0===t&&(t=new h),1e-6>(e=i.dot(n)+1)?(e=0,Math.abs(i.x)>Math.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,n),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._z=this._y=this._x=0,this._w=1):(t=1/t,this._x*=t,this._y*=t,this._z*=t,this._w*=t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,s=e._y,h=e._z,c=e._w;return this._x=i*c+a*o+n*h-r*s,this._y=n*c+a*s+r*o-i*h,this._z=r*c+a*h+i*s-n*o,this._w=a*c-i*o-n*s-r*h,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,a=this._w;if(0>(h=a*t._w+i*t._x+n*t._y+r*t._z)?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),1<=h)return this._w=a,this._x=i,this._y=n,this._z=r,this;var o=Math.sqrt(1-h*h);if(.001>Math.abs(o))return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var s=Math.atan2(o,h),h=Math.sin((1-e)*s)/o;o=Math.sin(e*s)/o;return this._w=a*h+this._w*o,this._x=i*h+this._x*o,this._y=n*h+this._y*o,this._z=r*h+this._z*o,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(s,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,a,o){var s=i[n+0],h=i[n+1],c=i[n+2];i=i[n+3],n=r[a+0];var l=r[a+1],u=r[a+2];if(i!==(r=r[a+3])||s!==n||h!==l||c!==u){a=1-o;var p=s*n+h*l+c*u+i*r,d=0<=p?1:-1,f=1-p*p;f>Number.EPSILON&&(f=Math.sqrt(f),p=Math.atan2(f,p*d),a=Math.sin(a*p)/f,o=Math.sin(o*p)/f),s=s*a+n*(d*=o),h=h*a+l*d,c=c*a+u*d,i=i*a+r*d,a===1-o&&(s*=o=1/Math.sqrt(s*s+h*h+c*c+i*i),h*=o,c*=o,i*=o)}t[e]=s,t[e+1]=h,t[e+2]=c,t[e+3]=i}}),h.prototype={constructor:h,isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):this.z=this.y=this.x=0,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return!1===(e&&e.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new s),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,i){return void 0===t&&(t=new s),this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z;return t=t.elements,this.x=t[0]*e+t[3]*i+t[6]*n,this.y=t[1]*e+t[4]*i+t[7]*n,this.z=t[2]*e+t[5]*i+t[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z;return t=t.elements,this.x=t[0]*e+t[4]*i+t[8]*n+t[12],this.y=t[1]*e+t[5]*i+t[9]*n+t[13],this.z=t[2]*e+t[6]*i+t[10]*n+t[14],this},applyProjection:function(t){var e=this.x,i=this.y,n=this.z,r=1/((t=t.elements)[3]*e+t[7]*i+t[11]*n+t[15]);return this.x=(t[0]*e+t[4]*i+t[8]*n+t[12])*r,this.y=(t[1]*e+t[5]*i+t[9]*n+t[13])*r,this.z=(t[2]*e+t[6]*i+t[10]*n+t[14])*r,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,s=(t=t.w)*e+a*n-o*i,h=t*i+o*e-r*n,c=t*n+r*i-a*e;e=-r*e-a*i-o*n;return this.x=s*t+e*-r+h*-o-c*-a,this.y=h*t+e*-a+c*-r-s*-o,this.z=c*t+e*-o+s*-a-h*-r,this},project:function(){var t;return function(e){return void 0===t&&(t=new c),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new c),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,i=this.y,n=this.z;return t=t.elements,this.x=t[0]*e+t[4]*i+t[8]*n,this.y=t[1]*e+t[5]*i+t[9]*n,this.z=t[2]*e+t[6]*i+t[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new h,e=new h),t.set(i,i,i),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var i=this.x,n=this.y,r=this.z;return this.x=n*t.z-r*t.y,this.y=r*t.x-i*t.z,this.z=i*t.y-n*t.x,this},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new h),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new h),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(e){return e=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq()),Math.acos(t.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i+(t=this.z-t.z)*t},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length();return t=this.setFromMatrixColumn(t,2).length(),this.x=e,this.y=i,this.z=t,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var i=t;t=e,e=i}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,i){return void 0===i&&(i=0),e=e*t.itemSize+i,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},c.prototype={constructor:c,isMatrix4:!0,set:function(t,e,i,n,r,a,o,s,h,c,l,u,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=n,g[1]=r,g[5]=a,g[9]=o,g[13]=s,g[2]=h,g[6]=c,g[10]=l,g[14]=u,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new c).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements;return t=t.elements,e[12]=t[12],e[13]=t[13],e[14]=t[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new h);var i=this.elements,n=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length();return e=1/t.setFromMatrixColumn(e,2).length(),i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[4]=n[4]*a,i[5]=n[5]*a,i[6]=n[6]*a,i[8]=n[8]*e,i[9]=n[9]*e,i[10]=n[10]*e,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=(i=Math.sin(i),Math.cos(n)),s=(n=Math.sin(n),Math.cos(r));r=Math.sin(r);if("XYZ"===t.order){t=a*s;var h=a*r,c=i*s,l=i*r;e[0]=o*s,e[4]=-o*r,e[8]=n,e[1]=h+c*n,e[5]=t-l*n,e[9]=-i*o,e[2]=l-t*n,e[6]=c+h*n,e[10]=a*o}else"YXZ"===t.order?(t=o*s,h=o*r,c=n*s,l=n*r,e[0]=t+l*i,e[4]=c*i-h,e[8]=a*n,e[1]=a*r,e[5]=a*s,e[9]=-i,e[2]=h*i-c,e[6]=l+t*i,e[10]=a*o):"ZXY"===t.order?(t=o*s,h=o*r,c=n*s,l=n*r,e[0]=t-l*i,e[4]=-a*r,e[8]=c+h*i,e[1]=h+c*i,e[5]=a*s,e[9]=l-t*i,e[2]=-a*n,e[6]=i,e[10]=a*o):"ZYX"===t.order?(t=a*s,h=a*r,c=i*s,l=i*r,e[0]=o*s,e[4]=c*n-h,e[8]=t*n+l,e[1]=o*r,e[5]=l*n+t,e[9]=h*n-c,e[2]=-n,e[6]=i*o,e[10]=a*o):"YZX"===t.order?(t=a*o,h=a*n,c=i*o,l=i*n,e[0]=o*s,e[4]=l-t*r,e[8]=c*r+h,e[1]=r,e[5]=a*s,e[9]=-i*s,e[2]=-n*s,e[6]=h*r+c,e[10]=t-l*r):"XZY"===t.order&&(t=a*o,h=a*n,c=i*o,l=i*n,e[0]=o*s,e[4]=-r,e[8]=n*s,e[1]=t*r+l,e[5]=a*s,e[9]=h*r-c,e[2]=c*r-h,e[6]=i*s,e[10]=l*r+t);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z,a=t.w,o=r+r;t=i*(c=i+i);var s=i*(l=n+n),h=(i=i*o,n*l),c=(n=n*o,r=r*o,a*c),l=a*l;a*=o;return e[0]=1-(h+r),e[4]=s-a,e[8]=i+l,e[1]=s+a,e[5]=1-(t+r),e[9]=n-c,e[2]=i-l,e[6]=n+c,e[10]=1-(t+h),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,i;return function(n,r,a){void 0===t&&(t=new h,e=new h,i=new h);var o=this.elements;return i.subVectors(n,r).normalize(),0===i.lengthSq()&&(i.z=1),t.crossVectors(a,i).normalize(),0===t.lengthSq()&&(i.z+=1e-4,t.crossVectors(a,i).normalize()),e.crossVectors(i,t),o[0]=t.x,o[4]=e.x,o[8]=i.x,o[1]=t.y,o[5]=e.y,o[9]=i.y,o[2]=t.z,o[6]=e.z,o[10]=i.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],s=i[8],h=i[12],c=i[1],l=i[5],u=i[9],p=i[13],d=i[2],f=i[6],m=i[10],g=i[14],v=i[3],y=i[7],x=i[11],_=(i=i[15],n[0]),b=n[4],w=n[8],M=n[12],E=n[1],S=n[5],T=n[9],A=n[13],L=n[2],R=n[6],P=n[10],C=n[14],U=n[3],I=n[7],D=n[11];n=n[15];return r[0]=a*_+o*E+s*L+h*U,r[4]=a*b+o*S+s*R+h*I,r[8]=a*w+o*T+s*P+h*D,r[12]=a*M+o*A+s*C+h*n,r[1]=c*_+l*E+u*L+p*U,r[5]=c*b+l*S+u*R+p*I,r[9]=c*w+l*T+u*P+p*D,r[13]=c*M+l*A+u*C+p*n,r[2]=d*_+f*E+m*L+g*U,r[6]=d*b+f*S+m*R+g*I,r[10]=d*w+f*T+m*P+g*D,r[14]=d*M+f*A+m*C+g*n,r[3]=v*_+y*E+x*L+i*U,r[7]=v*b+y*S+x*R+i*I,r[11]=v*w+y*T+x*P+i*D,r[15]=v*M+y*A+x*C+i*n,this},multiplyToArray:function(t,e,i){var n=this.elements;return this.multiplyMatrices(t,e),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0;r<n;r+=3,i+=3)t.fromArray(e,i),t.applyMatrix4(this),t.toArray(e,i);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0;r<n;r++,i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],s=t[9],h=t[13],c=t[2],l=t[6],u=t[10],p=t[14];return t[3]*(+r*s*l-n*h*l-r*o*u+i*h*u+n*o*p-i*s*p)+t[7]*(+e*s*p-e*h*u+r*a*u-n*a*p+n*h*c-r*s*c)+t[11]*(+e*h*l-e*o*p-r*a*l+i*a*p+r*o*c-i*h*c)+t[15]*(-n*o*c-e*s*l+e*o*u+n*a*l-i*a*u+i*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new h),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i,n=this.elements,r=(i=t.elements)[0],a=i[1],o=i[2],s=i[3],h=i[4],c=i[5],l=i[6],u=i[7],p=i[8],d=i[9],f=i[10],m=i[11],g=i[12],v=i[13],y=i[14],x=d*y*u-v*f*u+v*l*m-c*y*m-d*l*(i=i[15])+c*f*i,_=g*f*u-p*y*u-g*l*m+h*y*m+p*l*i-h*f*i,b=p*v*u-g*d*u+g*c*m-h*v*m-p*c*i+h*d*i,w=g*d*l-p*v*l-g*c*f+h*v*f+p*c*y-h*d*y,M=r*x+a*_+o*b+s*w;if(0===M){if(!0===e)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity()}return M=1/M,n[0]=x*M,n[1]=(v*f*s-d*y*s-v*o*m+a*y*m+d*o*i-a*f*i)*M,n[2]=(c*y*s-v*l*s+v*o*u-a*y*u-c*o*i+a*l*i)*M,n[3]=(d*l*s-c*f*s-d*o*u+a*f*u+c*o*m-a*l*m)*M,n[4]=_*M,n[5]=(p*y*s-g*f*s+g*o*m-r*y*m-p*o*i+r*f*i)*M,n[6]=(g*l*s-h*y*s-g*o*u+r*y*u+h*o*i-r*l*i)*M,n[7]=(h*f*s-p*l*s+p*o*u-r*f*u-h*o*m+r*l*m)*M,n[8]=b*M,n[9]=(g*d*s-p*v*s-g*a*m+r*v*m+p*a*i-r*d*i)*M,n[10]=(h*v*s-g*c*s+g*a*u-r*v*u-h*a*i+r*c*i)*M,n[11]=(p*c*s-h*d*s-p*a*u+r*d*u+h*a*m-r*c*m)*M,n[12]=w*M,n[13]=(p*v*o-g*d*o+g*a*f-r*v*f-p*a*y+r*d*y)*M,n[14]=(g*c*o-h*v*o-g*a*l+r*v*l+h*a*y-r*c*y)*M,n[15]=(h*d*o-p*c*o+p*a*l-r*d*l-h*a*f+r*c*f)*M,this},scale:function(t){var e=this.elements,i=t.x,n=t.y;return t=t.z,e[0]*=i,e[4]*=n,e[8]*=t,e[1]*=i,e[5]*=n,e[9]*=t,e[2]*=i,e[6]*=n,e[10]*=t,e[3]*=i,e[7]*=n,e[11]*=t,this},getMaxScaleOnAxis:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,s=t.z,h=r*a,c=r*o;return this.set(h*a+i,h*o-n*s,h*s+n*o,0,h*o+n*s,c*o+i,c*s-n*a,0,h*s-n*o,c*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:function(){var t,e;return function(i,n,r){void 0===t&&(t=new h,e=new c);var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),l=t.set(a[8],a[9],a[10]).length();0>this.determinant()&&(o=-o),i.x=a[12],i.y=a[13],i.z=a[14],e.elements.set(this.elements),i=1/o;a=1/s;var u=1/l;return e.elements[0]*=i,e.elements[1]*=i,e.elements[2]*=i,e.elements[4]*=a,e.elements[5]*=a,e.elements[6]*=a,e.elements[8]*=u,e.elements[9]*=u,e.elements[10]*=u,n.setFromRotationMatrix(e),r.x=o,r.y=s,r.z=l,this}}(),makeFrustum:function(t,e,i,n,r,a){var o=this.elements;return o[0]=2*r/(e-t),o[4]=0,o[8]=(e+t)/(e-t),o[12]=0,o[1]=0,o[5]=2*r/(n-i),o[9]=(n+i)/(n-i),o[13]=0,o[2]=0,o[6]=0,o[10]=-(a+r)/(a-r),o[14]=-2*a*r/(a-r),o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(e,i,n,r){var a=-(e=n*Math.tan(t.Math.DEG2RAD*e*.5));return this.makeFrustum(a*i,e*i,a,e,n,r)},makeOrthographic:function(t,e,i,n,r,a){var o=this.elements,s=1/(e-t),h=1/(i-n),c=1/(a-r);return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-(e+t)*s,o[1]=0,o[5]=2*h,o[9]=0,o[13]=-(i+n)*h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-(a+r)*c,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){var e=this.elements;t=t.elements;for(var i=0;16>i;i++)if(e[i]!==t[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;16>i;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}},l.prototype=Object.create(n.prototype),l.prototype.constructor=l,l.prototype.isCubeTexture=!0,Object.defineProperty(l.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Bn=new n,Gn=new l,Hn=[],Vn=[];z.prototype.setValue=function(t,e){for(var i=this.seq,n=0,r=i.length;n!==r;++n){var a=i[n];a.setValue(t,e[a.id])}};var kn=/([\w\d_]+)(\])?(\[|\.)?/g;B.prototype.setValue=function(t,e,i){void 0!==(e=this.map[e])&&e.setValue(t,i,this.renderer)},B.prototype.set=function(t,e,i){var n=this.map[i];void 0!==n&&n.setValue(t,e[i],this.renderer)},B.prototype.setOptional=function(t,e,i){void 0!==(e=e[i])&&this.setValue(t,i,e)},B.upload=function(t,e,i,n){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,n)}},B.seqWithValue=function(t,e){for(var i=[],n=0,r=t.length;n!==r;++n){var a=t[n];a.id in e&&i.push(a)}return i},B.splitDynamic=function(t,e){for(var i=null,n=t.length,r=0,a=0;a!==n;++a){var o=t[a],s=e[o.id];s&&!0===s.dynamic?(null===i&&(i=[]),i.push(o)):(r<a&&(t[r]=o),++r)}return r<n&&(t.length=r),i},B.evalDynamic=function(t,e,i,n,r){for(var a=0,o=t.length;a!==o;++a){var s=e[t[a].id],h=s.onUpdateCallback;void 0!==h&&h.call(s,i,n,r)}},t.UniformsUtils={merge:function(t){for(var e={},i=0;i<t.length;i++){var n,r=this.clone(t[i]);for(n in r)e[n]=r[n]}return e},clone:function(t){var e,i={};for(e in t)for(var n in i[e]={},t[e]){var r=t[e][n];r&&r.isColor||r&&r.isVector2||r&&r.isVector3||r&&r.isVector4||r&&r.isMatrix3||r&&r.isMatrix4||r&&r.isTexture?i[e][n]=r.clone():Array.isArray(r)?i[e][n]=r.slice():i[e][n]=r}return i}};var jn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#include <normal_flip>\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#include <normal_flip>\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",normal_frag:"uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",normal_vert:"varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};G.prototype={constructor:G,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){this.b=this.g=this.r=t},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function e(t,e,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:.5>i?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(i,n,r){return i=t.Math.euclideanModulo(i,1),n=t.Math.clamp(n,0,1),r=t.Math.clamp(r,0,1),0===n?this.r=this.g=this.b=r:(r=2*r-(n=.5>=r?r*(1+n):r+n-r*n),this.r=e(r,n,i+1/3),this.g=e(r,n,i),this.b=e(r,n,i-1/3)),this}}(),setStyle:function(e){function i(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r=n[2];switch(n[1]){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,i(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,i(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){r=parseFloat(n[1])/360;var a=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100;return i(n[5]),this.setHSL(r,a,o)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){if(3===(r=(n=n[1]).length))return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(6===r)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return e&&0<e.length&&(void 0!==(n=t.ColorKeywords[e])?this.setHex(n):console.warn("THREE.Color: Unknown color "+e)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=0<e?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){t=t||{h:0,s:0,l:0};var e,i=this.r,n=this.g,r=this.b,a=Math.max(i,n,r),o=((h=Math.min(i,n,r))+a)/2;if(h===a)h=e=0;else{var s=a-h,h=.5>=o?s/(a+h):s/(2-a-h);switch(a){case i:e=(n-r)/s+(n<r?6:0);break;case n:e=(r-i)/s+2;break;case r:e=(i-n)/s+4}e/=6}return t.h=e,t.s=h,t.l=o,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,i){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=i,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}},t.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};var Wn={common:{diffuse:{value:new G(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new r(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new G(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}}},points:{diffuse:{value:new G(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new r(0,0,1,1)}}},Xn={basic:{uniforms:t.UniformsUtils.merge([Wn.common,Wn.aomap,Wn.fog]),vertexShader:jn.meshbasic_vert,fragmentShader:jn.meshbasic_frag},lambert:{uniforms:t.UniformsUtils.merge([Wn.common,Wn.aomap,Wn.lightmap,Wn.emissivemap,Wn.fog,Wn.lights,{emissive:{value:new G(0)}}]),vertexShader:jn.meshlambert_vert,fragmentShader:jn.meshlambert_frag},phong:{uniforms:t.UniformsUtils.merge([Wn.common,Wn.aomap,Wn.lightmap,Wn.emissivemap,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,Wn.fog,Wn.lights,{emissive:{value:new G(0)},specular:{value:new G(1118481)},shininess:{value:30}}]),vertexShader:jn.meshphong_vert,fragmentShader:jn.meshphong_frag},standard:{uniforms:t.UniformsUtils.merge([Wn.common,Wn.aomap,Wn.lightmap,Wn.emissivemap,Wn.bumpmap,Wn.normalmap,Wn.displacementmap,Wn.roughnessmap,Wn.metalnessmap,Wn.fog,Wn.lights,{emissive:{value:new G(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag},points:{uniforms:t.UniformsUtils.merge([Wn.points,Wn.fog]),vertexShader:jn.points_vert,fragmentShader:jn.points_frag},dashed:{uniforms:t.UniformsUtils.merge([Wn.common,Wn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jn.linedashed_vert,fragmentShader:jn.linedashed_frag},depth:{uniforms:t.UniformsUtils.merge([Wn.common,Wn.displacementmap]),vertexShader:jn.depth_vert,fragmentShader:jn.depth_frag},normal:{uniforms:{opacity:{value:1}},vertexShader:jn.normal_vert,fragmentShader:jn.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jn.cube_vert,fragmentShader:jn.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:jn.equirect_vert,fragmentShader:jn.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new h}},vertexShader:jn.distanceRGBA_vert,fragmentShader:jn.distanceRGBA_frag}};Xn.physical={uniforms:t.UniformsUtils.merge([Xn.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:jn.meshphysical_vert,fragmentShader:jn.meshphysical_frag},H.prototype={constructor:H,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return t=t||new i,this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t=t||new i,this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new i).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new i).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},j.prototype={constructor:j,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0===i)console.warn("THREE.Material: '"+e+"' parameter is undefined.");else{var n=this[e];void 0===n?console.warn("THREE."+this.type+": '"+e+"' is not a property of this material."):n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]="overdraw"===e?Number(i):i}}},toJSON:function(t){function e(t){var e,i=[];for(e in t){var n=t[e];delete n.metadata,i.push(n)}return i}var i=void 0===t;i&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};return n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),2!==this.shading&&(n.shading=this.shading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),1>this.opacity&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0<this.alphaTest&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),1<this.wireframeLinewidth&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),n.skinning=this.skinning,n.morphTargets=this.morphTargets,i&&(i=e(t.textures),t=e(t.images),0<i.length&&(n.textures=i),0<t.length&&(n.images=t)),n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows;var e=null;if(null!==(t=t.clippingPlanes))for(var i=t.length,n=(e=Array(i),0);n!==i;++n)e[n]=t[n].clone();return this.clippingPlanes=e,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(j.prototype,e.prototype);var Yn=0;W.prototype=Object.create(j.prototype),W.prototype.constructor=W,W.prototype.isShaderMaterial=!0,W.prototype.copy=function(e){return j.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=t.UniformsUtils.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},W.prototype.toJSON=function(t){return(t=j.prototype.toJSON.call(this,t)).uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},X.prototype=Object.create(j.prototype),X.prototype.constructor=X,X.prototype.isMeshDepthMaterial=!0,X.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Y.prototype={constructor:Y,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,h=t.length;s<h;s+=3){var c=t[s],l=t[s+1],u=t[s+2];c<e&&(e=c),l<i&&(i=l),u<n&&(n=u),c>r&&(r=c),l>a&&(a=l),u>o&&(o=u)}this.min.set(e,i,n),this.max.set(r,a,o)},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new h;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(){var t=new h;return function(e){var i=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse(function(e){if(void 0!==(n=e.geometry))if(n&&n.isGeometry)for(var n,r=0,a=(n=n.vertices).length;r<a;r++)t.copy(n[r]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t);else if(n&&n.isBufferGeometry&&void 0!==(a=n.attributes.position)){var o;for(a&&a.isInterleavedBufferAttribute?(n=a.data.array,r=a.offset,o=a.data.stride):(n=a.array,r=0,o=3),a=n.length;r<a;r+=o)t.fromArray(n,r),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t)}}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return t=t||new h,this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t=t||new h,this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new h).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new h),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,i;return 0<t.normal.x?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),0<t.normal.y?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=t.constant&&i>=t.constant},clampPoint:function(t,e){return(e||new h).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new h;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new h;return function(e){return e=e||new q,this.getCenter(e.center),e.radius=.5*this.size(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new h,new h,new h,new h,new h,new h,new h,new h];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},q.prototype={constructor:q,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Y;return function(e,i){var n=this.center;void 0!==i?n.copy(i):t.setFromPoints(e).getCenter(n);for(var r=0,a=0,o=e.length;a<o;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t),n=e||new h;return n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){return(t=t||new Y).set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius*=t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},Z.prototype={constructor:Z,isMatrix3:!0,set:function(t,e,i,n,r,a,o,s,h){var c=this.elements;return c[0]=t,c[1]=n,c[2]=o,c[3]=e,c[4]=r,c[5]=s,c[6]=i,c[7]=a,c[8]=h,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){return t=t.elements,this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},setFromMatrix4:function(t){return t=t.elements,this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0;r<n;r+=3,i+=3)t.fromArray(e,i),t.applyMatrix3(this),t.toArray(e,i);return e}}(),applyToBuffer:function(){var t;return function(e,i,n){void 0===t&&(t=new h),void 0===i&&(i=0),void 0===n&&(n=e.length/e.itemSize);for(var r=0;r<n;r++,i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t,e=(t=this.elements)[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],h=t[7];return e*a*(t=t[8])-e*o*h-i*r*t+i*o*s+n*r*h-n*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var i=t.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],h=i[4],c=i[5],l=i[6],u=i[7],p=(i=i[8])*h-c*u,d=c*l-i*s,f=u*s-h*l,m=r*p+a*d+o*f;if(0===m){if(!0===e)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity()}return m=1/m,n[0]=p*m,n[1]=(o*u-i*a)*m,n[2]=(c*a-o*h)*m,n[3]=d*m,n[4]=(i*r-o*l)*m,n[5]=(o*s-c*r)*m,n[6]=f*m,n[7]=(a*l-u*r)*m,n[8]=(h*r-a*s)*m,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;9>i;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}},J.prototype={constructor:J,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new h,e=new h;return function(i,n,r){return n=t.subVectors(r,n).cross(e.subVectors(i,n)).normalize(),this.setFromNormalAndCoplanarPoint(n,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var i=this.distanceToPoint(t);return(e||new h).copy(this.normal).multiplyScalar(i)},intersectLine:function(){var t=new h;return function(e,i){var n=i||new h,r=e.delta(t),a=this.normal.dot(r);return 0!==a?0>(a=-(e.start.dot(this.normal)+this.constant)/a)||1<a?void 0:n.copy(r).multiplyScalar(a).add(e.start):0===this.distanceToPoint(e.start)?n.copy(e.start):void 0}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start);return t=this.distanceToPoint(t.end),0>e&&0<t||0>t&&0<e},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new h).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new h,e=new Z;return function(i,n){var r=this.coplanarPoint(t).applyMatrix4(i),a=n||e.getNormalMatrix(i);a=this.normal.applyMatrix3(a).normalize();return this.constant=-r.dot(a),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},Q.prototype={constructor:Q,set:function(t,e,i,n,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;6>i;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes;t=(g=t.elements)[0];var i=g[1],n=g[2],r=g[3],a=g[4],o=g[5],s=g[6],h=g[7],c=g[8],l=g[9],u=g[10],p=g[11],d=g[12],f=g[13],m=g[14],g=g[15];return e[0].setComponents(r-t,h-a,p-c,g-d).normalize(),e[1].setComponents(r+t,h+a,p+c,g+d).normalize(),e[2].setComponents(r+i,h+o,p+l,g+f).normalize(),e[3].setComponents(r-i,h-o,p-l,g-f).normalize(),e[4].setComponents(r-n,h-s,p-u,g-m).normalize(),e[5].setComponents(r+n,h+s,p+u,g+m).normalize(),this},intersectsObject:function(){var t=new q;return function(e){var i=e.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),t.copy(i.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new q;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){var e=this.planes,i=t.center;t=-t.radius;for(var n=0;6>n;n++)if(e[n].distanceToPoint(i)<t)return!1;return!0},intersectsBox:function(){var t=new h,e=new h;return function(i){for(var n=this.planes,r=0;6>r;r++){var a=n[r];t.x=0<a.normal.x?i.min.x:i.max.x,e.x=0<a.normal.x?i.max.x:i.min.x,t.y=0<a.normal.y?i.min.y:i.max.y,e.y=0<a.normal.y?i.max.y:i.min.y,t.z=0<a.normal.z?i.min.z:i.max.z,e.z=0<a.normal.z?i.max.z:i.min.z;var o=a.distanceToPoint(t);a=a.distanceToPoint(e);if(0>o&&0>a)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,i=0;6>i;i++)if(0>e[i].distanceToPoint(t))return!1;return!0}},$.prototype={constructor:$,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new h).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new h;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var i=e||new h;i.subVectors(t,this.origin);var n=i.dot(this.direction);return 0>n?i.copy(this.origin):i.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new h;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return 0>i?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new h,e=new h,i=new h;return function(n,r,a,o){t.copy(n).add(r).multiplyScalar(.5),e.copy(r).sub(n).normalize(),i.copy(this.origin).sub(t);var s,h=.5*n.distanceTo(r),c=-this.direction.dot(e),l=i.dot(this.direction),u=-i.dot(e),p=i.lengthSq(),d=Math.abs(1-c*c);return 0<d?(r=c*l-u,s=h*d,0<=(n=c*u-l)?r>=-s?r<=s?c=(n*=h=1/d)*(n+c*(r*=h)+2*l)+r*(c*n+r+2*u)+p:(r=h,c=-(n=Math.max(0,-(c*r+l)))*n+r*(r+2*u)+p):(r=-h,c=-(n=Math.max(0,-(c*r+l)))*n+r*(r+2*u)+p):r<=-s?c=-(n=Math.max(0,-(-c*h+l)))*n+(r=0<n?-h:Math.min(Math.max(-h,-u),h))*(r+2*u)+p:r<=s?(n=0,c=(r=Math.min(Math.max(-h,-u),h))*(r+2*u)+p):c=-(n=Math.max(0,-(c*h+l)))*n+(r=0<n?h:Math.min(Math.max(-h,-u),h))*(r+2*u)+p):(r=0<c?-h:h,c=-(n=Math.max(0,-(c*r+l)))*n+r*(r+2*u)+p),a&&a.copy(this.direction).multiplyScalar(n).add(this.origin),o&&o.copy(e).multiplyScalar(r).add(t),c}}(),intersectSphere:function(){var t=new h;return function(e,i){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),r=t.dot(t)-n*n,a=e.radius*e.radius;return r>a?null:(r=n-(a=Math.sqrt(a-r)),n+=a,0>r&&0>n?null:0>r?this.at(n,i):this.at(r,i))}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);return 0===e?0===t.distanceToPoint(this.origin)?0:null:0<=(t=-(this.origin.dot(t.normal)+t.constant)/e)?t:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||0>t.normal.dot(this.direction)*e},intersectBox:function(t,e){var i,n,r,a,o;n=1/this.direction.x,a=1/this.direction.y,o=1/this.direction.z;var s=this.origin;return 0<=n?(i=(t.min.x-s.x)*n,n*=t.max.x-s.x):(i=(t.max.x-s.x)*n,n*=t.min.x-s.x),0<=a?(r=(t.min.y-s.y)*a,a*=t.max.y-s.y):(r=(t.max.y-s.y)*a,a*=t.min.y-s.y),i>a||r>n?null:((r>i||i!=i)&&(i=r),(a<n||n!=n)&&(n=a),0<=o?(r=(t.min.z-s.z)*o,o*=t.max.z-s.z):(r=(t.max.z-s.z)*o,o*=t.min.z-s.z),i>o||r>n?null:((r>i||i!=i)&&(i=r),(o<n||n!=n)&&(n=o),0>n?null:this.at(0<=i?i:n,e)))},intersectsBox:function(){var t=new h;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new h,e=new h,i=new h,n=new h;return function(r,a,o,s,h){if(e.subVectors(a,r),i.subVectors(o,r),n.crossVectors(e,i),0<(a=this.direction.dot(n))){if(s)return null;s=1}else{if(!(0>a))return null;s=-1,a=-a}return t.subVectors(this.origin,r),0>(r=s*this.direction.dot(i.crossVectors(t,i)))?null:0>(o=s*this.direction.dot(e.cross(t)))||r+o>a?null:0>(r=-s*t.dot(n))?null:this.at(r/a,h)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},tt.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),tt.DefaultOrder="XYZ",tt.prototype={constructor:tt,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,i,n){var r=t.Math.clamp;e=(p=e.elements)[0];var a=p[4],o=p[8],s=p[1],h=p[5],c=p[9],l=p[2],u=p[6],p=p[10];return"XYZ"===(i=i||this._order)?(this._y=Math.asin(r(o,-1,1)),.99999>Math.abs(o)?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-a,e)):(this._x=Math.atan2(u,h),this._z=0)):"YXZ"===i?(this._x=Math.asin(-r(c,-1,1)),.99999>Math.abs(c)?(this._y=Math.atan2(o,p),this._z=Math.atan2(s,h)):(this._y=Math.atan2(-l,e),this._z=0)):"ZXY"===i?(this._x=Math.asin(r(u,-1,1)),.99999>Math.abs(u)?(this._y=Math.atan2(-l,p),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(s,e))):"ZYX"===i?(this._y=Math.asin(-r(l,-1,1)),.99999>Math.abs(l)?(this._x=Math.atan2(u,p),this._z=Math.atan2(s,e)):(this._x=0,this._z=Math.atan2(-a,h))):"YZX"===i?(this._z=Math.asin(r(s,-1,1)),.99999>Math.abs(s)?(this._x=Math.atan2(-c,h),this._y=Math.atan2(-l,e)):(this._x=0,this._y=Math.atan2(o,p))):"XZY"===i?(this._z=Math.asin(-r(a,-1,1)),.99999>Math.abs(a)?(this._x=Math.atan2(u,h),this._y=Math.atan2(o,e)):(this._x=Math.atan2(-c,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+i),this._order=i,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,i,n){return void 0===t&&(t=new c),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new s;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new h(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},et.prototype={constructor:et,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}},it.DefaultUp=new h(0,1,0),it.DefaultMatrixAutoUpdate=!0,Object.assign(it.prototype,e.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new s;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new h(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new h(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new h(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new h;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new h(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new h(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new h(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new c;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new c;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(1<arguments.length)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);-1!==(e=this.children.indexOf(t))&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(e,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return t=t||new h,this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new h,e=new h;return function(i){return i=i||new s,this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,i,e),i}}(),getWorldRotation:function(){var t=new s;return function(e){return e=e||new tt,this.getWorldQuaternion(t),e.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new h,e=new s;return function(i){return i=i||new h,this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(){var t=new s;return function(e){return e=e||new h,this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e,i=[];for(e in t){var n=t[e];delete n.metadata,i.push(n)}return i}var i={};(a=void 0===t||""===t)&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var n={};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),n.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),n.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),n.material=this.material.uuid),0<this.children.length){n.children=[];for(var r=0;r<this.children.length;r++)n.children.push(this.children[r].toJSON(t).object)}if(a){var a=e(t.geometries),o=(r=e(t.materials),e(t.textures));t=e(t.images),0<a.length&&(i.geometries=a),0<r.length&&(i.materials=r),0<o.length&&(i.textures=o),0<t.length&&(i.images=t)}return i.object=n,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}});var qn=0;nt.prototype={constructor:nt,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new h).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new h).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var i=e||new h;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var e=new h,i=new h;return function(n,r){e.subVectors(n,this.start),i.subVectors(this.end,this.start);var a=i.dot(i);a=i.dot(e)/a;return r&&(a=t.Math.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,i){return t=this.closestPointToPointParameter(t,e),i=i||new h,this.delta(i).multiplyScalar(t).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},rt.normal=function(){var t=new h;return function(e,i,n,r){return(r=r||new h).subVectors(n,i),t.subVectors(e,i),r.cross(t),0<(e=r.lengthSq())?r.multiplyScalar(1/Math.sqrt(e)):r.set(0,0,0)}}(),rt.barycoordFromPoint=function(){var t=new h,e=new h,i=new h;return function(n,r,a,o,s){t.subVectors(o,r),e.subVectors(a,r),i.subVectors(n,r),n=t.dot(t),r=t.dot(e),a=t.dot(i);var c=e.dot(e);o=e.dot(i);var l=n*c-r*r;return s=s||new h,0===l?s.set(-2,-1,-1):(c=(c*a-r*o)*(l=1/l),n=(n*o-r*a)*l,s.set(1-c-n,n,c))}}(),rt.containsPoint=function(){var t=new h;return function(e,i,n,r){return 0<=(e=rt.barycoordFromPoint(e,i,n,r,t)).x&&0<=e.y&&1>=e.x+e.y}}(),rt.prototype={constructor:rt,set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new h,e=new h;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new h).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return rt.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new J).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return rt.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return rt.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,i,n;return function(r,a){void 0===t&&(t=new J,e=[new nt,new nt,new nt],i=new h,n=new h);var o=a||new h,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(r,i),!0===this.containsPoint(i))o.copy(i);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var c=0;c<e.length;c++){e[c].closestPointToPoint(i,!0,n);var l=i.distanceToSquared(n);l<s&&(s=l,o.copy(n))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},at.prototype={constructor:at,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},ot.prototype=Object.create(j.prototype),ot.prototype.constructor=ot,ot.prototype.isMeshBasicMaterial=!0,ot.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},st.prototype={constructor:st,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new G),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyIndicesArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];e[i++]=a.a,e[i++]=a.b,e[i++]=a.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,a=t.length;r<a;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new i),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new h),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,a=t.length;n<a;n++){var o=t[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new r),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},clone:function(){return(new this.constructor).copy(this)}},Object.assign(ut.prototype,e.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new Z).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++)this.vertices[i].applyMatrix4(t);for(i=0,n=this.faces.length;i<n;i++){(t=this.faces[i]).normal.applyMatrix3(e).normalize();for(var r=0,a=t.vertexNormals.length;r<a;r++)t.vertexNormals[r].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new c),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new c),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new it),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,i,r){r=new at(t,e,i,void 0!==s?[p[t].clone(),p[e].clone(),p[i].clone()]:[],void 0!==c?[n.colors[t].clone(),n.colors[e].clone(),n.colors[i].clone()]:[],r),n.faces.push(r),void 0!==l&&n.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[i].clone()]),void 0!==u&&n.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[i].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,a=t.attributes,o=a.position.array,s=void 0!==a.normal?a.normal.array:void 0,c=void 0!==a.color?a.color.array:void 0,l=void 0!==a.uv?a.uv.array:void 0,u=void 0!==a.uv2?a.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var p=[],d=[],f=[],m=a=0;a<o.length;a+=3,m+=2)n.vertices.push(new h(o[a],o[a+1],o[a+2])),void 0!==s&&p.push(new h(s[a],s[a+1],s[a+2])),void 0!==c&&n.colors.push(new G(c[a],c[a+1],c[a+2])),void 0!==l&&d.push(new i(l[m],l[m+1])),void 0!==u&&f.push(new i(u[m],u[m+1]));if(void 0!==r)if(0<(o=t.groups).length)for(a=0;a<o.length;a++)for(var g=o[a],v=(m=v=g.start,v+g.count);m<v;m+=3)e(r[m],r[m+1],r[m+2],g.materialIndex);else for(a=0;a<r.length;a+=3)e(r[a],r[a+1],r[a+2]);else for(a=0;a<o.length/3;a+=3)e(a,a+1,a+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=0===(e=this.boundingSphere.radius)?1:1/e,i=new c;return i.set(e,0,0,-e*t.x,0,e,0,-e*t.y,0,0,e,-e*t.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var t=new h,e=new h,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b];t.subVectors(this.vertices[r.c],o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,i,n;for(void 0===t&&(t=!0),n=Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)n[e]=new h;if(t){var r,a,o,s=new h,c=new h;for(t=0,e=this.faces.length;t<e;t++)i=this.faces[t],r=this.vertices[i.a],a=this.vertices[i.b],o=this.vertices[i.c],s.subVectors(o,a),c.subVectors(r,a),s.cross(c),n[i.a].add(s),n[i.b].add(s),n[i.c].add(s)}else for(t=0,e=this.faces.length;t<e;t++)n[(i=this.faces[t]).a].add(i.normal),n[i.b].add(i.normal),n[i.c].add(i.normal);for(e=0,i=this.vertices.length;e<i;e++)n[e].normalize();for(t=0,e=this.faces.length;t<e;t++)3===(r=(i=this.faces[t]).vertexNormals).length?(r[0].copy(n[i.a]),r[1].copy(n[i.b]),r[2].copy(n[i.c])):(r[0]=n[i.a].clone(),r[1]=n[i.b].clone(),r[2]=n[i.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for((r=this.faces[i]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new ut;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[],r=this.morphNormals[t].faceNormals;var o,s,c=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)o=new h,s={a:new h,b:new h,c:new h},r.push(o),c.push(s)}for(c=this.morphNormals[t],a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],o=c.faceNormals[i],s=c.vertexNormals[i],o.copy(r.normal),s.a.copy(r.vertexNormals[0]),s.b.copy(r.vertexNormals[1]),s.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)(r=this.faces[i]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var t=0,e=this.vertices,i=0,n=e.length;i<n;i++)0<i&&(t+=e[i].distanceTo(e[i-1])),this.lineDistances[i]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Y),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new q),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(!1===(t&&t.isGeometry))console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);else{var n,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,h=t.faces,c=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(n=(new Z).getNormalMatrix(e)),t=0;for(var d=o.length;t<d;t++){var f=o[t].clone();void 0!==e&&f.applyMatrix4(e),a.push(f)}for(t=0,d=p.length;t<d;t++)u.push(p[t].clone());for(t=0,d=h.length;t<d;t++){var m=(o=h[t]).vertexNormals;p=o.vertexColors;for((u=new at(o.a+r,o.b+r,o.c+r)).normal.copy(o.normal),void 0!==n&&u.normal.applyMatrix3(n).normalize(),e=0,a=m.length;e<a;e++)f=m[e].clone(),void 0!==n&&f.applyMatrix3(n).normalize(),u.vertexNormals.push(f);for(u.color.copy(o.color),e=0,a=p.length;e<a;e++)f=p[e],u.vertexColors.push(f.clone());u.materialIndex=o.materialIndex+i,s.push(u)}for(t=0,d=l.length;t<d;t++)if(n=[],void 0!==(i=l[t])){for(e=0,a=i.length;e<a;e++)n.push(i[e].clone());c.push(n)}}},mergeMesh:function(t){!1===(t&&t.isMesh)?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t):(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,n={},r=[],a=[],o=Math.pow(10,4);for(e=0,i=this.vertices.length;e<i;e++)t=this.vertices[e],void 0===n[t=Math.round(t.x*o)+"_"+Math.round(t.y*o)+"_"+Math.round(t.z*o)]?(n[t]=e,r.push(this.vertices[e]),a[e]=r.length-1):a[e]=a[n[t]];for(n=[],e=0,i=this.faces.length;e<i;e++)for((o=this.faces[e]).a=a[o.a],o.b=a[o.b],o.c=a[o.c],o=[o.a,o.b,o.c],t=0;3>t;t++)if(o[t]===o[(t+1)%3]){n.push(e);break}for(e=n.length-1;0<=e;e--)for(o=n[e],this.faces.splice(o,1),a=0,i=this.faceVertexUvs.length;a<i;a++)this.faceVertexUvs[a].splice(o,1);return e=this.vertices.length-r.length,this.vertices=r,e},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var n,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(n=[]),o&&o.length===e&&(r=[]),i=0;i<e;i++){var s=t[i]._id;n&&n.push(a[s]),r&&r.push(o[s])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){function t(t,e,i){return i?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]?c[e]:(c[e]=h.length/3,h.push(t.x,t.y,t.z),c[e])}function i(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]?u[e]:(u[e]=l.length,l.push(t.getHex()),u[e])}function n(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]?d[e]:(d[e]=p.length/2,p.push(t.x,t.y),d[e])}var r={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var a,o=this.parameters;for(a in o)void 0!==o[a]&&(r[a]=o[a]);return r}for(o=[],a=0;a<this.vertices.length;a++){var s=this.vertices[a];o.push(s.x,s.y,s.z)}s=[];var h=[],c={},l=[],u={},p=[],d={};for(a=0;a<this.faces.length;a++){var f=this.faces[a],m=void 0!==this.faceVertexUvs[0][a],g=0<f.normal.length(),v=0<f.vertexNormals.length,y=1!==f.color.r||1!==f.color.g||1!==f.color.b,x=0<f.vertexColors.length,_=t(_=0,0,0);_=t(_,1,!0),_=t(_,2,!1),_=t(_,3,m),_=t(_,4,g),_=t(_,5,v),_=t(_,6,y),_=t(_,7,x);s.push(_),s.push(f.a,f.b,f.c),s.push(f.materialIndex),m&&(m=this.faceVertexUvs[0][a],s.push(n(m[0]),n(m[1]),n(m[2]))),g&&s.push(e(f.normal)),v&&(g=f.vertexNormals,s.push(e(g[0]),e(g[1]),e(g[2]))),y&&s.push(i(f.color)),x&&(f=f.vertexColors,s.push(i(f[0]),i(f[1]),i(f[2])))}return r.data={},r.data.vertices=o,r.data.normals=h,0<l.length&&(r.data.colors=l),0<p.length&&(r.data.uvs=[p]),r.data.faces=s,r},clone:function(){return(new ut).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var e=t.vertices,i=0,n=e.length;i<n;i++)this.vertices.push(e[i].clone());for(i=0,n=(e=t.colors).length;i<n;i++)this.colors.push(e[i].clone());for(i=0,n=(e=t.faces).length;i<n;i++)this.faces.push(e[i].clone());for(i=0,n=t.faceVertexUvs.length;i<n;i++){e=t.faceVertexUvs[i],void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var r=0,a=e.length;r<a;r++){for(var o=e[r],s=[],h=0,c=o.length;h<c;h++)s.push(o[h].clone());this.faceVertexUvs[i].push(s)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Zn=0;Object.assign(pt.prototype,e.prototype,{computeBoundingBox:ut.prototype.computeBoundingBox,computeBoundingSphere:ut.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(t){var e,i,n=[];t=t.faces;for(var r=0;r<t.length;r++){var a=t[r];a.materialIndex!==i&&(i=a.materialIndex,void 0!==e&&(e.count=3*r-e.start,n.push(e)),e={start:3*r,materialIndex:i})}void 0!==e&&(e.count=3*r-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,a=t.faceVertexUvs,o=a[0]&&0<a[0].length,s=a[1]&&0<a[1].length,h=t.morphTargets,c=h.length;if(0<c){e=[];for(var l=0;l<c;l++)e[l]=[];this.morphTargets.position=e}var u,p=t.morphNormals,d=p.length;if(0<d){for(u=[],l=0;l<d;l++)u[l]=[];this.morphTargets.normal=u}var f=t.skinIndices,m=t.skinWeights,g=f.length===r.length,v=m.length===r.length;for(l=0;l<n.length;l++){var y=n[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var x=y.vertexNormals;for(3===x.length?this.normals.push(x[0],x[1],x[2]):(x=y.normal,this.normals.push(x,x,x)),3===(x=y.vertexColors).length?this.colors.push(x[0],x[1],x[2]):(x=y.color,this.colors.push(x,x,x)),!0===o&&(void 0!==(x=a[0][l])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i,new i,new i))),!0===s&&(void 0!==(x=a[1][l])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i,new i,new i))),x=0;x<c;x++){var _=h[x].vertices;e[x].push(_[y.a],_[y.b],_[y.c])}for(x=0;x<d;x++)_=p[x].vertexNormals[l],u[x].push(_.a,_.b,_.c);g&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.assign(dt.prototype,e.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e,i){if(!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute))console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new st(e,i));else{if("index"!==t)return this.attributes[t]=e,this;console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e)}},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;return void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0),void 0!==(e=this.attributes.normal)&&((new Z).getNormalMatrix(t).applyToVector3Array(e.array),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new c),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new c),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new c),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new it),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t&&t.isPoints||t&&t.isLine){t=new lt(3*e.vertices.length,3);var i=new lt(3*e.colors.length,3);this.addAttribute("position",t.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length&&(t=new lt(e.lineDistances.length,1),this.addAttribute("lineDistance",t.copyArray(e.lineDistances))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t&&t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t&&t.isMesh){var i=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(i=void 0,e.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(e);i.verticesNeedUpdate=e.verticesNeedUpdate,i.normalsNeedUpdate=e.normalsNeedUpdate,i.colorsNeedUpdate=e.colorsNeedUpdate,i.uvsNeedUpdate=e.uvsNeedUpdate,i.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=i}return!0===e.verticesNeedUpdate&&(void 0!==(i=this.attributes.position)&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(void 0!==(i=this.attributes.normal)&&(i.copyVector3sArray(e.normals),i.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(void 0!==(i=this.attributes.color)&&(i.copyColorsArray(e.colors),i.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(void 0!==(i=this.attributes.uv)&&(i.copyVector2sArray(e.uvs),i.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(void 0!==(i=this.attributes.lineDistance)&&(i.copyArray(e.lineDistances),i.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new pt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);for(var i in this.addAttribute("position",new st(e,3).copyVector3sArray(t.vertices)),0<t.normals.length&&(e=new Float32Array(3*t.normals.length),this.addAttribute("normal",new st(e,3).copyVector3sArray(t.normals))),0<t.colors.length&&(e=new Float32Array(3*t.colors.length),this.addAttribute("color",new st(e,3).copyColorsArray(t.colors))),0<t.uvs.length&&(e=new Float32Array(2*t.uvs.length),this.addAttribute("uv",new st(e,2).copyVector2sArray(t.uvs))),0<t.uvs2.length&&(e=new Float32Array(2*t.uvs2.length),this.addAttribute("uv2",new st(e,2).copyVector2sArray(t.uvs2))),0<t.indices.length&&(e=new(65535<t.vertices.length?Uint32Array:Uint16Array)(3*t.indices.length),this.setIndex(new st(e,1).copyIndicesArray(t.indices))),this.groups=t.groups,t.morphTargets){e=[];for(var n=t.morphTargets[i],r=0,a=n.length;r<a;r++){var o=n[r],s=new lt(3*o.length,3);e.push(s.copyVector3sArray(o))}this.morphAttributes[i]=e}return 0<t.skinIndices.length&&(i=new lt(4*t.skinIndices.length,4),this.addAttribute("skinIndex",i.copyVector4sArray(t.skinIndices))),0<t.skinWeights.length&&(i=new lt(4*t.skinWeights.length,4),this.addAttribute("skinWeight",i.copyVector4sArray(t.skinWeights))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Y);var t=this.attributes.position.array;void 0!==t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Y,e=new h;return function(){if(null===this.boundingSphere&&(this.boundingSphere=new q),i=this.attributes.position){var i=i.array,n=this.boundingSphere.center;t.setFromArray(i),t.getCenter(n);for(var r=0,a=0,o=i.length;a<o;a+=3)e.fromArray(i,a),r=Math.max(r,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,i=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new st(new Float32Array(n.length),3));else for(var r=0,a=(l=e.normal.array).length;r<a;r++)l[r]=0;var o,s,c,l=e.normal.array,u=new h,p=new h,d=new h,f=new h,m=new h;if(t){t=t.array,0===i.length&&this.addGroup(0,t.length);for(var g=0,v=i.length;g<v;++g)for(a=(r=i[g]).start,o=r.count,r=a,a+=o;r<a;r+=3)o=3*t[r+0],s=3*t[r+1],c=3*t[r+2],u.fromArray(n,o),p.fromArray(n,s),d.fromArray(n,c),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[o]+=f.x,l[o+1]+=f.y,l[o+2]+=f.z,l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z}else for(r=0,a=n.length;r<a;r+=9)u.fromArray(n,r),p.fromArray(n,r+3),d.fromArray(n,r+6),f.subVectors(d,p),m.subVectors(u,p),f.cross(m),l[r]=f.x,l[r+1]=f.y,l[r+2]=f.z,l[r+3]=f.x,l[r+4]=f.y,l[r+5]=f.z,l[r+6]=f.x,l[r+7]=f.y,l[r+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1!==(t&&t.isBufferGeometry)){void 0===e&&(e=0);var i,n=this.attributes;for(i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,a=(s=t.attributes[i]).array,o=0,s=s.itemSize*e;o<a.length;o++,s++)r[s]=a[o];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,i,n=this.attributes.normal.array,r=0,a=n.length;r<a;r+=3)t=n[r],e=n[r+1],i=n[r+2],t=1/Math.sqrt(t*t+e*e+i*i),n[r]*=t,n[r+1]*=t,n[r+2]*=t},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t,e=new dt,i=this.index.array,n=this.attributes;for(t in n){for(var r,a=(o=n[t]).array,o=o.itemSize,s=new a.constructor(i.length*o),h=0,c=0,l=i.length;c<l;c++){r=i[c]*o;for(var u=0;u<o;u++)s[h++]=a[r++]}e.addAttribute(t,new st(s,o))}return e},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e,i=this.parameters;for(e in i)void 0!==i[e]&&(t[e]=i[e]);return t}t.data={attributes:{}};var n=this.index;for(e in null!==n&&(i=Array.prototype.slice.call(n.array),t.data.index={type:n.array.constructor.name,array:i}),n=this.attributes){var r=n[e];i=Array.prototype.slice.call(r.array);t.data.attributes[e]={itemSize:r.itemSize,type:r.array.constructor.name,array:i,normalized:r.normalized}}return 0<(e=this.groups).length&&(t.data.groups=JSON.parse(JSON.stringify(e))),null!==(e=this.boundingSphere)&&(t.data.boundingSphere={center:e.center.toArray(),radius:e.radius}),t},clone:function(){return(new dt).copy(this)},copy:function(t){null!==(i=t.index)&&this.setIndex(i.clone());var e,i=t.attributes;for(e in i)this.addAttribute(e,i[e].clone());for(e=0,i=(t=t.groups).length;e<i;e++){var n=t[e];this.addGroup(n.start,n.count,n.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),dt.MaxIndex=65535,ft.prototype=Object.assign(Object.create(it.prototype),{constructor:ft,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return it.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&0<t.length){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,i=t.length;e<i;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,i,n,r,a,o){return rt.barycoordFromPoint(t,e,i,n,y),r.multiplyScalar(y.x),a.multiplyScalar(y.y),o.multiplyScalar(y.z),r.add(a).add(o),r.clone()}function e(t,e,i,n,r,a,o){var s=t.material;return null===(1===s.side?i.intersectTriangle(a,r,n,!0,o):i.intersectTriangle(n,r,a,2!==s.side,o))?null:(_.copy(o),_.applyMatrix4(t.matrixWorld),(i=e.ray.origin.distanceTo(_))<e.near||i>e.far?null:{distance:i,point:_.clone(),object:t})}function n(i,n,r,a,o,h,c,p){return s.fromArray(a,3*h),l.fromArray(a,3*c),u.fromArray(a,3*p),(i=e(i,n,r,s,l,u,x))&&(o&&(m.fromArray(o,2*h),g.fromArray(o,2*c),v.fromArray(o,2*p),i.uv=t(x,s,l,u,m,g,v)),i.face=new at(h,c,p,rt.normal(s,l,u)),i.faceIndex=h),i}var r=new c,a=new $,o=new q,s=new h,l=new h,u=new h,p=new h,d=new h,f=new h,m=new i,g=new i,v=new i,y=new h,x=new h,_=new h;return function(i,h){var c,y,_=this.geometry,b=this.material,w=this.matrixWorld;if(void 0!==b&&(null===_.boundingSphere&&_.computeBoundingSphere(),o.copy(_.boundingSphere),o.applyMatrix4(w),!1!==i.ray.intersectsSphere(o)&&(r.getInverse(w),a.copy(i.ray).applyMatrix4(r),null===_.boundingBox||!1!==a.intersectsBox(_.boundingBox))))if(_&&_.isBufferGeometry){var M,E;b=_.index,_=(w=_.attributes).position.array;if(void 0!==w.uv&&(c=w.uv.array),null!==b)for(var S=0,T=(w=b.array).length;S<T;S+=3)b=w[S],M=w[S+1],E=w[S+2],(y=n(this,i,a,_,c,b,M,E))&&(y.faceIndex=Math.floor(S/3),h.push(y));else for(S=0,T=_.length;S<T;S+=9)(y=n(this,i,a,_,c,b=S/3,M=b+1,E=b+2))&&(y.index=b,h.push(y))}else if(_&&_.isGeometry){var A,L;S=!0===(w=b&&b.isMultiMaterial)?b.materials:null,T=_.vertices;M=_.faces,0<(E=_.faceVertexUvs[0]).length&&(c=E);for(var R=0,P=M.length;R<P;R++){var C=M[R];if(void 0!==(y=!0===w?S[C.materialIndex]:b)){if(E=T[C.a],A=T[C.b],L=T[C.c],!0===y.morphTargets){y=_.morphTargets;var U=this.morphTargetInfluences;s.set(0,0,0),l.set(0,0,0),u.set(0,0,0);for(var I=0,D=y.length;I<D;I++){var N=U[I];if(0!==N){var F=y[I].vertices;s.addScaledVector(p.subVectors(F[C.a],E),N),l.addScaledVector(d.subVectors(F[C.b],A),N),u.addScaledVector(f.subVectors(F[C.c],L),N)}}s.add(E),l.add(A),u.add(L),E=s,A=l,L=u}(y=e(this,i,a,E,A,L,x))&&(c&&(U=c[R],m.copy(U[0]),g.copy(U[1]),v.copy(U[2]),y.uv=t(x,E,A,L,m,g,v)),y.face=C,y.faceIndex=R,h.push(y))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),mt.prototype=Object.create(dt.prototype),mt.prototype.constructor=mt,gt.prototype=Object.create(dt.prototype),gt.prototype.constructor=gt,vt.prototype=Object.create(it.prototype),vt.prototype.constructor=vt,vt.prototype.isCamera=!0,vt.prototype.getWorldDirection=function(){var t=new s;return function(e){return e=e||new h,this.getWorldQuaternion(t),e.set(0,0,-1).applyQuaternion(t)}}(),vt.prototype.lookAt=function(){var t=new c;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),vt.prototype.clone=function(){return(new this.constructor).copy(this)},vt.prototype.copy=function(t){return it.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},yt.prototype=Object.assign(Object.create(vt.prototype),{constructor:yt,isPerspectiveCamera:!0,copy:function(t){return vt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*t.Math.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*t.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*t.Math.RAD2DEG*Math.atan(Math.tan(.5*t.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,a){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,i=2*(s=e*Math.tan(.5*t.Math.DEG2RAD*this.fov)/this.zoom),n=-.5*(h=this.aspect*i),r=this.view;if(null!==r){var a=r.fullWidth,o=r.fullHeight,s=(n=n+r.offsetX*h/a,s-r.offsetY*i/o),h=r.width/a*h;i=r.height/o*i}0!==(r=this.filmOffset)&&(n+=e*r/this.getFilmWidth()),this.projectionMatrix.makeFrustum(n,n+h,s-i,s,e,this.far)},toJSON:function(t){return(t=it.prototype.toJSON.call(this,t)).object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),xt.prototype=Object.assign(Object.create(vt.prototype),{constructor:xt,isOrthographicCamera:!0,copy:function(t){return vt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,a){this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(n=(this.right+this.left)/2)-t,n=n+t;t=(a=(this.top+this.bottom)/2)+e,e=a-e;if(null!==this.view){n=this.zoom/(this.view.width/this.view.fullWidth),e=this.zoom/(this.view.height/this.view.fullHeight);var r=(this.right-this.left)/this.view.width,a=(this.top-this.bottom)/this.view.height;n=(i=i+this.view.offsetX/n*r)+this.view.width/n*r,e=(t=t-this.view.offsetY/e*a)-this.view.height/e*a}this.projectionMatrix.makeOrthographic(i,n,t,e,this.near,this.far)},toJSON:function(t){return(t=it.prototype.toJSON.call(this,t)).object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}});var Jn=0;kt.prototype.isFogExp2=!0,kt.prototype.clone=function(){return new kt(this.color.getHex(),this.density)},kt.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},jt.prototype.isFog=!0,jt.prototype.clone=function(){return new jt(this.color.getHex(),this.near,this.far)},jt.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Wt.prototype=Object.create(it.prototype),Wt.prototype.constructor=Wt,Wt.prototype.copy=function(t,e){return it.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},Wt.prototype.toJSON=function(t){var e=it.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},Xt.prototype=Object.assign(Object.create(it.prototype),{constructor:Xt,isLensFlare:!0,copy:function(t){it.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,i=t.lensFlares.length;e<i;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,i,n,r,a){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=new G(16777215)),void 0===n&&(n=1),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:t,size:e,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:n})},updateLensFlares:function(){var t,e,i=this.lensFlares.length,n=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(t=0;t<i;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+r*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),Yt.prototype=Object.create(j.prototype),Yt.prototype.constructor=Yt,Yt.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},qt.prototype=Object.assign(Object.create(it.prototype),{constructor:qt,isSprite:!0,raycast:function(){var t=new h;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceSqToPoint(t);n>this.scale.x*this.scale.y/4||i.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Zt.prototype=Object.assign(Object.create(it.prototype),{constructor:Zt,copy:function(t){it.prototype.copy.call(this,t,!1);for(var e=0,i=(t=t.levels).length;e<i;e++){var n=t[e];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,n=0;n<i.length&&!(e<i[n].distance);n++);i.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object},raycast:function(){var t=new h;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,i)}}(),update:function(){var t=new h,e=new h;return function(i){var n=this.levels;if(1<n.length){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld),i=t.distanceTo(e),n[0].object.visible=!0;for(var r=1,a=n.length;r<a&&i>=n[r].distance;r++)n[r-1].object.visible=!1,n[r].object.visible=!0;for(;r<a;r++)n[r].object.visible=!1}}}(),toJSON:function(t){(t=it.prototype.toJSON.call(this,t)).object.levels=[];for(var e=this.levels,i=0,n=e.length;i<n;i++){var r=e[i];t.object.levels.push({object:r.object.uuid,distance:r.distance})}return t}}),Jt.prototype=Object.create(n.prototype),Jt.prototype.constructor=Jt,Jt.prototype.isDataTexture=!0,Object.assign(Qt.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new c;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){for(var t,e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new c;return function(){for(var e=0,i=this.bones.length;e<i;e++)t.multiplyMatrices(this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new Qt(this.bones,this.boneInverses,this.useVertexTexture)}}),Kt.prototype=Object.assign(Object.create(it.prototype),{constructor:Kt,isBone:!0,copy:function(t){return it.prototype.copy.call(this,t),this.skin=t.skin,this}}),$t.prototype=Object.assign(Object.create(ft.prototype),{constructor:$t,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=1/(i=this.geometry.skinWeights[t]).lengthManhattan();1/0!==e?i.multiplyScalar(e):i.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new r,n=this.geometry.attributes.skinWeight;for(t=0;t<n.count;t++)i.x=n.getX(t),i.y=n.getY(t),i.z=n.getZ(t),i.w=n.getW(t),1/0!==(e=1/i.lengthManhattan())?i.multiplyScalar(e):i.set(1,0,0,0),n.setXYZW(t,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(t){ft.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),te.prototype=Object.create(j.prototype),te.prototype.constructor=te,te.prototype.isLineBasicMaterial=!0,te.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},ee.prototype=Object.assign(Object.create(it.prototype),{constructor:ee,isLine:!0,raycast:function(){var t=new c,e=new $,i=new q;return function(n,r){var a=(a=n.linePrecision)*a,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),!1!==n.ray.intersectsSphere(i)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var c=new h,l=new h,u=(s=new h,new h),p=this&&this.isLineSegments?2:1;if(o&&o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d){o=0;for(var m=(d=d.array).length-1;o<m;o+=p){var g=d[o+1];c.fromArray(f,3*d[o]),l.fromArray(f,3*g),(g=e.distanceSqToSegment(c,l,u,s))>a||(u.applyMatrix4(this.matrixWorld),(g=n.ray.origin.distanceTo(u))<n.near||g>n.far||r.push({distance:g,point:s.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:null,object:this}))}}else for(o=0,m=f.length/3-1;o<m;o+=p)c.fromArray(f,3*o),l.fromArray(f,3*o+3),(g=e.distanceSqToSegment(c,l,u,s))>a||(u.applyMatrix4(this.matrixWorld),(g=n.ray.origin.distanceTo(u))<n.near||g>n.far||r.push({distance:g,point:s.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:null,object:this}))}else if(o&&o.isGeometry)for(l=(c=o.vertices).length,o=0;o<l-1;o+=p)(g=e.distanceSqToSegment(c[o],c[o+1],u,s))>a||(u.applyMatrix4(this.matrixWorld),(g=n.ray.origin.distanceTo(u))<n.near||g>n.far||r.push({distance:g,point:s.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ie.prototype=Object.assign(Object.create(ee.prototype),{constructor:ie,isLineSegments:!0}),ne.prototype=Object.create(j.prototype),ne.prototype.constructor=ne,ne.prototype.isPointsMaterial=!0,ne.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},re.prototype=Object.assign(Object.create(it.prototype),{constructor:re,isPoints:!0,raycast:function(){var t=new c,e=new $,i=new q;return function(n,r){function a(t,i){var a=e.distanceSqToPoint(t);if(a<u){var s=e.closestPointToPoint(t);s.applyMatrix4(c);var h=n.ray.origin.distanceTo(s);h<n.near||h>n.far||r.push({distance:h,distanceToRay:Math.sqrt(a),point:s.clone(),index:i,face:null,object:o})}}var o=this,s=this.geometry,c=this.matrixWorld,l=n.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(c),!1!==n.ray.intersectsSphere(i)){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var u=(l=l/((this.scale.x+this.scale.y+this.scale.z)/3))*l;l=new h;if(s&&s.isBufferGeometry){var p=s.index;s=s.attributes.position.array;if(null!==p)for(var d=p.array,f=(p=0,d.length);p<f;p++){var m=d[p];l.fromArray(s,3*m),a(l,m)}else for(p=0,d=s.length/3;p<d;p++)l.fromArray(s,3*p),a(l,p)}else for(p=0,d=(l=s.vertices).length;p<d;p++)a(l[p],p)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ae.prototype=Object.assign(Object.create(it.prototype),{constructor:ae}),oe.prototype=Object.create(n.prototype),oe.prototype.constructor=oe,se.prototype=Object.create(n.prototype),se.prototype.constructor=se,se.prototype.isCompressedTexture=!0,he.prototype=Object.create(n.prototype),he.prototype.constructor=he,ce.prototype=Object.create(n.prototype),ce.prototype.constructor=ce,ce.prototype.isDepthTexture=!0,le.prototype=Object.create(dt.prototype),le.prototype.constructor=le,ue.prototype=Object.create(ut.prototype),ue.prototype.constructor=ue,pe.prototype=Object.create(ut.prototype),pe.prototype.constructor=pe,de.prototype=Object.create(pe.prototype),de.prototype.constructor=de,fe.prototype=Object.create(pe.prototype),fe.prototype.constructor=fe,me.prototype=Object.create(pe.prototype),me.prototype.constructor=me,ge.prototype=Object.create(pe.prototype),ge.prototype.constructor=ge,ve.prototype=Object.create(ut.prototype),ve.prototype.constructor=ve,ve.NoTaper=function(t){return 1},ve.SinusoidalTaper=function(t){return Math.sin(Math.PI*t)},ve.FrenetFrames=function(e,i,n){var r,a,o,s=new h,l=[],u=[],p=[],d=new h,f=new c;for(i+=1,this.tangents=l,this.normals=u,this.binormals=p,r=0;r<i;r++)a=r/(i-1),l[r]=e.getTangentAt(a),l[r].normalize();for(u[0]=new h,p[0]=new h,e=Number.MAX_VALUE,r=Math.abs(l[0].x),a=Math.abs(l[0].y),o=Math.abs(l[0].z),r<=e&&(e=r,s.set(1,0,0)),a<=e&&(e=a,s.set(0,1,0)),o<=e&&s.set(0,0,1),d.crossVectors(l[0],s).normalize(),u[0].crossVectors(l[0],d),p[0].crossVectors(l[0],u[0]),r=1;r<i;r++)u[r]=u[r-1].clone(),p[r]=p[r-1].clone(),d.crossVectors(l[r-1],l[r]),d.length()>Number.EPSILON&&(d.normalize(),s=Math.acos(t.Math.clamp(l[r-1].dot(l[r]),-1,1)),u[r].applyMatrix4(f.makeRotationAxis(d,s))),p[r].crossVectors(l[r],u[r]);if(n)for(s=Math.acos(t.Math.clamp(u[0].dot(u[i-1]),-1,1)),s/=i-1,0<l[0].dot(d.crossVectors(u[0],u[i-1]))&&(s=-s),r=1;r<i;r++)u[r].applyMatrix4(f.makeRotationAxis(l[r],s*r)),p[r].crossVectors(l[r],u[r])},ye.prototype=Object.create(dt.prototype),ye.prototype.constructor=ye,xe.prototype=Object.create(ut.prototype),xe.prototype.constructor=xe,_e.prototype=Object.create(dt.prototype),_e.prototype.constructor=_e,be.prototype=Object.create(ut.prototype),be.prototype.constructor=be,t.ShapeUtils={area:function(t){for(var e=t.length,i=0,n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},triangulate:function(e,i){var n=e.length;if(3>n)return null;var r,a,o,s=[],h=[],c=[];if(0<t.ShapeUtils.area(e))for(a=0;a<n;a++)h[a]=a;else for(a=0;a<n;a++)h[a]=n-1-a;var l=2*n;for(a=n-1;2<n;){if(0>=l--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var u;n<=(r=a)&&(r=0),n<=(a=r+1)&&(a=0),n<=(o=a+1)&&(o=0);t:{var p,d,f,m,g,v,y,x;if(p=e[h[r]].x,d=e[h[r]].y,f=e[h[a]].x,m=e[h[a]].y,g=e[h[o]].x,v=e[h[o]].y,Number.EPSILON>(f-p)*(v-d)-(m-d)*(g-p))u=!1;else{var _,b,w,M,E,S,T,A,L,R;for(_=g-f,b=v-m,w=p-g,M=d-v,E=f-p,S=m-d,u=0;u<n;u++)if(y=e[h[u]].x,x=e[h[u]].y,!(y===p&&x===d||y===f&&x===m||y===g&&x===v)&&(L=y-f,R=x-m,T=E*(A=x-d)-S*(T=y-p),A=w*(x-=v)-M*(y-=g),(L=_*R-b*L)>=-Number.EPSILON&&A>=-Number.EPSILON&&T>=-Number.EPSILON)){u=!1;break t}u=!0}}if(u){for(s.push([e[h[r]],e[h[a]],e[h[o]]]),c.push([h[r],h[a],h[o]]),r=a,o=a+1;o<n;r++,o++)h[r]=h[o];l=2*--n}}return i?c:s},triangulateShape:function(e,i){function n(t){var e=t.length;2<e&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,i){return t.x!==e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function a(t,e,i,n,a){var o=e.x-t.x,s=e.y-t.y,h=n.x-i.x,c=n.y-i.y,l=t.x-i.x,u=t.y-i.y,p=s*h-o*c,d=s*l-o*u;if(Math.abs(p)>Number.EPSILON){if(0<p){if(0>d||d>p)return[];if(0>(h=c*l-h*u)||h>p)return[]}else{if(0<d||d<p)return[];if(0<(h=c*l-h*u)||h<p)return[]}return 0===h?!a||0!==d&&d!==p?[t]:[]:h===p?!a||0!==d&&d!==p?[e]:[]:0===d?[i]:d===p?[n]:(a=h/p,[{x:t.x+a*o,y:t.y+a*s}])}return 0!==d||c*l!=h*u?[]:(h=0===h&&0===c,(s=0===o&&0===s)&&h?t.x!==i.x||t.y!==i.y?[]:[t]:s?r(i,n,t)?[t]:[]:h?r(t,e,i)?[i]:[]:(0!==o?(t.x<e.x?(o=t,h=t.x,s=e,t=e.x):(o=e,h=e.x,s=t,t=t.x),i.x<n.x?(e=i,p=i.x,c=n,i=n.x):(e=n,p=n.x,c=i,i=i.x)):(t.y<e.y?(o=t,h=t.y,s=e,t=e.y):(o=e,h=e.y,s=t,t=t.y),i.y<n.y?(e=i,p=i.y,c=n,i=n.y):(e=n,p=n.y,c=i,i=i.y)),h<=p?t<p?[]:t===p?a?[]:[e]:t<=i?[e,s]:[e,c]:h>i?[]:h===i?a?[]:[o]:t<=i?[o,s]:[o,c]))}function o(t,e,i,n){var r=e.x-t.x,a=e.y-t.y;e=i.x-t.x,i=i.y-t.y;var o=n.x-t.x;return n=n.y-t.y,t=r*i-a*e,r=r*n-a*o,Math.abs(t)>Number.EPSILON?(e=o*i-n*e,0<t?0<=r&&0<=e:0<=r||0<=e):0<r}n(e),i.forEach(n);var s,h,c,l,u,p={};for(c=e.concat(),s=0,h=i.length;s<h;s++)Array.prototype.push.apply(c,i[s]);for(s=0,h=c.length;s<h;s++)void 0!==p[u=c[s].x+":"+c[s].y]&&console.warn("THREE.ShapeUtils: Duplicate point",u,s),p[u]=s;s=function(t,e){function i(t,e){var i=g.length-1,n=t-1;0>n&&(n=i);var r=t+1;return r>i&&(r=0),!!(i=o(g[t],g[n],g[r],s[e]))&&(i=s.length-1,0>(n=e-1)&&(n=i),(r=e+1)>i&&(r=0),!!(i=o(s[e],s[n],s[r],g[t])))}function n(t,e){var i,n;for(i=0;i<g.length;i++)if(n=i+1,n%=g.length,0<(n=a(t,e,g[i],g[n],!0)).length)return!0;return!1}function r(t,i){var n,r,o,s;for(n=0;n<v.length;n++)for(r=e[v[n]],o=0;o<r.length;o++)if(s=o+1,s%=r.length,0<(s=a(t,i,r[o],r[s],!0)).length)return!0;return!1}var s,h,c,l,u,p,d,f,m,g=t.concat(),v=[],y=[],x=0;for(h=e.length;x<h;x++)v.push(x);d=0;for(var _=2*v.length;0<v.length;){if(0>--_){console.log("Infinite Loop! Holes left:"+v.length+", Probably Hole outside Shape!");break}for(c=d;c<g.length;c++){for(l=g[c],h=-1,x=0;x<v.length;x++)if(u=v[x],void 0===y[p=l.x+":"+l.y+":"+u]){for(s=e[u],f=0;f<s.length;f++)if(u=s[f],i(c,f)&&!n(l,u)&&!r(l,u)){h=f,v.splice(x,1),d=g.slice(0,c+1),u=g.slice(c),f=s.slice(h),m=s.slice(0,h+1),g=d.concat(f).concat(m).concat(u),d=c;break}if(0<=h)break;y[p]=!0}if(0<=h)break}}return g}(e,i);var d=t.ShapeUtils.triangulate(s,!1);for(s=0,h=d.length;s<h;s++)for(l=d[s],c=0;3>c;c++)void 0!==(u=p[u=l[c].x+":"+l[c].y])&&(l[c]=u);return d.concat()},isClockWise:function(e){return 0>t.ShapeUtils.area(e)},b2:function(t,e,i,n){var r=1-t;return r*r*e+2*(1-t)*t*i+t*t*n},b3:function(t,e,i,n,r){var a=1-t,o=1-t;return a*a*a*e+3*o*o*t*i+3*(1-t)*t*t*n+t*t*t*r}},we.prototype=Object.create(ut.prototype),we.prototype.constructor=we,we.prototype.addShapeList=function(t,e){for(var i=t.length,n=0;n<i;n++)this.addShape(t[n],e)},we.prototype.addShape=function(e,n){function r(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}function a(t,e,n){var r,a,o;a=t.x-e.x,o=t.y-e.y,r=n.x-t.x;var s=n.y-t.y,h=a*a+o*o;if(Math.abs(a*s-o*r)>Number.EPSILON){var c=Math.sqrt(h),l=Math.sqrt(r*r+s*s);h=e.x-o/c;if(e=e.y+a/c,2>=(o=(r=h+a*(s=((n.x-s/l-h)*s-(n.y+r/l-e)*r)/(a*s-o*r))-t.x)*r+(a=e+o*s-t.y)*a))return new i(r,a);o=Math.sqrt(o/2)}else t=!1,a>Number.EPSILON?r>Number.EPSILON&&(t=!0):a<-Number.EPSILON?r<-Number.EPSILON&&(t=!0):Math.sign(o)===Math.sign(s)&&(t=!0),t?(r=-o,o=Math.sqrt(h)):(r=a,a=o,o=Math.sqrt(h/2));return new i(r/o,a/o)}function o(t,e){var i,n;for(H=t.length;0<=--H;){i=H,0>(n=H-1)&&(n=t.length-1);var r,a=b+2*y;for(r=0;r<a;r++){var o=(o=e+i+(s=B*r))+R,s=(s=e+n+s)+R,h=(h=e+n+(c=B*(r+1)))+R,c=(c=e+i+c)+R;L.faces.push(new at(o,s,c,null,null,1)),L.faces.push(new at(s,h,c,null,null,1)),o=E.generateSideWallUV(L,o,s,h,c),L.faceVertexUvs[0].push([o[0],o[1],o[3]]),L.faceVertexUvs[0].push([o[1],o[2],o[3]])}}}function s(t,e,i){L.vertices.push(new h(t,e,i))}function c(t,e,i){t+=R,e+=R,i+=R,L.faces.push(new at(t,e,i,null,null,0)),t=E.generateTopUV(L,t,e,i),L.faceVertexUvs[0].push(t)}var l,u,p,d,f,m=void 0!==n.amount?n.amount:100,g=void 0!==n.bevelThickness?n.bevelThickness:6,v=void 0!==n.bevelSize?n.bevelSize:g-2,y=void 0!==n.bevelSegments?n.bevelSegments:3,x=void 0===n.bevelEnabled||n.bevelEnabled,_=void 0!==n.curveSegments?n.curveSegments:12,b=void 0!==n.steps?n.steps:1,w=n.extrudePath,M=!1,E=void 0!==n.UVGenerator?n.UVGenerator:we.WorldUVGenerator;w&&(l=w.getSpacedPoints(b),M=!0,x=!1,u=void 0!==n.frames?n.frames:new ve.FrenetFrames(w,b,!1),p=new h,d=new h,f=new h),x||(v=g=y=0);var S,T,A,L=this,R=this.vertices.length,P=(_=(w=e.extractPoints(_)).shape,w.holes);if(w=!t.ShapeUtils.isClockWise(_)){for(_=_.reverse(),T=0,A=P.length;T<A;T++)S=P[T],t.ShapeUtils.isClockWise(S)&&(P[T]=S.reverse());w=!1}var C=t.ShapeUtils.triangulateShape(_,P),U=_;for(T=0,A=P.length;T<A;T++)S=P[T],_=_.concat(S);var I,D,N,F,O,z,B=_.length,G=C.length,H=(w=[],0);for(I=(N=U.length)-1,D=H+1;H<N;H++,I++,D++)I===N&&(I=0),D===N&&(D=0),w[H]=a(U[H],U[I],U[D]);var V,k=[],j=w.concat();for(T=0,A=P.length;T<A;T++){for(S=P[T],V=[],H=0,I=(N=S.length)-1,D=H+1;H<N;H++,I++,D++)I===N&&(I=0),D===N&&(D=0),V[H]=a(S[H],S[I],S[D]);k.push(V),j=j.concat(V)}for(I=0;I<y;I++){for(N=I/y,F=g*Math.cos(N*Math.PI/2),D=v*Math.sin(N*Math.PI/2),H=0,N=U.length;H<N;H++)s((O=r(U[H],w[H],D)).x,O.y,-F);for(T=0,A=P.length;T<A;T++)for(S=P[T],V=k[T],H=0,N=S.length;H<N;H++)s((O=r(S[H],V[H],D)).x,O.y,-F)}for(D=v,H=0;H<B;H++)O=x?r(_[H],j[H],D):_[H],M?(d.copy(u.normals[0]).multiplyScalar(O.x),p.copy(u.binormals[0]).multiplyScalar(O.y),f.copy(l[0]).add(d).add(p),s(f.x,f.y,f.z)):s(O.x,O.y,0);for(N=1;N<=b;N++)for(H=0;H<B;H++)O=x?r(_[H],j[H],D):_[H],M?(d.copy(u.normals[N]).multiplyScalar(O.x),p.copy(u.binormals[N]).multiplyScalar(O.y),f.copy(l[N]).add(d).add(p),s(f.x,f.y,f.z)):s(O.x,O.y,m/b*N);for(I=y-1;0<=I;I--){for(N=I/y,F=g*Math.cos(N*Math.PI/2),D=v*Math.sin(N*Math.PI/2),H=0,N=U.length;H<N;H++)s((O=r(U[H],w[H],D)).x,O.y,m+F);for(T=0,A=P.length;T<A;T++)for(S=P[T],V=k[T],H=0,N=S.length;H<N;H++)O=r(S[H],V[H],D),M?s(O.x,O.y+l[b-1].y,l[b-1].x+F):s(O.x,O.y,m+F)}!function(){if(x){var t=0*B;for(H=0;H<G;H++)c((z=C[H])[2]+t,z[1]+t,z[0]+t);for(t=B*(b+2*y),H=0;H<G;H++)c((z=C[H])[0]+t,z[1]+t,z[2]+t)}else{for(H=0;H<G;H++)c((z=C[H])[2],z[1],z[0]);for(H=0;H<G;H++)c((z=C[H])[0]+B*b,z[1]+B*b,z[2]+B*b)}}(),function(){var t=0;for(o(U,t),t+=U.length,T=0,A=P.length;T<A;T++)o(S=P[T],t),t+=S.length}()},we.WorldUVGenerator={generateTopUV:function(t,e,n,r){return e=(t=t.vertices)[e],n=t[n],r=t[r],[new i(e.x,e.y),new i(n.x,n.y),new i(r.x,r.y)]},generateSideWallUV:function(t,e,n,r,a){return e=(t=t.vertices)[e],n=t[n],r=t[r],a=t[a],.01>Math.abs(e.y-n.y)?[new i(e.x,1-e.z),new i(n.x,1-n.z),new i(r.x,1-r.z),new i(a.x,1-a.z)]:[new i(e.y,1-e.z),new i(n.y,1-n.z),new i(r.y,1-r.z),new i(a.y,1-a.z)]}},Me.prototype=Object.create(we.prototype),Me.prototype.constructor=Me,Ee.prototype=Object.create(dt.prototype),Ee.prototype.constructor=Ee,Se.prototype=Object.create(ut.prototype),Se.prototype.constructor=Se,Te.prototype=Object.create(dt.prototype),Te.prototype.constructor=Te,Ae.prototype=Object.create(ut.prototype),Ae.prototype.constructor=Ae,Le.prototype=Object.create(ut.prototype),Le.prototype.constructor=Le,Re.prototype=Object.create(dt.prototype),Re.prototype.constructor=Re,Pe.prototype=Object.create(ut.prototype),Pe.prototype.constructor=Pe,Ce.prototype=Object.create(ut.prototype),Ce.prototype.constructor=Ce,Ce.prototype.addShapeList=function(t,e){for(var i=0,n=t.length;i<n;i++)this.addShape(t[i],e);return this},Ce.prototype.addShape=function(e,i){void 0===i&&(i={});var n,r,a,o=i.material,s=void 0===i.UVGenerator?we.WorldUVGenerator:i.UVGenerator,c=this.vertices.length,l=(n=e.extractPoints(void 0!==i.curveSegments?i.curveSegments:12)).shape,u=n.holes;if(!t.ShapeUtils.isClockWise(l))for(l=l.reverse(),n=0,r=u.length;n<r;n++)a=u[n],t.ShapeUtils.isClockWise(a)&&(u[n]=a.reverse());var p=t.ShapeUtils.triangulateShape(l,u);for(n=0,r=u.length;n<r;n++)a=u[n],l=l.concat(a);for(u=l.length,r=p.length,n=0;n<u;n++)a=l[n],this.vertices.push(new h(a.x,a.y,0));for(n=0;n<r;n++)l=(u=p[n])[0]+c,a=u[1]+c,u=u[2]+c,this.faces.push(new at(l,a,u,null,null,o)),this.faceVertexUvs[0].push(s.generateTopUV(this,l,a,u))},Ue.prototype=Object.create(dt.prototype),Ue.prototype.constructor=Ue,Ie.prototype=Object.create(dt.prototype),Ie.prototype.constructor=Ie,De.prototype=Object.create(ut.prototype),De.prototype.constructor=De,Ne.prototype=Object.create(De.prototype),Ne.prototype.constructor=Ne,Fe.prototype=Object.create(dt.prototype),Fe.prototype.constructor=Fe,Oe.prototype=Object.create(dt.prototype),Oe.prototype.constructor=Oe,ze.prototype=Object.create(ut.prototype),ze.prototype.constructor=ze,Be.prototype=Object.create(ut.prototype),Be.prototype.constructor=Be;var Qn=Object.freeze({WireframeGeometry:le,ParametricGeometry:ue,TetrahedronGeometry:de,OctahedronGeometry:fe,IcosahedronGeometry:me,DodecahedronGeometry:ge,PolyhedronGeometry:pe,TubeGeometry:ve,TorusKnotGeometry:xe,TorusKnotBufferGeometry:ye,TorusGeometry:be,TorusBufferGeometry:_e,TextGeometry:Me,SphereBufferGeometry:Ee,SphereGeometry:Se,RingGeometry:Ae,RingBufferGeometry:Te,PlaneBufferGeometry:gt,PlaneGeometry:Le,LatheGeometry:Pe,LatheBufferGeometry:Re,ShapeGeometry:Ce,ExtrudeGeometry:we,EdgesGeometry:Ue,ConeGeometry:Ne,ConeBufferGeometry:Fe,CylinderGeometry:De,CylinderBufferGeometry:Ie,CircleBufferGeometry:Oe,CircleGeometry:ze,BoxBufferGeometry:mt,BoxGeometry:Be});Ge.prototype=Object.create(W.prototype),Ge.prototype.constructor=Ge,Ge.prototype.isShadowMaterial=!0,He.prototype=Object.create(W.prototype),He.prototype.constructor=He,He.prototype.isRawShaderMaterial=!0,Ve.prototype={constructor:Ve,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},i=this.materials,n=0,r=i.length;n<r;n++){var a=i[n].toJSON(t);delete a.metadata,e.materials.push(a)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},ke.prototype=Object.create(j.prototype),ke.prototype.constructor=ke,ke.prototype.isMeshStandardMaterial=!0,ke.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},je.prototype=Object.create(ke.prototype),je.prototype.constructor=je,je.prototype.isMeshPhysicalMaterial=!0,je.prototype.copy=function(t){return ke.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},We.prototype=Object.create(j.prototype),We.prototype.constructor=We,We.prototype.isMeshPhongMaterial=!0,We.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Xe.prototype=Object.create(j.prototype),Xe.prototype.constructor=Xe,Xe.prototype.isMeshNormalMaterial=!0,Xe.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ye.prototype=Object.create(j.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isMeshLambertMaterial=!0,Ye.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},qe.prototype=Object.create(j.prototype),qe.prototype.constructor=qe,qe.prototype.isLineDashedMaterial=!0,qe.prototype.copy=function(t){return j.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Kn,$n=Object.freeze({ShadowMaterial:Ge,SpriteMaterial:Yt,RawShaderMaterial:He,ShaderMaterial:W,PointsMaterial:ne,MultiMaterial:Ve,MeshPhysicalMaterial:je,MeshStandardMaterial:ke,MeshPhongMaterial:We,MeshNormalMaterial:Xe,MeshLambertMaterial:Ye,MeshDepthMaterial:X,MeshBasicMaterial:ot,LineDashedMaterial:qe,LineBasicMaterial:te,Material:j});t.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},t.DefaultLoadingManager=new Ze,Object.assign(Je.prototype,{load:function(e,i,n,r){void 0!==this.path&&(e=this.path+e);var a=this,o=t.Cache.get(e);if(void 0!==o)return a.manager.itemStart(e),setTimeout(function(){i&&i(o),a.manager.itemEnd(e)},0),o;var s=new XMLHttpRequest;return s.open("GET",e,!0),s.addEventListener("load",function(n){var o=n.target.response;t.Cache.add(e,o),200===this.status?(i&&i(o),a.manager.itemEnd(e)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),i&&i(o),a.manager.itemEnd(e)):(r&&r(n),a.manager.itemError(e))},!1),void 0!==n&&s.addEventListener("progress",function(t){n(t)},!1),s.addEventListener("error",function(t){r&&r(t),a.manager.itemError(e)},!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType("text/plain"),s.send(null),a.manager.itemStart(e),s},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this}}),Object.assign(Qe.prototype,{load:function(t,e,i,n){function r(r){h.load(t[r],function(t){t=a._parser(t,!0),o[r]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps},6===(c+=1)&&(1===t.mipmapCount&&(s.minFilter=1006),s.format=t.format,s.needsUpdate=!0,e&&e(s))},i,n)}var a=this,o=[],s=new se;s.image=o;var h=new Je(this.manager);if(h.setPath(this.path),h.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,l=0,u=t.length;l<u;++l)r(l);else h.load(t,function(t){if((t=a._parser(t,!0)).isCubemap)for(var i=t.mipmaps.length/t.mipmapCount,n=0;n<i;n++){o[n]={mipmaps:[]};for(var r=0;r<t.mipmapCount;r++)o[n].mipmaps.push(t.mipmaps[n*t.mipmapCount+r]),o[n].format=t.format,o[n].width=t.width,o[n].height=t.height}else s.image.width=t.width,s.image.height=t.height,s.mipmaps=t.mipmaps;1===t.mipmapCount&&(s.minFilter=1006),s.format=t.format,s.needsUpdate=!0,e&&e(s)},i,n);return s},setPath:function(t){return this.path=t,this}}),Object.assign(Ke.prototype,{load:function(t,e,i,n){var r=this,a=new Jt,o=new Je(this.manager);return o.setResponseType("arraybuffer"),o.load(t,function(t){(t=r._parser(t))&&(void 0!==t.image?a.image=t.image:void 0!==t.data&&(a.image.width=t.width,a.image.height=t.height,a.image.data=t.data),a.wrapS=void 0!==t.wrapS?t.wrapS:1001,a.wrapT=void 0!==t.wrapT?t.wrapT:1001,a.magFilter=void 0!==t.magFilter?t.magFilter:1006,a.minFilter=void 0!==t.minFilter?t.minFilter:1008,a.anisotropy=void 0!==t.anisotropy?t.anisotropy:1,void 0!==t.format&&(a.format=t.format),void 0!==t.type&&(a.type=t.type),void 0!==t.mipmaps&&(a.mipmaps=t.mipmaps),1===t.mipmapCount&&(a.minFilter=1006),a.needsUpdate=!0,e&&e(a,t))},i,n),a}}),Object.assign($e.prototype,{load:function(t,e,i,n){var r=this,a=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(a.onload=function(){a.onload=null,URL.revokeObjectURL(a.src),e&&e(a),r.manager.itemEnd(t)},0===t.indexOf("data:"))a.src=t;else{var o=new Je;o.setPath(this.path),o.setResponseType("blob"),o.setWithCredentials(this.withCredentials),o.load(t,function(t){a.src=URL.createObjectURL(t)},i,n)}return r.manager.itemStart(t),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(ti.prototype,{load:function(t,e,i,n){function r(i){o.load(t[i],function(t){a.images[i]=t,6===++s&&(a.needsUpdate=!0,e&&e(a))},void 0,n)}var a=new l,o=new $e(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var s=0;for(i=0;i<t.length;++i)r(i);return a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(ei.prototype,{load:function(t,e,i,r){var a=new n,o=new $e(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setWithCredentials(this.withCredentials),o.setPath(this.path),o.load(t,function(i){var n=0<t.search(/\.(jpg|jpeg)$/)||0===t.search(/^data\:image\/jpeg/);a.format=n?1022:1023,a.image=i,a.needsUpdate=!0,void 0!==e&&e(a)},i,r),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),ii.prototype=Object.assign(Object.create(it.prototype),{constructor:ii,isLight:!0,copy:function(t){return it.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){return(t=it.prototype.toJSON.call(this,t)).object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),ni.prototype=Object.assign(Object.create(ii.prototype),{constructor:ni,isHemisphereLight:!0,copy:function(t){return ii.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(ri.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),ai.prototype=Object.assign(Object.create(ri.prototype),{constructor:ai,isSpotLightShadow:!0,update:function(e){var i=2*t.Math.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height;e=e.distance||500;var r=this.camera;i===r.fov&&n===r.aspect&&e===r.far||(r.fov=i,r.aspect=n,r.far=e,r.updateProjectionMatrix())}}),oi.prototype=Object.assign(Object.create(ii.prototype),{constructor:oi,isSpotLight:!0,copy:function(t){return ii.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),si.prototype=Object.assign(Object.create(ii.prototype),{constructor:si,isPointLight:!0,copy:function(t){return ii.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),hi.prototype=Object.assign(Object.create(ri.prototype),{constructor:hi}),ci.prototype=Object.assign(Object.create(ii.prototype),{constructor:ci,isDirectionalLight:!0,copy:function(t){return ii.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),li.prototype=Object.assign(Object.create(ii.prototype),{constructor:li,isAmbientLight:!0}),t.AnimationUtils={arraySlice:function(e,i,n){return t.AnimationUtils.isTypedArray(e)?new e.constructor(e.subarray(i,n)):e.slice(i,n)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=Array(e),n=0;n!==e;++n)i[n]=n;return i.sort(function(e,i){return t[e]-t[i]}),i},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*e,h=0;h!==e;++h)r[o++]=t[s+h];return r},flattenJSON:function(t,e,i,n){for(var r=1,a=t[0];void 0!==a&&void 0===a[n];)a=t[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[n])&&(e.push(a.time),i.push.apply(i,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[n])&&(e.push(a.time),o.toArray(i,i.length)),a=t[r++]}while(void 0!==a);else do{void 0!==(o=a[n])&&(e.push(a.time),i.push(o)),a=t[r++]}while(void 0!==a)}}},ui.prototype={constructor:ui,evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{i:{n:if(!(t<n)){for(var a=i+2;;){if(void 0===n){if(t<r)break n;return this._cachedIndex=i=e.length,this.afterEnd_(i-1,t,r)}if(i===a)break;if(r=n,t<(n=e[++i]))break e}n=e.length;break i}if(t>=r)break t;for(t<(a=e[1])&&(i=2,r=a),a=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===a)break;if(n=r,t>=(r=e[--i-1]))break e}n=i,i=0}for(;i<n;)t<e[r=i+n>>>1]?n=r:i=r+1;if(n=e[i],void 0===(r=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return this._cachedIndex=i=e.length,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize;t*=n;for(var r=0;r!==n;++r)e[r]=i[t+r];return e},interpolate_:function(t,e,i,n){throw Error("call to abstract method")},intervalChanged_:function(t,e,i){}},Object.assign(ui.prototype,{beforeStart_:ui.prototype.copySampleValue_,afterEnd_:ui.prototype.copySampleValue_}),pi.prototype=Object.assign(Object.create(ui.prototype),{constructor:pi,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,a=t+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=t,o=2*e-i;break;case 2402:o=e+n[r=n.length-2]-n[r+1];break;default:r=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*i-e;break;case 2402:a=1,s=i+n[1]-n[0];break;default:a=t-1,s=e}t=.5*(i-e),n=this.valueSize,this._weightPrev=t/(e-o),this._weightNext=t/(s-i),this._offsetPrev=r*n,this._offsetNext=a*n},interpolate_:function(t,e,i,n){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(t*=o)-o,h=this._offsetPrev,c=this._offsetNext,l=this._weightPrev,u=this._weightNext,p=(i-e)/(n-e);for(e=-l*(n=(i=p*p)*p)+2*l*i-l*p,l=(1+l)*n+(-1.5-2*l)*i+(-.5+l)*p+1,p=(-1-u)*n+(1.5+u)*i+.5*p,u=u*n-u*i,i=0;i!==o;++i)r[i]=e*a[h+i]+l*a[s+i]+p*a[t+i]+u*a[c+i];return r}}),di.prototype=Object.assign(Object.create(ui.prototype),{constructor:di,interpolate_:function(t,e,i,n){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(t*=o)-o;for(i=1-(e=(i-e)/(n-e)),n=0;n!==o;++n)r[n]=a[s+n]*i+a[t+n]*e;return r}}),fi.prototype=Object.assign(Object.create(ui.prototype),{constructor:fi,interpolate_:function(t,e,i,n){return this.copySampleValue_(t-1)}}),Kn={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new fi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new di(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new pi(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){if(e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw Error(e);this.setInterpolation(this.DefaultInterpolation)}console.warn(e)}else this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(e,i){for(var n=this.times,r=n.length,a=0,o=r-1;a!==r&&n[a]<e;)++a;for(;-1!==o&&n[o]>i;)--o;return++o,0===a&&o===r||(a>=o&&(a=(o=Math.max(o,1))-1),r=this.getValueSize(),this.times=t.AnimationUtils.arraySlice(n,a,o),this.values=t.AnimationUtils.arraySlice(this.values,a*r,o*r)),this},validate:function(){var e=!0;0!=(n=this.getValueSize())-Math.floor(n)&&(console.error("invalid value size in track",this),e=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error("track is empty",this),e=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("out of order keys",this,o,s,a),e=!1;break}a=s}if(void 0!==n&&t.AnimationUtils.isTypedArray(n))for(o=0,i=n.length;o!==i;++o)if(r=n[o],isNaN(r)){console.error("value is not a valid number",this,o,r),e=!1;break}return e},optimize:function(){for(var e=this.times,i=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),a=1,o=e.length-1,s=1;s<o;++s){var h=!1;if((p=e[s])!==e[s+1]&&(1!==s||p!==p[0]))if(r)h=!0;else for(var c=s*n,l=c-n,u=c+n,p=0;p!==n;++p){var d=i[c+p];if(d!==i[l+p]||d!==i[u+p]){h=!0;break}}if(h){if(s!==a)for(e[a]=e[s],h=s*n,c=a*n,p=0;p!==n;++p)i[c+p]=i[h+p];++a}}if(0<o){for(e[a]=e[o],h=o*n,c=a*n,p=0;p!==n;++p)i[c+p]=i[h+p];++a}return a!==e.length&&(this.times=t.AnimationUtils.arraySlice(e,0,a),this.values=t.AnimationUtils.arraySlice(i,0,a*n)),this}},gi.prototype=Object.assign(Object.create(Kn),{constructor:gi,ValueTypeName:"vector"}),vi.prototype=Object.assign(Object.create(ui.prototype),{constructor:vi,interpolate_:function(t,e,i,n){var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize;for(e=(i-e)/(n-e),i=(t*=o)+o;t!==i;t+=4)s.slerpFlat(r,0,a,t-o,a,t,e);return r}}),yi.prototype=Object.assign(Object.create(Kn),{constructor:yi,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new vi(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),xi.prototype=Object.assign(Object.create(Kn),{constructor:xi,ValueTypeName:"number"}),_i.prototype=Object.assign(Object.create(Kn),{constructor:_i,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),bi.prototype=Object.assign(Object.create(Kn),{constructor:bi,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),wi.prototype=Object.assign(Object.create(Kn),{constructor:wi,ValueTypeName:"color"}),Mi.prototype=Kn,Kn.constructor=Mi,Object.assign(Mi,{parse:function(e){if(void 0===e.type)throw Error("track type undefined, can not parse");var i=Mi._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],r=[];t.AnimationUtils.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==i.parse?i.parse(e):new i(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){if(void 0!==(i=e.constructor).toJSON)i=i.toJSON(e);else{var i={name:e.name,times:t.AnimationUtils.convertArray(e.times,Array),values:t.AnimationUtils.convertArray(e.values,Array)},n=e.getInterpolation();n!==e.DefaultInterpolation&&(i.interpolation=n)}return i.type=e.ValueTypeName,i},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return xi;case"vector":case"vector2":case"vector3":case"vector4":return gi;case"color":return wi;case"quaternion":return yi;case"bool":case"boolean":return bi;case"string":return _i}throw Error("Unsupported typeName: "+t)}}),Ei.prototype={constructor:Ei,resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Ei,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,a=i.length;r!==a;++r)e.push(Mi.parse(i[r]).scale(n));return new Ei(t.name,t.duration,e)},toJSON:function(t){var e=[],i=t.tracks;t={name:t.name,duration:t.duration,tracks:e};for(var n=0,r=i.length;n!==r;++n)e.push(Mi.toJSON(i[n]));return t},CreateFromMorphTargetSequence:function(e,i,n,r){for(var a=i.length,o=[],s=0;s<a;s++){var h=[];(l=[]).push((s+a-1)%a,s,(s+1)%a),h.push(0,1,0);var c=t.AnimationUtils.getKeyframeOrder(l),l=t.AnimationUtils.sortedArray(l,1,c);h=t.AnimationUtils.sortedArray(h,1,c);r||0!==l[0]||(l.push(a),h.push(h[0])),o.push(new xi(".morphTargetInfluences["+i[s].name+"]",l,h).scale(1/n))}return new Ei(e,-1,o)},findByName:function(t,e){var i=t;Array.isArray(t)||(i=t.geometry&&t.geometry.animations||t.animations);for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var n={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],h=s.name.match(r);if(h&&1<h.length){var c=h[1];(h=n[c])||(n[c]=h=[]),h.push(s)}}for(c in t=[],n)t.push(Ei.CreateFromMorphTargetSequence(c,n[c],e,i));return t},parseAnimation:function(e,i){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var n=function(e,i,n,r,a){if(0!==n.length){var o=[],s=[];t.AnimationUtils.flattenJSON(n,o,s,r),0!==o.length&&a.push(new e(i,o,s))}},r=[],a=e.name||"default",o=e.length||-1,s=e.fps||30,h=e.hierarchy||[],c=0;c<h.length;c++){var l=h[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){o={};for(var u=0;u<l.length;u++)if(l[u].morphTargets)for(var p=0;p<l[u].morphTargets.length;p++)o[l[u].morphTargets[p]]=-1;for(var d in o){var f=[],m=[];for(p=0;p!==l[u].morphTargets.length;++p){var g=l[u];f.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new xi(".morphTargetInfluence["+d+"]",f,m))}o=o.length*(s||1)}else n(gi,(u=".bones["+i[c].name+"]")+".position",l,"pos",r),n(yi,u+".quaternion",l,"rot",r),n(gi,u+".scale",l,"scl",r)}return 0===r.length?null:new Ei(a,o,r)}}),Object.assign(Si.prototype,{load:function(t,e,i,n){var r=this;new Je(r.manager).load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new $n[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var a=t.normalScale;!1===Array.isArray(a)&&(a=[a,a]),r.normalScale=(new i).fromArray(a)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials){a=0;for(var o=t.materials.length;a<o;a++)r.materials.push(this.parse(t.materials[a]))}return r}}),Object.assign(Ti.prototype,{load:function(t,e,i,n){var r=this;new Je(r.manager).load(t,function(t){e(r.parse(JSON.parse(t)))},i,n)},parse:function(t){var e=new dt,i=t.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void 0!==i&&(i=new n[i.type](i.array),e.setIndex(new st(i,1)));var r,a=t.data.attributes;for(r in a){var o=a[r];i=new n[o.type](o.array);e.addAttribute(r,new st(i,o.itemSize,o.normalized))}if(void 0!==(n=t.data.groups||t.data.drawcalls||t.data.offsets))for(r=0,i=n.length;r!==i;++r)a=n[r],e.addGroup(a.start,a.count,a.materialIndex);return void 0!==(t=t.data.boundingSphere)&&(n=new h,void 0!==t.center&&n.fromArray(t.center),e.boundingSphere=new q(n,t.radius)),e}}),Ai.prototype={constructor:Ai,crossOrigin:void 0,extractUrlBase:function(t){return 1===(t=t.split("/")).length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(t,e,i){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e,i);return n},createMaterial:function(){var e,i,n;return function(r,a,o){function s(e,n,r,s,h){e=a+e;var l=Ai.Handlers.get(e);return null!==l?e=l.load(e):(i.setCrossOrigin(o),e=i.load(e)),void 0!==n&&(e.repeat.fromArray(n),1!==n[0]&&(e.wrapS=1e3),1!==n[1]&&(e.wrapT=1e3)),void 0!==r&&e.offset.fromArray(r),void 0!==s&&("repeat"===s[0]&&(e.wrapS=1e3),"mirror"===s[0]&&(e.wrapS=1002),"repeat"===s[1]&&(e.wrapT=1e3),"mirror"===s[1]&&(e.wrapT=1002)),void 0!==h&&(e.anisotropy=h),n=t.Math.generateUUID(),c[n]=e,n}void 0===e&&(e=new G),void 0===i&&(i=new ei),void 0===n&&(n=new Si);var h,c={},l={uuid:t.Math.generateUUID(),type:"MeshLambertMaterial"};for(h in r){var u=r[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":l.name=u;break;case"blending":l.blending=Dn[u];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":l.color=e.fromArray(u).getHex();break;case"colorSpecular":l.specular=e.fromArray(u).getHex();break;case"colorEmissive":l.emissive=e.fromArray(u).getHex();break;case"specularCoef":l.shininess=u;break;case"shading":"basic"===u.toLowerCase()&&(l.type="MeshBasicMaterial"),"phong"===u.toLowerCase()&&(l.type="MeshPhongMaterial"),"standard"===u.toLowerCase()&&(l.type="MeshStandardMaterial");break;case"mapDiffuse":l.map=s(u,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":l.emissiveMap=s(u,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":l.lightMap=s(u,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":l.aoMap=s(u,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":l.bumpMap=s(u,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":l.bumpScale=u;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":l.normalMap=s(u,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":l.normalScale=[u,u];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":l.specularMap=s(u,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":l.metalnessMap=s(u,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":l.roughnessMap=s(u,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":l.alphaMap=s(u,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":l.side=1;break;case"doubleSided":l.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),l.opacity=u;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":l[h]=u;break;case"vertexColors":!0===u&&(l.vertexColors=2),"face"===u&&(l.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",h,u)}}return"MeshBasicMaterial"===l.type&&delete l.emissive,"MeshPhongMaterial"!==l.type&&delete l.specular,1>l.opacity&&(l.transparent=!0),n.setTextures(c),n.parse(l)}}()},Ai.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,n=e.length;i<n;i+=2){var r=e[i+1];if(e[i].test(t))return r}return null}},Object.assign(Li.prototype,{load:function(t,e,i,n){var r=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Ai.prototype.extractUrlBase(t),o=new Je(this.manager);o.setWithCredentials(this.withCredentials),o.load(t,function(i){var n=(i=JSON.parse(i)).metadata;if(void 0!==n&&void 0!==(n=n.type)){if("object"===n.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===n.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}i=r.parse(i,a),e(i.geometry,i.materials)},i,n)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var n=new ut,a=void 0!==t.scale?1/t.scale:1;return function(e){var r,a,o,s,c,l,u,p,d,f,m,g,v,y=t.faces;l=t.vertices;var x=t.normals,_=t.colors,b=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&b++;for(r=0;r<b;r++)n.faceVertexUvs[r]=[]}for(s=0,c=l.length;s<c;)(r=new h).x=l[s++]*e,r.y=l[s++]*e,r.z=l[s++]*e,n.vertices.push(r);for(s=0,c=y.length;s<c;)if(d=1&(e=y[s++]),o=2&e,r=8&e,u=16&e,f=32&e,l=64&e,e&=128,d){if((d=new at).a=y[s],d.b=y[s+1],d.c=y[s+3],(m=new at).a=y[s+1],m.b=y[s+2],m.c=y[s+3],s+=4,o&&(o=y[s++],d.materialIndex=o,m.materialIndex=o),o=n.faces.length,r)for(r=0;r<b;r++)for(g=t.uvs[r],n.faceVertexUvs[r][o]=[],n.faceVertexUvs[r][o+1]=[],a=0;4>a;a++)v=new i(v=g[2*(p=y[s++])],p=g[2*p+1]),2!==a&&n.faceVertexUvs[r][o].push(v),0!==a&&n.faceVertexUvs[r][o+1].push(v);if(u&&(u=3*y[s++],d.normal.set(x[u++],x[u++],x[u]),m.normal.copy(d.normal)),f)for(r=0;4>r;r++)u=3*y[s++],f=new h(x[u++],x[u++],x[u]),2!==r&&d.vertexNormals.push(f),0!==r&&m.vertexNormals.push(f);if(l&&(l=_[l=y[s++]],d.color.setHex(l),m.color.setHex(l)),e)for(r=0;4>r;r++)l=_[l=y[s++]],2!==r&&d.vertexColors.push(new G(l)),0!==r&&m.vertexColors.push(new G(l));n.faces.push(d),n.faces.push(m)}else{if((d=new at).a=y[s++],d.b=y[s++],d.c=y[s++],o&&(o=y[s++],d.materialIndex=o),o=n.faces.length,r)for(r=0;r<b;r++)for(g=t.uvs[r],n.faceVertexUvs[r][o]=[],a=0;3>a;a++)v=new i(v=g[2*(p=y[s++])],p=g[2*p+1]),n.faceVertexUvs[r][o].push(v);if(u&&(u=3*y[s++],d.normal.set(x[u++],x[u++],x[u])),f)for(r=0;3>r;r++)u=3*y[s++],f=new h(x[u++],x[u++],x[u]),d.vertexNormals.push(f);if(l&&(l=y[s++],d.color.setHex(_[l])),e)for(r=0;3>r;r++)l=y[s++],d.vertexColors.push(new G(_[l]));n.faces.push(d)}}(a),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var i=0,a=t.skinWeights.length;i<a;i+=e)n.skinWeights.push(new r(t.skinWeights[i],1<e?t.skinWeights[i+1]:0,2<e?t.skinWeights[i+2]:0,3<e?t.skinWeights[i+3]:0));if(t.skinIndices)for(i=0,a=t.skinIndices.length;i<a;i+=e)n.skinIndices.push(new r(t.skinIndices[i],1<e?t.skinIndices[i+1]:0,2<e?t.skinIndices[i+2]:0,3<e?t.skinIndices[i+3]:0));n.bones=t.bones,n.bones&&0<n.bones.length&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var i=0,r=t.morphTargets.length;i<r;i++){n.morphTargets[i]={},n.morphTargets[i].name=t.morphTargets[i].name,n.morphTargets[i].vertices=[];for(var a=n.morphTargets[i].vertices,o=t.morphTargets[i].vertices,s=0,c=o.length;s<c;s+=3){var l=new h;l.x=o[s]*e,l.y=o[s+1]*e,l.z=o[s+2]*e,a.push(l)}}if(void 0!==t.morphColors&&0<t.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),e=n.faces,a=t.morphColors[0].colors,i=0,r=e.length;i<r;i++)e[i].color.fromArray(a,3*i)}(a),function(){var e=[],i=[];void 0!==t.animation&&i.push(t.animation),void 0!==t.animations&&(t.animations.length?i=i.concat(t.animations):i.push(t.animations));for(var r=0;r<i.length;r++){var a=Ei.parseAnimation(i[r],n.bones);a&&e.push(a)}n.morphTargets&&(i=Ei.CreateClipsFromMorphTargetSequences(n.morphTargets,10),e=e.concat(i)),0<e.length&&(n.animations=e)}(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:n}:(a=Ai.prototype.initMaterials(t.materials,e,this.crossOrigin),{geometry:n,materials:a})}}),Object.assign(Ri.prototype,{load:function(t,e,i,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var r=this;new Je(r.manager).load(t,function(t){r.parse(JSON.parse(t),e)},i,n)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var i=this.parseGeometries(t.geometries),n=this.parseImages(t.images,function(){void 0!==e&&e(r)}),r=(n=this.parseTextures(t.textures,n),n=this.parseMaterials(t.materials,n),this.parseObject(t.object,i,n));return t.animations&&(r.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0===e||e(r),r},parseGeometries:function(t){var e={};if(void 0!==t)for(var i=new Li,n=new Ti,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Qn[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Qn[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Qn[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Qn[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Qn[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Qn[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":o=new Qn[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Qn[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Qn[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Qn[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Qn[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=n.parse(s);break;case"Geometry":o=i.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),e[s.uuid]=o}return e},parseMaterials:function(t,e){var i={};if(void 0!==t){var n=new Si;n.setTextures(e);for(var r=0,a=t.length;r<a;r++){var o=n.parse(t[r]);i[o.uuid]=o}}return i},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var n=Ei.parse(t[i]);e.push(n)}return e},parseImages:function(t,e){function i(t){return n.manager.itemStart(t),a.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}var n=this,r={};if(void 0!==t&&0<t.length){var a=new $e(o=new Ze(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var h=t[o],c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h.url)?h.url:n.texturePath+h.url;r[h.uuid]=i(c)}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var a=0,o=t.length;a<o;a++){var s=t[a];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var h=new n(e[s.image]);h.needsUpdate=!0,h.uuid=s.uuid,void 0!==s.name&&(h.name=s.name),void 0!==s.mapping&&(h.mapping=i(s.mapping,Nn)),void 0!==s.offset&&h.offset.fromArray(s.offset),void 0!==s.repeat&&h.repeat.fromArray(s.repeat),void 0!==s.wrap&&(h.wrapS=i(s.wrap[0],Fn),h.wrapT=i(s.wrap[1],Fn)),void 0!==s.minFilter&&(h.minFilter=i(s.minFilter,On)),void 0!==s.magFilter&&(h.magFilter=i(s.magFilter,On)),void 0!==s.anisotropy&&(h.anisotropy=s.anisotropy),void 0!==s.flipY&&(h.flipY=s.flipY),r[s.uuid]=h}return r},parseObject:function(){var t=new c;return function(e,i,n){function r(t){return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),i[t]}function a(t){if(void 0!==t)return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}var o;switch(e.type){case"Scene":o=new Wt,void 0!==e.background&&Number.isInteger(e.background)&&(o.background=new G(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new jt(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new kt(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new yt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new xt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":o=new li(e.color,e.intensity);break;case"DirectionalLight":o=new ci(e.color,e.intensity);break;case"PointLight":o=new si(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":o=new oi(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new ni(e.color,e.groundColor,e.intensity);break;case"Mesh":o=r(e.geometry);var s=a(e.material);o=o.bones&&0<o.bones.length?new $t(o,s):new ft(o,s);break;case"LOD":o=new Zt;break;case"Line":o=new ee(r(e.geometry),a(e.material),e.mode);break;case"LineSegments":o=new ie(r(e.geometry),a(e.material));break;case"PointCloud":case"Points":o=new re(r(e.geometry),a(e.material));break;case"Sprite":o=new qt(a(e.material));break;case"Group":o=new ae;break;default:o=new it}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.children)for(var h in e.children)o.add(this.parseObject(e.children[h],i,n));if("LOD"===e.type)for(e=e.levels,s=0;s<e.length;s++){var c=e[s];void 0!==(h=o.getObjectByProperty("uuid",c.object))&&o.addLevel(h,c.distance)}return o}}()}),Pi.prototype={constructor:Pi,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){return t=this.getUtoTmapping(t),this.getPoint(t)},getPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(r),n.push(a),r=e;return this.cacheArcLengths=n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,n,r=this.getLengths(),a=r.length;n=e||t*r[a-1];for(var o,s=0,h=a-1;s<=h;)if(0>(o=r[i=Math.floor(s+(h-s)/2)]-n))s=i+1;else{if(!(0<o)){h=i;break}h=i-1}return r[i=h]===n?i/(a-1):(i+(n-(s=r[i]))/(r[i+1]-s))/(a-1)},getTangent:function(t){var e=t-1e-4;return 0>e&&(e=0),1<(t+=1e-4)&&(t=1),e=this.getPoint(e),this.getPoint(t).clone().sub(e).normalize()},getTangentAt:function(t){return t=this.getUtoTmapping(t),this.getTangent(t)}},Pi.create=function(t,e){return t.prototype=Object.create(Pi.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Ci.prototype=Object.create(Pi.prototype),Ci.prototype.constructor=Ci,Ci.prototype.isLineCurve=!0,Ci.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},Ci.prototype.getPointAt=function(t){return this.getPoint(t)},Ci.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},Ui.prototype=Object.assign(Object.create(Pi.prototype),{constructor:Ui,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Ci(e,t))},getPoint:function(t){var e=t*this.getLength(),i=this.getCurveLengths();for(t=0;t<i.length;){if(i[t]>=e)return e=i[t]-e,i=(t=this.curves[t]).getLength(),t.getPointAt(0===i?0:1-e/i);t++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t},getSpacedPoints:function(t){t||(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],n=0,r=this.curves;n<r.length;n++)for(var a=(a=r[n]).getPoints(a&&a.isEllipseCurve?2*t:a&&a.isLineCurve?1:a&&a.isSplineCurve?t*a.points.length:t),o=0;o<a.length;o++){var s=a[o];e&&e.equals(s)||(i.push(s),e=s)}return this.autoClose&&1<i.length&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},createPointsGeometry:function(t){return t=this.getPoints(t),this.createGeometry(t)},createSpacedPointsGeometry:function(t){return t=this.getSpacedPoints(t),this.createGeometry(t)},createGeometry:function(t){for(var e=new ut,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new h(r.x,r.y,r.z||0))}return e}}),Ii.prototype=Object.create(Pi.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isEllipseCurve=!0,Ii.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;0>n;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n=n===e?-e:n-e),e=this.aStartAngle+t*n,t=this.aX+this.xRadius*Math.cos(e);var a=this.aY+this.yRadius*Math.sin(e);return 0!==this.aRotation&&(e=Math.cos(this.aRotation),n=Math.sin(this.aRotation),t=(r=t-this.aX)*e-(a-=this.aY)*n+this.aX,a=r*n+a*e+this.aY),new i(t,a)},t.CurveUtils={tangentQuadraticBezier:function(t,e,i,n){return 2*(1-t)*(i-e)+2*t*(n-i)},tangentCubicBezier:function(t,e,i,n,r){return-3*e*(1-t)*(1-t)+3*i*(1-t)*(1-t)-6*t*i*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*r},tangentSpline:function(t,e,i,n,r){return 6*t*t-6*t+(3*t*t-4*t+1)+(-6*t*t+6*t)+(3*t*t-2*t)},interpolate:function(t,e,i,n,r){var a=r*r;return(2*e-2*i+(t=.5*(i-t))+(n=.5*(n-e)))*r*a+(-3*e+3*i-2*t-n)*a+t*r+e}},Di.prototype=Object.create(Pi.prototype),Di.prototype.constructor=Di,Di.prototype.isSplineCurve=!0,Di.prototype.getPoint=function(e){e*=(s=this.points).length-1,e-=n=Math.floor(e);var n,r=s[0===n?n:n-1],a=s[n],o=s[n>s.length-2?s.length-1:n+1],s=s[n>s.length-3?s.length-1:n+2];return new i((n=t.CurveUtils.interpolate)(r.x,a.x,o.x,s.x,e),n(r.y,a.y,o.y,s.y,e))},Ni.prototype=Object.create(Pi.prototype),Ni.prototype.constructor=Ni,Ni.prototype.getPoint=function(e){var n=t.ShapeUtils.b3;return new i(n(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),n(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},Ni.prototype.getTangent=function(e){var n=t.CurveUtils.tangentCubicBezier;return new i(n(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),n(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},Fi.prototype=Object.create(Pi.prototype),Fi.prototype.constructor=Fi,Fi.prototype.getPoint=function(e){var n=t.ShapeUtils.b2;return new i(n(e,this.v0.x,this.v1.x,this.v2.x),n(e,this.v0.y,this.v1.y,this.v2.y))},Fi.prototype.getTangent=function(e){var n=t.CurveUtils.tangentQuadraticBezier;return new i(n(e,this.v0.x,this.v1.x,this.v2.x),n(e,this.v0.y,this.v1.y,this.v2.y)).normalize()};var tr,er=Object.assign(Object.create(Ui.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Ci(this.currentPoint.clone(),new i(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){t=new Fi(this.currentPoint.clone(),new i(t,e),new i(n,r)),this.curves.push(t),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,a,o){t=new Ni(this.currentPoint.clone(),new i(t,e),new i(n,r),new i(a,o)),this.curves.push(t),this.currentPoint.set(a,o)},splineThru:function(t){var e=new Di(e=[this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,n,r,a){this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,i,n,r,a)},absarc:function(t,e,i,n,r,a){this.absellipse(t,e,i,i,n,r,a)},ellipse:function(t,e,i,n,r,a,o,s){this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,i,n,r,a,o,s)},absellipse:function(t,e,i,n,r,a,o,s){t=new Ii(t,e,i,n,r,a,o,s),0<this.curves.length&&((e=t.getPoint(0)).equals(this.currentPoint)||this.lineTo(e.x,e.y)),this.curves.push(t),t=t.getPoint(1),this.currentPoint.copy(t)}});Oi.prototype=Object.assign(Object.create(er),{constructor:Oi,getPointsHoles:function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),zi.prototype=er,er.constructor=zi,Bi.prototype={moveTo:function(t,e){this.currentPath=new zi,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,n){this.currentPath.quadraticCurveTo(t,e,i,n)},bezierCurveTo:function(t,e,i,n,r,a){this.currentPath.bezierCurveTo(t,e,i,n,r,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(e,i){function n(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],a=new Oi;a.curves=r.curves,e.push(a)}return e}function r(t,e){for(var i=e.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=e[r],s=e[a],h=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(0>c&&(o=e[a],h=-h,s=e[r],c=-c),!(t.y<o.y||t.y>s.y))if(t.y===o.y){if(t.x===o.x)return!0}else{if(0===(r=c*(t.x-o.x)-h*(t.y-o.y)))return!0;0>r||(n=!n)}}else if(t.y===o.y&&(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x))return!0}return n}var a=t.ShapeUtils.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===i)return n(o);var s,h,c,l=[];if(1===o.length)return h=o[0],(c=new Oi).curves=h.curves,l.push(c),l;var u=!a(o[0].getPoints());u=e?!u:u;c=[];var p,d=[],f=[],m=0;d[m]=void 0,f[m]=[];for(var g=0,v=o.length;g<v;g++)s=a(p=(h=o[g]).getPoints()),(s=e?!s:s)?(!u&&d[m]&&m++,d[m]={s:new Oi,p:p},d[m].s.curves=h.curves,u&&m++,f[m]=[]):f[m].push({h:h,p:p[0]});if(!d[0])return n(o);if(1<d.length){for(g=!1,h=[],a=0,o=d.length;a<o;a++)c[a]=[];for(a=0,o=d.length;a<o;a++)for(s=f[a],u=0;u<s.length;u++){for(m=s[u],p=!0,v=0;v<d.length;v++)r(m.p,d[v].p)&&(a!==v&&h.push({froms:a,tos:v,hole:u}),p?(p=!1,c[v].push(m)):g=!0);p&&c[a].push(m)}0<h.length&&(g||(f=c))}for(g=0,a=d.length;g<a;g++)for(c=d[g].s,l.push(c),o=0,s=(h=f[g]).length;o<s;o++)c.holes.push(h[o].h);return l}},Object.assign(Gi.prototype,{isFont:!0,generateShapes:function(e,i,n){void 0===i&&(i=100),void 0===n&&(n=4);var r=this.data;e=String(e).split("");var a=i/r.resolution,o=0;i=[];for(var s=0;s<e.length;s++){var h;h=a;var c=o,l=r.glyphs[e[s]]||r.glyphs["?"];if(l){var u,p,d,f,m,g,v,y,x=new Bi,_=[],b=t.ShapeUtils.b2,w=t.ShapeUtils.b3;if(l.o)for(var M=l._cachedOutline||(l._cachedOutline=l.o.split(" ")),E=0,S=M.length;E<S;)switch(M[E++]){case"m":u=M[E++]*h+c,p=M[E++]*h,x.moveTo(u,p);break;case"l":u=M[E++]*h+c,p=M[E++]*h,x.lineTo(u,p);break;case"q":if(u=M[E++]*h+c,p=M[E++]*h,m=M[E++]*h+c,g=M[E++]*h,x.quadraticCurveTo(m,g,u,p),f=_[_.length-1]){d=f.x,f=f.y;for(var T=1;T<=n;T++){var A=T/n;b(A,d,m,u),b(A,f,g,p)}}break;case"b":if(u=M[E++]*h+c,p=M[E++]*h,m=M[E++]*h+c,g=M[E++]*h,v=M[E++]*h+c,y=M[E++]*h,x.bezierCurveTo(m,g,v,y,u,p),f=_[_.length-1])for(d=f.x,f=f.y,T=1;T<=n;T++)w(A=T/n,d,m,v,u),w(A,f,g,y,p)}h={offset:l.ha*h,path:x}}else h=void 0;o+=h.offset,i.push(h.path)}for(n=[],r=0,e=i.length;r<e;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Object.assign(Hi.prototype,{load:function(t,e,i,n){var r=this;new Je(this.manager).load(t,function(t){var i;try{i=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(t.substring(65,t.length-2))}t=r.parse(i),e&&e(t)},i,n)},parse:function(t){return new Gi(t)}}),Object.assign(ki.prototype,{load:function(t,e,i,n){var r=new Je(this.manager);r.setResponseType("arraybuffer"),r.load(t,function(t){Vi().decodeAudioData(t,function(t){e(t)})},i,n)}}),Object.assign(ji.prototype,{update:function(){var e,i,n,r,a,o,s,h=new c,l=new c;return function(c){if(e!==this||i!==c.focus||n!==c.fov||r!==c.aspect*this.aspect||a!==c.near||o!==c.far||s!==c.zoom){e=this,i=c.focus,n=c.fov,r=c.aspect*this.aspect,a=c.near,o=c.far,s=c.zoom;var u,p=c.projectionMatrix.clone(),d=this.eyeSep/2,f=d*a/i,m=a*Math.tan(t.Math.DEG2RAD*n*.5)/s;l.elements[12]=-d,h.elements[12]=d,d=-m*r+f,u=m*r+f,p.elements[0]=2*a/(u-d),p.elements[8]=(u+d)/(u-d),this.cameraL.projectionMatrix.copy(p),d=-m*r-f,u=m*r-f,p.elements[0]=2*a/(u-d),p.elements[8]=(u+d)/(u-d),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(h)}}()}),Wi.prototype=Object.create(it.prototype),Wi.prototype.constructor=Wi,Xi.prototype=Object.assign(Object.create(it.prototype),{constructor:Xi,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new h,e=new s,i=new h,n=new h;return function(r){it.prototype.updateMatrixWorld.call(this,r),r=this.context.listener;var a=this.up;this.matrixWorld.decompose(t,e,i),n.set(0,0,-1).applyQuaternion(e),r.setPosition(t.x,t.y,t.z),r.setOrientation(n.x,n.y,n.z,a.x,a.y,a.z)}}()}),Yi.prototype=Object.assign(Object.create(it.prototype),{constructor:Yi,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.source.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(t){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=t},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),qi.prototype=Object.assign(Object.create(Yi.prototype),{constructor:qi,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new h;return function(e){it.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Zi.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),Ji.prototype={constructor:Ji,accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,a=this.cumulativeWeight;if(0===a){for(a=0;a!==n;++a)i[r+a]=i[a];a=e}else a+=e,this._mixBufferRegion(i,r,0,e/a,n);this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer;t=t*e+e;var n=this.cumulativeWeight,r=this.binding;this.cumulativeWeight=0,1>n&&this._mixBufferRegion(i,t,3*e,1-n,e);n=e;for(var a=e+e;n!==a;++n)if(i[n]!==i[n+e]){r.setValue(i,t);break}},saveOriginalState:function(){var t=this.buffer,e=this.valueSize,i=3*e;this.binding.getValue(t,i);for(var n=e;n!==i;++n)t[n]=t[i+n%e];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(t,e,i,n,r){if(.5<=n)for(n=0;n!==r;++n)t[e+n]=t[i+n]},_slerp:function(t,e,i,n,r){s.slerpFlat(t,e,t,e,t,i,n)},_lerp:function(t,e,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*n}}},Qi.prototype={constructor:Qi,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(this.node=t=Qi.findNode(this.rootNode,e.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);for(t=t.skeleton.bones,i=0;i<t.length;i++)if(t[i].name===a){a=i;break}break;default:if(void 0===t[i])return void console.error("  can not bind to objectName of node, undefined",this);t=t[i]}if(void 0!==a){if(void 0===t[a])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[a]}}if(void 0===(a=t[n]))console.error("  trying to update property for track: "+e.nodeName+"."+n+" but it wasn't found.",t);else{if(e=this.Versioning.None,void 0!==t.needsUpdate?(e=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(e=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t),i=this.BindingType.Direct,void 0!==r){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(i=0;i<this.node.geometry.morphTargets.length;i++)if(t.geometry.morphTargets[i].name===r){r=i;break}}i=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(i=this.BindingType.HasFromToArray,this.resolvedProperty=a):void 0!==a.length?(i=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=n;this.getValue=this.GetterByBindingType[i],this.setValue=this.SetterByBindingTypeAndVersioning[i][e]}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Qi.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Qi.prototype.getValue,_setValue_unbound:Qi.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Qi.Composite=function(t,e,i){i=i||Qi.parseTrackName(e),this._targetGroup=t,this._bindings=t.subscribe_(e,i)},Qi.Composite.prototype={constructor:Qi.Composite,getValue:function(t,e){this.bind();var i=this._bindings[this._targetGroup.nCachedObjects_];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},Qi.create=function(t,e,i){return t&&t.isAnimationObjectGroup?new Qi.Composite(t,e,i):new Qi(t,e,i)},Qi.parseTrackName=function(t){var e=/^((?:\w+[\/:])*)(\w+)?(?:\.(\w+)(?:\[(.+)\])?)?\.(\w+)(?:\[(.+)\])?$/.exec(t);if(!e)throw Error("cannot parse trackName at all: "+t);if(null===(e={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]}).propertyName||0===e.propertyName.length)throw Error("can not parse propertyName from trackName: "+t);return e},Qi.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=function(t){for(var i=0;i<t.bones.length;i++){var n=t.bones[i];if(n.name===e)return n}return null}(t.skeleton);if(i)return i}if(t.children){var n=function(t){for(var i=0;i<t.length;i++){var r=t[i];if(r.name===e||r.uuid===e||(r=n(r.children)))return r}return null};if(i=n(t.children))return i}return null},Ki.prototype={constructor:Ki,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,h=s.length,c=0,l=arguments.length;c!==l;++c){var u=arguments[c],p=r[d=u.uuid];if(void 0===p){p=i++,r[d]=p,e.push(u);for(var d=0,f=h;d!==f;++d)s[d].push(new Qi(u,a[d],o[d]))}else if(p<n){var m=e[p],g=--n;for(r[(f=e[g]).uuid]=p,e[p]=f,r[d]=g,e[g]=u,d=0,f=h;d!==f;++d){var v=s[d],y=v[p];v[p]=v[g],void 0===y&&(y=new Qi(u,a[d],o[d])),v[g]=y}}else e[p]!==m&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=n},remove:function(t){for(var e=this._objects,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var h=arguments[o],c=h.uuid,l=n[c];if(void 0!==l&&l>=i){var u=i++;for(n[(p=e[u]).uuid]=l,e[l]=p,n[c]=u,e[u]=h,h=0,c=a;h!==c;++h){var p,d=(p=r[h])[l];p[l]=p[u],p[u]=d}}}this.nCachedObjects_=i},uncache:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,h=arguments.length;s!==h;++s){var c=r[l=arguments[s].uuid];if(void 0!==c)if(delete r[l],c<n){var l,u=e[l=--n],p=--i,d=e[p];for(r[u.uuid]=c,e[c]=u,r[d.uuid]=l,e[l]=d,e.pop(),u=0,d=o;u!==d;++u){var f=a[u],m=f[p];f[c]=f[l],f[l]=m,f.pop()}}else for(r[(d=e[p=--i]).uuid]=c,e[c]=d,e.pop(),u=0,d=o;u!==d;++u)(f=a[u])[c]=f[p],f.pop()}this.nCachedObjects_=n},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,n=i[t],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,h=this.nCachedObjects_,c=Array(s.length);n=r.length;for(i[t]=n,a.push(t),o.push(e),r.push(c),i=h,n=s.length;i!==n;++i)c[i]=new Qi(s[i],t,e);return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=i,a[i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}},$i.prototype={constructor:$i,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){i=this._clip.duration;var n=t._clip.duration,r=i/n;t.warp(1,n/i,e),this.warp(r,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;return null===a&&(this._timeScaleInterpolant=a=n._lendControlInterpolant()),n=a.parameterPositions,a=a.sampleValues,n[0]=r,n[1]=r+i,a[0]=t/o,a[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){if(null!==(r=this._startTime)){if(0>(e=(t-r)*i)||0===i)return;this._startTime=null,e*=i}if(e*=this._updateTimeScale(t),i=this._updateTime(e),0<(t=this._updateWeight(t))){e=this._interpolants;for(var r=this._propertyBindings,a=0,o=e.length;a!==o;++a)e[a].evaluate(i),r[a].accumulate(n,t)}},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e=e*n;t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i){e=e*i.evaluate(t)[0];t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var i=this._clip.duration,n=this.loop,r=this._loopCount;if(2200===n)t:{if(-1===r&&(this.loopCount=0,this._setEndings(!0,!0,!1)),e>=i)e=i;else{if(!(0>e))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>t?-1:1})}else{if(n=2202===n,-1===r&&(0<=t?(r=0,this._setEndings(!0,0===this.repetitions,n)):this._setEndings(0===this.repetitions,!0,n)),e>=i||0>e){var a=Math.floor(e/i),o=(e=e-i*a,r=r+Math.abs(a),this.repetitions-r);0>o?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=0<t?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1})):(0===o?(t=0>t,this._setEndings(t,!t,n)):this._setEndings(!1,!1,n),this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a}))}if(n&&1==(1&r))return this.time=e,i-e}return this.time=e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=2401,n.endingEnd=2401):(n.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,n.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;return null===a&&(this._weightInterpolant=a=n._lendControlInterpolant()),n=a.parameterPositions,a=a.sampleValues,n[0]=r,a[0]=e,n[1]=r+t,a[1]=i,this}},Object.assign(tn.prototype,e.prototype,{clipAction:function(t,e){var i=(r=e||this._root).uuid,n="string"==typeof t?Ei.findByName(r,t):t,r=null!==n?n.uuid:t,a=this._actionsByClip[r],o=null;if(void 0!==a){if(void 0!==(o=a.actionByRoot[i]))return o;o=a.knownActions[0],null===n&&(n=o._clip)}return null===n?null:(n=new $i(this,n,e),this._bindAction(n,o),this._addInactiveAction(n,r,i),n)},existingAction:function(t,e){var i=(n=e||this._root).uuid,n="string"==typeof t?Ei.findByName(n,t):t;return void 0!==(n=this._actionsByClip[n?n.uuid:t])&&n.actionByRoot[i]||null},stopAllAction:function(){for(var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings,r=this._nActiveBindings=this._nActiveActions=0;r!==e;++r)t[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==i;++o){var s=e[o];s.enabled&&s._update(n,t,r,a)}for(t=this._bindings,e=this._nActiveBindings,o=0;o!==e;++o)t[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions;t=t.uuid;var i=this._actionsByClip;if(void 0!==(n=i[t])){for(var n,r=0,a=(n=n.knownActions).length;r!==a;++r){var o=n[r];this._deactivateAction(o);var s=o._cacheIndex,h=e[e.length-1];o._cacheIndex=null,o._byClipCacheIndex=null,h._cacheIndex=s,e[s]=h,e.pop(),this._removeInactiveBindingsForAction(o)}delete i[t]}},uncacheRoot:function(t){t=t.uuid;var e,i=this._actionsByClip;for(e in i){var n=i[e].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}if(void 0!==(e=this._bindingsByRootAndName[t]))for(var r in e)(t=e[r]).restoreOriginalState(),this._removeInactiveBinding(t)},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Object.assign(tn.prototype,{_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,h=this._bindingsByRootAndName,c=h[s];for(void 0===c&&(c={},h[s]=c),h=0;h!==r;++h){var l=n[h],u=l.name,p=c[u];if(void 0===p){if(void 0!==(p=a[h])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,u));continue}++(p=new Ji(Qi.create(i,u,e&&e._propertyBindings[h].binding.parsedPath),l.ValueTypeName,l.getValueSize())).referenceCount,this._addInactiveBinding(p,s,u)}a[h]=p,o[h].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(i=0,n=(e=t._propertyBindings).length;i!==n;++i){var r=e[i];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){return null!==(t=t._cacheIndex)&&t<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,a=r[e];void 0===a?(a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a):(e=a.knownActions,t._byClipCacheIndex=e.length,e.push(t)),t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;i=t._clip.uuid;var r=(n=this._actionsByClip)[i],a=r.knownActions,o=a[a.length-1],s=t._byClipCacheIndex;o._byClipCacheIndex=s,a[s]=o,a.pop(),t._byClipCacheIndex=null,delete r.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete n[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=0,i=(t=t._propertyBindings).length;e!==i;++e){var n=t[e];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],a=this._bindings;void 0===r&&(r={},n[e]=r),r[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=(n=t.binding).rootNode.uuid,n=n.path,r=this._bindingsByRootAndName,a=r[i],o=e[e.length-1];t=t._cacheIndex,o._cacheIndex=t,e[t]=o,e.pop(),delete a[n];t:{for(var s in a)break t;delete r[i]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new di(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1)}),en.prototype={constructor:en,onUpdate:function(t){return this.dynamic=!0,this.onUpdateCallback=t,this}},nn.prototype=Object.create(dt.prototype),nn.prototype.constructor=nn,nn.prototype.isInstancedBufferGeometry=!0,nn.prototype.addGroup=function(t,e,i){this.groups.push({start:t,count:e,instances:i})},nn.prototype.copy=function(t){null!==(i=t.index)&&this.setIndex(i.clone());var e,i=t.attributes;for(e in i)this.addAttribute(e,i[e].clone());for(e=0,i=(t=t.groups).length;e<i;e++){var n=t[e];this.addGroup(n.start,n.count,n.instances)}return this},rn.prototype={constructor:rn,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}},an.prototype={constructor:an,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},on.prototype=Object.create(an.prototype),on.prototype.constructor=on,on.prototype.isInstancedInterleavedBuffer=!0,on.prototype.copy=function(t){return an.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},sn.prototype=Object.create(st.prototype),sn.prototype.constructor=sn,sn.prototype.isInstancedBufferAttribute=!0,sn.prototype.copy=function(t){return st.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},hn.prototype={constructor:hn,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var i=[];return ln(t,this,i,e),i.sort(cn),i},intersectObjects:function(t,e){var i=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var n=0,r=t.length;n<r;n++)ln(t[n],this,i,e);return i.sort(cn),i}},un.prototype={constructor:un,start:function(){this.oldTime=this.startTime=(performance||Date).now(),this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3;this.oldTime=e,this.elapsedTime+=t}return t}},pn.prototype={constructor:pn,set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius.copy(t.radius),this.phi.copy(t.phi),this.theta.copy(t.theta),this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(t.Math.clamp(e.y/this.radius,-1,1))),this}},dn.prototype=Object.create(ft.prototype),dn.prototype.constructor=dn,dn.prototype.createAnimation=function(t,e,i,n){e={start:e,end:i,length:i-e+1,fps:n,duration:(i-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1},this.animationsMap[t]=e,this.animationsList.push(e)},dn.prototype.autoCreateAnimations=function(t){for(var e,i=/([a-z]+)_?(\d+)/i,n={},r=this.geometry,a=0,o=r.morphTargets.length;a<o;a++){var s=r.morphTargets[a].name.match(i);if(s&&1<s.length){var h=s[1];n[h]||(n[h]={start:1/0,end:-1/0}),a<(s=n[h]).start&&(s.start=a),a>s.end&&(s.end=a),e||(e=h)}}for(h in n)s=n[h],this.createAnimation(h,s.start,s.end,t);this.firstAnimation=e},dn.prototype.setAnimationDirectionForward=function(t){(t=this.animationsMap[t])&&(t.direction=1,t.directionBackwards=!1)},dn.prototype.setAnimationDirectionBackward=function(t){(t=this.animationsMap[t])&&(t.direction=-1,t.directionBackwards=!0)},dn.prototype.setAnimationFPS=function(t,e){var i=this.animationsMap[t];i&&(i.fps=e,i.duration=(i.end-i.start)/i.fps)},dn.prototype.setAnimationDuration=function(t,e){var i=this.animationsMap[t];i&&(i.duration=e,i.fps=(i.end-i.start)/i.duration)},dn.prototype.setAnimationWeight=function(t,e){var i=this.animationsMap[t];i&&(i.weight=e)},dn.prototype.setAnimationTime=function(t,e){var i=this.animationsMap[t];i&&(i.time=e)},dn.prototype.getAnimationTime=function(t){var e=0;return(t=this.animationsMap[t])&&(e=t.time),e},dn.prototype.getAnimationDuration=function(t){var e=-1;return(t=this.animationsMap[t])&&(e=t.duration),e},dn.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},dn.prototype.stopAnimation=function(t){(t=this.animationsMap[t])&&(t.active=!1)},dn.prototype.update=function(e){for(var i=0,n=this.animationsList.length;i<n;i++){var r=this.animationsList[i];if(r.active){var a=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||0>r.time)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),0>r.time&&(r.time=0,r.directionBackwards=!1)):(r.time%=r.duration,0>r.time&&(r.time+=r.duration));var o=r.start+t.Math.clamp(Math.floor(r.time/a),0,r.length-1),s=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*s,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o),a=r.time%a/a,r.directionBackwards&&(a=1-a),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=a*s,this.morphTargetInfluences[r.lastFrame]=(1-a)*s):this.morphTargetInfluences[r.currentFrame]=s}}},fn.prototype=Object.create(it.prototype),fn.prototype.constructor=fn,fn.prototype.isImmediateRenderObject=!0,mn.prototype=Object.create(ie.prototype),mn.prototype.constructor=mn,mn.prototype.update=function(){var t=new h,e=new h,i=new Z;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,h=o.faces,c=o=0,l=h.length;c<l;c++)for(var u=h[c],p=0,d=u.vertexNormals.length;p<d;p++){var f=u.vertexNormals[p];t.copy(s[u[n[p]]]).applyMatrix4(r),e.copy(f).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(o,t.x,t.y,t.z),o+=1,a.setXYZ(o,e.x,e.y,e.z),o+=1}else if(o&&o.isBufferGeometry)for(n=o.attributes.position,s=o.attributes.normal,p=o=0,d=n.count;p<d;p++)t.set(n.getX(p),n.getY(p),n.getZ(p)).applyMatrix4(r),e.set(s.getX(p),s.getY(p),s.getZ(p)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(o,t.x,t.y,t.z),o+=1,a.setXYZ(o,e.x,e.y,e.z),o+=1;return a.needsUpdate=!0,this}}(),gn.prototype=Object.create(it.prototype),gn.prototype.constructor=gn,gn.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},gn.prototype.update=function(){var t=new h,e=new h;return function(){var i=this.light.distance?this.light.distance:1e3,n=i*Math.tan(this.light.angle);this.cone.scale.set(n,n,i),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),vn.prototype=Object.create(ie.prototype),vn.prototype.constructor=vn,vn.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,this.getBoneList(t.children[i]));return e},vn.prototype.update=function(){for(var t=this.geometry,e=(new c).getInverse(this.root.matrixWorld),i=new c,n=0,r=0;r<this.bones.length;r++){var a=this.bones[r];a.parent&&a.parent.isBone&&(i.multiplyMatrices(e,a.matrixWorld),t.vertices[n].setFromMatrixPosition(i),i.multiplyMatrices(e,a.parent.matrixWorld),t.vertices[n+1].setFromMatrixPosition(i),n+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},yn.prototype=Object.create(ft.prototype),yn.prototype.constructor=yn,yn.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},yn.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},xn.prototype=Object.create(it.prototype),xn.prototype.constructor=xn,xn.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},xn.prototype.update=function(){var t=new h;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),_n.prototype=Object.create(ie.prototype),_n.prototype.constructor=_n,_n.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},bn.prototype=Object.create(ie.prototype),bn.prototype.constructor=bn,bn.prototype.update=function(){var t=new h,e=new h,i=new Z;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var n,r=this.object.matrixWorld,a=this.geometry.attributes.position,o=(n=this.object.geometry).vertices,s=0,h=0,c=(n=n.faces).length;h<c;h++){var l=n[h],u=l.normal;t.copy(o[l.a]).add(o[l.b]).add(o[l.c]).divideScalar(3).applyMatrix4(r),e.copy(u).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(s,t.x,t.y,t.z),s+=1,a.setXYZ(s,e.x,e.y,e.z),s+=1}return a.needsUpdate=!0,this}}(),wn.prototype=Object.create(it.prototype),wn.prototype.constructor=wn,wn.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},wn.prototype.update=function(){var t=new h,e=new h,i=new h;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t);var n=this.children[0],r=this.children[1];n.lookAt(i),n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.lookAt(i),r.scale.z=i.length()}}(),Mn.prototype=Object.create(ie.prototype),Mn.prototype.constructor=Mn,Mn.prototype.update=function(){function t(t,a,o,s){if(n.set(a,o,s).unproject(r),void 0!==(t=i[t]))for(a=0,o=t.length;a<o;a++)e.vertices[t[a]].copy(n)}var e,i,n=new h,r=new vt;return function(){e=this.geometry,i=this.pointMap,r.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.verticesNeedUpdate=!0}}(),En.prototype=Object.create(ft.prototype),En.prototype.constructor=En,En.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.getCenter(this.position)},Sn.prototype=Object.create(ie.prototype),Sn.prototype.constructor=Sn,Sn.prototype.update=function(){var t=new Y;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){e=t.min;var i=t.max,n=this.geometry.attributes.position,r=n.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var ir=new dt;ir.addAttribute("position",new lt([0,0,0,0,1,0],3));var nr=new Ie(0,.5,1,5,1);nr.translate(0,-.5,0),Tn.prototype=Object.create(it.prototype),Tn.prototype.constructor=Tn,Tn.prototype.setDirection=function(){var t,e=new h;return function(i){.99999<i.y?this.quaternion.set(0,0,0,1):-.99999>i.y?this.quaternion.set(1,0,0,0):(e.set(i.z,0,-i.x).normalize(),t=Math.acos(i.y),this.quaternion.setFromAxisAngle(e,t))}}(),Tn.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},Tn.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},An.prototype=Object.create(ie.prototype),An.prototype.constructor=An,t.CatmullRomCurve3=function(){function t(){}var e=new h,i=new t,n=new t,r=new t;return t.prototype.init=function(t,e,i,n){this.c0=t,this.c1=i,this.c2=-3*t+3*e-2*i-n,this.c3=2*t-2*e+i+n},t.prototype.initNonuniformCatmullRom=function(t,e,i,n,r,a,o){this.init(e,i,((e-t)/r-(i-t)/(r+a)+(i-e)/a)*a,((i-e)/a-(n-e)/(a+o)+(n-i)/o)*a)},t.prototype.initCatmullRom=function(t,e,i,n,r){this.init(e,i,r*(i-t),r*(n-e))},t.prototype.calc=function(t){var e=t*t;return this.c0+this.c1*t+this.c2*e+this.c3*e*t},Pi.create(function(t){this.points=t||[],this.closed=!1},function(t){var a,o,s,c,l,u=this.points;if(2>(o=u.length)&&console.log("duh, you need at least 2 points"),t*=o-(this.closed?0:1),t-=a=Math.floor(t),this.closed?a+=0<a?0:(Math.floor(Math.abs(a)/u.length)+1)*u.length:0===t&&a===o-1&&(a=o-2,t=1),this.closed||0<a?s=u[(a-1)%o]:(e.subVectors(u[0],u[1]).add(u[0]),s=e),c=u[a%o],l=u[(a+1)%o],this.closed||a+2<o?u=u[(a+2)%o]:(e.subVectors(u[o-1],u[o-2]).add(u[o-1]),u=e),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var p="chordal"===this.type?.5:.25;o=Math.pow(s.distanceToSquared(c),p),1e-4>(a=Math.pow(c.distanceToSquared(l),p))&&(a=1),1e-4>o&&(o=a),1e-4>(p=Math.pow(l.distanceToSquared(u),p))&&(p=a),i.initNonuniformCatmullRom(s.x,c.x,l.x,u.x,o,a,p),n.initNonuniformCatmullRom(s.y,c.y,l.y,u.y,o,a,p),r.initNonuniformCatmullRom(s.z,c.z,l.z,u.z,o,a,p)}else"catmullrom"===this.type&&(o=void 0!==this.tension?this.tension:.5,i.initCatmullRom(s.x,c.x,l.x,u.x,o),n.initCatmullRom(s.y,c.y,l.y,u.y,o),r.initCatmullRom(s.z,c.z,l.z,u.z,o));return new h(i.calc(t),n.calc(t),r.calc(t))})}(),Ln.prototype=Object.create(t.CatmullRomCurve3.prototype);var rr=Pi.create(function(t){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0===t?[]:t},function(e){e*=(o=this.points).length-1,e-=i=Math.floor(e);var i,n=o[0==i?i:i-1],r=o[i],a=o[i>o.length-2?o.length-1:i+1],o=o[i>o.length-3?o.length-1:i+2];return new h((i=t.CurveUtils.interpolate)(n.x,r.x,a.x,o.x,e),i(n.y,r.y,a.y,o.y,e),i(n.z,r.z,a.z,o.z,e))});t.CubicBezierCurve3=Pi.create(function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n},function(e){var i=t.ShapeUtils.b3;return new h(i(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),i(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),t.QuadraticBezierCurve3=Pi.create(function(t,e,i){this.v0=t,this.v1=e,this.v2=i},function(e){var i=t.ShapeUtils.b2;return new h(i(e,this.v0.x,this.v1.x,this.v2.x),i(e,this.v0.y,this.v1.y,this.v2.y),i(e,this.v0.z,this.v1.z,this.v2.z))}),t.LineCurve3=Pi.create(function(t,e){this.v1=t,this.v2=e},function(t){if(1===t)return this.v2.clone();var e=new h;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e}),Rn.prototype=Object.create(Ii.prototype),Rn.prototype.constructor=Rn,t.SceneUtils={createMultiMaterialObject:function(t,e){for(var i=new ae,n=0,r=e.length;n<r;n++)i.add(new ft(t,e[n]));return i},detach:function(t,e,i){t.applyMatrix(e.matrixWorld),e.remove(t),i.add(t)},attach:function(t,e,i){var n=new c;n.getInverse(i.matrixWorld),t.applyMatrix(n),e.remove(t),i.add(t)}},Object.assign(H.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Y.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(nt.prototype,{center:function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)}}),Object.assign(Z.prototype,{multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)}}),Object.assign(c.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(t){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(t){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(t){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(t){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(t,e){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}),Object.assign(J.prototype,{isIntersectionLine:function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)}}),Object.assign(s.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)}}),Object.assign($.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Oi.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new we(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ce(this,t)}}),Object.assign(h.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)}}),Object.assign(it.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(t){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(it.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Zt.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),yt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(ii.prototype,{onlyShadow:{set:function(t){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(t){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(st.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.assign(dt.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(dt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(j.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(t){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new G}}}),Object.defineProperties(We.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(t){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(W.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),e.prototype=Object.assign(Object.create({constructor:e,apply:function(t){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(t,this)}}),e.prototype),Object.assign(Vt.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Vt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(K.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(t){t=1!==t,console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+t+"."),this.renderReverseSided=t}}}),Object.defineProperties(a.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.assign(Yi.prototype,{load:function(t){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var e=this;return(new ki).load(t,function(t){e.setBuffer(t)}),this}}),Object.assign(Zi.prototype,{getData:function(t){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()}}),Object.defineProperty(t,"AudioContext",{get:function(){return t.getAudioContext()}}),t.WebGLRenderTargetCube=o,t.WebGLRenderTarget=a,t.WebGLRenderer=Vt,t.ShaderLib=Xn,t.UniformsLib=Wn,t.ShaderChunk=jn,t.FogExp2=kt,t.Fog=jt,t.Scene=Wt,t.LensFlare=Xt,t.Sprite=qt,t.LOD=Zt,t.SkinnedMesh=$t,t.Skeleton=Qt,t.Bone=Kt,t.Mesh=ft,t.LineSegments=ie,t.Line=ee,t.Points=re,t.Group=ae,t.VideoTexture=oe,t.DataTexture=Jt,t.CompressedTexture=se,t.CubeTexture=l,t.CanvasTexture=he,t.DepthTexture=ce,t.TextureIdCount=function(){return zn++},t.Texture=n,t.MaterialIdCount=function(){return Yn++},t.CompressedTextureLoader=Qe,t.BinaryTextureLoader=Ke,t.DataTextureLoader=Ke,t.CubeTextureLoader=ti,t.TextureLoader=ei,t.ObjectLoader=Ri,t.MaterialLoader=Si,t.BufferGeometryLoader=Ti,t.LoadingManager=Ze,t.JSONLoader=Li,t.ImageLoader=$e,t.FontLoader=Hi,t.XHRLoader=Je,t.Loader=Ai,t.AudioLoader=ki,t.SpotLightShadow=ai,t.SpotLight=oi,t.PointLight=si,t.HemisphereLight=ni,t.DirectionalLightShadow=hi,t.DirectionalLight=ci,t.AmbientLight=li,t.LightShadow=ri,t.Light=ii,t.StereoCamera=ji,t.PerspectiveCamera=yt,t.OrthographicCamera=xt,t.CubeCamera=Wi,t.Camera=vt,t.AudioListener=Xi,t.PositionalAudio=qi,t.getAudioContext=Vi,t.AudioAnalyser=Zi,t.Audio=Yi,t.VectorKeyframeTrack=gi,t.StringKeyframeTrack=_i,t.QuaternionKeyframeTrack=yi,t.NumberKeyframeTrack=xi,t.ColorKeyframeTrack=wi,t.BooleanKeyframeTrack=bi,t.PropertyMixer=Ji,t.PropertyBinding=Qi,t.KeyframeTrack=Mi,t.AnimationObjectGroup=Ki,t.AnimationMixer=tn,t.AnimationClip=Ei,t.Uniform=en,t.InstancedBufferGeometry=nn,t.BufferGeometry=dt,t.GeometryIdCount=function(){return Zn++},t.Geometry=ut,t.InterleavedBufferAttribute=rn,t.InstancedInterleavedBuffer=on,t.InterleavedBuffer=an,t.InstancedBufferAttribute=sn,t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new st(t,e).setDynamic(!0)},t.Float64Attribute=function(t,e){return new st(new Float64Array(t),e)},t.Float32Attribute=lt,t.Uint32Attribute=ct,t.Int32Attribute=function(t,e){return new st(new Int32Array(t),e)},t.Uint16Attribute=ht,t.Int16Attribute=function(t,e){return new st(new Int16Array(t),e)},t.Uint8ClampedAttribute=function(t,e){return new st(new Uint8ClampedArray(t),e)},t.Uint8Attribute=function(t,e){return new st(new Uint8Array(t),e)},t.Int8Attribute=function(t,e){return new st(new Int8Array(t),e)},t.BufferAttribute=st,t.Face3=at,t.Object3DIdCount=function(){return qn++},t.Object3D=it,t.Raycaster=hn,t.Layers=et,t.EventDispatcher=e,t.Clock=un,t.QuaternionLinearInterpolant=vi,t.LinearInterpolant=di,t.DiscreteInterpolant=fi,t.CubicInterpolant=pi,t.Interpolant=ui,t.Triangle=rt,t.Spline=function(t){function e(t,e,i,n,r,a,o){return(2*(e-i)+(t=.5*(i-t))+(n=.5*(n-e)))*o+(-3*(e-i)-2*t-n)*a+t*r+e}this.points=t;var i,n,r,a,o,s,c,l,u,p=[],d={x:0,y:0,z:0};this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return i=(this.points.length-1)*t,n=Math.floor(i),r=i-n,p[0]=0===n?n:n-1,p[1]=n,p[2]=n>this.points.length-2?this.points.length-1:n+1,p[3]=n>this.points.length-3?this.points.length-1:n+2,s=this.points[p[0]],c=this.points[p[1]],l=this.points[p[2]],u=this.points[p[3]],o=r*(a=r*r),d.x=e(s.x,c.x,l.x,u.x,r,a,o),d.y=e(s.y,c.y,l.y,u.y,r,a,o),d.z=e(s.z,c.z,l.z,u.z,r,a,o),d},this.getControlPointsArray=function(){var t,e,i=this.points.length,n=[];for(t=0;t<i;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,i,n,r=0,a=new h,o=new h,s=[],c=0;for(s[0]=0,t||(t=100),i=this.points.length*t,a.copy(this.points[0]),t=1;t<i;t++)e=t/i,n=this.getPoint(e),o.copy(n),c+=o.distanceTo(a),a.copy(n),e*=this.points.length-1,(e=Math.floor(e))!==r&&(s[e]=c,r=e);return s[s.length]=c,{chunks:s,total:c}},this.reparametrizeByArcLength=function(t){var e,i,n,r,a,o,s=[],c=new h,l=this.getLength();for(s.push(c.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(i=l.chunks[e]-l.chunks[e-1],o=Math.ceil(t*i/l.total),r=(e-1)/(this.points.length-1),a=e/(this.points.length-1),i=1;i<o-1;i++)n=r+1/o*i*(a-r),n=this.getPoint(n),s.push(c.copy(n).clone());s.push(c.copy(this.points[e]).clone())}this.points=s}},t.Spherical=pn,t.Plane=J,t.Frustum=Q,t.Sphere=q,t.Ray=$,t.Matrix4=c,t.Matrix3=Z,t.Box3=Y,t.Box2=H,t.Line3=nt,t.Euler=tt,t.Vector4=r,t.Vector3=h,t.Vector2=i,t.Quaternion=s,t.Color=G,t.MorphBlendMesh=dn,t.ImmediateRenderObject=fn,t.VertexNormalsHelper=mn,t.SpotLightHelper=gn,t.SkeletonHelper=vn,t.PointLightHelper=yn,t.HemisphereLightHelper=xn,t.GridHelper=_n,t.FaceNormalsHelper=bn,t.DirectionalLightHelper=wn,t.CameraHelper=Mn,t.BoundingBoxHelper=En,t.BoxHelper=Sn,t.ArrowHelper=Tn,t.AxisHelper=An,t.ClosedSplineCurve3=Ln,t.SplineCurve3=rr,t.ArcCurve=Rn,t.EllipseCurve=Ii,t.SplineCurve=Di,t.CubicBezierCurve=Ni,t.QuadraticBezierCurve=Fi,t.LineCurve=Ci,t.Shape=Oi,t.ShapePath=Bi,t.Path=zi,t.Font=Gi,t.CurvePath=Ui,t.Curve=Pi,t.WireframeGeometry=le,t.ParametricGeometry=ue,t.TetrahedronGeometry=de,t.OctahedronGeometry=fe,t.IcosahedronGeometry=me,t.DodecahedronGeometry=ge,t.PolyhedronGeometry=pe,t.TubeGeometry=ve,t.TorusKnotGeometry=xe,t.TorusKnotBufferGeometry=ye,t.TorusGeometry=be,t.TorusBufferGeometry=_e,t.TextGeometry=Me,t.SphereBufferGeometry=Ee,t.SphereGeometry=Se,t.RingGeometry=Ae,t.RingBufferGeometry=Te,t.PlaneBufferGeometry=gt,t.PlaneGeometry=Le,t.LatheGeometry=Pe,t.LatheBufferGeometry=Re,t.ShapeGeometry=Ce,t.ExtrudeGeometry=we,t.EdgesGeometry=Ue,t.ConeGeometry=Ne,t.ConeBufferGeometry=Fe,t.CylinderGeometry=De,t.CylinderBufferGeometry=Ie,t.CircleBufferGeometry=Oe,t.CircleGeometry=ze,t.BoxBufferGeometry=mt,t.BoxGeometry=Be,t.ShadowMaterial=Ge,t.SpriteMaterial=Yt,t.RawShaderMaterial=He,t.ShaderMaterial=W,t.PointsMaterial=ne,t.MultiMaterial=Ve,t.MeshPhysicalMaterial=je,t.MeshStandardMaterial=ke,t.MeshPhongMaterial=We,t.MeshNormalMaterial=Xe,t.MeshLambertMaterial=Ye,t.MeshDepthMaterial=X,t.MeshBasicMaterial=ot,t.LineDashedMaterial=qe,t.LineBasicMaterial=te,t.Material=j,t.REVISION="81",t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=0,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.FrontSide=0,t.BackSide=1,t.DoubleSide=2,t.FlatShading=1,t.SmoothShading=2,t.NoColors=0,t.FaceColors=1,t.VertexColors=2,t.NoBlending=0,t.NormalBlending=1,t.AdditiveBlending=2,t.SubtractiveBlending=3,t.MultiplyBlending=4,t.CustomBlending=5,t.BlendingMode=Dn,t.AddEquation=100,t.SubtractEquation=101,t.ReverseSubtractEquation=102,t.MinEquation=103,t.MaxEquation=104,t.ZeroFactor=200,t.OneFactor=201,t.SrcColorFactor=202,t.OneMinusSrcColorFactor=203,t.SrcAlphaFactor=204,t.OneMinusSrcAlphaFactor=205,t.DstAlphaFactor=206,t.OneMinusDstAlphaFactor=207,t.DstColorFactor=208,t.OneMinusDstColorFactor=209,t.SrcAlphaSaturateFactor=210,t.NeverDepth=0,t.AlwaysDepth=1,t.LessDepth=2,t.LessEqualDepth=3,t.EqualDepth=4,t.GreaterEqualDepth=5,t.GreaterDepth=6,t.NotEqualDepth=7,t.MultiplyOperation=0,t.MixOperation=1,t.AddOperation=2,t.NoToneMapping=0,t.LinearToneMapping=1,t.ReinhardToneMapping=2,t.Uncharted2ToneMapping=3,t.CineonToneMapping=4,t.UVMapping=300,t.CubeReflectionMapping=301,t.CubeRefractionMapping=302,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=304,t.SphericalReflectionMapping=305,t.CubeUVReflectionMapping=306,t.CubeUVRefractionMapping=307,t.TextureMapping=Nn,t.RepeatWrapping=1e3,t.ClampToEdgeWrapping=1001,t.MirroredRepeatWrapping=1002,t.TextureWrapping=Fn,t.NearestFilter=1003,t.NearestMipMapNearestFilter=1004,t.NearestMipMapLinearFilter=1005,t.LinearFilter=1006,t.LinearMipMapNearestFilter=1007,t.LinearMipMapLinearFilter=1008,t.TextureFilter=On,t.UnsignedByteType=1009,t.ByteType=1010,t.ShortType=1011,t.UnsignedShortType=1012,t.IntType=1013,t.UnsignedIntType=1014,t.FloatType=1015,t.HalfFloatType=1016,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedInt248Type=1020,t.AlphaFormat=1021,t.RGBFormat=1022,t.RGBAFormat=1023,t.LuminanceFormat=1024,t.LuminanceAlphaFormat=1025,t.RGBEFormat=1023,t.DepthFormat=1026,t.DepthStencilFormat=1027,t.RGB_S3TC_DXT1_Format=2001,t.RGBA_S3TC_DXT1_Format=2002,t.RGBA_S3TC_DXT3_Format=2003,t.RGBA_S3TC_DXT5_Format=2004,t.RGB_PVRTC_4BPPV1_Format=2100,t.RGB_PVRTC_2BPPV1_Format=2101,t.RGBA_PVRTC_4BPPV1_Format=2102,t.RGBA_PVRTC_2BPPV1_Format=2103,t.RGB_ETC1_Format=2151,t.LoopOnce=2200,t.LoopRepeat=2201,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=2400,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=0,t.TriangleStripDrawMode=1,t.TriangleFanDrawMode=2,t.LinearEncoding=3e3,t.sRGBEncoding=3001,t.GammaEncoding=3007,t.RGBEEncoding=3002,t.LogLuvEncoding=3003,t.RGBM7Encoding=3004,t.RGBM16Encoding=3005,t.RGBDEncoding=3006,t.BasicDepthPacking=3200,t.RGBADepthPacking=3201,t.CubeGeometry=Be,t.Face4=function(t,e,i,n,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new at(t,e,i,r,a,o)},t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=Ve,t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new re(t,e)},t.Particle=qt,t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new re(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ne(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ne(t)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ne(t)},t.Vertex=function(t,e,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new h(t,e,i)},t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ie(new Ue(t.geometry),new te({color:void 0!==e?e:16777215}))},t.WireframeHelper=function(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ie(new le(t.geometry),new te({color:void 0!==e?e:16777215}))},t.GeometryUtils={merge:function(t,e,i){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},t.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new ei;return r.setCrossOrigin(this.crossOrigin),t=r.load(t,i,void 0,n),e&&(t.mapping=e),t},loadTextureCube:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new ti;return r.setCrossOrigin(this.crossOrigin),t=r.load(t,i,void 0,n),e&&(t.mapping=e),t},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},t.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},Object.defineProperty(t,"__esModule",{value:!0})});


/*
 *  Plugins - pdf.js
 */
(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define("pdfjs-dist/build/pdf",[],r);else if(typeof exports==="object")exports["pdfjs-dist/build/pdf"]=r();else t["pdfjs-dist/build/pdf"]=t.pdfjsLib=r()})(this,function(){return function(e){var t={};function r(n){if(t[n]){return t[n].exports}var a=t[n]={i:n,l:false,exports:{}};e[n].call(a.exports,a,a.exports,r);a.l=true;return a.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};r.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};r.t=function(e,t){if(t&1)e=r(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=0)}([function(e,t,r){"use strict";var n="2.3.200";var a="4ae3f9fc";var i=r(1);var o=r(179);var s=r(194);var u=r(195);var l=r(183);var c=r(196);var f=r(188);var h=r(185);{var d=r(4);if(d()){var v=r(197).PDFNodeStream;o.setPDFNetworkStreamFactory(function(e){return new v(e)})}else{var p=r(200).PDFNetworkStream;var g;if(l.isFetchSupported()){g=r(201).PDFFetchStream}o.setPDFNetworkStreamFactory(function(e){if(g&&l.isValidFetchUrl(e.url)){return new g(e)}return new p(e)})}}t.build=o.build;t.version=o.version;t.getDocument=o.getDocument;t.LoopbackPort=o.LoopbackPort;t.PDFDataRangeTransport=o.PDFDataRangeTransport;t.PDFWorker=o.PDFWorker;t.renderTextLayer=s.renderTextLayer;t.AnnotationLayer=u.AnnotationLayer;t.createPromiseCapability=i.createPromiseCapability;t.PasswordResponses=i.PasswordResponses;t.InvalidPDFException=i.InvalidPDFException;t.MissingPDFException=i.MissingPDFException;t.SVGGraphics=c.SVGGraphics;t.NativeImageDecoding=i.NativeImageDecoding;t.CMapCompressionType=i.CMapCompressionType;t.PermissionFlag=i.PermissionFlag;t.UnexpectedResponseException=i.UnexpectedResponseException;t.OPS=i.OPS;t.VerbosityLevel=i.VerbosityLevel;t.UNSUPPORTED_FEATURES=i.UNSUPPORTED_FEATURES;t.createValidAbsoluteUrl=i.createValidAbsoluteUrl;t.createObjectURL=i.createObjectURL;t.removeNullCharacters=i.removeNullCharacters;t.shadow=i.shadow;t.Util=i.Util;t.ReadableStream=i.ReadableStream;t.RenderingCancelledException=l.RenderingCancelledException;t.getFilenameFromUrl=l.getFilenameFromUrl;t.LinkTarget=l.LinkTarget;t.addLinkAttributes=l.addLinkAttributes;t.loadScript=l.loadScript;t.PDFDateString=l.PDFDateString;t.GlobalWorkerOptions=f.GlobalWorkerOptions;t.apiCompatibilityParams=h.apiCompatibilityParams},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.arrayByteLength=ne;t.arraysToBytes=ae;t.assert=U;t.bytesToString=te;t.createPromiseCapability=xe;t.getVerbosityLevel=M;t.info=N;t.isArrayBuffer=Se;t.isArrayEqual=we;t.isBool=be;t.isEmptyObj=ye;t.isNum=_e;t.isString=Ae;t.isSpace=ke;t.isSameOrigin=W;t.createValidAbsoluteUrl=z;t.isLittleEndian=ce;t.isEvalSupported=fe;t.log2=oe;t.readInt8=se;t.readUint16=ue;t.readUint32=le;t.removeNullCharacters=ee;t.setVerbosityLevel=j;t.shadow=G;t.string32=ie;t.stringToBytes=re;t.stringToPDFString=pe;t.stringToUTF8String=ge;t.utf8StringToString=me;t.warn=D;t.unreachable=q;Object.defineProperty(t,"ReadableStream",{enumerable:true,get:function(){return n.ReadableStream}});t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.NativeImageDecoding=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0;r(2);var n=r(177);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(t){return typeof t}}else{o=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return o(e)}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(t&&(o(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}var d=[1,0,0,1,0,0];t.IDENTITY_MATRIX=d;var v=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=v;var p={NONE:"none",DECODE:"decode",DISPLAY:"display"};t.NativeImageDecoding=p;var g={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=g;var m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=m;var y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=y;var b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=b;var _={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=_;var A={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=A;var S={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=S;var w={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=w;var k={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=k;var x={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=x;var C={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=C;var P={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=P;var R={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=R;var E={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=E;var T={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=T;var O={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=O;var L={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};t.UNSUPPORTED_FEATURES=L;var F={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=F;var I=E.WARNINGS;function j(e){if(Number.isInteger(e)){I=e}}function M(){return I}function N(e){if(I>=E.INFOS){console.log("Info: ".concat(e))}}function D(e){if(I>=E.WARNINGS){console.log("Warning: ".concat(e))}}function q(e){throw new Error(e)}function U(e,t){if(!e){q(t)}}function W(e,t){var r;try{r=new URL(e);if(!r.origin||r.origin==="null"){return false}}catch(e){return false}var n=new URL(t,r);return r.origin===n.origin}function B(e){if(!e){return false}switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return true;default:return false}}function z(e,t){if(!e){return null}try{var r=t?new URL(e,t):new URL(e);if(B(r)){return r}}catch(e){}return null}function G(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:false});return r}var H=function e(){function t(e){if(this.constructor===t){q("Cannot initialize BaseException.")}this.message=e;this.name=this.constructor.name}t.prototype=new Error;t.constructor=t;return t}();t.BaseException=H;var X=function(e){f(t,e);function t(e,r){var n;s(this,t);n=u(this,c(t).call(this,e));n.code=r;return n}return t}(H);t.PasswordException=X;var Y=function(e){f(t,e);function t(e,r){var n;s(this,t);n=u(this,c(t).call(this,e));n.details=r;return n}return t}(H);t.UnknownErrorException=Y;var V=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.InvalidPDFException=V;var Q=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.MissingPDFException=Q;var K=function(e){f(t,e);function t(e,r){var n;s(this,t);n=u(this,c(t).call(this,e));n.status=r;return n}return t}(H);t.UnexpectedResponseException=K;var J=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.FormatError=J;var Z=function(e){f(t,e);function t(){s(this,t);return u(this,c(t).apply(this,arguments))}return t}(H);t.AbortException=Z;var $=/\x00/g;function ee(e){if(typeof e!=="string"){D("The argument for removeNullCharacters must be a string.");return e}return e.replace($,"")}function te(e){U(e!==null&&o(e)==="object"&&e.length!==undefined,"Invalid argument for bytesToString");var t=e.length;var r=8192;if(t<r){return String.fromCharCode.apply(null,e)}var n=[];for(var a=0;a<t;a+=r){var i=Math.min(a+r,t);var s=e.subarray(a,i);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function re(e){U(typeof e==="string","Invalid argument for stringToBytes");var t=e.length;var r=new Uint8Array(t);for(var n=0;n<t;++n){r[n]=e.charCodeAt(n)&255}return r}function ne(e){if(e.length!==undefined){return e.length}U(e.byteLength!==undefined);return e.byteLength}function ae(e){var t=e.length;if(t===1&&e[0]instanceof Uint8Array){return e[0]}var r=0;for(var n=0;n<t;n++){r+=ne(e[n])}var a=0;var i=new Uint8Array(r);for(var o=0;o<t;o++){var s=e[o];if(!(s instanceof Uint8Array)){if(typeof s==="string"){s=re(s)}else{s=new Uint8Array(s)}}var u=s.byteLength;i.set(s,a);a+=u}return i}function ie(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function oe(e){if(e<=0){return 0}return Math.ceil(Math.log2(e))}function se(e,t){return e[t]<<24>>24}function ue(e,t){return e[t]<<8|e[t+1]}function le(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function ce(){var e=new Uint8Array(4);e[0]=1;var t=new Uint32Array(e.buffer,0,1);return t[0]===1}function fe(){try{new Function("");return true}catch(e){return false}}var he=["rgb(",0,",",0,",",0,")"];var de=function(){function e(){s(this,e)}i(e,null,[{key:"makeCssRgb",value:function e(t,r,n){he[1]=t;he[3]=r;he[5]=n;return he.join("")}},{key:"transform",value:function e(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}},{key:"applyTransform",value:function e(t,r){var n=t[0]*r[0]+t[1]*r[2]+r[4];var a=t[0]*r[1]+t[1]*r[3]+r[5];return[n,a]}},{key:"applyInverseTransform",value:function e(t,r){var n=r[0]*r[3]-r[1]*r[2];var a=(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n;var i=(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[a,i]}},{key:"getAxialAlignedBoundingBox",value:function t(r,n){var a=e.applyTransform(r,n);var i=e.applyTransform(r.slice(2,4),n);var o=e.applyTransform([r[0],r[3]],n);var s=e.applyTransform([r[2],r[1]],n);return[Math.min(a[0],i[0],o[0],s[0]),Math.min(a[1],i[1],o[1],s[1]),Math.max(a[0],i[0],o[0],s[0]),Math.max(a[1],i[1],o[1],s[1])]}},{key:"inverseTransform",value:function e(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}},{key:"apply3dTransform",value:function e(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]}},{key:"singularValueDecompose2dScale",value:function e(t){var r=[t[0],t[2],t[1],t[3]];var n=t[0]*r[0]+t[1]*r[2];var a=t[0]*r[1]+t[1]*r[3];var i=t[2]*r[0]+t[3]*r[2];var o=t[2]*r[1]+t[3]*r[3];var s=(n+o)/2;var u=Math.sqrt((n+o)*(n+o)-4*(n*o-i*a))/2;var l=s+u||1;var c=s-u||1;return[Math.sqrt(l),Math.sqrt(c)]}},{key:"normalizeRect",value:function e(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r}},{key:"intersect",value:function t(r,n){function a(e,t){return e-t}var i=[r[0],r[2],n[0],n[2]].sort(a);var o=[r[1],r[3],n[1],n[3]].sort(a);var s=[];r=e.normalizeRect(r);n=e.normalizeRect(n);if(i[0]===r[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===r[0]){s[0]=i[1];s[2]=i[2]}else{return null}if(o[0]===r[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===r[1]){s[1]=o[1];s[3]=o[2]}else{return null}return s}}]);return e}();t.Util=de;var ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pe(e){var t=e.length,r=[];if(e[0]==="þ"&&e[1]==="ÿ"){for(var n=2;n<t;n+=2){r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)))}}else{for(var a=0;a<t;++a){var i=ve[e.charCodeAt(a)];r.push(i?String.fromCharCode(i):e.charAt(a))}}return r.join("")}function ge(e){return decodeURIComponent(escape(e))}function me(e){return unescape(encodeURIComponent(e))}function ye(e){for(var t in e){return false}return true}function be(e){return typeof e==="boolean"}function _e(e){return typeof e==="number"}function Ae(e){return typeof e==="string"}function Se(e){return o(e)==="object"&&e!==null&&e.byteLength!==undefined}function we(e,t){if(e.length!==t.length){return false}return e.every(function(e,r){return e===t[r]})}function ke(e){return e===32||e===9||e===13||e===10}function xe(){var e=Object.create(null);var t=false;Object.defineProperty(e,"settled",{get:function e(){return t}});e.promise=new Promise(function(r,n){e.resolve=function(e){t=true;r(e)};e.reject=function(e){t=true;n(e)}});return e}var Ce=function e(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function e(r,n){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!a&&URL.createObjectURL){var i=new Blob([r],{type:n});return URL.createObjectURL(i)}var o="data:".concat(n,";base64,");for(var s=0,u=r.length;s<u;s+=3){var l=r[s]&255;var c=r[s+1]&255;var f=r[s+2]&255;var h=l>>2,d=(l&3)<<4|c>>4;var v=s+1<u?(c&15)<<2|f>>6:64;var p=s+2<u?f&63:64;o+=t[h]+t[d]+t[v]+t[p]}return o}}();t.createObjectURL=Ce},function(e,t,r){"use strict";function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}var a=r(3);if(!a._pdfjsCompatibilityChecked){a._pdfjsCompatibilityChecked=true;var i=r(4);var o=(typeof window==="undefined"?"undefined":n(window))==="object"&&(typeof document==="undefined"?"undefined":n(document))==="object";(function e(){if(a.btoa||!i()){return}a.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}})();(function e(){if(a.atob||!i()){return}a.atob=function(e){return Buffer.from(e,"base64").toString("binary")}})();(function e(){if(!o){return}if(typeof Element.prototype.remove!=="undefined"){return}Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}})();(function e(){if(!o||i()){return}var t=document.createElement("div");t.classList.add("testOne","testTwo");if(t.classList.contains("testOne")===true&&t.classList.contains("testTwo")===true){return}var r=DOMTokenList.prototype.add;var n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}for(var a=0,i=t;a<i.length;a++){var o=i[a];r.call(this,o)}};DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}for(var a=0,i=t;a<i.length;a++){var o=i[a];n.call(this,o)}}})();(function e(){if(!o||i()){return}var t=document.createElement("div");if(t.classList.toggle("test",0)===false){return}DOMTokenList.prototype.toggle=function(e){var t=arguments.length>1?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t}})();(function e(){if(String.prototype.startsWith){return}r(5)})();(function e(){if(String.prototype.endsWith){return}r(57)})();(function e(){if(String.prototype.includes){return}r(59)})();(function e(){if(Array.prototype.includes){return}r(61)})();(function e(){if(Array.from){return}r(68)})();(function e(){if(Object.assign){return}r(89)})();(function e(){if(Math.log2){return}Math.log2=r(92)})();(function e(){if(Number.isNaN){return}Number.isNaN=r(94)})();(function e(){if(Number.isInteger){return}Number.isInteger=r(96)})();(function e(){if(a.Promise&&a.Promise.prototype&&a.Promise.prototype["finally"]){return}a.Promise=r(99)})();(function e(){a.URL=r(121)})();(function e(){if(a.WeakMap){return}a.WeakMap=r(128)})();(function e(){if(a.WeakSet){return}a.WeakSet=r(138)})();(function e(){if(String.prototype.codePointAt){return}r(140)})();(function e(){if(String.fromCodePoint){return}String.fromCodePoint=r(142)})();(function e(){if(a.Symbol){return}r(144)})();(function e(){if(String.prototype.padStart){return}r(167)})();(function e(){if(String.prototype.padEnd){return}r(172)})();(function e(){if(Object.values){return}Object.values=r(174)})()}},function(e,t,r){"use strict";e.exports=typeof window!=="undefined"&&window.Math===Math?window:typeof global!=="undefined"&&global.Math===Math?global:typeof self!=="undefined"&&self.Math===Math?self:{}},function(e,t,r){"use strict";function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}e.exports=function e(){return(typeof process==="undefined"?"undefined":n(process))==="object"&&process+""==="[object process]"&&!process.versions["nw"]&&!process.versions["electron"]}},function(e,t,r){r(6);var n=r(54);e.exports=n("String","startsWith")},function(e,t,r){"use strict";var n=r(7);var a=r(43);var i=r(49);var o=r(17);var s=r(53);var u="".startsWith;var l=Math.min;n({target:"String",proto:true,forced:!s("startsWith")},{startsWith:function e(t){var r=String(o(this));i(t);var n=a(l(arguments.length>1?arguments[1]:undefined,r.length));var s=String(t);return u?u.call(r,s,n):r.slice(n,n+s.length)===s}})},function(e,t,r){var n=r(8);var a=r(9).f;var i=r(23);var o=r(26);var s=r(28);var u=r(36);var l=r(48);e.exports=function(e,t){var r=e.target;var c=e.global;var f=e.stat;var h,d,v,p,g,m;if(c){d=n}else if(f){d=n[r]||s(r,{})}else{d=(n[r]||{}).prototype}if(d)for(v in t){g=t[v];if(e.noTargetGet){m=a(d,v);p=m&&m.value}else p=d[v];h=l(c?v:r+(f?".":"#")+v,e.forced);if(!h&&p!==undefined){if(typeof g===typeof p)continue;u(g,p)}if(e.sham||p&&p.sham){i(g,"sham",true)}o(d,v,g,e)}}},function(e,t){var r="object";var n=function(e){return e&&e.Math==Math&&e};e.exports=n(typeof globalThis==r&&globalThis)||n(typeof window==r&&window)||n(typeof self==r&&self)||n(typeof global==r&&global)||Function("return this")()},function(e,t,r){var n=r(10);var a=r(12);var i=r(13);var o=r(14);var s=r(18);var u=r(20);var l=r(21);var c=Object.getOwnPropertyDescriptor;t.f=n?c:function e(t,r){t=o(t);r=s(r,true);if(l)try{return c(t,r)}catch(e){}if(u(t,r))return i(!a.f.call(t,r),t[r])}},function(e,t,r){var n=r(11);e.exports=!n(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable;var a=Object.getOwnPropertyDescriptor;var i=a&&!n.call({1:2},1);t.f=i?function e(t){var r=a(this,t);return!!r&&r.enumerable}:n},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t,r){var n=r(15);var a=r(17);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(11);var a=r(16);var i="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return a(e)=="String"?i.call(e,""):Object(e)}:Object},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(19);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&typeof(r=e.toString)=="function"&&!n(a=r.call(e)))return a;if(typeof(r=e.valueOf)=="function"&&!n(a=r.call(e)))return a;if(!t&&typeof(r=e.toString)=="function"&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(10);var a=r(11);var i=r(22);e.exports=!n&&!a(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(8);var a=r(19);var i=n.document;var o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(10);var a=r(24);var i=r(13);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},function(e,t,r){var n=r(10);var a=r(21);var i=r(25);var o=r(18);var s=Object.defineProperty;t.f=n?s:function e(t,r,n){i(t);r=o(r,true);i(n);if(a)try{return s(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)t[r]=n.value;return t}},function(e,t,r){var n=r(19);e.exports=function(e){if(!n(e)){throw TypeError(String(e)+" is not an object")}return e}},function(e,t,r){var n=r(8);var a=r(27);var i=r(23);var o=r(20);var s=r(28);var u=r(30);var l=r(31);var c=l.get;var f=l.enforce;var h=String(u).split("toString");a("inspectSource",function(e){return u.call(e)});(e.exports=function(e,t,r,a){var u=a?!!a.unsafe:false;var l=a?!!a.enumerable:false;var c=a?!!a.noTargetGet:false;if(typeof r=="function"){if(typeof t=="string"&&!o(r,"name"))i(r,"name",t);f(r).source=h.join(typeof t=="string"?t:"")}if(e===n){if(l)e[t]=r;else s(t,r);return}else if(!u){delete e[t]}else if(!c&&e[t]){l=true}if(l)e[t]=r;else i(e,t,r)})(Function.prototype,"toString",function e(){return typeof this=="function"&&c(this).source||u.call(this)})},function(e,t,r){var n=r(8);var a=r(28);var i=r(29);var o="__core-js_shared__";var s=n[o]||a(o,{});(e.exports=function(e,t){return s[e]||(s[e]=t!==undefined?t:{})})("versions",[]).push({version:"3.2.1",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(8);var a=r(23);e.exports=function(e,t){try{a(n,e,t)}catch(r){n[e]=t}return t}},function(e,t){e.exports=false},function(e,t,r){var n=r(27);e.exports=n("native-function-to-string",Function.toString)},function(e,t,r){var n=r(32);var a=r(8);var i=r(19);var o=r(23);var s=r(20);var u=r(33);var l=r(35);var c=a.WeakMap;var f,h,d;var v=function(e){return d(e)?h(e):f(e,{})};var p=function(e){return function(t){var r;if(!i(t)||(r=h(t)).type!==e){throw TypeError("Incompatible receiver, "+e+" required")}return r}};if(n){var g=new c;var m=g.get;var y=g.has;var b=g.set;f=function(e,t){b.call(g,e,t);return t};h=function(e){return m.call(g,e)||{}};d=function(e){return y.call(g,e)}}else{var _=u("state");l[_]=true;f=function(e,t){o(e,_,t);return t};h=function(e){return s(e,_)?e[_]:{}};d=function(e){return s(e,_)}}e.exports={set:f,get:h,has:d,enforce:v,getterFor:p}},function(e,t,r){var n=r(8);var a=r(30);var i=n.WeakMap;e.exports=typeof i==="function"&&/native code/.test(a.call(i))},function(e,t,r){var n=r(27);var a=r(34);var i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},function(e,t){var r=0;var n=Math.random();e.exports=function(e){return"Symbol("+String(e===undefined?"":e)+")_"+(++r+n).toString(36)}},function(e,t){e.exports={}},function(e,t,r){var n=r(20);var a=r(37);var i=r(9);var o=r(24);e.exports=function(e,t){var r=a(t);var s=o.f;var u=i.f;for(var l=0;l<r.length;l++){var c=r[l];if(!n(e,c))s(e,c,u(t,c))}}},function(e,t,r){var n=r(38);var a=r(40);var i=r(47);var o=r(25);e.exports=n("Reflect","ownKeys")||function e(t){var r=a.f(o(t));var n=i.f;return n?r.concat(n(t)):r}},function(e,t,r){var n=r(39);var a=r(8);var i=function(e){return typeof e=="function"?e:undefined};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},function(e,t,r){e.exports=r(8)},function(e,t,r){var n=r(41);var a=r(46);var i=a.concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,i)}},function(e,t,r){var n=r(20);var a=r(14);var i=r(42).indexOf;var o=r(35);e.exports=function(e,t){var r=a(e);var s=0;var u=[];var l;for(l in r)!n(o,l)&&n(r,l)&&u.push(l);while(t.length>s)if(n(r,l=t[s++])){~i(u,l)||u.push(l)}return u}},function(e,t,r){var n=r(14);var a=r(43);var i=r(45);var o=function(e){return function(t,r,o){var s=n(t);var u=a(s.length);var l=i(o,u);var c;if(e&&r!=r)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++){if((e||l in s)&&s[l]===r)return e||l||0}return!e&&-1}};e.exports={includes:o(true),indexOf:o(false)}},function(e,t,r){var n=r(44);var a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t){var r=Math.ceil;var n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(44);var a=Math.max;var i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(11);var a=/#|\.prototype\./;var i=function(e,t){var r=s[o(e)];return r==l?true:r==u?false:typeof t=="function"?n(t):!!t};var o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()};var s=i.data={};var u=i.NATIVE="N";var l=i.POLYFILL="P";e.exports=i},function(e,t,r){var n=r(50);e.exports=function(e){if(n(e)){throw TypeError("The method doesn't accept regular expressions")}return e}},function(e,t,r){var n=r(19);var a=r(16);var i=r(51);var o=i("match");e.exports=function(e){var t;return n(e)&&((t=e[o])!==undefined?!!t:a(e)=="RegExp")}},function(e,t,r){var n=r(8);var a=r(27);var i=r(34);var o=r(52);var s=n.Symbol;var u=a("wks");e.exports=function(e){return u[e]||(u[e]=o&&s[e]||(o?s:i)("Symbol."+e))}},function(e,t,r){var n=r(11);e.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},function(e,t,r){var n=r(51);var a=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[a]=false;return"/./"[e](t)}catch(e){}}return false}},function(e,t,r){var n=r(8);var a=r(55);var i=Function.call;e.exports=function(e,t,r){return a(i,n[e].prototype[t],r)}},function(e,t,r){var n=r(56);e.exports=function(e,t,r){n(e);if(t===undefined)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(typeof e!="function"){throw TypeError(String(e)+" is not a function")}return e}},function(e,t,r){r(58);var n=r(54);e.exports=n("String","endsWith")},function(e,t,r){"use strict";var n=r(7);var a=r(43);var i=r(49);var o=r(17);var s=r(53);var u="".endsWith;var l=Math.min;n({target:"String",proto:true,forced:!s("endsWith")},{endsWith:function e(t){var r=String(o(this));i(t);var n=arguments.length>1?arguments[1]:undefined;var s=a(r.length);var c=n===undefined?s:l(a(n),s);var f=String(t);return u?u.call(r,f,c):r.slice(c-f.length,c)===f}})},function(e,t,r){r(60);var n=r(54);e.exports=n("String","includes")},function(e,t,r){"use strict";var n=r(7);var a=r(49);var i=r(17);var o=r(53);n({target:"String",proto:true,forced:!o("includes")},{includes:function e(t){return!!~String(i(this)).indexOf(a(t),arguments.length>1?arguments[1]:undefined)}})},function(e,t,r){r(62);var n=r(54);e.exports=n("Array","includes")},function(e,t,r){"use strict";var n=r(7);var a=r(42).includes;var i=r(63);n({target:"Array",proto:true},{includes:function e(t){return a(this,t,arguments.length>1?arguments[1]:undefined)}});i("includes")},function(e,t,r){var n=r(51);var a=r(64);var i=r(23);var o=n("unscopables");var s=Array.prototype;if(s[o]==undefined){i(s,o,a(null))}e.exports=function(e){s[o][e]=true}},function(e,t,r){var n=r(25);var a=r(65);var i=r(46);var o=r(35);var s=r(67);var u=r(22);var l=r(33);var c=l("IE_PROTO");var f="prototype";var h=function(){};var d=function(){var e=u("iframe");var t=i.length;var r="<";var n="script";var a=">";var o="java"+n+":";var l;e.style.display="none";s.appendChild(e);e.src=String(o);l=e.contentWindow.document;l.open();l.write(r+n+a+"document.F=Object"+r+"/"+n+a);l.close();d=l.F;while(t--)delete d[f][i[t]];return d()};e.exports=Object.create||function e(t,r){var i;if(t!==null){h[f]=n(t);i=new h;h[f]=null;i[c]=t}else i=d();return r===undefined?i:a(i,r)};o[c]=true},function(e,t,r){var n=r(10);var a=r(24);var i=r(25);var o=r(66);e.exports=n?Object.defineProperties:function e(t,r){i(t);var n=o(r);var s=n.length;var u=0;var l;while(s>u)a.f(t,l=n[u++],r[l]);return t}},function(e,t,r){var n=r(41);var a=r(46);e.exports=Object.keys||function e(t){return n(t,a)}},function(e,t,r){var n=r(38);e.exports=n("document","documentElement")},function(e,t,r){r(69);r(81);var n=r(39);e.exports=n.Array.from},function(e,t,r){"use strict";var n=r(70).charAt;var a=r(31);var i=r(71);var o="String Iterator";var s=a.set;var u=a.getterFor(o);i(String,"String",function(e){s(this,{type:o,string:String(e),index:0})},function e(){var t=u(this);var r=t.string;var a=t.index;var i;if(a>=r.length)return{value:undefined,done:true};i=n(r,a);t.index+=i.length;return{value:i,done:false}})},function(e,t,r){var n=r(44);var a=r(17);var i=function(e){return function(t,r){var i=String(a(t));var o=n(r);var s=i.length;var u,l;if(o<0||o>=s)return e?"":undefined;u=i.charCodeAt(o);return u<55296||u>56319||o+1===s||(l=i.charCodeAt(o+1))<56320||l>57343?e?i.charAt(o):u:e?i.slice(o,o+2):(u-55296<<10)+(l-56320)+65536}};e.exports={codeAt:i(false),charAt:i(true)}},function(e,t,r){"use strict";var n=r(7);var a=r(72);var i=r(74);var o=r(79);var s=r(77);var u=r(23);var l=r(26);var c=r(51);var f=r(29);var h=r(78);var d=r(73);var v=d.IteratorPrototype;var p=d.BUGGY_SAFARI_ITERATORS;var g=c("iterator");var m="keys";var y="values";var b="entries";var _=function(){return this};e.exports=function(e,t,r,c,d,A,S){a(r,t,c);var w=function(e){if(e===d&&R)return R;if(!p&&e in C)return C[e];switch(e){case m:return function t(){return new r(this,e)};case y:return function t(){return new r(this,e)};case b:return function t(){return new r(this,e)}}return function(){return new r(this)}};var k=t+" Iterator";var x=false;var C=e.prototype;var P=C[g]||C["@@iterator"]||d&&C[d];var R=!p&&P||w(d);var E=t=="Array"?C.entries||P:P;var T,O,L;if(E){T=i(E.call(new e));if(v!==Object.prototype&&T.next){if(!f&&i(T)!==v){if(o){o(T,v)}else if(typeof T[g]!="function"){u(T,g,_)}}s(T,k,true,true);if(f)h[k]=_}}if(d==y&&P&&P.name!==y){x=true;R=function e(){return P.call(this)}}if((!f||S)&&C[g]!==R){u(C,g,R)}h[t]=R;if(d){O={values:w(y),keys:A?R:w(m),entries:w(b)};if(S)for(L in O){if(p||x||!(L in C)){l(C,L,O[L])}}else n({target:t,proto:true,forced:p||x},O)}return O}},function(e,t,r){"use strict";var n=r(73).IteratorPrototype;var a=r(64);var i=r(13);var o=r(77);var s=r(78);var u=function(){return this};e.exports=function(e,t,r){var l=t+" Iterator";e.prototype=a(n,{next:i(1,r)});o(e,l,false,true);s[l]=u;return e}},function(e,t,r){"use strict";var n=r(74);var a=r(23);var i=r(20);var o=r(51);var s=r(29);var u=o("iterator");var l=false;var c=function(){return this};var f,h,d;if([].keys){d=[].keys();if(!("next"in d))l=true;else{h=n(n(d));if(h!==Object.prototype)f=h}}if(f==undefined)f={};if(!s&&!i(f,u))a(f,u,c);e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:l}},function(e,t,r){var n=r(20);var a=r(75);var i=r(33);var o=r(76);var s=i("IE_PROTO");var u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){e=a(e);if(n(e,s))return e[s];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?u:null}},function(e,t,r){var n=r(17);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(11);e.exports=!n(function(){function e(){}e.prototype.constructor=null;return Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,r){var n=r(24).f;var a=r(20);var i=r(51);var o=i("toStringTag");e.exports=function(e,t,r){if(e&&!a(e=r?e:e.prototype,o)){n(e,o,{configurable:true,value:t})}}},function(e,t){e.exports={}},function(e,t,r){var n=r(25);var a=r(80);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=false;var t={};var r;try{r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;r.call(t,[]);e=t instanceof Array}catch(e){}return function t(i,o){n(i);a(o);if(e)r.call(i,o);else i.__proto__=o;return i}}():undefined)},function(e,t,r){var n=r(19);e.exports=function(e){if(!n(e)&&e!==null){throw TypeError("Can't set "+String(e)+" as a prototype")}return e}},function(e,t,r){var n=r(7);var a=r(82);var i=r(88);var o=!i(function(e){Array.from(e)});n({target:"Array",stat:true,forced:o},{from:a})},function(e,t,r){"use strict";var n=r(55);var a=r(75);var i=r(83);var o=r(84);var s=r(43);var u=r(85);var l=r(86);e.exports=function e(t){var r=a(t);var c=typeof this=="function"?this:Array;var f=arguments.length;var h=f>1?arguments[1]:undefined;var d=h!==undefined;var v=0;var p=l(r);var g,m,y,b;if(d)h=n(h,f>2?arguments[2]:undefined,2);if(p!=undefined&&!(c==Array&&o(p))){b=p.call(r);m=new c;for(;!(y=b.next()).done;v++){u(m,v,d?i(b,h,[y.value,v],true):y.value)}}else{g=s(r.length);m=new c(g);for(;g>v;v++){u(m,v,d?h(r[v],v):r[v])}}m.length=v;return m}},function(e,t,r){var n=r(25);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e["return"];if(i!==undefined)n(i.call(e));throw t}}},function(e,t,r){var n=r(51);var a=r(78);var i=n("iterator");var o=Array.prototype;e.exports=function(e){return e!==undefined&&(a.Array===e||o[i]===e)}},function(e,t,r){"use strict";var n=r(18);var a=r(24);var i=r(13);e.exports=function(e,t,r){var o=n(t);if(o in e)a.f(e,o,i(0,r));else e[o]=r}},function(e,t,r){var n=r(87);var a=r(78);var i=r(51);var o=i("iterator");e.exports=function(e){if(e!=undefined)return e[o]||e["@@iterator"]||a[n(e)]}},function(e,t,r){var n=r(16);var a=r(51);var i=a("toStringTag");var o=n(function(){return arguments}())=="Arguments";var s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,a;return e===undefined?"Undefined":e===null?"Null":typeof(r=s(t=Object(e),i))=="string"?r:o?n(t):(a=n(t))=="Object"&&typeof t.callee=="function"?"Arguments":a}},function(e,t,r){var n=r(51);var a=n("iterator");var i=false;try{var o=0;var s={next:function(){return{done:!!o++}},return:function(){i=true}};s[a]=function(){return this};Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var r=false;try{var n={};n[a]=function(){return{next:function(){return{done:r=true}}}};e(n)}catch(e){}return r}},function(e,t,r){r(90);var n=r(39);e.exports=n.Object.assign},function(e,t,r){var n=r(7);var a=r(91);n({target:"Object",stat:true,forced:Object.assign!==a},{assign:a})},function(e,t,r){"use strict";var n=r(10);var a=r(11);var i=r(66);var o=r(47);var s=r(12);var u=r(75);var l=r(15);var c=Object.assign;e.exports=!c||a(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return c({},e)[r]!=7||i(c({},t)).join("")!=n})?function e(t,r){var a=u(t);var c=arguments.length;var f=1;var h=o.f;var d=s.f;while(c>f){var v=l(arguments[f++]);var p=h?i(v).concat(h(v)):i(v);var g=p.length;var m=0;var y;while(g>m){y=p[m++];if(!n||d.call(v,y))a[y]=v[y]}}return a}:c},function(e,t,r){r(93);var n=r(39);e.exports=n.Math.log2},function(e,t,r){var n=r(7);var a=Math.log;var i=Math.LN2;n({target:"Math",stat:true},{log2:function e(t){return a(t)/i}})},function(e,t,r){r(95);var n=r(39);e.exports=n.Number.isNaN},function(e,t,r){var n=r(7);n({target:"Number",stat:true},{isNaN:function e(t){return t!=t}})},function(e,t,r){r(97);var n=r(39);e.exports=n.Number.isInteger},function(e,t,r){var n=r(7);var a=r(98);n({target:"Number",stat:true},{isInteger:a})},function(e,t,r){var n=r(19);var a=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&a(t)===t}},function(e,t,r){r(100);r(69);r(102);r(105);r(119);r(120);var n=r(39);e.exports=n.Promise},function(e,t,r){var n=r(26);var a=r(101);var i=Object.prototype;if(a!==i.toString){n(i,"toString",a,{unsafe:true})}},function(e,t,r){"use strict";var n=r(87);var a=r(51);var i=a("toStringTag");var o={};o[i]="z";e.exports=String(o)!=="[object z]"?function e(){return"[object "+n(this)+"]"}:o.toString},function(e,t,r){var n=r(8);var a=r(103);var i=r(104);var o=r(23);var s=r(51);var u=s("iterator");var l=s("toStringTag");var c=i.values;for(var f in a){var h=n[f];var d=h&&h.prototype;if(d){if(d[u]!==c)try{o(d,u,c)}catch(e){d[u]=c}if(!d[l])o(d,l,f);if(a[f])for(var v in i){if(d[v]!==i[v])try{o(d,v,i[v])}catch(e){d[v]=i[v]}}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){"use strict";var n=r(14);var a=r(63);var i=r(78);var o=r(31);var s=r(71);var u="Array Iterator";var l=o.set;var c=o.getterFor(u);e.exports=s(Array,"Array",function(e,t){l(this,{type:u,target:n(e),index:0,kind:t})},function(){var e=c(this);var t=e.target;var r=e.kind;var n=e.index++;if(!t||n>=t.length){e.target=undefined;return{value:undefined,done:true}}if(r=="keys")return{value:n,done:false};if(r=="values")return{value:t[n],done:false};return{value:[n,t[n]],done:false}},"values");i.Arguments=i.Array;a("keys");a("values");a("entries")},function(e,t,r){"use strict";var n=r(7);var a=r(29);var i=r(8);var o=r(39);var s=r(106);var u=r(26);var l=r(107);var c=r(77);var f=r(108);var h=r(19);var d=r(56);var v=r(109);var p=r(16);var g=r(110);var m=r(88);var y=r(111);var b=r(112).set;var _=r(113);var A=r(115);var S=r(117);var w=r(116);var k=r(118);var x=r(114);var C=r(31);var P=r(48);var R=r(51);var E=R("species");var T="Promise";var O=C.get;var L=C.set;var F=C.getterFor(T);var I=s;var j=i.TypeError;var M=i.document;var N=i.process;var D=i.fetch;var q=N&&N.versions;var U=q&&q.v8||"";var W=w.f;var B=W;var z=p(N)=="process";var G=!!(M&&M.createEvent&&i.dispatchEvent);var H="unhandledrejection";var X="rejectionhandled";var Y=0;var V=1;var Q=2;var K=1;var J=2;var Z,$,ee,te;var re=P(T,function(){var e=I.resolve(1);var t=function(){};var r=(e.constructor={})[E]=function(e){e(t,t)};return!((z||typeof PromiseRejectionEvent=="function")&&(!a||e["finally"])&&e.then(t)instanceof r&&U.indexOf("6.6")!==0&&x.indexOf("Chrome/66")===-1)});var ne=re||!m(function(e){I.all(e)["catch"](function(){})});var ae=function(e){var t;return h(e)&&typeof(t=e.then)=="function"?t:false};var ie=function(e,t,r){if(t.notified)return;t.notified=true;var n=t.reactions;_(function(){var a=t.value;var i=t.state==V;var o=0;while(n.length>o){var s=n[o++];var u=i?s.ok:s.fail;var l=s.resolve;var c=s.reject;var f=s.domain;var h,d,v;try{if(u){if(!i){if(t.rejection===J)le(e,t);t.rejection=K}if(u===true)h=a;else{if(f)f.enter();h=u(a);if(f){f.exit();v=true}}if(h===s.promise){c(j("Promise-chain cycle"))}else if(d=ae(h)){d.call(h,l,c)}else l(h)}else c(a)}catch(e){if(f&&!v)f.exit();c(e)}}t.reactions=[];t.notified=false;if(r&&!t.rejection)se(e,t)})};var oe=function(e,t,r){var n,a;if(G){n=M.createEvent("Event");n.promise=t;n.reason=r;n.initEvent(e,false,true);i.dispatchEvent(n)}else n={promise:t,reason:r};if(a=i["on"+e])a(n);else if(e===H)S("Unhandled promise rejection",r)};var se=function(e,t){b.call(i,function(){var r=t.value;var n=ue(t);var a;if(n){a=k(function(){if(z){N.emit("unhandledRejection",r,e)}else oe(H,e,r)});t.rejection=z||ue(t)?J:K;if(a.error)throw a.value}})};var ue=function(e){return e.rejection!==K&&!e.parent};var le=function(e,t){b.call(i,function(){if(z){N.emit("rejectionHandled",e)}else oe(X,e,t.value)})};var ce=function(e,t,r,n){return function(a){e(t,r,a,n)}};var fe=function(e,t,r,n){if(t.done)return;t.done=true;if(n)t=n;t.value=r;t.state=Q;ie(e,t,true)};var he=function(e,t,r,n){if(t.done)return;t.done=true;if(n)t=n;try{if(e===r)throw j("Promise can't be resolved itself");var a=ae(r);if(a){_(function(){var n={done:false};try{a.call(r,ce(he,e,n,t),ce(fe,e,n,t))}catch(r){fe(e,n,r,t)}})}else{t.value=r;t.state=V;ie(e,t,false)}}catch(r){fe(e,{done:false},r,t)}};if(re){I=function e(t){v(this,I,T);d(t);Z.call(this);var r=O(this);try{t(ce(he,this,r),ce(fe,this,r))}catch(e){fe(this,r,e)}};Z=function e(t){L(this,{type:T,done:false,notified:false,parent:false,reactions:[],rejection:false,state:Y,value:undefined})};Z.prototype=l(I.prototype,{then:function e(t,r){var n=F(this);var a=W(y(this,I));a.ok=typeof t=="function"?t:true;a.fail=typeof r=="function"&&r;a.domain=z?N.domain:undefined;n.parent=true;n.reactions.push(a);if(n.state!=Y)ie(this,n,false);return a.promise},catch:function(e){return this.then(undefined,e)}});$=function(){var e=new Z;var t=O(e);this.promise=e;this.resolve=ce(he,e,t);this.reject=ce(fe,e,t)};w.f=W=function(e){return e===I||e===ee?new $(e):B(e)};if(!a&&typeof s=="function"){te=s.prototype.then;u(s.prototype,"then",function e(t,r){var n=this;return new I(function(e,t){te.call(n,e,t)}).then(t,r)});if(typeof D=="function")n({global:true,enumerable:true,forced:true},{fetch:function e(t){return A(I,D.apply(i,arguments))}})}}n({global:true,wrap:true,forced:re},{Promise:I});c(I,T,false,true);f(T);ee=o[T];n({target:T,stat:true,forced:re},{reject:function e(t){var r=W(this);r.reject.call(undefined,t);return r.promise}});n({target:T,stat:true,forced:a||re},{resolve:function e(t){return A(a&&this===ee?I:this,t)}});n({target:T,stat:true,forced:ne},{all:function e(t){var r=this;var n=W(r);var a=n.resolve;var i=n.reject;var o=k(function(){var e=d(r.resolve);var n=[];var o=0;var s=1;g(t,function(t){var u=o++;var l=false;n.push(undefined);s++;e.call(r,t).then(function(e){if(l)return;l=true;n[u]=e;--s||a(n)},i)});--s||a(n)});if(o.error)i(o.value);return n.promise},race:function e(t){var r=this;var n=W(r);var a=n.reject;var i=k(function(){var e=d(r.resolve);g(t,function(t){e.call(r,t).then(n.resolve,a)})});if(i.error)a(i.value);return n.promise}})},function(e,t,r){var n=r(8);e.exports=n.Promise},function(e,t,r){var n=r(26);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},function(e,t,r){"use strict";var n=r(38);var a=r(24);var i=r(51);var o=r(10);var s=i("species");e.exports=function(e){var t=n(e);var r=a.f;if(o&&t&&!t[s]){r(t,s,{configurable:true,get:function(){return this}})}}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t)){throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}return e}},function(e,t,r){var n=r(25);var a=r(84);var i=r(43);var o=r(55);var s=r(86);var u=r(83);var l=function(e,t){this.stopped=e;this.result=t};var c=e.exports=function(e,t,r,c,f){var h=o(t,r,c?2:1);var d,v,p,g,m,y;if(f){d=e}else{v=s(e);if(typeof v!="function")throw TypeError("Target is not iterable");if(a(v)){for(p=0,g=i(e.length);g>p;p++){m=c?h(n(y=e[p])[0],y[1]):h(e[p]);if(m&&m instanceof l)return m}return new l(false)}d=v.call(e)}while(!(y=d.next()).done){m=u(d,h,y.value,c);if(m&&m instanceof l)return m}return new l(false)};c.stop=function(e){return new l(true,e)}},function(e,t,r){var n=r(25);var a=r(56);var i=r(51);var o=i("species");e.exports=function(e,t){var r=n(e).constructor;var i;return r===undefined||(i=n(r)[o])==undefined?t:a(i)}},function(e,t,r){var n=r(8);var a=r(11);var i=r(16);var o=r(55);var s=r(67);var u=r(22);var l=n.location;var c=n.setImmediate;var f=n.clearImmediate;var h=n.process;var d=n.MessageChannel;var v=n.Dispatch;var p=0;var g={};var m="onreadystatechange";var y,b,_;var A=function(e){if(g.hasOwnProperty(e)){var t=g[e];delete g[e];t()}};var S=function(e){return function(){A(e)}};var w=function(e){A(e.data)};var k=function(e){n.postMessage(e+"",l.protocol+"//"+l.host)};if(!c||!f){c=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);g[++p]=function(){(typeof t=="function"?t:Function(t)).apply(undefined,r)};y(p);return p};f=function e(t){delete g[t]};if(i(h)=="process"){y=function(e){h.nextTick(S(e))}}else if(v&&v.now){y=function(e){v.now(S(e))}}else if(d){b=new d;_=b.port2;b.port1.onmessage=w;y=o(_.postMessage,_,1)}else if(n.addEventListener&&typeof postMessage=="function"&&!n.importScripts&&!a(k)){y=k;n.addEventListener("message",w,false)}else if(m in u("script")){y=function(e){s.appendChild(u("script"))[m]=function(){s.removeChild(this);A(e)}}}else{y=function(e){setTimeout(S(e),0)}}}e.exports={set:c,clear:f}},function(e,t,r){var n=r(8);var a=r(9).f;var i=r(16);var o=r(112).set;var s=r(114);var u=n.MutationObserver||n.WebKitMutationObserver;var l=n.process;var c=n.Promise;var f=i(l)=="process";var h=a(n,"queueMicrotask");var d=h&&h.value;var v,p,g,m,y,b,_,A;if(!d){v=function(){var e,t;if(f&&(e=l.domain))e.exit();while(p){t=p.fn;p=p.next;try{t()}catch(e){if(p)m();else g=undefined;throw e}}g=undefined;if(e)e.enter()};if(f){m=function(){l.nextTick(v)}}else if(u&&!/(iphone|ipod|ipad).*applewebkit/i.test(s)){y=true;b=document.createTextNode("");new u(v).observe(b,{characterData:true});m=function(){b.data=y=!y}}else if(c&&c.resolve){_=c.resolve(undefined);A=_.then;m=function(){A.call(_,v)}}else{m=function(){o.call(n,v)}}}e.exports=d||function(e){var t={fn:e,next:undefined};if(g)g.next=t;if(!p){p=t;m()}g=t}},function(e,t,r){var n=r(38);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(25);var a=r(19);var i=r(116);e.exports=function(e,t){n(e);if(a(t)&&t.constructor===e)return t;var r=i.f(e);var o=r.resolve;o(t);return r.promise}},function(e,t,r){"use strict";var n=r(56);var a=function(e){var t,r;this.promise=new e(function(e,n){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=e;r=n});this.resolve=n(t);this.reject=n(r)};e.exports.f=function(e){return new a(e)}},function(e,t,r){var n=r(8);e.exports=function(e,t){var r=n.console;if(r&&r.error){arguments.length===1?r.error(e):r.error(e,t)}}},function(e,t){e.exports=function(e){try{return{error:false,value:e()}}catch(e){return{error:true,value:e}}}},function(e,t,r){"use strict";var n=r(7);var a=r(56);var i=r(116);var o=r(118);var s=r(110);n({target:"Promise",stat:true},{allSettled:function e(t){var r=this;var n=i.f(r);var u=n.resolve;var l=n.reject;var c=o(function(){var e=a(r.resolve);var n=[];var i=0;var o=1;s(t,function(t){var a=i++;var s=false;n.push(undefined);o++;e.call(r,t).then(function(e){if(s)return;s=true;n[a]={status:"fulfilled",value:e};--o||u(n)},function(e){if(s)return;s=true;n[a]={status:"rejected",reason:e};--o||u(n)})});--o||u(n)});if(c.error)l(c.value);return n.promise}})},function(e,t,r){"use strict";var n=r(7);var a=r(29);var i=r(106);var o=r(38);var s=r(111);var u=r(115);var l=r(26);n({target:"Promise",proto:true,real:true},{finally:function(e){var t=s(this,o("Promise"));var r=typeof e=="function";return this.then(r?function(r){return u(t,e()).then(function(){return r})}:e,r?function(r){return u(t,e()).then(function(){throw r})}:e)}});if(!a&&typeof i=="function"&&!i.prototype["finally"]){l(i.prototype,"finally",o("Promise").prototype["finally"])}},function(e,t,r){r(122);r(127);r(125);var n=r(39);e.exports=n.URL},function(e,t,r){"use strict";r(69);var n=r(7);var a=r(10);var i=r(123);var o=r(8);var s=r(65);var u=r(26);var l=r(109);var c=r(20);var f=r(91);var h=r(82);var d=r(70).codeAt;var v=r(124);var p=r(77);var g=r(125);var m=r(31);var y=o.URL;var b=g.URLSearchParams;var _=g.getState;var A=m.set;var S=m.getterFor("URL");var w=Math.floor;var k=Math.pow;var x="Invalid authority";var C="Invalid scheme";var P="Invalid host";var R="Invalid port";var E=/[A-Za-z]/;var T=/[\d+\-.A-Za-z]/;var O=/\d/;var L=/^(0x|0X)/;var F=/^[0-7]+$/;var I=/^\d+$/;var j=/^[\dA-Fa-f]+$/;var M=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/;var N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/;var D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;var q=/[\u0009\u000A\u000D]/g;var U;var W=function(e,t){var r,n,a;if(t.charAt(0)=="["){if(t.charAt(t.length-1)!="]")return P;r=z(t.slice(1,-1));if(!r)return P;e.host=r}else if(!Z(e)){if(N.test(t))return P;r="";n=h(t);for(a=0;a<n.length;a++){r+=K(n[a],X)}e.host=r}else{t=v(t);if(M.test(t))return P;r=B(t);if(r===null)return P;e.host=r}};var B=function(e){var t=e.split(".");var r,n,a,i,o,s,u;if(t.length&&t[t.length-1]==""){t.pop()}r=t.length;if(r>4)return e;n=[];for(a=0;a<r;a++){i=t[a];if(i=="")return e;o=10;if(i.length>1&&i.charAt(0)=="0"){o=L.test(i)?16:8;i=i.slice(o==8?1:2)}if(i===""){s=0}else{if(!(o==10?I:o==8?F:j).test(i))return e;s=parseInt(i,o)}n.push(s)}for(a=0;a<r;a++){s=n[a];if(a==r-1){if(s>=k(256,5-r))return null}else if(s>255)return null}u=n.pop();for(a=0;a<n.length;a++){u+=n[a]*k(256,3-a)}return u};var z=function(e){var t=[0,0,0,0,0,0,0,0];var r=0;var n=null;var a=0;var i,o,s,u,l,c,f;var h=function(){return e.charAt(a)};if(h()==":"){if(e.charAt(1)!=":")return;a+=2;r++;n=r}while(h()){if(r==8)return;if(h()==":"){if(n!==null)return;a++;r++;n=r;continue}i=o=0;while(o<4&&j.test(h())){i=i*16+parseInt(h(),16);a++;o++}if(h()=="."){if(o==0)return;a-=o;if(r>6)return;s=0;while(h()){u=null;if(s>0){if(h()=="."&&s<4)a++;else return}if(!O.test(h()))return;while(O.test(h())){l=parseInt(h(),10);if(u===null)u=l;else if(u==0)return;else u=u*10+l;if(u>255)return;a++}t[r]=t[r]*256+u;s++;if(s==2||s==4)r++}if(s!=4)return;break}else if(h()==":"){a++;if(!h())return}else if(h())return;t[r++]=i}if(n!==null){c=r-n;r=7;while(r!=0&&c>0){f=t[r];t[r--]=t[n+c-1];t[n+--c]=f}}else if(r!=8)return;return t};var G=function(e){var t=null;var r=1;var n=null;var a=0;var i=0;for(;i<8;i++){if(e[i]!==0){if(a>r){t=n;r=a}n=null;a=0}else{if(n===null)n=i;++a}}if(a>r){t=n;r=a}return t};var H=function(e){var t,r,n,a;if(typeof e=="number"){t=[];for(r=0;r<4;r++){t.unshift(e%256);e=w(e/256)}return t.join(".")}else if(typeof e=="object"){t="";n=G(e);for(r=0;r<8;r++){if(a&&e[r]===0)continue;if(a)a=false;if(n===r){t+=r?":":"::";a=true}else{t+=e[r].toString(16);if(r<7)t+=":"}}return"["+t+"]"}return e};var X={};var Y=f({},X,{" ":1,'"':1,"<":1,">":1,"`":1});var V=f({},Y,{"#":1,"?":1,"{":1,"}":1});var Q=f({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1});var K=function(e,t){var r=d(e,0);return r>32&&r<127&&!c(t,e)?e:encodeURIComponent(e)};var J={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443};var Z=function(e){return c(J,e.scheme)};var $=function(e){return e.username!=""||e.password!=""};var ee=function(e){return!e.host||e.cannotBeABaseURL||e.scheme=="file"};var te=function(e,t){var r;return e.length==2&&E.test(e.charAt(0))&&((r=e.charAt(1))==":"||!t&&r=="|")};var re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(e.length==2||((t=e.charAt(2))==="/"||t==="\\"||t==="?"||t==="#"))};var ne=function(e){var t=e.path;var r=t.length;if(r&&(e.scheme!="file"||r!=1||!te(t[0],true))){t.pop()}};var ae=function(e){return e==="."||e.toLowerCase()==="%2e"};var ie=function(e){e=e.toLowerCase();return e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"};var oe={};var se={};var ue={};var le={};var ce={};var fe={};var he={};var de={};var ve={};var pe={};var ge={};var me={};var ye={};var be={};var _e={};var Ae={};var Se={};var we={};var ke={};var xe={};var Ce={};var Pe=function(e,t,r,n){var a=r||oe;var i=0;var o="";var s=false;var u=false;var l=false;var f,d,v,p;if(!r){e.scheme="";e.username="";e.password="";e.host=null;e.port=null;e.path=[];e.query=null;e.fragment=null;e.cannotBeABaseURL=false;t=t.replace(D,"")}t=t.replace(q,"");f=h(t);while(i<=f.length){d=f[i];switch(a){case oe:if(d&&E.test(d)){o+=d.toLowerCase();a=se}else if(!r){a=ue;continue}else return C;break;case se:if(d&&(T.test(d)||d=="+"||d=="-"||d==".")){o+=d.toLowerCase()}else if(d==":"){if(r&&(Z(e)!=c(J,o)||o=="file"&&($(e)||e.port!==null)||e.scheme=="file"&&!e.host))return;e.scheme=o;if(r){if(Z(e)&&J[e.scheme]==e.port)e.port=null;return}o="";if(e.scheme=="file"){a=be}else if(Z(e)&&n&&n.scheme==e.scheme){a=le}else if(Z(e)){a=de}else if(f[i+1]=="/"){a=ce;i++}else{e.cannotBeABaseURL=true;e.path.push("");a=ke}}else if(!r){o="";a=ue;i=0;continue}else return C;break;case ue:if(!n||n.cannotBeABaseURL&&d!="#")return C;if(n.cannotBeABaseURL&&d=="#"){e.scheme=n.scheme;e.path=n.path.slice();e.query=n.query;e.fragment="";e.cannotBeABaseURL=true;a=Ce;break}a=n.scheme=="file"?be:fe;continue;case le:if(d=="/"&&f[i+1]=="/"){a=ve;i++}else{a=fe;continue}break;case ce:if(d=="/"){a=pe;break}else{a=we;continue}case fe:e.scheme=n.scheme;if(d==U){e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.query=n.query}else if(d=="/"||d=="\\"&&Z(e)){a=he}else if(d=="?"){e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.query="";a=xe}else if(d=="#"){e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.query=n.query;e.fragment="";a=Ce}else{e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;e.path=n.path.slice();e.path.pop();a=we;continue}break;case he:if(Z(e)&&(d=="/"||d=="\\")){a=ve}else if(d=="/"){a=pe}else{e.username=n.username;e.password=n.password;e.host=n.host;e.port=n.port;a=we;continue}break;case de:a=ve;if(d!="/"||o.charAt(i+1)!="/")continue;i++;break;case ve:if(d!="/"&&d!="\\"){a=pe;continue}break;case pe:if(d=="@"){if(s)o="%40"+o;s=true;v=h(o);for(var g=0;g<v.length;g++){var m=v[g];if(m==":"&&!l){l=true;continue}var y=K(m,Q);if(l)e.password+=y;else e.username+=y}o=""}else if(d==U||d=="/"||d=="?"||d=="#"||d=="\\"&&Z(e)){if(s&&o=="")return x;i-=h(o).length+1;o="";a=ge}else o+=d;break;case ge:case me:if(r&&e.scheme=="file"){a=Ae;continue}else if(d==":"&&!u){if(o=="")return P;p=W(e,o);if(p)return p;o="";a=ye;if(r==me)return}else if(d==U||d=="/"||d=="?"||d=="#"||d=="\\"&&Z(e)){if(Z(e)&&o=="")return P;if(r&&o==""&&($(e)||e.port!==null))return;p=W(e,o);if(p)return p;o="";a=Se;if(r)return;continue}else{if(d=="[")u=true;else if(d=="]")u=false;o+=d}break;case ye:if(O.test(d)){o+=d}else if(d==U||d=="/"||d=="?"||d=="#"||d=="\\"&&Z(e)||r){if(o!=""){var b=parseInt(o,10);if(b>65535)return R;e.port=Z(e)&&b===J[e.scheme]?null:b;o=""}if(r)return;a=Se;continue}else return R;break;case be:e.scheme="file";if(d=="/"||d=="\\")a=_e;else if(n&&n.scheme=="file"){if(d==U){e.host=n.host;e.path=n.path.slice();e.query=n.query}else if(d=="?"){e.host=n.host;e.path=n.path.slice();e.query="";a=xe}else if(d=="#"){e.host=n.host;e.path=n.path.slice();e.query=n.query;e.fragment="";a=Ce}else{if(!re(f.slice(i).join(""))){e.host=n.host;e.path=n.path.slice();ne(e)}a=we;continue}}else{a=we;continue}break;case _e:if(d=="/"||d=="\\"){a=Ae;break}if(n&&n.scheme=="file"&&!re(f.slice(i).join(""))){if(te(n.path[0],true))e.path.push(n.path[0]);else e.host=n.host}a=we;continue;case Ae:if(d==U||d=="/"||d=="\\"||d=="?"||d=="#"){if(!r&&te(o)){a=we}else if(o==""){e.host="";if(r)return;a=Se}else{p=W(e,o);if(p)return p;if(e.host=="localhost")e.host="";if(r)return;o="";a=Se}continue}else o+=d;break;case Se:if(Z(e)){a=we;if(d!="/"&&d!="\\")continue}else if(!r&&d=="?"){e.query="";a=xe}else if(!r&&d=="#"){e.fragment="";a=Ce}else if(d!=U){a=we;if(d!="/")continue}break;case we:if(d==U||d=="/"||d=="\\"&&Z(e)||!r&&(d=="?"||d=="#")){if(ie(o)){ne(e);if(d!="/"&&!(d=="\\"&&Z(e))){e.path.push("")}}else if(ae(o)){if(d!="/"&&!(d=="\\"&&Z(e))){e.path.push("")}}else{if(e.scheme=="file"&&!e.path.length&&te(o)){if(e.host)e.host="";o=o.charAt(0)+":"}e.path.push(o)}o="";if(e.scheme=="file"&&(d==U||d=="?"||d=="#")){while(e.path.length>1&&e.path[0]===""){e.path.shift()}}if(d=="?"){e.query="";a=xe}else if(d=="#"){e.fragment="";a=Ce}}else{o+=K(d,V)}break;case ke:if(d=="?"){e.query="";a=xe}else if(d=="#"){e.fragment="";a=Ce}else if(d!=U){e.path[0]+=K(d,X)}break;case xe:if(!r&&d=="#"){e.fragment="";a=Ce}else if(d!=U){if(d=="'"&&Z(e))e.query+="%27";else if(d=="#")e.query+="%23";else e.query+=K(d,X)}break;case Ce:if(d!=U)e.fragment+=K(d,Y);break}i++}};var Re=function e(t){var r=l(this,Re,"URL");var n=arguments.length>1?arguments[1]:undefined;var i=String(t);var o=A(r,{type:"URL"});var s,u;if(n!==undefined){if(n instanceof Re)s=S(n);else{u=Pe(s={},String(n));if(u)throw TypeError(u)}}u=Pe(o,i,null,s);if(u)throw TypeError(u);var c=o.searchParams=new b;var f=_(c);f.updateSearchParams(o.query);f.updateURL=function(){o.query=String(c)||null};if(!a){r.href=Te.call(r);r.origin=Oe.call(r);r.protocol=Le.call(r);r.username=Fe.call(r);r.password=Ie.call(r);r.host=je.call(r);r.hostname=Me.call(r);r.port=Ne.call(r);r.pathname=De.call(r);r.search=qe.call(r);r.searchParams=Ue.call(r);r.hash=We.call(r)}};var Ee=Re.prototype;var Te=function(){var e=S(this);var t=e.scheme;var r=e.username;var n=e.password;var a=e.host;var i=e.port;var o=e.path;var s=e.query;var u=e.fragment;var l=t+":";if(a!==null){l+="//";if($(e)){l+=r+(n?":"+n:"")+"@"}l+=H(a);if(i!==null)l+=":"+i}else if(t=="file")l+="//";l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"";if(s!==null)l+="?"+s;if(u!==null)l+="#"+u;return l};var Oe=function(){var e=S(this);var t=e.scheme;var r=e.port;if(t=="blob")try{return new URL(t.path[0]).origin}catch(e){return"null"}if(t=="file"||!Z(e))return"null";return t+"://"+H(e.host)+(r!==null?":"+r:"")};var Le=function(){return S(this).scheme+":"};var Fe=function(){return S(this).username};var Ie=function(){return S(this).password};var je=function(){var e=S(this);var t=e.host;var r=e.port;return t===null?"":r===null?H(t):H(t)+":"+r};var Me=function(){var e=S(this).host;return e===null?"":H(e)};var Ne=function(){var e=S(this).port;return e===null?"":String(e)};var De=function(){var e=S(this);var t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""};var qe=function(){var e=S(this).query;return e?"?"+e:""};var Ue=function(){return S(this).searchParams};var We=function(){var e=S(this).fragment;return e?"#"+e:""};var Be=function(e,t){return{get:e,set:t,configurable:true,enumerable:true}};if(a){s(Ee,{href:Be(Te,function(e){var t=S(this);var r=String(e);var n=Pe(t,r);if(n)throw TypeError(n);_(t.searchParams).updateSearchParams(t.query)}),origin:Be(Oe),protocol:Be(Le,function(e){var t=S(this);Pe(t,String(e)+":",oe)}),username:Be(Fe,function(e){var t=S(this);var r=h(String(e));if(ee(t))return;t.username="";for(var n=0;n<r.length;n++){t.username+=K(r[n],Q)}}),password:Be(Ie,function(e){var t=S(this);var r=h(String(e));if(ee(t))return;t.password="";for(var n=0;n<r.length;n++){t.password+=K(r[n],Q)}}),host:Be(je,function(e){var t=S(this);if(t.cannotBeABaseURL)return;Pe(t,String(e),ge)}),hostname:Be(Me,function(e){var t=S(this);if(t.cannotBeABaseURL)return;Pe(t,String(e),me)}),port:Be(Ne,function(e){var t=S(this);if(ee(t))return;e=String(e);if(e=="")t.port=null;else Pe(t,e,ye)}),pathname:Be(De,function(e){var t=S(this);if(t.cannotBeABaseURL)return;t.path=[];Pe(t,e+"",Se)}),search:Be(qe,function(e){var t=S(this);e=String(e);if(e==""){t.query=null}else{if("?"==e.charAt(0))e=e.slice(1);t.query="";Pe(t,e,xe)}_(t.searchParams).updateSearchParams(t.query)}),searchParams:Be(Ue),hash:Be(We,function(e){var t=S(this);e=String(e);if(e==""){t.fragment=null;return}if("#"==e.charAt(0))e=e.slice(1);t.fragment="";Pe(t,e,Ce)})})}u(Ee,"toJSON",function e(){return Te.call(this)},{enumerable:true});u(Ee,"toString",function e(){return Te.call(this)},{enumerable:true});if(y){var ze=y.createObjectURL;var Ge=y.revokeObjectURL;if(ze)u(Re,"createObjectURL",function e(t){return ze.apply(y,arguments)});if(Ge)u(Re,"revokeObjectURL",function e(t){return Ge.apply(y,arguments)})}p(Re,"URL");n({global:true,forced:!i,sham:!a},{URL:Re})},function(e,t,r){var n=r(11);var a=r(51);var i=r(29);var o=a("iterator");e.exports=!n(function(){var e=new URL("b?e=1","http://a");var t=e.searchParams;e.pathname="c%20d";return i&&!e.toJSON||!t.sort||e.href!=="http://a/c%20d?e=1"||t.get("e")!=="1"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[o]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"})},function(e,t,r){"use strict";var n=2147483647;var a=36;var i=1;var o=26;var s=38;var u=700;var l=72;var c=128;var f="-";var h=/[^\0-\u007E]/;var d=/[.\u3002\uFF0E\uFF61]/g;var v="Overflow: input needs wider integers to process";var p=a-i;var g=Math.floor;var m=String.fromCharCode;var y=function(e){var t=[];var r=0;var n=e.length;while(r<n){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);if((i&64512)==56320){t.push(((a&1023)<<10)+(i&1023)+65536)}else{t.push(a);r--}}else{t.push(a)}}return t};var b=function(e){return e+22+75*(e<26)};var _=function(e,t,r){var n=0;e=r?g(e/u):e>>1;e+=g(e/t);for(;e>p*o>>1;n+=a){e=g(e/p)}return g(n+(p+1)*e/(e+s))};var A=function(e){var t=[];e=y(e);var r=e.length;var s=c;var u=0;var h=l;var d,p;for(d=0;d<e.length;d++){p=e[d];if(p<128){t.push(m(p))}}var A=t.length;var S=A;if(A){t.push(f)}while(S<r){var w=n;for(d=0;d<e.length;d++){p=e[d];if(p>=s&&p<w){w=p}}var k=S+1;if(w-s>g((n-u)/k)){throw RangeError(v)}u+=(w-s)*k;s=w;for(d=0;d<e.length;d++){p=e[d];if(p<s&&++u>n){throw RangeError(v)}if(p==s){var x=u;for(var C=a;;C+=a){var P=C<=h?i:C>=h+o?o:C-h;if(x<P)break;var R=x-P;var E=a-P;t.push(m(b(P+R%E)));x=g(R/E)}t.push(m(b(x)));h=_(u,k,S==A);u=0;++S}}++u;++s}return t.join("")};e.exports=function(e){var t=[];var r=e.toLowerCase().replace(d,".").split(".");var n,a;for(n=0;n<r.length;n++){a=r[n];t.push(h.test(a)?"xn--"+A(a):a)}return t.join(".")}},function(e,t,r){"use strict";r(104);var n=r(7);var a=r(123);var i=r(26);var o=r(107);var s=r(77);var u=r(72);var l=r(31);var c=r(109);var f=r(20);var h=r(55);var d=r(25);var v=r(19);var p=r(126);var g=r(86);var m=r(51);var y=m("iterator");var b="URLSearchParams";var _=b+"Iterator";var A=l.set;var S=l.getterFor(b);var w=l.getterFor(_);var k=/\+/g;var x=Array(4);var C=function(e){return x[e-1]||(x[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))};var P=function(e){try{return decodeURIComponent(e)}catch(t){return e}};var R=function(e){var t=e.replace(k," ");var r=4;try{return decodeURIComponent(t)}catch(e){while(r){t=t.replace(C(r--),P)}return t}};var E=/[!'()~]|%20/g;var T={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"};var O=function(e){return T[e]};var L=function(e){return encodeURIComponent(e).replace(E,O)};var F=function(e,t){if(t){var r=t.split("&");var n=0;var a,i;while(n<r.length){a=r[n++];if(a.length){i=a.split("=");e.push({key:R(i.shift()),value:R(i.join("="))})}}}};var I=function(e){this.entries.length=0;F(this.entries,e)};var j=function(e,t){if(e<t)throw TypeError("Not enough arguments")};var M=u(function e(t,r){A(this,{type:_,iterator:p(S(t).entries),kind:r})},"Iterator",function e(){var t=w(this);var r=t.kind;var n=t.iterator.next();var a=n.value;if(!n.done){n.value=r==="keys"?a.key:r==="values"?a.value:[a.key,a.value]}return n});var N=function e(){c(this,N,b);var t=arguments.length>0?arguments[0]:undefined;var r=this;var n=[];var a,i,o,s,u,l,h;A(r,{type:b,entries:n,updateURL:function(){},updateSearchParams:I});if(t!==undefined){if(v(t)){a=g(t);if(typeof a==="function"){i=a.call(t);while(!(o=i.next()).done){s=p(d(o.value));if((u=s.next()).done||(l=s.next()).done||!s.next().done)throw TypeError("Expected sequence with length 2");n.push({key:u.value+"",value:l.value+""})}}else for(h in t)if(f(t,h))n.push({key:h,value:t[h]+""})}else{F(n,typeof t==="string"?t.charAt(0)==="?"?t.slice(1):t:t+"")}}};var D=N.prototype;o(D,{append:function e(t,r){j(arguments.length,2);var n=S(this);n.entries.push({key:t+"",value:r+""});n.updateURL()},delete:function(e){j(arguments.length,1);var t=S(this);var r=t.entries;var n=e+"";var a=0;while(a<r.length){if(r[a].key===n)r.splice(a,1);else a++}t.updateURL()},get:function e(t){j(arguments.length,1);var r=S(this).entries;var n=t+"";var a=0;for(;a<r.length;a++){if(r[a].key===n)return r[a].value}return null},getAll:function e(t){j(arguments.length,1);var r=S(this).entries;var n=t+"";var a=[];var i=0;for(;i<r.length;i++){if(r[i].key===n)a.push(r[i].value)}return a},has:function e(t){j(arguments.length,1);var r=S(this).entries;var n=t+"";var a=0;while(a<r.length){if(r[a++].key===n)return true}return false},set:function e(t,r){j(arguments.length,1);var n=S(this);var a=n.entries;var i=false;var o=t+"";var s=r+"";var u=0;var l;for(;u<a.length;u++){l=a[u];if(l.key===o){if(i)a.splice(u--,1);else{i=true;l.value=s}}}if(!i)a.push({key:o,value:s});n.updateURL()},sort:function e(){var t=S(this);var r=t.entries;var n=r.slice();var a,i,o;r.length=0;for(o=0;o<n.length;o++){a=n[o];for(i=0;i<o;i++){if(r[i].key>a.key){r.splice(i,0,a);break}}if(i===o)r.push(a)}t.updateURL()},forEach:function e(t){var r=S(this).entries;var n=h(t,arguments.length>1?arguments[1]:undefined,3);var a=0;var i;while(a<r.length){i=r[a++];n(i.value,i.key,this)}},keys:function e(){return new M(this,"keys")},values:function e(){return new M(this,"values")},entries:function e(){return new M(this,"entries")}},{enumerable:true});i(D,y,D.entries);i(D,"toString",function e(){var t=S(this).entries;var r=[];var n=0;var a;while(n<t.length){a=t[n++];r.push(L(a.key)+"="+L(a.value))}return r.join("&")},{enumerable:true});s(N,b);n({global:true,forced:!a},{URLSearchParams:N});e.exports={URLSearchParams:N,getState:S}},function(e,t,r){var n=r(25);var a=r(86);e.exports=function(e){var t=a(e);if(typeof t!="function"){throw TypeError(String(e)+" is not iterable")}return n(t.call(e))}},function(e,t,r){"use strict";var n=r(7);n({target:"URL",proto:true,enumerable:true},{toJSON:function e(){return URL.prototype.toString.call(this)}})},function(e,t,r){r(100);r(129);r(102);var n=r(39);e.exports=n.WeakMap},function(e,t,r){"use strict";var n=r(8);var a=r(107);var i=r(130);var o=r(132);var s=r(134);var u=r(19);var l=r(31).enforce;var c=r(32);var f=!n.ActiveXObject&&"ActiveXObject"in n;var h=Object.isExtensible;var d;var v=function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}};var p=e.exports=o("WeakMap",v,s,true,true);if(c&&f){d=s.getConstructor(v,"WeakMap",true);i.REQUIRED=true;var g=p.prototype;var m=g["delete"];var y=g.has;var b=g.get;var _=g.set;a(g,{delete:function(e){if(u(e)&&!h(e)){var t=l(this);if(!t.frozen)t.frozen=new d;return m.call(this,e)||t.frozen["delete"](e)}return m.call(this,e)},has:function e(t){if(u(t)&&!h(t)){var r=l(this);if(!r.frozen)r.frozen=new d;return y.call(this,t)||r.frozen.has(t)}return y.call(this,t)},get:function e(t){if(u(t)&&!h(t)){var r=l(this);if(!r.frozen)r.frozen=new d;return y.call(this,t)?b.call(this,t):r.frozen.get(t)}return b.call(this,t)},set:function e(t,r){if(u(t)&&!h(t)){var n=l(this);if(!n.frozen)n.frozen=new d;y.call(this,t)?_.call(this,t,r):n.frozen.set(t,r)}else _.call(this,t,r);return this}})}},function(e,t,r){var n=r(35);var a=r(19);var i=r(20);var o=r(24).f;var s=r(34);var u=r(131);var l=s("meta");var c=0;var f=Object.isExtensible||function(){return true};var h=function(e){o(e,l,{value:{objectID:"O"+ ++c,weakData:{}}})};var d=function(e,t){if(!a(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!i(e,l)){if(!f(e))return"F";if(!t)return"E";h(e)}return e[l].objectID};var v=function(e,t){if(!i(e,l)){if(!f(e))return true;if(!t)return false;h(e)}return e[l].weakData};var p=function(e){if(u&&g.REQUIRED&&f(e)&&!i(e,l))h(e);return e};var g=e.exports={REQUIRED:false,fastKey:d,getWeakData:v,onFreeze:p};n[l]=true},function(e,t,r){var n=r(11);e.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,r){"use strict";var n=r(7);var a=r(8);var i=r(48);var o=r(26);var s=r(130);var u=r(110);var l=r(109);var c=r(19);var f=r(11);var h=r(88);var d=r(77);var v=r(133);e.exports=function(e,t,r,p,g){var m=a[e];var y=m&&m.prototype;var b=m;var _=p?"set":"add";var A={};var S=function(e){var t=y[e];o(y,e,e=="add"?function e(r){t.call(this,r===0?0:r);return this}:e=="delete"?function(e){return g&&!c(e)?false:t.call(this,e===0?0:e)}:e=="get"?function e(r){return g&&!c(r)?undefined:t.call(this,r===0?0:r)}:e=="has"?function e(r){return g&&!c(r)?false:t.call(this,r===0?0:r)}:function e(r,n){t.call(this,r===0?0:r,n);return this})};if(i(e,typeof m!="function"||!(g||y.forEach&&!f(function(){(new m).entries().next()})))){b=r.getConstructor(t,e,p,_);s.REQUIRED=true}else if(i(e,true)){var w=new b;var k=w[_](g?{}:-0,1)!=w;var x=f(function(){w.has(1)});var C=h(function(e){new m(e)});var P=!g&&f(function(){var e=new m;var t=5;while(t--)e[_](t,t);return!e.has(-0)});if(!C){b=t(function(t,r){l(t,b,e);var n=v(new m,t,b);if(r!=undefined)u(r,n[_],n,p);return n});b.prototype=y;y.constructor=b}if(x||P){S("delete");S("has");p&&S("get")}if(P||k)S(_);if(g&&y.clear)delete y.clear}A[e]=b;n({global:true,forced:b!=m},A);d(b,e);if(!g)r.setStrong(b,e,p);return b}},function(e,t,r){var n=r(19);var a=r(79);e.exports=function(e,t,r){var i,o;if(a&&typeof(i=t.constructor)=="function"&&i!==r&&n(o=i.prototype)&&o!==r.prototype)a(e,o);return e}},function(e,t,r){"use strict";var n=r(107);var a=r(130).getWeakData;var i=r(25);var o=r(19);var s=r(109);var u=r(110);var l=r(135);var c=r(20);var f=r(31);var h=f.set;var d=f.getterFor;var v=l.find;var p=l.findIndex;var g=0;var m=function(e){return e.frozen||(e.frozen=new y)};var y=function(){this.entries=[]};var b=function(e,t){return v(e.entries,function(e){return e[0]===t})};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);if(r)r[1]=t;else this.entries.push([e,t])},delete:function(e){var t=p(this.entries,function(t){return t[0]===e});if(~t)this.entries.splice(t,1);return!!~t}};e.exports={getConstructor:function(e,t,r,l){var f=e(function(e,n){s(e,f,t);h(e,{type:t,id:g++,frozen:undefined});if(n!=undefined)u(n,e[l],e,r)});var v=d(t);var p=function(e,t,r){var n=v(e);var o=a(i(t),true);if(o===true)m(n).set(t,r);else o[n.id]=r;return e};n(f.prototype,{delete:function(e){var t=v(this);if(!o(e))return false;var r=a(e);if(r===true)return m(t)["delete"](e);return r&&c(r,t.id)&&delete r[t.id]},has:function e(t){var r=v(this);if(!o(t))return false;var n=a(t);if(n===true)return m(r).has(t);return n&&c(n,r.id)}});n(f.prototype,r?{get:function e(t){var r=v(this);if(o(t)){var n=a(t);if(n===true)return m(r).get(t);return n?n[r.id]:undefined}},set:function e(t,r){return p(this,t,r)}}:{add:function e(t){return p(this,t,true)}});return f}}},function(e,t,r){var n=r(55);var a=r(15);var i=r(75);var o=r(43);var s=r(136);var u=[].push;var l=function(e){var t=e==1;var r=e==2;var l=e==3;var c=e==4;var f=e==6;var h=e==5||f;return function(d,v,p,g){var m=i(d);var y=a(m);var b=n(v,p,3);var _=o(y.length);var A=0;var S=g||s;var w=t?S(d,_):r?S(d,0):undefined;var k,x;for(;_>A;A++)if(h||A in y){k=y[A];x=b(k,A,m);if(e){if(t)w[A]=x;else if(x)switch(e){case 3:return true;case 5:return k;case 6:return A;case 2:u.call(w,k)}else if(c)return false}}return f?-1:l||c?c:w}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,t,r){var n=r(19);var a=r(137);var i=r(51);var o=i("species");e.exports=function(e,t){var r;if(a(e)){r=e.constructor;if(typeof r=="function"&&(r===Array||a(r.prototype)))r=undefined;else if(n(r)){r=r[o];if(r===null)r=undefined}}return new(r===undefined?Array:r)(t===0?0:t)}},function(e,t,r){var n=r(16);e.exports=Array.isArray||function e(t){return n(t)=="Array"}},function(e,t,r){r(100);r(139);r(102);var n=r(39);e.exports=n.WeakSet},function(e,t,r){"use strict";var n=r(132);var a=r(134);n("WeakSet",function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}},a,false,true)},function(e,t,r){r(141);var n=r(54);e.exports=n("String","codePointAt")},function(e,t,r){"use strict";var n=r(7);var a=r(70).codeAt;n({target:"String",proto:true},{codePointAt:function e(t){return a(this,t)}})},function(e,t,r){r(143);var n=r(39);e.exports=n.String.fromCodePoint},function(e,t,r){var n=r(7);var a=r(45);var i=String.fromCharCode;var o=String.fromCodePoint;var s=!!o&&o.length!=1;n({target:"String",stat:true,forced:s},{fromCodePoint:function e(t){var r=[];var n=arguments.length;var o=0;var s;while(n>o){s=+arguments[o++];if(a(s,1114111)!==s)throw RangeError(s+" is not a valid code point");r.push(s<65536?i(s):i(((s-=65536)>>10)+55296,s%1024+56320))}return r.join("")}})},function(e,t,r){r(145);r(100);r(147);r(151);r(152);r(153);r(154);r(155);r(156);r(157);r(158);r(159);r(160);r(161);r(162);r(163);r(164);r(165);r(166);var n=r(39);e.exports=n.Symbol},function(e,t,r){"use strict";var n=r(7);var a=r(11);var i=r(137);var o=r(19);var s=r(75);var u=r(43);var l=r(85);var c=r(136);var f=r(146);var h=r(51);var d=h("isConcatSpreadable");var v=9007199254740991;var p="Maximum allowed index exceeded";var g=!a(function(){var e=[];e[d]=false;return e.concat()[0]!==e});var m=f("concat");var y=function(e){if(!o(e))return false;var t=e[d];return t!==undefined?!!t:i(e)};var b=!g||!m;n({target:"Array",proto:true,forced:b},{concat:function e(t){var r=s(this);var n=c(r,0);var a=0;var i,o,f,h,d;for(i=-1,f=arguments.length;i<f;i++){d=i===-1?r:arguments[i];if(y(d)){h=u(d.length);if(a+h>v)throw TypeError(p);for(o=0;o<h;o++,a++)if(o in d)l(n,a,d[o])}else{if(a>=v)throw TypeError(p);l(n,a++,d)}}n.length=a;return n}})},function(e,t,r){var n=r(11);var a=r(51);var i=a("species");e.exports=function(e){return!n(function(){var t=[];var r=t.constructor={};r[i]=function(){return{foo:1}};return t[e](Boolean).foo!==1})}},function(e,t,r){"use strict";var n=r(7);var a=r(8);var i=r(29);var o=r(10);var s=r(52);var u=r(11);var l=r(20);var c=r(137);var f=r(19);var h=r(25);var d=r(75);var v=r(14);var p=r(18);var g=r(13);var m=r(64);var y=r(66);var b=r(40);var _=r(148);var A=r(47);var S=r(9);var w=r(24);var k=r(12);var x=r(23);var C=r(26);var P=r(27);var R=r(33);var E=r(35);var T=r(34);var O=r(51);var L=r(149);var F=r(150);var I=r(77);var j=r(31);var M=r(135).forEach;var N=R("hidden");var D="Symbol";var q="prototype";var U=O("toPrimitive");var W=j.set;var B=j.getterFor(D);var z=Object[q];var G=a.Symbol;var H=a.JSON;var X=H&&H.stringify;var Y=S.f;var V=w.f;var Q=_.f;var K=k.f;var J=P("symbols");var Z=P("op-symbols");var $=P("string-to-symbol-registry");var ee=P("symbol-to-string-registry");var te=P("wks");var re=a.QObject;var ne=!re||!re[q]||!re[q].findChild;var ae=o&&u(function(){return m(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=Y(z,t);if(n)delete z[t];V(e,t,r);if(n&&e!==z){V(z,t,n)}}:V;var ie=function(e,t){var r=J[e]=m(G[q]);W(r,{type:D,tag:e,description:t});if(!o)r.description=t;return r};var oe=s&&typeof G.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return Object(e)instanceof G};var se=function e(t,r,n){if(t===z)se(Z,r,n);h(t);var a=p(r,true);h(n);if(l(J,a)){if(!n.enumerable){if(!l(t,N))V(t,N,g(1,{}));t[N][a]=true}else{if(l(t,N)&&t[N][a])t[N][a]=false;n=m(n,{enumerable:g(0,false)})}return ae(t,a,n)}return V(t,a,n)};var ue=function e(t,r){h(t);var n=v(r);var a=y(n).concat(de(n));M(a,function(e){if(!o||ce.call(n,e))se(t,e,n[e])});return t};var le=function e(t,r){return r===undefined?m(t):ue(m(t),r)};var ce=function e(t){var r=p(t,true);var n=K.call(this,r);if(this===z&&l(J,r)&&!l(Z,r))return false;return n||!l(this,r)||!l(J,r)||l(this,N)&&this[N][r]?n:true};var fe=function e(t,r){var n=v(t);var a=p(r,true);if(n===z&&l(J,a)&&!l(Z,a))return;var i=Y(n,a);if(i&&l(J,a)&&!(l(n,N)&&n[N][a])){i.enumerable=true}return i};var he=function e(t){var r=Q(v(t));var n=[];M(r,function(e){if(!l(J,e)&&!l(E,e))n.push(e)});return n};var de=function e(t){var r=t===z;var n=Q(r?Z:v(t));var a=[];M(n,function(e){if(l(J,e)&&(!r||l(z,e))){a.push(J[e])}});return a};if(!s){G=function e(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var t=!arguments.length||arguments[0]===undefined?undefined:String(arguments[0]);var r=T(t);var n=function(e){if(this===z)n.call(Z,e);if(l(this,N)&&l(this[N],r))this[N][r]=false;ae(this,r,g(1,e))};if(o&&ne)ae(z,r,{configurable:true,set:n});return ie(r,t)};C(G[q],"toString",function e(){return B(this).tag});k.f=ce;w.f=se;S.f=fe;b.f=_.f=he;A.f=de;if(o){V(G[q],"description",{configurable:true,get:function e(){return B(this).description}});if(!i){C(z,"propertyIsEnumerable",ce,{unsafe:true})}}L.f=function(e){return ie(O(e),e)}}n({global:true,wrap:true,forced:!s,sham:!s},{Symbol:G});M(y(te),function(e){F(e)});n({target:D,stat:true,forced:!s},{for:function(e){var t=String(e);if(l($,t))return $[t];var r=G(t);$[t]=r;ee[r]=t;return r},keyFor:function e(t){if(!oe(t))throw TypeError(t+" is not a symbol");if(l(ee,t))return ee[t]},useSetter:function(){ne=true},useSimple:function(){ne=false}});n({target:"Object",stat:true,forced:!s,sham:!o},{create:le,defineProperty:se,defineProperties:ue,getOwnPropertyDescriptor:fe});n({target:"Object",stat:true,forced:!s},{getOwnPropertyNames:he,getOwnPropertySymbols:de});n({target:"Object",stat:true,forced:u(function(){A.f(1)})},{getOwnPropertySymbols:function e(t){return A.f(d(t))}});H&&n({target:"JSON",stat:true,forced:!s||u(function(){var e=G();return X([e])!="[null]"||X({a:e})!="{}"||X(Object(e))!="{}"})},{stringify:function e(t){var r=[t];var n=1;var a,i;while(arguments.length>n)r.push(arguments[n++]);i=a=r[1];if(!f(a)&&t===undefined||oe(t))return;if(!c(a))a=function(e,t){if(typeof i=="function")t=i.call(this,e,t);if(!oe(t))return t};r[1]=a;return X.apply(H,r)}});if(!G[q][U])x(G[q],U,G[q].valueOf);I(G,D);E[N]=true},function(e,t,r){var n=r(14);var a=r(40).f;var i={}.toString;var o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return a(e)}catch(e){return o.slice()}};e.exports.f=function e(t){return o&&i.call(t)=="[object Window]"?s(t):a(n(t))}},function(e,t,r){t.f=r(51)},function(e,t,r){var n=r(39);var a=r(20);var i=r(149);var o=r(24).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});if(!a(t,e))o(t,e,{value:i.f(e)})}},function(e,t,r){var n=r(150);n("asyncIterator")},function(e,t,r){"use strict";var n=r(7);var a=r(10);var i=r(8);var o=r(20);var s=r(19);var u=r(24).f;var l=r(36);var c=i.Symbol;if(a&&typeof c=="function"&&(!("description"in c.prototype)||c().description!==undefined)){var f={};var h=function e(){var t=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]);var r=this instanceof h?new c(t):t===undefined?c():c(t);if(t==="")f[r]=true;return r};l(h,c);var d=h.prototype=c.prototype;d.constructor=h;var v=d.toString;var p=String(c("test"))=="Symbol(test)";var g=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:true,get:function e(){var t=s(this)?this.valueOf():this;var r=v.call(t);if(o(f,t))return"";var n=p?r.slice(7,-1):r.replace(g,"$1");return n===""?undefined:n}});n({global:true,forced:true},{Symbol:h})}},function(e,t,r){var n=r(150);n("hasInstance")},function(e,t,r){var n=r(150);n("isConcatSpreadable")},function(e,t,r){var n=r(150);n("iterator")},function(e,t,r){var n=r(150);n("match")},function(e,t,r){var n=r(150);n("matchAll")},function(e,t,r){var n=r(150);n("replace")},function(e,t,r){var n=r(150);n("search")},function(e,t,r){var n=r(150);n("species")},function(e,t,r){var n=r(150);n("split")},function(e,t,r){var n=r(150);n("toPrimitive")},function(e,t,r){var n=r(150);n("toStringTag")},function(e,t,r){var n=r(150);n("unscopables")},function(e,t,r){var n=r(77);n(Math,"Math",true)},function(e,t,r){var n=r(8);var a=r(77);a(n.JSON,"JSON",true)},function(e,t,r){r(168);var n=r(54);e.exports=n("String","padStart")},function(e,t,r){"use strict";var n=r(7);var a=r(169).start;var i=r(171);n({target:"String",proto:true,forced:i},{padStart:function e(t){return a(this,t,arguments.length>1?arguments[1]:undefined)}})},function(e,t,r){var n=r(43);var a=r(170);var i=r(17);var o=Math.ceil;var s=function(e){return function(t,r,s){var u=String(i(t));var l=u.length;var c=s===undefined?" ":String(s);var f=n(r);var h,d;if(f<=l||c=="")return u;h=f-l;d=a.call(c,o(h/c.length));if(d.length>h)d=d.slice(0,h);return e?u+d:d+u}};e.exports={start:s(false),end:s(true)}},function(e,t,r){"use strict";var n=r(44);var a=r(17);e.exports="".repeat||function e(t){var r=String(a(this));var i="";var o=n(t);if(o<0||o==Infinity)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(r+=r))if(o&1)i+=r;return i}},function(e,t,r){var n=r(114);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},function(e,t,r){r(173);var n=r(54);e.exports=n("String","padEnd")},function(e,t,r){"use strict";var n=r(7);var a=r(169).end;var i=r(171);n({target:"String",proto:true,forced:i},{padEnd:function e(t){return a(this,t,arguments.length>1?arguments[1]:undefined)}})},function(e,t,r){r(175);var n=r(39);e.exports=n.Object.values},function(e,t,r){var n=r(7);var a=r(176).values;n({target:"Object",stat:true},{values:function e(t){return a(t)}})},function(e,t,r){var n=r(10);var a=r(66);var i=r(14);var o=r(12).f;var s=function(e){return function(t){var r=i(t);var s=a(r);var u=s.length;var l=0;var c=[];var f;while(u>l){f=s[l++];if(!n||o.call(r,f)){c.push(e?[f,r[f]]:r[f])}}return c}};e.exports={entries:s(true),values:s(false)}},function(e,t,r){"use strict";{var n=false;if(typeof ReadableStream!=="undefined"){try{new ReadableStream({start:function e(t){t.close()}});n=true}catch(e){}}if(n){t.ReadableStream=ReadableStream}else{t.ReadableStream=r(178).ReadableStream}}},function(e,t,r){"use strict";r.r(t);r.d(t,"ByteLengthQueuingStrategy",function(){return kr});r.d(t,"CountQueuingStrategy",function(){return xr});r.d(t,"ReadableStream",function(){return vr});r.d(t,"TransformStream",function(){return Cr});r.d(t,"WritableStream",function(){return re});var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:function(e){return"Symbol("+e+")"};function a(){}var i=Number.isNaN||function(e){return e!==e};function o(e){return typeof e==="object"&&e!==null||typeof e==="function"}function s(e){return e.slice()}function u(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)}function l(e){if(c(e)===false){return false}if(e===Infinity){return false}return true}function c(e){if(typeof e!=="number"){return false}if(i(e)){return false}if(e<0){return false}return true}function f(e,t,r){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,t,r)}function h(e,t,r,n){var a=e[t];if(a!==undefined){if(typeof a!=="function"){throw new TypeError(a+" is not a method")}switch(r){case 0:{return function(){return v(a,e,n)}}case 1:{return function(t){var r=[t].concat(n);return v(a,e,r)}}}}return function(){return Promise.resolve()}}function d(e,t,r){var n=e[t];if(n===undefined){return undefined}return f(n,e,r)}function v(e,t,r){try{return Promise.resolve(f(e,t,r))}catch(e){return Promise.reject(e)}}function p(e){return e}function g(e){return false}function m(e){e=Number(e);if(i(e)||e<0){throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN")}return e}function y(e){if(e===undefined){return function(){return 1}}if(typeof e!=="function"){throw new TypeError("size property of a queuing strategy must be a function")}return function(t){return e(t)}}var b=16384;var _=function(){function e(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:true,configurable:true});e.prototype.push=function(e){var t=this._back;var r=t;if(t._elements.length===b-1){r={_elements:[],_next:undefined}}t._elements.push(e);if(r!==t){this._back=r;t._next=r}++this._size};e.prototype.shift=function(){var e=this._front;var t=e;var r=this._cursor;var n=r+1;var a=e._elements;var i=a[r];if(n===b){t=e._next;n=0}--this._size;this._cursor=n;if(e!==t){this._front=t}a[r]=undefined;return i};e.prototype.forEach=function(e){var t=this._cursor;var r=this._front;var n=r._elements;while(t!==n.length||r._next!==undefined){if(t===n.length){r=r._next;n=r._elements;t=0;if(n.length===0){break}}e(n[t]);++t}};e.prototype.peek=function(){var e=this._front;var t=this._cursor;return e._elements[t]};return e}();function A(e,t,r){var n=null;if(r===true){n=Object.prototype}var a=Object.create(n);a.value=e;a.done=t;return a}function S(e,t){e._forAuthorCode=true;e._ownerReadableStream=t;t._reader=e;if(t._state==="readable"){C(e)}else if(t._state==="closed"){R(e)}else{P(e,t._storedError)}}function w(e,t){var r=e._ownerReadableStream;return br(r,t)}function k(e){if(e._ownerReadableStream._state==="readable"){E(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}else{T(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function x(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function C(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t;e._closedPromise_reject=r})}function P(e,t){C(e);E(e,t)}function R(e){C(e);O(e)}function E(e,t){e._closedPromise.catch(a);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function T(e,t){P(e,t)}function O(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}var L=n("[[CancelSteps]]");var F=n("[[PullSteps]]");function I(e,t){if(t===void 0){t=false}var r=new q(e);r._forAuthorCode=t;return r}function j(e){var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._reader._readRequests.push(n)});return t}function M(e,t,r){var n=e._reader;var a=n._readRequests.shift();a._resolve(A(t,r,n._forAuthorCode))}function N(e){return e._reader._readRequests.length}function D(e){var t=e._reader;if(t===undefined){return false}if(!U(t)){return false}return true}var q=function(){function e(e){if(mr(e)===false){throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance")}if(yr(e)===true){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}S(this,e);this._readRequests=new _}Object.defineProperty(e.prototype,"closed",{get:function(){if(!U(this)){return Promise.reject(B("closed"))}return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!U(this)){return Promise.reject(B("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("cancel"))}return w(this,e)};e.prototype.read=function(){if(!U(this)){return Promise.reject(B("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("read from"))}return W(this)};e.prototype.releaseLock=function(){if(!U(this)){throw B("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}k(this)};return e}();function U(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return true}function W(e){var t=e._ownerReadableStream;t._disturbed=true;if(t._state==="closed"){return Promise.resolve(A(undefined,true,e._forAuthorCode))}if(t._state==="errored"){return Promise.reject(t._storedError)}return t._readableStreamController[F]()}function B(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}var z;var G;if(typeof n.asyncIterator==="symbol"){G=(z={},z[n.asyncIterator]=function(){return this},z);Object.defineProperty(G,n.asyncIterator,{enumerable:false})}var H={next:function(){if(Y(this)===false){return Promise.reject(V("next"))}var e=this._asyncIteratorReader;if(e._ownerReadableStream===undefined){return Promise.reject(x("iterate"))}return W(e).then(function(t){var r=t.done;if(r){k(e)}var n=t.value;return A(n,r,true)})},return:function(e){if(Y(this)===false){return Promise.reject(V("next"))}var t=this._asyncIteratorReader;if(t._ownerReadableStream===undefined){return Promise.reject(x("finish iterating"))}if(t._readRequests.length>0){return Promise.reject(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"))}if(this._preventCancel===false){var r=w(t,e);k(t);return r.then(function(){return A(e,true,true)})}k(t);return Promise.resolve(A(e,true,true))}};if(G!==undefined){Object.setPrototypeOf(H,G)}Object.defineProperty(H,"next",{enumerable:false});Object.defineProperty(H,"return",{enumerable:false});function X(e,t){if(t===void 0){t=false}var r=I(e);var n=Object.create(H);n._asyncIteratorReader=r;n._preventCancel=Boolean(t);return n}function Y(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")){return false}return true}function V(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}var Q=a;function K(e){var t=e._queue.shift();e._queueTotalSize-=t.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return t.value}function J(e,t,r){r=Number(r);if(!l(r)){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:t,size:r});e._queueTotalSize+=r}function Z(e){var t=e._queue.peek();return t.value}function $(e){e._queue=new _;e._queueTotalSize=0}var ee=n("[[AbortSteps]]");var te=n("[[ErrorSteps]]");var re=function(){function e(e,t){if(e===void 0){e={}}if(t===void 0){t={}}ie(this);var r=t.size;var n=t.highWaterMark;var a=e.type;if(a!==undefined){throw new RangeError("Invalid type is specified")}var i=y(r);if(n===undefined){n=1}n=m(n);Me(this,e,n,i)}Object.defineProperty(e.prototype,"locked",{get:function(){if(oe(this)===false){throw Ve("locked")}return se(this)},enumerable:true,configurable:true});e.prototype.abort=function(e){if(oe(this)===false){return Promise.reject(Ve("abort"))}if(se(this)===true){return Promise.reject(new TypeError("Cannot abort a stream that already has a writer"))}return ue(this,e)};e.prototype.getWriter=function(){if(oe(this)===false){throw Ve("getWriter")}return ne(this)};return e}();function ne(e){return new we(e)}function ae(e,t,r,n,a,i){if(a===void 0){a=1}if(i===void 0){i=function(){return 1}}var o=Object.create(re.prototype);ie(o);var s=Object.create(Fe.prototype);je(o,s,e,t,r,n,a,i);return o}function ie(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new _;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function oe(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return true}function se(e){if(e._writer===undefined){return false}return true}function ue(e,t){var r=e._state;if(r==="closed"||r==="errored"){return Promise.resolve(undefined)}if(e._pendingAbortRequest!==undefined){return e._pendingAbortRequest._promise}var n=false;if(r==="erroring"){n=true;t=undefined}var a=new Promise(function(r,a){e._pendingAbortRequest={_promise:undefined,_resolve:r,_reject:a,_reason:t,_wasAlreadyErroring:n}});e._pendingAbortRequest._promise=a;if(n===false){fe(e,t)}return a}function le(e){var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)});return t}function ce(e,t){var r=e._state;if(r==="writable"){fe(e,t);return}he(e)}function fe(e,t){var r=e._writableStreamController;e._state="erroring";e._storedError=t;var n=e._writer;if(n!==undefined){Ee(n,t)}if(ye(e)===false&&r._started===true){he(e)}}function he(e){e._state="errored";e._writableStreamController[te]();var t=e._storedError;e._writeRequests.forEach(function(e){e._reject(t)});e._writeRequests=new _;if(e._pendingAbortRequest===undefined){Ae(e);return}var r=e._pendingAbortRequest;e._pendingAbortRequest=undefined;if(r._wasAlreadyErroring===true){r._reject(t);Ae(e);return}var n=e._writableStreamController[ee](r._reason);n.then(function(){r._resolve();Ae(e)},function(t){r._reject(t);Ae(e)})}function de(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function ve(e,t){e._inFlightWriteRequest._reject(t);e._inFlightWriteRequest=undefined;ce(e,t)}function pe(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;var t=e._state;if(t==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";var r=e._writer;if(r!==undefined){rt(r)}}function ge(e,t){e._inFlightCloseRequest._reject(t);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(t);e._pendingAbortRequest=undefined}ce(e,t)}function me(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function ye(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function be(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function _e(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Ae(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}var t=e._writer;if(t!==undefined){et(t,e._storedError)}}function Se(e,t){var r=e._writer;if(r!==undefined&&t!==e._backpressure){if(t===true){st(r)}else{lt(r)}}e._backpressure=t}var we=function(){function e(e){if(oe(e)===false){throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance")}if(se(e)===true){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;var t=e._state;if(t==="writable"){if(me(e)===false&&e._backpressure===true){nt(this)}else{it(this)}Je(this)}else if(t==="erroring"){at(this,e._storedError);Je(this)}else if(t==="closed"){it(this);$e(this)}else{var r=e._storedError;at(this,r);Ze(this,r)}}Object.defineProperty(e.prototype,"closed",{get:function(){if(ke(this)===false){return Promise.reject(Qe("closed"))}return this._closedPromise},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(ke(this)===false){throw Qe("desiredSize")}if(this._ownerWritableStream===undefined){throw Ke("desiredSize")}return Te(this)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ready",{get:function(){if(ke(this)===false){return Promise.reject(Qe("ready"))}return this._readyPromise},enumerable:true,configurable:true});e.prototype.abort=function(e){if(ke(this)===false){return Promise.reject(Qe("abort"))}if(this._ownerWritableStream===undefined){return Promise.reject(Ke("abort"))}return xe(this,e)};e.prototype.close=function(){if(ke(this)===false){return Promise.reject(Qe("close"))}var e=this._ownerWritableStream;if(e===undefined){return Promise.reject(Ke("close"))}if(me(e)===true){return Promise.reject(new TypeError("cannot close an already-closing stream"))}return Ce(this)};e.prototype.releaseLock=function(){if(ke(this)===false){throw Qe("releaseLock")}var e=this._ownerWritableStream;if(e===undefined){return}Oe(this)};e.prototype.write=function(e){if(ke(this)===false){return Promise.reject(Qe("write"))}if(this._ownerWritableStream===undefined){return Promise.reject(Ke("write to"))}return Le(this,e)};return e}();function ke(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return true}function xe(e,t){var r=e._ownerWritableStream;return ue(r,t)}function Ce(e){var t=e._ownerWritableStream;var r=t._state;if(r==="closed"||r==="errored"){return Promise.reject(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"))}var n=new Promise(function(e,r){var n={_resolve:e,_reject:r};t._closeRequest=n});if(t._backpressure===true&&r==="writable"){lt(e)}De(t._writableStreamController);return n}function Pe(e){var t=e._ownerWritableStream;var r=t._state;if(me(t)===true||r==="closed"){return Promise.resolve()}if(r==="errored"){return Promise.reject(t._storedError)}return Ce(e)}function Re(e,t){if(e._closedPromiseState==="pending"){et(e,t)}else{tt(e,t)}}function Ee(e,t){if(e._readyPromiseState==="pending"){ot(e,t)}else{ut(e,t)}}function Te(e){var t=e._ownerWritableStream;var r=t._state;if(r==="errored"||r==="erroring"){return null}if(r==="closed"){return 0}return Ue(t._writableStreamController)}function Oe(e){var t=e._ownerWritableStream;var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ee(e,r);Re(e,r);t._writer=undefined;e._ownerWritableStream=undefined}function Le(e,t){var r=e._ownerWritableStream;var n=r._writableStreamController;var a=qe(n,t);if(r!==e._ownerWritableStream){return Promise.reject(Ke("write to"))}var i=r._state;if(i==="errored"){return Promise.reject(r._storedError)}if(me(r)===true||i==="closed"){return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"))}if(i==="erroring"){return Promise.reject(r._storedError)}var o=le(r);We(n,t,a);return o}var Fe=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}e.prototype.error=function(e){if(Ie(this)===false){throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController")}var t=this._controlledWritableStream._state;if(t!=="writable"){return}Ye(this,e)};e.prototype[ee]=function(e){var t=this._abortAlgorithm(e);Ne(this);return t};e.prototype[te]=function(){$(this)};return e}();function Ie(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")){return false}return true}function je(e,t,r,n,a,i,o,s){t._controlledWritableStream=e;e._writableStreamController=t;t._queue=undefined;t._queueTotalSize=undefined;$(t);t._started=false;t._strategySizeAlgorithm=s;t._strategyHWM=o;t._writeAlgorithm=n;t._closeAlgorithm=a;t._abortAlgorithm=i;var u=Xe(t);Se(e,u);var l=r();var c=Promise.resolve(l);c.then(function(){t._started=true;Be(t)},function(r){t._started=true;ce(e,r)}).catch(Q)}function Me(e,t,r,n){var a=Object.create(Fe.prototype);function i(){return d(t,"start",[a])}var o=h(t,"write",1,[a]);var s=h(t,"close",0,[]);var u=h(t,"abort",1,[]);je(e,a,i,o,s,u,r,n)}function Ne(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function De(e){J(e,"close",0);Be(e)}function qe(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){ze(e,t);return 1}}function Ue(e){return e._strategyHWM-e._queueTotalSize}function We(e,t,r){var n={chunk:t};try{J(e,n,r)}catch(t){ze(e,t);return}var a=e._controlledWritableStream;if(me(a)===false&&a._state==="writable"){var i=Xe(e);Se(a,i)}Be(e)}function Be(e){var t=e._controlledWritableStream;if(e._started===false){return}if(t._inFlightWriteRequest!==undefined){return}var r=t._state;if(r==="erroring"){he(t);return}if(e._queue.length===0){return}var n=Z(e);if(n==="close"){Ge(e)}else{He(e,n.chunk)}}function ze(e,t){if(e._controlledWritableStream._state==="writable"){Ye(e,t)}}function Ge(e){var t=e._controlledWritableStream;be(t);K(e);var r=e._closeAlgorithm();Ne(e);r.then(function(){pe(t)},function(e){ge(t,e)}).catch(Q)}function He(e,t){var r=e._controlledWritableStream;_e(r);var n=e._writeAlgorithm(t);n.then(function(){de(r);var t=r._state;K(e);if(me(r)===false&&t==="writable"){var n=Xe(e);Se(r,n)}Be(e)},function(t){if(r._state==="writable"){Ne(e)}ve(r,t)}).catch(Q)}function Xe(e){var t=Ue(e);return t<=0}function Ye(e,t){var r=e._controlledWritableStream;Ne(e);fe(r,t)}function Ve(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Qe(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function Ke(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Je(e){e._closedPromise=new Promise(function(t,r){e._closedPromise_resolve=t;e._closedPromise_reject=r;e._closedPromiseState="pending"})}function Ze(e,t){Je(e);et(e,t)}function $e(e){Je(e);rt(e)}function et(e,t){e._closedPromise.catch(a);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function tt(e,t){Ze(e,t)}function rt(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function nt(e){e._readyPromise=new Promise(function(t,r){e._readyPromise_resolve=t;e._readyPromise_reject=r});e._readyPromiseState="pending"}function at(e,t){nt(e);ot(e,t)}function it(e){nt(e);lt(e)}function ot(e,t){e._readyPromise.catch(a);e._readyPromise_reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function st(e){nt(e)}function ut(e,t){at(e,t)}function lt(e){e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}function ct(e,t,r,n,i,o){var s=I(e);var u=ne(t);var l=false;var c=Promise.resolve();return new Promise(function(f,h){var d;if(o!==undefined){d=function(){var r=new DOMException("Aborted","AbortError");var a=[];if(n===false){a.push(function(){if(t._state==="writable"){return ue(t,r)}return Promise.resolve()})}if(i===false){a.push(function(){if(e._state==="readable"){return br(e,r)}return Promise.resolve()})}_(function(){return Promise.all(a.map(function(e){return e()}))},true,r)};if(o.aborted===true){d();return}o.addEventListener("abort",d)}function v(){return new Promise(function(e,t){function r(n){if(n){e()}else{p().then(r,t)}}r(false)})}function p(){if(l===true){return Promise.resolve(true)}return u._readyPromise.then(function(){return W(s).then(function(e){var t=e.value,r=e.done;if(r===true){return true}c=Le(u,t).catch(a);return false})})}y(e,s._closedPromise,function(e){if(n===false){_(function(){return ue(t,e)},true,e)}else{A(true,e)}});y(t,u._closedPromise,function(t){if(i===false){_(function(){return br(e,t)},true,t)}else{A(true,t)}});b(e,s._closedPromise,function(){if(r===false){_(function(){return Pe(u)})}else{A()}});if(me(t)===true||t._state==="closed"){var g=new TypeError("the destination writable stream closed before all data could be piped to it");if(i===false){_(function(){return br(e,g)},true,g)}else{A(true,g)}}v().catch(Q);function m(){var e=c;return c.then(function(){return e!==c?m():undefined})}function y(e,t,r){if(e._state==="errored"){r(e._storedError)}else{t.catch(r).catch(Q)}}function b(e,t,r){if(e._state==="closed"){r()}else{t.then(r).catch(Q)}}function _(e,r,n){if(l===true){return}l=true;if(t._state==="writable"&&me(t)===false){m().then(a)}else{a()}function a(){e().then(function(){return S(r,n)},function(e){return S(true,e)}).catch(Q)}}function A(e,r){if(l===true){return}l=true;if(t._state==="writable"&&me(t)===false){m().then(function(){return S(e,r)}).catch(Q)}else{S(e,r)}}function S(e,t){Oe(u);k(s);if(o!==undefined){o.removeEventListener("abort",d)}if(e){h(t)}else{f(undefined)}}})}var ft=function(){function e(){throw new TypeError}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(ht(this)===false){throw kt("desiredSize")}return bt(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(ht(this)===false){throw kt("close")}if(At(this)===false){throw new TypeError("The stream is not in a state that permits close")}gt(this)};e.prototype.enqueue=function(e){if(ht(this)===false){throw kt("enqueue")}if(At(this)===false){throw new TypeError("The stream is not in a state that permits enqueue")}return mt(this,e)};e.prototype.error=function(e){if(ht(this)===false){throw kt("error")}yt(this,e)};e.prototype[L]=function(e){$(this);var t=this._cancelAlgorithm(e);pt(this);return t};e.prototype[F]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=K(this);if(this._closeRequested===true&&this._queue.length===0){pt(this);_r(e)}else{dt(this)}return Promise.resolve(A(t,false,e._reader._forAuthorCode))}var r=j(e);dt(this);return r};return e}();function ht(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")){return false}return true}function dt(e){var t=vt(e);if(t===false){return}if(e._pulling===true){e._pullAgain=true;return}e._pulling=true;var r=e._pullAlgorithm();r.then(function(){e._pulling=false;if(e._pullAgain===true){e._pullAgain=false;dt(e)}},function(t){yt(e,t)}).catch(Q)}function vt(e){var t=e._controlledReadableStream;if(At(e)===false){return false}if(e._started===false){return false}if(yr(t)===true&&N(t)>0){return true}var r=bt(e);if(r>0){return true}return false}function pt(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function gt(e){var t=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){pt(e);_r(t)}}function mt(e,t){var r=e._controlledReadableStream;if(yr(r)===true&&N(r)>0){M(r,t,false)}else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){yt(e,t);throw t}try{J(e,t,n)}catch(t){yt(e,t);throw t}}dt(e)}function yt(e,t){var r=e._controlledReadableStream;if(r._state!=="readable"){return}$(e);pt(e);Ar(r,t)}function bt(e){var t=e._controlledReadableStream;var r=t._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function _t(e){if(vt(e)===true){return false}return true}function At(e){var t=e._controlledReadableStream._state;if(e._closeRequested===false&&t==="readable"){return true}return false}function St(e,t,r,n,a,i,o){t._controlledReadableStream=e;t._queue=undefined;t._queueTotalSize=undefined;$(t);t._started=false;t._closeRequested=false;t._pullAgain=false;t._pulling=false;t._strategySizeAlgorithm=o;t._strategyHWM=i;t._pullAlgorithm=n;t._cancelAlgorithm=a;e._readableStreamController=t;var s=r();Promise.resolve(s).then(function(){t._started=true;dt(t)},function(e){yt(t,e)}).catch(Q)}function wt(e,t,r,n){var a=Object.create(ft.prototype);function i(){return d(t,"start",[a])}var o=h(t,"pull",0,[a]);var s=h(t,"cancel",1,[]);St(e,a,i,o,s,r,n)}function kt(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function xt(e,t){var r=I(e);var n=false;var a=false;var i=false;var o;var u;var l;var c;var f;var h=new Promise(function(e){f=e});function d(){if(n===true){return Promise.resolve()}n=true;var e=W(r).then(function(e){n=false;var t=e.done;if(t===true){if(a===false){gt(l._readableStreamController)}if(i===false){gt(c._readableStreamController)}return}var r=e.value;var o=r;var s=r;if(a===false){mt(l._readableStreamController,o)}if(i===false){mt(c._readableStreamController,s)}});e.catch(Q);return Promise.resolve()}function v(t){a=true;o=t;if(i===true){var r=s([o,u]);var n=br(e,r);f(n)}return h}function p(t){i=true;u=t;if(a===true){var r=s([o,u]);var n=br(e,r);f(n)}return h}function g(){}l=pr(g,d,v);c=pr(g,d,p);r._closedPromise.catch(function(e){yt(l._readableStreamController,e);yt(c._readableStreamController,e)});return[l,c]}var Ct=Number.isInteger||function(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e};var Pt=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}Object.defineProperty(e.prototype,"view",{get:function(){if(Tt(this)===false){throw nr("view")}return this._view},enumerable:true,configurable:true});e.prototype.respond=function(e){if(Tt(this)===false){throw nr("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(g(this._view.buffer)===true);Zt(this._associatedReadableByteStreamController,e)};e.prototype.respondWithNewView=function(e){if(Tt(this)===false){throw nr("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(!ArrayBuffer.isView(e)){throw new TypeError("You can only respond with array buffer views")}if(g(e.buffer)===true);$t(this._associatedReadableByteStreamController,e)};return e}();var Rt=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(Et(this)===false){throw ar("byobRequest")}if(this._byobRequest===undefined&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();var t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);var r=Object.create(Pt.prototype);rr(r,this,t);this._byobRequest=r}return this._byobRequest},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Et(this)===false){throw ar("desiredSize")}return Jt(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(Et(this)===false){throw ar("close")}if(this._closeRequested===true){throw new TypeError("The stream has already been closed; do not close it again!")}var e=this._controlledReadableByteStream._state;if(e!=="readable"){throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed")}Vt(this)};e.prototype.enqueue=function(e){if(Et(this)===false){throw ar("enqueue")}if(this._closeRequested===true){throw new TypeError("stream is closed or draining")}var t=this._controlledReadableByteStream._state;if(t!=="readable"){throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to")}if(!ArrayBuffer.isView(e)){throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController")}if(g(e.buffer)===true);Qt(this,e)};e.prototype.error=function(e){if(Et(this)===false){throw ar("error")}Kt(this,e)};e.prototype[L]=function(e){if(this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek();t.bytesFilled=0}$(this);var r=this._cancelAlgorithm(e);Yt(this);return r};e.prototype[F]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength;Dt(this);var r=void 0;try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(A(r,false,e._reader._forAuthorCode))}var n=this._autoAllocateChunkSize;if(n!==undefined){var a=void 0;try{a=new ArrayBuffer(n)}catch(e){return Promise.reject(e)}var i={buffer:a,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}var o=j(e);Ot(this);return o};return e}();function Et(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")){return false}return true}function Tt(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return true}function Ot(e){var t=Xt(e);if(t===false){return}if(e._pulling===true){e._pullAgain=true;return}e._pulling=true;var r=e._pullAlgorithm();r.then(function(){e._pulling=false;if(e._pullAgain===true){e._pullAgain=false;Ot(e)}},function(t){Kt(e,t)}).catch(Q)}function Lt(e){qt(e);e._pendingPullIntos=new _}function Ft(e,t){var r=false;if(e._state==="closed"){r=true}var n=It(t);if(t.readerType==="default"){M(e,n,r)}else{sr(e,n,r)}}function It(e){var t=e.bytesFilled;var r=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/r)}function jt(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n});e._queueTotalSize+=n}function Mt(e,t){var r=t.elementSize;var n=t.bytesFilled-t.bytesFilled%r;var a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled);var i=t.bytesFilled+a;var o=i-i%r;var s=a;var l=false;if(o>n){s=o-t.bytesFilled;l=true}var c=e._queue;while(s>0){var f=c.peek();var h=Math.min(s,f.byteLength);var d=t.byteOffset+t.bytesFilled;u(t.buffer,d,f.buffer,f.byteOffset,h);if(f.byteLength===h){c.shift()}else{f.byteOffset+=h;f.byteLength-=h}e._queueTotalSize-=h;Nt(e,h,t);s-=h}return l}function Nt(e,t,r){qt(e);r.bytesFilled+=t}function Dt(e){if(e._queueTotalSize===0&&e._closeRequested===true){Yt(e);_r(e._controlledReadableByteStream)}else{Ot(e)}}function qt(e){if(e._byobRequest===undefined){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=undefined;e._byobRequest=undefined}function Ut(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}var t=e._pendingPullIntos.peek();if(Mt(e,t)===true){Ht(e);Ft(e._controlledReadableByteStream,t)}}}function Wt(e,t){var r=e._controlledReadableByteStream;var n=1;if(t.constructor!==DataView){n=t.constructor.BYTES_PER_ELEMENT}var a=t.constructor;var i=p(t.buffer);var o={buffer:i,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(o);return or(r)}if(r._state==="closed"){var s=new a(o.buffer,o.byteOffset,0);return Promise.resolve(A(s,true,r._reader._forAuthorCode))}if(e._queueTotalSize>0){if(Mt(e,o)===true){var u=It(o);Dt(e);return Promise.resolve(A(u,false,r._reader._forAuthorCode))}if(e._closeRequested===true){var l=new TypeError("Insufficient bytes to fill elements in the given buffer");Kt(e,l);return Promise.reject(l)}}e._pendingPullIntos.push(o);var c=or(r);Ot(e);return c}function Bt(e,t){t.buffer=p(t.buffer);var r=e._controlledReadableByteStream;if(lr(r)===true){while(ur(r)>0){var n=Ht(e);Ft(r,n)}}}function zt(e,t,r){if(r.bytesFilled+t>r.byteLength){throw new RangeError("bytesWritten out of range")}Nt(e,t,r);if(r.bytesFilled<r.elementSize){return}Ht(e);var n=r.bytesFilled%r.elementSize;if(n>0){var a=r.byteOffset+r.bytesFilled;var i=r.buffer.slice(a-n,a);jt(e,i,0,i.byteLength)}r.buffer=p(r.buffer);r.bytesFilled-=n;Ft(e._controlledReadableByteStream,r);Ut(e)}function Gt(e,t){var r=e._pendingPullIntos.peek();var n=e._controlledReadableByteStream;if(n._state==="closed"){if(t!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}Bt(e,r)}else{zt(e,t,r)}Ot(e)}function Ht(e){var t=e._pendingPullIntos.shift();qt(e);return t}function Xt(e){var t=e._controlledReadableByteStream;if(t._state!=="readable"){return false}if(e._closeRequested===true){return false}if(e._started===false){return false}if(D(t)===true&&N(t)>0){return true}if(lr(t)===true&&ur(t)>0){return true}var r=Jt(e);if(r>0){return true}return false}function Yt(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function Vt(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");Kt(e,n);throw n}}Yt(e);_r(t)}function Qt(e,t){var r=e._controlledReadableByteStream;var n=t.buffer;var a=t.byteOffset;var i=t.byteLength;var o=p(n);if(D(r)===true){if(N(r)===0){jt(e,o,a,i)}else{var s=new Uint8Array(o,a,i);M(r,s,false)}}else if(lr(r)===true){jt(e,o,a,i);Ut(e)}else{jt(e,o,a,i)}Ot(e)}function Kt(e,t){var r=e._controlledReadableByteStream;if(r._state!=="readable"){return}Lt(e);$(e);Yt(e);Ar(r,t)}function Jt(e){var t=e._controlledReadableByteStream;var r=t._state;if(r==="errored"){return null}if(r==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function Zt(e,t){t=Number(t);if(l(t)===false){throw new RangeError("bytesWritten must be a finite")}Gt(e,t)}function $t(e,t){var r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(r.byteLength!==t.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}r.buffer=t.buffer;Gt(e,t.byteLength)}function er(e,t,r,n,a,i,o){t._controlledReadableByteStream=e;t._pullAgain=false;t._pulling=false;t._byobRequest=undefined;t._queue=t._queueTotalSize=undefined;$(t);t._closeRequested=false;t._started=false;t._strategyHWM=m(i);t._pullAlgorithm=n;t._cancelAlgorithm=a;t._autoAllocateChunkSize=o;t._pendingPullIntos=new _;e._readableStreamController=t;var s=r();Promise.resolve(s).then(function(){t._started=true;Ot(t)},function(e){Kt(t,e)}).catch(Q)}function tr(e,t,r){var n=Object.create(Rt.prototype);function a(){return d(t,"start",[n])}var i=h(t,"pull",0,[n]);var o=h(t,"cancel",1,[]);var s=t.autoAllocateChunkSize;if(s!==undefined){s=Number(s);if(Ct(s)===false||s<=0){throw new RangeError("autoAllocateChunkSize must be a positive integer")}}er(e,n,a,i,o,r,s)}function rr(e,t,r){e._associatedReadableByteStreamController=t;e._view=r}function nr(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function ar(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function ir(e,t){if(t===void 0){t=false}var r=new cr(e);r._forAuthorCode=t;return r}function or(e){var t=new Promise(function(t,r){var n={_resolve:t,_reject:r};e._reader._readIntoRequests.push(n)});return t}function sr(e,t,r){var n=e._reader;var a=n._readIntoRequests.shift();a._resolve(A(t,r,n._forAuthorCode))}function ur(e){return e._reader._readIntoRequests.length}function lr(e){var t=e._reader;if(t===undefined){return false}if(!fr(t)){return false}return true}var cr=function(){function e(e){if(!mr(e)){throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a "+"byte source")}if(Et(e._readableStreamController)===false){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}if(yr(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}S(this,e);this._readIntoRequests=new _}Object.defineProperty(e.prototype,"closed",{get:function(){if(!fr(this)){return Promise.reject(dr("closed"))}return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!fr(this)){return Promise.reject(dr("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("cancel"))}return w(this,e)};e.prototype.read=function(e){if(!fr(this)){return Promise.reject(dr("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(x("read from"))}if(!ArrayBuffer.isView(e)){return Promise.reject(new TypeError("view must be an array buffer view"))}if(g(e.buffer)===true);if(e.byteLength===0){return Promise.reject(new TypeError("view must have non-zero byteLength"))}return hr(this,e)};e.prototype.releaseLock=function(){if(!fr(this)){throw dr("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}k(this)};return e}();function fr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return true}function hr(e,t){var r=e._ownerReadableStream;r._disturbed=true;if(r._state==="errored"){return Promise.reject(r._storedError)}return Wt(r._readableStreamController,t)}function dr(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var vr=function(){function e(e,t){if(e===void 0){e={}}if(t===void 0){t={}}gr(this);var r=t.size;var n=t.highWaterMark;var a=e.type;var i=String(a);if(i==="bytes"){if(r!==undefined){throw new RangeError("The strategy for a byte stream cannot have a size function")}if(n===undefined){n=0}n=m(n);tr(this,e,n)}else if(a===undefined){var o=y(r);if(n===undefined){n=1}n=m(n);wt(this,e,n,o)}else{throw new RangeError("Invalid type is specified")}}Object.defineProperty(e.prototype,"locked",{get:function(){if(mr(this)===false){throw wr("locked")}return yr(this)},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(mr(this)===false){return Promise.reject(wr("cancel"))}if(yr(this)===true){return Promise.reject(new TypeError("Cannot cancel a stream that already has a reader"))}return br(this,e)};e.prototype.getReader=function(e){var t=(e===void 0?{}:e).mode;if(mr(this)===false){throw wr("getReader")}if(t===undefined){return I(this,true)}t=String(t);if(t==="byob"){return ir(this,true)}throw new RangeError("Invalid mode is specified")};e.prototype.pipeThrough=function(e,t){var r=e.writable,n=e.readable;var i=t===void 0?{}:t,o=i.preventClose,s=i.preventAbort,u=i.preventCancel,l=i.signal;if(mr(this)===false){throw wr("pipeThrough")}if(oe(r)===false){throw new TypeError("writable argument to pipeThrough must be a WritableStream")}if(mr(n)===false){throw new TypeError("readable argument to pipeThrough must be a ReadableStream")}o=Boolean(o);s=Boolean(s);u=Boolean(u);if(l!==undefined&&!Sr(l)){throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal")}if(yr(this)===true){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream")}if(se(r)===true){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream")}var c=ct(this,r,o,s,u,l);c.catch(a);return n};e.prototype.pipeTo=function(e,t){var r=t===void 0?{}:t,n=r.preventClose,a=r.preventAbort,i=r.preventCancel,o=r.signal;if(mr(this)===false){return Promise.reject(wr("pipeTo"))}if(oe(e)===false){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"))}n=Boolean(n);a=Boolean(a);i=Boolean(i);if(o!==undefined&&!Sr(o)){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal"))}if(yr(this)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(se(e)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}return ct(this,e,n,a,i,o)};e.prototype.tee=function(){if(mr(this)===false){throw wr("tee")}var e=xt(this);return s(e)};e.prototype.getIterator=function(e){var t=(e===void 0?{}:e).preventCancel,r=t===void 0?false:t;if(mr(this)===false){throw wr("getIterator")}return X(this,r)};return e}();if(typeof n.asyncIterator==="symbol"){Object.defineProperty(vr.prototype,n.asyncIterator,{value:vr.prototype.getIterator,enumerable:false,writable:true,configurable:true})}function pr(e,t,r,n,a){if(n===void 0){n=1}if(a===void 0){a=function(){return 1}}var i=Object.create(vr.prototype);gr(i);var o=Object.create(ft.prototype);St(i,o,e,t,r,n,a);return i}function gr(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function mr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return true}function yr(e){if(e._reader===undefined){return false}return true}function br(e,t){e._disturbed=true;if(e._state==="closed"){return Promise.resolve(undefined)}if(e._state==="errored"){return Promise.reject(e._storedError)}_r(e);var r=e._readableStreamController[L](t);return r.then(function(){return undefined})}function _r(e){e._state="closed";var t=e._reader;if(t===undefined){return}if(U(t)){t._readRequests.forEach(function(e){e._resolve(A(undefined,true,t._forAuthorCode))});t._readRequests=new _}O(t)}function Ar(e,t){e._state="errored";e._storedError=t;var r=e._reader;if(r===undefined){return}if(U(r)){r._readRequests.forEach(function(e){e._reject(t)});r._readRequests=new _}else{r._readIntoRequests.forEach(function(e){e._reject(t)});r._readIntoRequests=new _}E(r,t)}function Sr(e){if(typeof e!=="object"||e===null){return false}var t=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{t.call(e);return true}catch(e){return false}}function wr(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}var kr=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}e.prototype.size=function(e){return e.byteLength};return e}();var xr=function(){function e(e){var t=e.highWaterMark;this.highWaterMark=t}e.prototype.size=function(){return 1};return e}();var Cr=function(){function e(e,t,r){if(e===void 0){e={}}if(t===void 0){t={}}if(r===void 0){r={}}var n=t.size;var a=t.highWaterMark;var i=r.size;var o=r.highWaterMark;var s=e.writableType;if(s!==undefined){throw new RangeError("Invalid writable type specified")}var u=y(n);if(a===undefined){a=1}a=m(a);var l=e.readableType;if(l!==undefined){throw new RangeError("Invalid readable type specified")}var c=y(i);if(o===undefined){o=0}o=m(o);var f;var h=new Promise(function(e){f=e});Pr(this,h,a,u,o,c);jr(this,e);var v=d(e,"start",[this._transformStreamController]);f(v)}Object.defineProperty(e.prototype,"readable",{get:function(){if(Rr(this)===false){throw Xr("readable")}return this._readable},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"writable",{get:function(){if(Rr(this)===false){throw Xr("writable")}return this._writable},enumerable:true,configurable:true});return e}();function Pr(e,t,r,n,a,i){function o(){return t}function s(t){return Wr(e,t)}function u(t){return Br(e,t)}function l(){return zr(e)}e._writable=ae(o,s,l,u,r,n);function c(){return Gr(e)}function f(t){Tr(e,t);return Promise.resolve()}e._readable=pr(o,c,f,a,i);e._backpressure=undefined;e._backpressureChangePromise=undefined;e._backpressureChangePromise_resolve=undefined;Or(e,true);e._transformStreamController=undefined}function Rr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return true}function Er(e,t){yt(e._readable._readableStreamController,t);Tr(e,t)}function Tr(e,t){Mr(e._transformStreamController);ze(e._writable._writableStreamController,t);if(e._backpressure===true){Or(e,false)}}function Or(e,t){if(e._backpressureChangePromise!==undefined){e._backpressureChangePromise_resolve()}e._backpressureChangePromise=new Promise(function(t){e._backpressureChangePromise_resolve=t});e._backpressure=t}var Lr=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Fr(this)===false){throw Hr("desiredSize")}var e=this._controlledTransformStream._readable._readableStreamController;return bt(e)},enumerable:true,configurable:true});e.prototype.enqueue=function(e){if(Fr(this)===false){throw Hr("enqueue")}Nr(this,e)};e.prototype.error=function(e){if(Fr(this)===false){throw Hr("error")}Dr(this,e)};e.prototype.terminate=function(){if(Fr(this)===false){throw Hr("terminate")}Ur(this)};return e}();function Fr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return true}function Ir(e,t,r,n){t._controlledTransformStream=e;e._transformStreamController=t;t._transformAlgorithm=r;t._flushAlgorithm=n}function jr(e,t){var r=Object.create(Lr.prototype);var n=function(e){try{Nr(r,e);return Promise.resolve()}catch(e){return Promise.reject(e)}};var a=t.transform;if(a!==undefined){if(typeof a!=="function"){throw new TypeError("transform is not a method")}n=function(e){return v(a,t,[e,r])}}var i=h(t,"flush",0,[r]);Ir(e,r,n,i)}function Mr(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function Nr(e,t){var r=e._controlledTransformStream;var n=r._readable._readableStreamController;if(At(n)===false){throw new TypeError("Readable side is not in a state that permits enqueue")}try{mt(n,t)}catch(e){Tr(r,e);throw r._readable._storedError}var a=_t(n);if(a!==r._backpressure){Or(r,true)}}function Dr(e,t){Er(e._controlledTransformStream,t)}function qr(e,t){var r=e._transformAlgorithm(t);return r.catch(function(t){Er(e._controlledTransformStream,t);throw t})}function Ur(e){var t=e._controlledTransformStream;var r=t._readable._readableStreamController;if(At(r)===true){gt(r)}var n=new TypeError("TransformStream terminated");Tr(t,n)}function Wr(e,t){var r=e._transformStreamController;if(e._backpressure===true){var n=e._backpressureChangePromise;return n.then(function(){var n=e._writable;var a=n._state;if(a==="erroring"){throw n._storedError}return qr(r,t)})}return qr(r,t)}function Br(e,t){Er(e,t);return Promise.resolve()}function zr(e){var t=e._readable;var r=e._transformStreamController;var n=r._flushAlgorithm();Mr(r);return n.then(function(){if(t._state==="errored"){throw t._storedError}var e=t._readableStreamController;if(At(e)===true){gt(e)}}).catch(function(r){Er(e,r);throw t._storedError})}function Gr(e){Or(e,false);return e._backpressureChangePromise}function Hr(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function Xr(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getDocument=U;t.setPDFNetworkStreamFactory=q;t.build=t.version=t.PDFPageProxy=t.PDFDocumentProxy=t.PDFWorker=t.PDFDataRangeTransport=t.LoopbackPort=void 0;var n=p(r(180));var a=r(1);var i=r(183);var o=r(184);var s=r(185);var u=r(186);var l=p(r(3));var c=r(188);var f=r(189);var h=r(190);var d=r(192);var v=r(193);function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){g(i,n,a,o,s,"next",e)}function s(e){g(i,n,a,o,s,"throw",e)}o(undefined)})}}function y(e,t){return A(e)||_(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function A(e){if(Array.isArray(e))return e}function S(e){return x(e)||k(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function k(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function x(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function C(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function R(e,t,r){if(t)P(e.prototype,t);if(r)P(e,r);return e}function E(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){E=function e(t){return typeof t}}else{E=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return E(e)}var T=65536;var O=100;var L=false;var F;var I=null;{var j=false;if(typeof window==="undefined"){L=true;if(typeof require.ensure==="undefined"){require.ensure=require("node-ensure")}j=true}else if(typeof require!=="undefined"&&typeof require.ensure==="function"){j=true}if(typeof requirejs!=="undefined"&&requirejs.toUrl){F=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js")}var M=typeof requirejs!=="undefined"&&requirejs.load;I=j?function(){return new Promise(function(e,t){require.ensure([],function(){try{var r;r=require("./pdf.worker.js");e(r.WorkerMessageHandler)}catch(e){t(e)}},t,"pdfjsWorker")})}:M?function(){return new Promise(function(e,t){requirejs(["pdfjs-dist/build/pdf.worker"],function(r){try{e(r.WorkerMessageHandler)}catch(e){t(e)}},t)})}:null;if(!F&&(typeof document==="undefined"?"undefined":E(document))==="object"&&"currentScript"in document){var N=document.currentScript&&document.currentScript.src;if(N){F=N.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2")}}}var D;function q(e){D=e}function U(e){var t=new B;var r;if(typeof e==="string"){r={url:e}}else if((0,a.isArrayBuffer)(e)){r={data:e}}else if(e instanceof z){r={range:e}}else{if(E(e)!=="object"){throw new Error("Invalid parameter in getDocument, "+"need either Uint8Array, string or a parameter object")}if(!e.url&&!e.data&&!e.range){throw new Error("Invalid parameter object: need either .data, .range or .url")}r=e}var n=Object.create(null);var o=null,u=null;for(var l in r){if(l==="url"&&typeof window!=="undefined"){n[l]=new URL(r[l],window.location).href;continue}else if(l==="range"){o=r[l];continue}else if(l==="worker"){u=r[l];continue}else if(l==="data"&&!(r[l]instanceof Uint8Array)){var h=r[l];if(typeof h==="string"){n[l]=(0,a.stringToBytes)(h)}else if(E(h)==="object"&&h!==null&&!isNaN(h.length)){n[l]=new Uint8Array(h)}else if((0,a.isArrayBuffer)(h)){n[l]=new Uint8Array(h)}else{throw new Error("Invalid PDF binary data: either typed array, "+"string or array-like object is expected in the "+"data property.")}continue}n[l]=r[l]}n.rangeChunkSize=n.rangeChunkSize||T;n.CMapReaderFactory=n.CMapReaderFactory||i.DOMCMapReaderFactory;n.ignoreErrors=n.stopAtErrors!==true;n.pdfBug=n.pdfBug===true;var v=Object.values(a.NativeImageDecoding);if(n.nativeImageDecoderSupport===undefined||!v.includes(n.nativeImageDecoderSupport)){n.nativeImageDecoderSupport=s.apiCompatibilityParams.nativeImageDecoderSupport||a.NativeImageDecoding.DECODE}if(!Number.isInteger(n.maxImageSize)){n.maxImageSize=-1}if(typeof n.isEvalSupported!=="boolean"){n.isEvalSupported=true}if(typeof n.disableFontFace!=="boolean"){n.disableFontFace=s.apiCompatibilityParams.disableFontFace||false}if(typeof n.disableRange!=="boolean"){n.disableRange=false}if(typeof n.disableStream!=="boolean"){n.disableStream=false}if(typeof n.disableAutoFetch!=="boolean"){n.disableAutoFetch=false}if(typeof n.disableCreateObjectURL!=="boolean"){n.disableCreateObjectURL=s.apiCompatibilityParams.disableCreateObjectURL||false}(0,a.setVerbosityLevel)(n.verbosity);if(!u){var p={verbosity:n.verbosity,port:c.GlobalWorkerOptions.workerPort};u=p.port?Y.fromPort(p):new Y(p);t._worker=u}var g=t.docId;u.promise.then(function(){if(t.destroyed){throw new Error("Loading aborted")}return W(u,n,o,g).then(function(e){if(t.destroyed){throw new Error("Loading aborted")}var r;if(o){r=new d.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,disableRange:n.disableRange,disableStream:n.disableStream},o)}else if(!n.data){r=D({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})}var a=new f.MessageHandler(g,e,u.port);a.postMessageTransfers=u.postMessageTransfers;var i=new V(a,t,r,n);t._transport=i;a.send("Ready",null)})})["catch"](t._capability.reject);return t}function W(e,t,r,n){if(e.destroyed){return Promise.reject(new Error("Worker was destroyed"))}if(r){t.length=r.length;t.initialData=r.initialData;t.progressiveDone=r.progressiveDone}return e.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.3.200",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,disableCreateObjectURL:t.disableCreateObjectURL,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported}).then(function(t){if(e.destroyed){throw new Error("Worker was destroyed")}return t})}var B=function e(){var t=0;var r=function(){function e(){C(this,e);this._capability=(0,a.createPromiseCapability)();this._transport=null;this._worker=null;this.docId="d"+t++;this.destroyed=false;this.onPassword=null;this.onProgress=null;this.onUnsupportedFeature=null}R(e,[{key:"destroy",value:function e(){var t=this;this.destroyed=true;var r=!this._transport?Promise.resolve():this._transport.destroy();return r.then(function(){t._transport=null;if(t._worker){t._worker.destroy();t._worker=null}})}},{key:"then",value:function e(t,r){(0,i.deprecated)("PDFDocumentLoadingTask.then method, "+"use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function e(){return this._capability.promise}}]);return e}();return r}();var z=function(){function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;C(this,e);this.length=t;this.initialData=r;this.progressiveDone=n;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=(0,a.createPromiseCapability)()}R(e,[{key:"addRangeListener",value:function e(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function e(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function e(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function e(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function e(t,r){var n=true;var a=false;var i=undefined;try{for(var o=this._rangeListeners[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){var u=s.value;u(t,r)}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"onDataProgress",value:function e(t,r){var n=this;this._readyCapability.promise.then(function(){var e=true;var a=false;var i=undefined;try{for(var o=n._progressListeners[Symbol.iterator](),s;!(e=(s=o.next()).done);e=true){var u=s.value;u(t,r)}}catch(e){a=true;i=e}finally{try{if(!e&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}})}},{key:"onDataProgressiveRead",value:function e(t){var r=this;this._readyCapability.promise.then(function(){var e=true;var n=false;var a=undefined;try{for(var i=r._progressiveReadListeners[Symbol.iterator](),o;!(e=(o=i.next()).done);e=true){var s=o.value;s(t)}}catch(e){n=true;a=e}finally{try{if(!e&&i["return"]!=null){i["return"]()}}finally{if(n){throw a}}}})}},{key:"onDataProgressiveDone",value:function e(){var t=this;this._readyCapability.promise.then(function(){var e=true;var r=false;var n=undefined;try{for(var a=t._progressiveDoneListeners[Symbol.iterator](),i;!(e=(i=a.next()).done);e=true){var o=i.value;o()}}catch(e){r=true;n=e}finally{try{if(!e&&a["return"]!=null){a["return"]()}}finally{if(r){throw n}}}})}},{key:"transportReady",value:function e(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function e(t,r){(0,a.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function e(){}}]);return e}();t.PDFDataRangeTransport=z;var G=function(){function e(t,r){C(this,e);this._pdfInfo=t;this._transport=r}R(e,[{key:"getPage",value:function e(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function e(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function e(){return this._transport.getDestinations()}},{key:"getDestination",value:function e(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function e(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function e(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function e(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function e(){return this._transport.getViewerPreferences()}},{key:"getOpenActionDestination",value:function e(){return this._transport.getOpenActionDestination()}},{key:"getAttachments",value:function e(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function e(){return this._transport.getJavaScript()}},{key:"getOutline",value:function e(){return this._transport.getOutline()}},{key:"getPermissions",value:function e(){return this._transport.getPermissions()}},{key:"getMetadata",value:function e(){return this._transport.getMetadata()}},{key:"getData",value:function e(){return this._transport.getData()}},{key:"getDownloadInfo",value:function e(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function e(){return this._transport.getStats()}},{key:"cleanup",value:function e(){this._transport.startCleanup()}},{key:"destroy",value:function e(){return this.loadingTask.destroy()}},{key:"numPages",get:function e(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function e(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function e(){return this._transport.loadingParams}},{key:"loadingTask",get:function e(){return this._transport.loadingTask}}]);return e}();t.PDFDocumentProxy=G;var H=function(){function e(t,r,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;C(this,e);this.pageIndex=t;this._pageInfo=r;this._transport=n;this._stats=a?new i.StatTimer:i.DummyStatTimer;this._pdfBug=a;this.commonObjs=n.commonObjs;this.objs=new Q;this.cleanupAfterRender=false;this.pendingCleanup=false;this.intentStates=Object.create(null);this.destroyed=false}R(e,[{key:"getViewport",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.scale,n=t.rotation,a=n===void 0?this.rotate:n,o=t.dontFlip,s=o===void 0?false:o;if(arguments.length>1||typeof arguments[0]==="number"){(0,i.deprecated)("getViewport is called with obsolete arguments.");r=arguments[0];a=typeof arguments[1]==="number"?arguments[1]:this.rotate;s=typeof arguments[2]==="boolean"?arguments[2]:false}return new i.PageViewport({viewBox:this.view,scale:r,rotation:a,dontFlip:s})}},{key:"getAnnotations",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.intent,n=r===void 0?null:r;if(!this.annotationsPromise||this.annotationsIntent!==n){this.annotationsPromise=this._transport.getAnnotations(this.pageIndex,n);this.annotationsIntent=n}return this.annotationsPromise}},{key:"render",value:function e(t){var r=this;var n=t.canvasContext,o=t.viewport,s=t.intent,u=s===void 0?"display":s,l=t.enableWebGL,c=l===void 0?false:l,f=t.renderInteractiveForms,h=f===void 0?false:f,d=t.transform,p=d===void 0?null:d,g=t.imageLayer,m=g===void 0?null:g,y=t.canvasFactory,b=y===void 0?null:y,_=t.background,A=_===void 0?null:_;var S=this._stats;S.time("Overall");var w=u==="print"?"print":"display";this.pendingCleanup=false;if(!this.intentStates[w]){this.intentStates[w]=Object.create(null)}var k=this.intentStates[w];if(k.streamReaderCancelTimeout){clearTimeout(k.streamReaderCancelTimeout);k.streamReaderCancelTimeout=null}var x=b||new i.DOMCanvasFactory;var C=new v.WebGLContext({enable:c});if(!k.displayReadyCapability){k.displayReadyCapability=(0,a.createPromiseCapability)();k.operatorList={fnArray:[],argsArray:[],lastChunk:false};S.time("Page Request");this._pumpOperatorList({pageIndex:this.pageNumber-1,intent:w,renderInteractiveForms:h===true})}var P=function e(t){var n=k.renderTasks.indexOf(R);if(n>=0){k.renderTasks.splice(n,1)}if(r.cleanupAfterRender||w==="print"){r.pendingCleanup=true}r._tryCleanup();if(t){R.capability.reject(t);r._abortOperatorList({intentState:k,reason:t})}else{R.capability.resolve()}S.timeEnd("Rendering");S.timeEnd("Overall")};var R=new J({callback:P,params:{canvasContext:n,viewport:o,transform:p,imageLayer:m,background:A},objs:this.objs,commonObjs:this.commonObjs,operatorList:k.operatorList,pageNumber:this.pageNumber,canvasFactory:x,webGLContext:C,useRequestAnimationFrame:w!=="print",pdfBug:this._pdfBug});if(!k.renderTasks){k.renderTasks=[]}k.renderTasks.push(R);var E=R.task;k.displayReadyCapability.promise.then(function(e){if(r.pendingCleanup){P();return}S.time("Rendering");R.initializeGraphics(e);R.operatorListChanged()})["catch"](P);return E}},{key:"getOperatorList",value:function e(){function t(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);var e=n.renderTasks.indexOf(i);if(e>=0){n.renderTasks.splice(e,1)}}}var r="oplist";if(!this.intentStates[r]){this.intentStates[r]=Object.create(null)}var n=this.intentStates[r];var i;if(!n.opListReadCapability){i={};i.operatorListChanged=t;n.opListReadCapability=(0,a.createPromiseCapability)();n.renderTasks=[];n.renderTasks.push(i);n.operatorList={fnArray:[],argsArray:[],lastChunk:false};this._stats.time("Page Request");this._pumpOperatorList({pageIndex:this.pageIndex,intent:r})}return n.opListReadCapability.promise}},{key:"streamTextContent",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.normalizeWhitespace,n=r===void 0?false:r,a=t.disableCombineTextItems,i=a===void 0?false:a;var o=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:n===true,combineTextItems:i!==true},{highWaterMark:o,size:function e(t){return t.items.length}})}},{key:"getTextContent",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=this.streamTextContent(t);return new Promise(function(e,t){function n(){a.read().then(function(t){var r;var a=t.value,o=t.done;if(o){e(i);return}Object.assign(i.styles,a.styles);(r=i.items).push.apply(r,S(a.items));n()},t)}var a=r.getReader();var i={items:[],styles:Object.create(null)};n()})}},{key:"_destroy",value:function e(){var t=this;this.destroyed=true;this._transport.pageCache[this.pageIndex]=null;var r=[];Object.keys(this.intentStates).forEach(function(e){var n=t.intentStates[e];t._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:true});if(e==="oplist"){return}n.renderTasks.forEach(function(e){var t=e.capability.promise["catch"](function(){});r.push(t);e.cancel()})});this.objs.clear();this.annotationsPromise=null;this.pendingCleanup=false;return Promise.all(r)}},{key:"cleanup",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.pendingCleanup=true;this._tryCleanup(t)}},{key:"_tryCleanup",value:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.pendingCleanup||Object.keys(this.intentStates).some(function(e){var r=t.intentStates[e];return r.renderTasks.length!==0||!r.operatorList.lastChunk})){return}Object.keys(this.intentStates).forEach(function(e){delete t.intentStates[e]});this.objs.clear();this.annotationsPromise=null;if(r&&this._stats instanceof i.StatTimer){this._stats=new i.StatTimer}this.pendingCleanup=false}},{key:"_startRenderPage",value:function e(t,r){var n=this.intentStates[r];if(!n){return}this._stats.timeEnd("Page Request");if(n.displayReadyCapability){n.displayReadyCapability.resolve(t)}}},{key:"_renderPageChunk",value:function e(t,r){for(var n=0,a=t.length;n<a;n++){r.operatorList.fnArray.push(t.fnArray[n]);r.operatorList.argsArray.push(t.argsArray[n])}r.operatorList.lastChunk=t.lastChunk;for(var i=0;i<r.renderTasks.length;i++){r.renderTasks[i].operatorListChanged()}if(t.lastChunk){this._tryCleanup()}}},{key:"_pumpOperatorList",value:function e(t){var r=this;(0,a.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",t);var i=n.getReader();var o=this.intentStates[t.intent];o.streamReader=i;var s=function e(){i.read().then(function(t){var n=t.value,a=t.done;if(a){o.streamReader=null;return}if(r._transport.destroyed){return}r._renderPageChunk(n,o);e()},function(e){o.streamReader=null;if(r._transport.destroyed){return}if(o.operatorList){o.operatorList.lastChunk=true;for(var t=0;t<o.renderTasks.length;t++){o.renderTasks[t].operatorListChanged()}r._tryCleanup()}if(o.displayReadyCapability){o.displayReadyCapability.reject(e)}else if(o.opListReadCapability){o.opListReadCapability.reject(e)}else{throw e}})};s()}},{key:"_abortOperatorList",value:function e(t){var r=this;var n=t.intentState,o=t.reason,s=t.force,u=s===void 0?false:s;(0,a.assert)(o instanceof Error,'PDFPageProxy._abortOperatorList: Expected "reason" argument.');if(!n.streamReader){return}if(!u){if(n.renderTasks.length!==0){return}if(o instanceof i.RenderingCancelledException){n.streamReaderCancelTimeout=setTimeout(function(){r._abortOperatorList({intentState:n,reason:o,force:true});n.streamReaderCancelTimeout=null},O);return}}n.streamReader.cancel(new a.AbortException(o&&o.message));n.streamReader=null;if(this._transport.destroyed){return}Object.keys(this.intentStates).some(function(e){if(r.intentStates[e]===n){delete r.intentStates[e];return true}return false});this.cleanup()}},{key:"pageNumber",get:function e(){return this.pageIndex+1}},{key:"rotate",get:function e(){return this._pageInfo.rotate}},{key:"ref",get:function e(){return this._pageInfo.ref}},{key:"userUnit",get:function e(){return this._pageInfo.userUnit}},{key:"view",get:function e(){return this._pageInfo.view}},{key:"stats",get:function e(){return this._stats instanceof i.StatTimer?this._stats:null}}]);return e}();t.PDFPageProxy=H;var X=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;C(this,e);this._listeners=[];this._defer=t;this._deferred=Promise.resolve(undefined)}R(e,[{key:"postMessage",value:function e(t,r){var n=this;function i(e){if(E(e)!=="object"||e===null){return e}if(o.has(e)){return o.get(e)}var t,n;if((t=e.buffer)&&(0,a.isArrayBuffer)(t)){var s=r&&r.includes(t);if(e===t){n=e}else if(s){n=new e.constructor(t,e.byteOffset,e.byteLength)}else{n=new e.constructor(e)}o.set(e,n);return n}n=Array.isArray(e)?[]:{};o.set(e,n);for(var u in e){var l=void 0,c=e;while(!(l=Object.getOwnPropertyDescriptor(c,u))){c=Object.getPrototypeOf(c)}if(typeof l.value==="undefined"){continue}if(typeof l.value==="function"){if(e.hasOwnProperty&&e.hasOwnProperty(u)){throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(e[u]))}continue}n[u]=i(l.value)}return n}if(!this._defer){this._listeners.forEach(function(e){e.call(n,{data:t})});return}var o=new WeakMap;var s={data:i(t)};this._deferred.then(function(){n._listeners.forEach(function(e){e.call(n,s)})})}},{key:"addEventListener",value:function e(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function e(t,r){var n=this._listeners.indexOf(r);this._listeners.splice(n,1)}},{key:"terminate",value:function e(){this._listeners.length=0}}]);return e}();t.LoopbackPort=X;var Y=function e(){var t=new WeakMap;var r=0;var n;function o(){if(c.GlobalWorkerOptions.workerSrc){return c.GlobalWorkerOptions.workerSrc}if(typeof F!=="undefined"){return F}throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function s(){try{if(typeof window!=="undefined"){return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}}catch(e){}return null}function u(){if(n){return n.promise}n=(0,a.createPromiseCapability)();var e=s();if(e){n.resolve(e);return n.promise}var t=I||function(){return(0,i.loadScript)(o()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})};t().then(n.resolve,n.reject);return n.promise}function l(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var h=function(){function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=r.name,i=n===void 0?null:n,o=r.port,s=o===void 0?null:o,u=r.verbosity,l=u===void 0?(0,a.getVerbosityLevel)():u;C(this,e);if(s&&t.has(s)){throw new Error("Cannot use more than one PDFWorker per port")}this.name=i;this.destroyed=false;this.postMessageTransfers=true;this.verbosity=l;this._readyCapability=(0,a.createPromiseCapability)();this._port=null;this._webWorker=null;this._messageHandler=null;if(s){t.set(s,this);this._initializeFromPort(s);return}this._initialize()}R(e,[{key:"_initializeFromPort",value:function e(t){this._port=t;this._messageHandler=new f.MessageHandler("main","worker",t);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function e(){var t=this;if(typeof Worker!=="undefined"&&!L&&!s()){var r=o();try{if(!(0,a.isSameOrigin)(window.location.href,r)){r=l(new URL(r,window.location).href)}var n=new Worker(r);var i=new f.MessageHandler("main","worker",n);var u=function e(){n.removeEventListener("error",c);i.destroy();n.terminate();if(t.destroyed){t._readyCapability.reject(new Error("Worker was destroyed"))}else{t._setupFakeWorker()}};var c=function e(){if(!t._webWorker){u()}};n.addEventListener("error",c);i.on("test",function(e){n.removeEventListener("error",c);if(t.destroyed){u();return}if(e){t._messageHandler=i;t._port=n;t._webWorker=n;if(!e.supportTransfers){t.postMessageTransfers=false}t._readyCapability.resolve();i.send("configure",{verbosity:t.verbosity})}else{t._setupFakeWorker();i.destroy();n.terminate()}});i.on("ready",function(e){n.removeEventListener("error",c);if(t.destroyed){u();return}try{h()}catch(e){t._setupFakeWorker()}});var h=function e(){var r=new Uint8Array([t.postMessageTransfers?255:0]);try{i.send("test",r,[r.buffer])}catch(e){(0,a.warn)("Cannot use postMessage transfers.");r[0]=0;i.send("test",r)}};h();return}catch(e){(0,a.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function e(){var t=this;if(!L){(0,a.warn)("Setting up fake worker.");L=true}u().then(function(e){if(t.destroyed){t._readyCapability.reject(new Error("Worker was destroyed"));return}var n=new X;t._port=n;var a="fake"+r++;var i=new f.MessageHandler(a+"_worker",a,n);e.setup(i,n);var o=new f.MessageHandler(a,a+"_worker",n);t._messageHandler=o;t._readyCapability.resolve()})["catch"](function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function e(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}t["delete"](this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}},{key:"promise",get:function e(){return this._readyCapability.promise}},{key:"port",get:function e(){return this._port}},{key:"messageHandler",get:function e(){return this._messageHandler}}],[{key:"fromPort",value:function r(n){if(!n||!n.port){throw new Error("PDFWorker.fromPort - invalid method signature.")}if(t.has(n.port)){return t.get(n.port)}return new e(n)}},{key:"getWorkerSrc",value:function e(){return o()}}]);return e}();return h}();t.PDFWorker=Y;var V=function(){function e(t,r,n,i){C(this,e);this.messageHandler=t;this.loadingTask=r;this.commonObjs=new Q;this.fontLoader=new o.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)});this._params=i;this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked});this.destroyed=false;this.destroyCapability=null;this._passwordCapability=null;this._networkStream=n;this._fullReader=null;this._lastProgress=null;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=(0,a.createPromiseCapability)();this.setupMessageHandler()}R(e,[{key:"destroy",value:function e(){var t=this;if(this.destroyCapability){return this.destroyCapability.promise}this.destroyed=true;this.destroyCapability=(0,a.createPromiseCapability)();if(this._passwordCapability){this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"))}var r=[];this.pageCache.forEach(function(e){if(e){r.push(e._destroy())}});this.pageCache.length=0;this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);r.push(n);Promise.all(r).then(function(){t.fontLoader.clear();if(t._networkStream){t._networkStream.cancelAllRequests(new a.AbortException("Worker was terminated."))}if(t.messageHandler){t.messageHandler.destroy();t.messageHandler=null}t.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function e(){var t=this;var r=this.messageHandler,n=this.loadingTask;r.on("GetReader",function(e,r){(0,a.assert)(t._networkStream);t._fullReader=t._networkStream.getFullReader();t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}};r.onPull=function(){t._fullReader.read().then(function(e){var t=e.value,n=e.done;if(n){r.close();return}(0,a.assert)((0,a.isArrayBuffer)(t));r.enqueue(new Uint8Array(t),1,[t])})["catch"](function(e){r.error(e)})};r.onCancel=function(e){t._fullReader.cancel(e)}});r.on("ReaderHeadersReady",function(e){var r=(0,a.createPromiseCapability)();var i=t._fullReader;i.headersReady.then(function(){if(!i.isStreamingSupported||!i.isRangeSupported){if(t._lastProgress&&n.onProgress){n.onProgress(t._lastProgress)}i.onProgress=function(e){if(n.onProgress){n.onProgress({loaded:e.loaded,total:e.total})}}}r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})},r.reject);return r.promise});r.on("GetRangeReader",function(e,r){(0,a.assert)(t._networkStream);var n=t._networkStream.getRangeReader(e.begin,e.end);if(!n){r.close();return}r.onPull=function(){n.read().then(function(e){var t=e.value,n=e.done;if(n){r.close();return}(0,a.assert)((0,a.isArrayBuffer)(t));r.enqueue(new Uint8Array(t),1,[t])})["catch"](function(e){r.error(e)})};r.onCancel=function(e){n.cancel(e)}});r.on("GetDoc",function(e){var r=e.pdfInfo;t._numPages=r.numPages;n._capability.resolve(new G(r,t))});r.on("PasswordRequest",function(e){t._passwordCapability=(0,a.createPromiseCapability)();if(n.onPassword){var r=function e(r){t._passwordCapability.resolve({password:r})};try{n.onPassword(r,e.code)}catch(e){t._passwordCapability.reject(e)}}else{t._passwordCapability.reject(new a.PasswordException(e.message,e.code))}return t._passwordCapability.promise});r.on("PasswordException",function(e){n._capability.reject(new a.PasswordException(e.message,e.code))});r.on("InvalidPDF",function(e){n._capability.reject(new a.InvalidPDFException(e.message))});r.on("MissingPDF",function(e){n._capability.reject(new a.MissingPDFException(e.message))});r.on("UnexpectedResponse",function(e){n._capability.reject(new a.UnexpectedResponseException(e.message,e.status))});r.on("UnknownError",function(e){n._capability.reject(new a.UnknownErrorException(e.message,e.details))});r.on("DataLoaded",function(e){if(n.onProgress){n.onProgress({loaded:e.length,total:e.length})}t.downloadInfoCapability.resolve(e)});r.on("StartRenderPage",function(e){if(t.destroyed){return}var r=t.pageCache[e.pageIndex];r._startRenderPage(e.transparency,e.intent)});r.on("commonobj",function(e){if(t.destroyed){return}var n=y(e,3),i=n[0],s=n[1],u=n[2];if(t.commonObjs.has(i)){return}switch(s){case"Font":var c=t._params;if("error"in u){var f=u.error;(0,a.warn)("Error during font loading: ".concat(f));t.commonObjs.resolve(i,f);break}var h=null;if(c.pdfBug&&l["default"].FontInspector&&l["default"].FontInspector.enabled){h={registerFont:function e(t,r){l["default"]["FontInspector"].fontAdded(t,r)}}}var d=new o.FontFaceObject(u,{isEvalSupported:c.isEvalSupported,disableFontFace:c.disableFontFace,ignoreErrors:c.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:h});t.fontLoader.bind(d).then(function(){t.commonObjs.resolve(i,d)},function(e){r.sendWithPromise("FontFallback",{id:i})["finally"](function(){t.commonObjs.resolve(i,d)})});break;case"FontPath":case"FontType3Res":t.commonObjs.resolve(i,u);break;default:throw new Error("Got unknown common object type ".concat(s))}});r.on("obj",function(e){if(t.destroyed){return undefined}var r=y(e,4),n=r[0],a=r[1],o=r[2],s=r[3];var u=t.pageCache[a];if(u.objs.has(n)){return undefined}switch(o){case"JpegStream":return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)};r.onerror=function(){t(new Error("Error during JPEG image loading"));(0,i.releaseImageResources)(r)};r.src=s}).then(function(e){u.objs.resolve(n,e)});case"Image":u.objs.resolve(n,s);var l=8e6;if(s&&"data"in s&&s.data.length>l){u.cleanupAfterRender=true}break;default:throw new Error("Got unknown object type ".concat(o))}return undefined});r.on("DocProgress",function(e){if(t.destroyed){return}if(n.onProgress){n.onProgress({loaded:e.loaded,total:e.total})}});r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this));r.on("JpegDecode",function(e){if(t.destroyed){return Promise.reject(new Error("Worker was destroyed"))}if(typeof document==="undefined"){return Promise.reject(new Error('"document" is not defined.'))}var r=y(e,2),n=r[0],a=r[1];if(a!==3&&a!==1){return Promise.reject(new Error("Only 3 components or 1 component can be returned"))}return new Promise(function(e,t){var r=new Image;r.onload=function(){var t=r.width,n=r.height;var o=t*n;var s=o*4;var u=new Uint8ClampedArray(o*a);var l=document.createElement("canvas");l.width=t;l.height=n;var c=l.getContext("2d");c.drawImage(r,0,0);var f=c.getImageData(0,0,t,n).data;if(a===3){for(var h=0,d=0;h<s;h+=4,d+=3){u[d]=f[h];u[d+1]=f[h+1];u[d+2]=f[h+2]}}else if(a===1){for(var v=0,p=0;v<s;v+=4,p++){u[p]=f[v]}}e({data:u,width:t,height:n});(0,i.releaseImageResources)(r);l.width=0;l.height=0;l=null;c=null};r.onerror=function(){t(new Error("JpegDecode failed to load image"));(0,i.releaseImageResources)(r)};r.src=n})});r.on("FetchBuiltInCMap",function(e,r){if(t.destroyed){r.error(new Error("Worker was destroyed"));return}var n=false;r.onPull=function(){if(n){r.close();return}n=true;t.CMapReaderFactory.fetch(e).then(function(e){r.enqueue(e,1,[e.cMapData.buffer])})["catch"](function(e){r.error(e)})}})}},{key:"_onUnsupportedFeature",value:function e(t){var r=t.featureId;if(this.destroyed){return}if(this.loadingTask.onUnsupportedFeature){this.loadingTask.onUnsupportedFeature(r)}}},{key:"getData",value:function e(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function e(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages){return Promise.reject(new Error("Invalid page request"))}var n=t-1;if(n in this.pagePromises){return this.pagePromises[n]}var a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(r.destroyed){throw new Error("Transport destroyed")}var t=new H(n,e,r,r._params.pdfBug);r.pageCache[n]=t;return t});this.pagePromises[n]=a;return a}},{key:"getPageIndex",value:function e(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})["catch"](function(e){return Promise.reject(new Error(e))})}},{key:"getAnnotations",value:function e(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"getDestinations",value:function e(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function e(t){if(typeof t!=="string"){return Promise.reject(new Error("Invalid destination request."))}return this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function e(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function e(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function e(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function e(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenActionDestination",value:function e(){return this.messageHandler.sendWithPromise("GetOpenActionDestination",null)}},{key:"getAttachments",value:function e(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function e(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function e(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function e(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function e(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new h.Metadata(e[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}})}},{key:"getStats",value:function e(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function e(){var t=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var e=0,r=t.pageCache.length;e<r;e++){var n=t.pageCache[e];if(n){n.cleanup()}}t.commonObjs.clear();t.fontLoader.clear()})}},{key:"loadingParams",get:function e(){var t=this._params;return(0,a.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableCreateObjectURL:t.disableCreateObjectURL,disableFontFace:t.disableFontFace,nativeImageDecoderSupport:t.nativeImageDecoderSupport})}}]);return e}();var Q=function(){function e(){C(this,e);this._objs=Object.create(null)}R(e,[{key:"_ensureObj",value:function e(t){if(this._objs[t]){return this._objs[t]}return this._objs[t]={capability:(0,a.createPromiseCapability)(),data:null,resolved:false}}},{key:"get",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(r){this._ensureObj(t).capability.promise.then(r);return null}var n=this._objs[t];if(!n||!n.resolved){throw new Error("Requesting object that isn't resolved yet ".concat(t,"."))}return n.data}},{key:"has",value:function e(t){var r=this._objs[t];return r?r.resolved:false}},{key:"resolve",value:function e(t,r){var n=this._ensureObj(t);n.resolved=true;n.data=r;n.capability.resolve(r)}},{key:"clear",value:function e(){for(var t in this._objs){var r=this._objs[t].data;if(typeof Image!=="undefined"&&r instanceof Image){(0,i.releaseImageResources)(r)}}this._objs=Object.create(null)}}]);return e}();var K=function(){function e(t){C(this,e);this._internalRenderTask=t;this.onContinue=null}R(e,[{key:"cancel",value:function e(){this._internalRenderTask.cancel()}},{key:"then",value:function e(t,r){(0,i.deprecated)("RenderTask.then method, use the `promise` getter instead.");return this.promise.then.apply(this.promise,arguments)}},{key:"promise",get:function e(){return this._internalRenderTask.capability.promise}}]);return e}();var J=function e(){var t=new WeakSet;var r=function(){function e(t){var r=t.callback,n=t.params,i=t.objs,o=t.commonObjs,s=t.operatorList,u=t.pageNumber,l=t.canvasFactory,c=t.webGLContext,f=t.useRequestAnimationFrame,h=f===void 0?false:f,d=t.pdfBug,v=d===void 0?false:d;C(this,e);this.callback=r;this.params=n;this.objs=i;this.commonObjs=o;this.operatorListIdx=null;this.operatorList=s;this.pageNumber=u;this.canvasFactory=l;this.webGLContext=c;this._pdfBug=v;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this._useRequestAnimationFrame=h===true&&typeof window!=="undefined";this.cancelled=false;this.capability=(0,a.createPromiseCapability)();this.task=new K(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=n.canvasContext.canvas}R(e,[{key:"initializeGraphics",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.cancelled){return}if(this._canvas){if(t.has(this._canvas)){throw new Error("Cannot use the same canvas during multiple render() operations. "+"Use different canvas or ensure previous operations were "+"cancelled or completed.")}t.add(this._canvas)}if(this._pdfBug&&l["default"].StepperManager&&l["default"].StepperManager.enabled){this.stepper=l["default"].StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var n=this.params,a=n.canvasContext,i=n.viewport,o=n.transform,s=n.imageLayer,c=n.background;this.gfx=new u.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,s);this.gfx.beginDrawing({transform:o,viewport:i,transparency:r,background:c});this.operatorListIdx=0;this.graphicsReady=true;if(this.graphicsReadyCallback){this.graphicsReadyCallback()}}},{key:"cancel",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.running=false;this.cancelled=true;if(this.gfx){this.gfx.endDrawing()}if(this._canvas){t["delete"](this._canvas)}this.callback(r||new i.RenderingCancelledException("Rendering cancelled, page ".concat(this.pageNumber),"canvas"))}},{key:"operatorListChanged",value:function e(){if(!this.graphicsReady){if(!this.graphicsReadyCallback){this.graphicsReadyCallback=this._continueBound}return}if(this.stepper){this.stepper.updateOperatorList(this.operatorList)}if(this.running){return}this._continue()}},{key:"_continue",value:function e(){this.running=true;if(this.cancelled){return}if(this.task.onContinue){this.task.onContinue(this._scheduleNextBound)}else{this._scheduleNext()}}},{key:"_scheduleNext",value:function e(){var t=this;if(this._useRequestAnimationFrame){window.requestAnimationFrame(function(){t._nextBound()["catch"](t.cancel.bind(t))})}else{Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}}},{key:"_next",value:function(){var e=m(n["default"].mark(function e(){return n["default"].wrap(function e(r){while(1){switch(r.prev=r.next){case 0:if(!this.cancelled){r.next=2;break}return r.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();if(this._canvas){t["delete"](this._canvas)}this.callback()}}case 4:case"end":return r.stop()}}},e,this)}));function r(){return e.apply(this,arguments)}return r}()}]);return e}();return r}();var Z="2.3.200";t.version=Z;var $="4ae3f9fc";t.build=$},function(e,t,r){"use strict";e.exports=r(181)},function(e,t,r){"use strict";(function(e){function t(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){t=function e(t){return typeof t}}else{t=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return t(e)}var r=function(e){"use strict";var r=Object.prototype;var n=r.hasOwnProperty;var a;var i=typeof Symbol==="function"?Symbol:{};var o=i.iterator||"@@iterator";var s=i.asyncIterator||"@@asyncIterator";var u=i.toStringTag||"@@toStringTag";function l(e,t,r,n){var a=t&&t.prototype instanceof g?t:g;var i=Object.create(a.prototype);var o=new E(n||[]);i._invoke=x(e,r,o);return i}e.wrap=l;function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var f="suspendedStart";var h="suspendedYield";var d="executing";var v="completed";var p={};function g(){}function m(){}function y(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf;var A=_&&_(_(T([])));if(A&&A!==r&&n.call(A,o)){b=A}var S=y.prototype=g.prototype=Object.create(b);m.prototype=S.constructor=y;y.constructor=m;y[u]=m.displayName="GeneratorFunction";function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}e.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===m||(t.displayName||t.name)==="GeneratorFunction":false};e.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,y)}else{e.__proto__=y;if(!(u in e)){e[u]="GeneratorFunction"}}e.prototype=Object.create(S);return e};e.awrap=function(e){return{__await:e}};function k(e){function r(a,i,o,s){var u=c(e[a],e,i);if(u.type==="throw"){s(u.arg)}else{var l=u.arg;var f=l.value;if(f&&t(f)==="object"&&n.call(f,"__await")){return Promise.resolve(f.__await).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)})}return Promise.resolve(f).then(function(e){l.value=e;o(l)},function(e){return r("throw",e,o,s)})}}var a;function i(e,t){function n(){return new Promise(function(n,a){r(e,t,n,a)})}return a=a?a.then(n,n):n()}this._invoke=i}w(k.prototype);k.prototype[s]=function(){return this};e.AsyncIterator=k;e.async=function(t,r,n,a){var i=new k(l(t,r,n,a));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})};function x(e,t,r){var n=f;return function a(i,o){if(n===d){throw new Error("Generator is already running")}if(n===v){if(i==="throw"){throw o}return O()}r.method=i;r.arg=o;while(true){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===p)continue;return u}}if(r.method==="next"){r.sent=r._sent=r.arg}else if(r.method==="throw"){if(n===f){n=v;throw r.arg}r.dispatchException(r.arg)}else if(r.method==="return"){r.abrupt("return",r.arg)}n=d;var l=c(e,t,r);if(l.type==="normal"){n=r.done?v:h;if(l.arg===p){continue}return{value:l.arg,done:r.done}}else if(l.type==="throw"){n=v;r.method="throw";r.arg=l.arg}}}}function C(e,t){var r=e.iterator[t.method];if(r===a){t.delegate=null;if(t.method==="throw"){if(e.iterator["return"]){t.method="return";t.arg=a;C(e,t);if(t.method==="throw"){return p}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(r,e.iterator,t.arg);if(n.type==="throw"){t.method="throw";t.arg=n.arg;t.delegate=null;return p}var i=n.arg;if(!i){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return p}if(i.done){t[e.resultName]=i.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=a}}else{return i}t.delegate=null;return p}w(S);S[u]="Generator";S[o]=function(){return this};S.toString=function(){return"[object Generator]"};function P(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(P,this);this.reset(true)}e.keys=function(e){var t=[];for(var r in e){t.push(r)}t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function T(e){if(e){var t=e[o];if(t){return t.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var r=-1,i=function t(){while(++r<e.length){if(n.call(e,r)){t.value=e[r];t.done=false;return t}}t.value=a;t.done=true;return t};return i.next=i}}return{next:O}}e.values=T;function O(){return{value:a,done:true}}E.prototype={constructor:E,reset:function e(t){this.prev=0;this.next=0;this.sent=this._sent=a;this.done=false;this.delegate=null;this.method="next";this.arg=a;this.tryEntries.forEach(R);if(!t){for(var r in this){if(r.charAt(0)==="t"&&n.call(this,r)&&!isNaN(+r.slice(1))){this[r]=a}}}},stop:function e(){this.done=true;var t=this.tryEntries[0];var r=t.completion;if(r.type==="throw"){throw r.arg}return this.rval},dispatchException:function e(t){if(this.done){throw t}var r=this;function i(e,n){u.type="throw";u.arg=t;r.next=e;if(n){r.method="next";r.arg=a}return!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];var u=s.completion;if(s.tryLoc==="root"){return i("end")}if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc");var c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc){return i(s.catchLoc,true)}else if(this.prev<s.finallyLoc){return i(s.finallyLoc)}}else if(l){if(this.prev<s.catchLoc){return i(s.catchLoc,true)}}else if(c){if(this.prev<s.finallyLoc){return i(s.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function e(t,r){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}if(o&&(t==="break"||t==="continue")&&o.tryLoc<=r&&r<=o.finallyLoc){o=null}var s=o?o.completion:{};s.type=t;s.arg=r;if(o){this.method="next";this.next=o.finallyLoc;return p}return this.complete(s)},complete:function e(t,r){if(t.type==="throw"){throw t.arg}if(t.type==="break"||t.type==="continue"){this.next=t.arg}else if(t.type==="return"){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else if(t.type==="normal"&&r){this.next=r}return p},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t){this.complete(n.completion,n.afterLoc);R(n);return p}}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if(a.type==="throw"){var i=a.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){this.delegate={iterator:T(t),resultName:r,nextLoc:n};if(this.method==="next"){this.arg=a}return p}};return e}((false?undefined:t(e))==="object"?e.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}).call(this,r(182)(e))},function(e,t,r){"use strict";e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function t(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function t(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.addLinkAttributes=C;t.getFilenameFromUrl=P;t.isFetchSupported=T;t.isValidFetchUrl=O;t.loadScript=L;t.deprecated=F;t.releaseImageResources=I;t.PDFDateString=t.DummyStatTimer=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var n=i(r(180));var a=r(1);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(t){return typeof t}}else{o=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return o(e)}function s(e,t){if(t&&(o(t)==="object"||typeof t==="function")){return t}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function h(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){h(i,n,a,o,s,"next",e)}function s(e){h(i,n,a,o,s,"throw",e)}o(undefined)})}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function g(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}var m="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=m;var y="http://www.w3.org/2000/svg";var b=function(){function e(){v(this,e)}g(e,[{key:"create",value:function e(t,r){if(t<=0||r<=0){throw new Error("Invalid canvas size")}var n=document.createElement("canvas");var a=n.getContext("2d");n.width=t;n.height=r;return{canvas:n,context:a}}},{key:"reset",value:function e(t,r,n){if(!t.canvas){throw new Error("Canvas is not specified")}if(r<=0||n<=0){throw new Error("Invalid canvas size")}t.canvas.width=r;t.canvas.height=n}},{key:"destroy",value:function e(t){if(!t.canvas){throw new Error("Canvas is not specified")}t.canvas.width=0;t.canvas.height=0;t.canvas=null;t.context=null}}]);return e}();t.DOMCanvasFactory=b;var _=function(){function e(t){var r=t.baseUrl,n=r===void 0?null:r,a=t.isCompressed,i=a===void 0?false:a;v(this,e);this.baseUrl=n;this.isCompressed=i}g(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}(function(){var e=d(n["default"].mark(function e(t){var r=this;var i,o,s;return n["default"].wrap(function e(u){while(1){switch(u.prev=u.next){case 0:i=t.name;if(this.baseUrl){u.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that '+'the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(i){u.next=5;break}throw new Error("CMap name must be specified.");case 5:o=this.baseUrl+i+(this.isCompressed?".bcmap":"");s=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;if(!(T()&&O(o,document.baseURI))){u.next=9;break}return u.abrupt("return",fetch(o).then(function(){var e=d(n["default"].mark(function e(t){var i;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(t.ok){n.next=2;break}throw new Error(t.statusText);case 2:if(!r.isCompressed){n.next=10;break}n.t0=Uint8Array;n.next=6;return t.arrayBuffer();case 6:n.t1=n.sent;i=new n.t0(n.t1);n.next=15;break;case 10:n.t2=a.stringToBytes;n.next=13;return t.text();case 13:n.t3=n.sent;i=(0,n.t2)(n.t3);case 15:return n.abrupt("return",{cMapData:i,compressionType:s});case 16:case"end":return n.stop()}}},e)}));return function(t){return e.apply(this,arguments)}}())["catch"](function(e){throw new Error("Unable to load ".concat(r.isCompressed?"binary ":"")+"CMap at: ".concat(o))}));case 9:return u.abrupt("return",new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",o,true);if(r.isCompressed){n.responseType="arraybuffer"}n.onreadystatechange=function(){if(n.readyState!==XMLHttpRequest.DONE){return}if(n.status===200||n.status===0){var i;if(r.isCompressed&&n.response){i=new Uint8Array(n.response)}else if(!r.isCompressed&&n.responseText){i=(0,a.stringToBytes)(n.responseText)}if(i){e({cMapData:i,compressionType:s});return}}t(new Error(n.statusText))};n.send(null)})["catch"](function(e){throw new Error("Unable to load ".concat(r.isCompressed?"binary ":"")+"CMap at: ".concat(o))}));case 10:case"end":return u.stop()}}},e,this)}));return function(t){return e.apply(this,arguments)}}())}]);return e}();t.DOMCMapReaderFactory=_;var A=function(){function e(){v(this,e)}g(e,[{key:"create",value:function e(t,r){(0,a.assert)(t>0&&r>0,"Invalid SVG dimensions");var n=document.createElementNS(y,"svg:svg");n.setAttribute("version","1.1");n.setAttribute("width",t+"px");n.setAttribute("height",r+"px");n.setAttribute("preserveAspectRatio","none");n.setAttribute("viewBox","0 0 "+t+" "+r);return n}},{key:"createElement",value:function e(t){(0,a.assert)(typeof t==="string","Invalid SVG element type");return document.createElementNS(y,t)}}]);return e}();t.DOMSVGFactory=A;var S=function(){function e(t){var r=t.viewBox,n=t.scale,a=t.rotation,i=t.offsetX,o=i===void 0?0:i,s=t.offsetY,u=s===void 0?0:s,l=t.dontFlip,c=l===void 0?false:l;v(this,e);this.viewBox=r;this.scale=n;this.rotation=a;this.offsetX=o;this.offsetY=u;var f=(r[2]+r[0])/2;var h=(r[3]+r[1])/2;var d,p,g,m;a=a%360;a=a<0?a+360:a;switch(a){case 180:d=-1;p=0;g=0;m=1;break;case 90:d=0;p=1;g=1;m=0;break;case 270:d=0;p=-1;g=-1;m=0;break;default:d=1;p=0;g=0;m=-1;break}if(c){g=-g;m=-m}var y,b;var _,A;if(d===0){y=Math.abs(h-r[1])*n+o;b=Math.abs(f-r[0])*n+u;_=Math.abs(r[3]-r[1])*n;A=Math.abs(r[2]-r[0])*n}else{y=Math.abs(f-r[0])*n+o;b=Math.abs(h-r[1])*n+u;_=Math.abs(r[2]-r[0])*n;A=Math.abs(r[3]-r[1])*n}this.transform=[d*n,p*n,g*n,m*n,y-d*n*f-g*n*h,b-p*n*f-m*n*h];this.width=_;this.height=A}g(e,[{key:"clone",value:function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=r.scale,a=n===void 0?this.scale:n,i=r.rotation,o=i===void 0?this.rotation:i,s=r.dontFlip,u=s===void 0?false:s;return new e({viewBox:this.viewBox.slice(),scale:a,rotation:o,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:u})}},{key:"convertToViewportPoint",value:function e(t,r){return a.Util.applyTransform([t,r],this.transform)}},{key:"convertToViewportRectangle",value:function e(t){var r=a.Util.applyTransform([t[0],t[1]],this.transform);var n=a.Util.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function e(t,r){return a.Util.applyInverseTransform([t,r],this.transform)}}]);return e}();t.PageViewport=S;var w=function(e){c(t,e);function t(e,r){var n;v(this,t);n=s(this,l(t).call(this,e));n.type=r;return n}return t}(a.BaseException);t.RenderingCancelledException=w;var k={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=k;var x=["","_self","_blank","_parent","_top"];function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=t.url,n=t.target,i=t.rel,o=t.enabled,s=o===void 0?true:o;(0,a.assert)(r&&typeof r==="string",'addLinkAttributes: A valid "url" parameter must provided.');var u=(0,a.removeNullCharacters)(r);if(s){e.href=e.title=u}else{e.href="";e.title="Disabled: ".concat(u);e.onclick=function(){return false}}var l=Object.values(k);var c=l.includes(n)?n:k.NONE;e.target=x[c];e.rel=typeof i==="string"?i:m}function P(e){var t=e.indexOf("#");var r=e.indexOf("?");var n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}var R=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;v(this,e);this.enabled=!!t;this.started=Object.create(null);this.times=[]}g(e,[{key:"time",value:function e(t){if(!this.enabled){return}if(t in this.started){(0,a.warn)("Timer is already running for "+t)}this.started[t]=Date.now()}},{key:"timeEnd",value:function e(t){if(!this.enabled){return}if(!(t in this.started)){(0,a.warn)("Timer has not been started for "+t)}this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]}},{key:"toString",value:function e(){var t="",r=0;var n=true;var a=false;var i=undefined;try{for(var o=this.times[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){var u=s.value;var l=u.name;if(l.length>r){r=l.length}}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}var c=true;var f=false;var h=undefined;try{for(var d=this.times[Symbol.iterator](),v;!(c=(v=d.next()).done);c=true){var p=v.value;var g=p.end-p.start;t+="".concat(p.name.padEnd(r)," ").concat(g,"ms\n")}}catch(e){f=true;h=e}finally{try{if(!c&&d["return"]!=null){d["return"]()}}finally{if(f){throw h}}}return t}}]);return e}();t.StatTimer=R;var E=function(){function e(){v(this,e);(0,a.unreachable)("Cannot initialize DummyStatTimer.")}g(e,null,[{key:"time",value:function e(t){}},{key:"timeEnd",value:function e(t){}},{key:"toString",value:function e(){return""}}]);return e}();t.DummyStatTimer=E;function T(){return typeof fetch!=="undefined"&&typeof Response!=="undefined"&&"body"in Response.prototype&&typeof ReadableStream!=="undefined"}function O(e,t){try{var r=t?new URL(e,t):new URL(e),n=r.protocol;return n==="http:"||n==="https:"}catch(e){return false}}function L(e){return new Promise(function(t,r){var n=document.createElement("script");n.src=e;n.onload=t;n.onerror=function(){r(new Error("Cannot load script at: ".concat(n.src)))};(document.head||document.documentElement).appendChild(n)})}function F(e){console.log("Deprecated API usage: "+e)}function I(e){(0,a.assert)(e instanceof Image,"Invalid `img` parameter.");var t=e.src;if(typeof t==="string"&&t.startsWith("blob:")&&URL.revokeObjectURL){URL.revokeObjectURL(t)}e.removeAttribute("src")}var j;var M=function(){function e(){v(this,e)}g(e,null,[{key:"toDateObject",value:function e(t){if(!t||!(0,a.isString)(t)){return null}if(!j){j=new RegExp("^D:"+"(\\d{4})"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"([Z|+|-])?"+"(\\d{2})?"+"'?"+"(\\d{2})?"+"'?")}var r=j.exec(t);if(!r){return null}var n=parseInt(r[1],10);var i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;var o=parseInt(r[3],10);o=o>=1&&o<=31?o:1;var s=parseInt(r[4],10);s=s>=0&&s<=23?s:0;var u=parseInt(r[5],10);u=u>=0&&u<=59?u:0;var l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;var c=r[7]||"Z";var f=parseInt(r[8],10);f=f>=0&&f<=23?f:0;var h=parseInt(r[9],10)||0;h=h>=0&&h<=59?h:0;if(c==="-"){s+=f;u+=h}else if(c==="+"){s-=f;u-=h}return new Date(Date.UTC(n,i,o,s,u,l))}}]);return e}();t.PDFDateString=M},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FontLoader=t.FontFaceObject=void 0;var n=i(r(180));var a=r(1);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(t){return typeof t}}else{o=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return o(e)}function s(e,t){if(t&&(o(t)==="object"||typeof t==="function")){return t}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return l(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return f(e,t)}function h(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){h(i,n,a,o,s,"next",e)}function s(e){h(i,n,a,o,s,"throw",e)}o(undefined)})}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function g(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);return e}var m=function(){function e(t){var r=t.docId,n=t.onUnsupportedFeature;v(this,e);if(this.constructor===e){(0,a.unreachable)("Cannot initialize BaseFontLoader.")}this.docId=r;this._onUnsupportedFeature=n;this.nativeFontFaces=[];this.styleElement=null}g(e,[{key:"addNativeFontFace",value:function e(t){this.nativeFontFaces.push(t);document.fonts.add(t)}},{key:"insertRule",value:function e(t){var r=this.styleElement;if(!r){r=this.styleElement=document.createElement("style");r.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId);document.documentElement.getElementsByTagName("head")[0].appendChild(r)}var n=r.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function e(){this.nativeFontFaces.forEach(function(e){document.fonts["delete"](e)});this.nativeFontFaces.length=0;if(this.styleElement){this.styleElement.remove();this.styleElement=null}}},{key:"bind",value:function(){var e=d(n["default"].mark(function e(t){var r=this;var i,o;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(t.attached||t.missingFile)){n.next=2;break}return n.abrupt("return",undefined);case 2:t.attached=true;if(!this.isFontLoadingAPISupported){n.next=19;break}i=t.createNativeFontFace();if(!i){n.next=18;break}this.addNativeFontFace(i);n.prev=7;n.next=10;return i.loaded;case 10:n.next=18;break;case 12:n.prev=12;n.t0=n["catch"](7);this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.font});(0,a.warn)("Failed to load font '".concat(i.family,"': '").concat(n.t0,"'."));t.disableFontFace=true;throw n.t0;case 18:return n.abrupt("return",undefined);case 19:o=t.createFontFaceRule();if(!o){n.next=25;break}this.insertRule(o);if(!this.isSyncFontLoadingSupported){n.next=24;break}return n.abrupt("return",undefined);case 24:return n.abrupt("return",new Promise(function(e){var n=r._queueLoadingCallback(e);r._prepareFontLoadEvent([o],[t],n)}));case 25:return n.abrupt("return",undefined);case 26:case"end":return n.stop()}}},e,this,[[7,12]])}));function t(t){return e.apply(this,arguments)}return t}()},{key:"_queueLoadingCallback",value:function e(t){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function e(t,r,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function e(){(0,a.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function e(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function e(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}}]);return e}();var y;t.FontLoader=y;{t.FontLoader=y=function(e){c(t,e);function t(e){var r;v(this,t);r=s(this,l(t).call(this,e));r.loadingContext={requests:[],nextRequestId:0};r.loadTestFontId=0;return r}g(t,[{key:"_queueLoadingCallback",value:function e(t){function r(){(0,a.assert)(!i.done,"completeRequest() cannot be called twice.");i.done=true;while(n.requests.length>0&&n.requests[0].done){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=this.loadingContext;var i={id:"pdfjs-font-loading-".concat(n.nextRequestId++),done:false,complete:r,callback:t};n.requests.push(i);return i}},{key:"_prepareFontLoadEvent",value:function e(t,r,n){function i(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3)&255}function o(e,t,r,n){var a=e.substring(0,t);var i=e.substring(t+r);return a+n+i}var s,u;var l=document.createElement("canvas");l.width=1;l.height=1;var c=l.getContext("2d");var f=0;function h(e,t){f++;if(f>30){(0,a.warn)("Load test font never loaded.");t();return}c.font="30px "+e;c.fillText(".",0,20);var r=c.getImageData(0,0,1,1);if(r.data[3]>0){t();return}setTimeout(h.bind(null,e,t))}var d="lt".concat(Date.now()).concat(this.loadTestFontId++);var v=this._loadTestFont;var p=976;v=o(v,p,d.length,d);var g=16;var m=1482184792;var y=i(v,g);for(s=0,u=d.length-3;s<u;s+=4){y=y-m+i(d,s)|0}if(s<d.length){y=y-m+i(d+"XXX",s)|0}v=o(v,g,4,(0,a.string32)(y));var b="url(data:font/opentype;base64,".concat(btoa(v),");");var _='@font-face {font-family:"'.concat(d,'";src:').concat(b,"}");this.insertRule(_);var A=[];for(s=0,u=r.length;s<u;s++){A.push(r[s].loadedName)}A.push(d);var S=document.createElement("div");S.setAttribute("style","visibility: hidden;"+"width: 10px; height: 10px;"+"position: absolute; top: 0px; left: 0px;");for(s=0,u=A.length;s<u;++s){var w=document.createElement("span");w.textContent="Hi";w.style.fontFamily=A[s];S.appendChild(w)}document.body.appendChild(S);h(d,function(){document.body.removeChild(S);n.complete()})}},{key:"isFontLoadingAPISupported",get:function e(){var t=typeof document!=="undefined"&&!!document.fonts;if(t&&typeof navigator!=="undefined"){var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);if(r&&r[1]<63){t=false}}return(0,a.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function e(){var t=false;if(typeof navigator==="undefined"){t=true}else{var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);if(r&&r[1]>=14){t=true}}return(0,a.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function e(){var t=function e(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA"+"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA"+"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA"+"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1"+"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD"+"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM"+"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D"+"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA"+"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA"+"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB"+"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY"+"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA"+"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA"+"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC"+"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3"+"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj"+"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,a.shadow)(this,"_loadTestFont",t())}}]);return t}(m)}var b={get value(){return(0,a.shadow)(this,"value",(0,a.isEvalSupported)())}};var _=function(){function e(t,r){var n=r.isEvalSupported,a=n===void 0?true:n,i=r.disableFontFace,o=i===void 0?false:i,s=r.ignoreErrors,u=s===void 0?false:s,l=r.onUnsupportedFeature,c=l===void 0?null:l,f=r.fontRegistry,h=f===void 0?null:f;v(this,e);this.compiledGlyphs=Object.create(null);for(var d in t){this[d]=t[d]}this.isEvalSupported=a!==false;this.disableFontFace=o===true;this.ignoreErrors=u===true;this._onUnsupportedFeature=c;this.fontRegistry=h}g(e,[{key:"createNativeFontFace",value:function e(){if(!this.data||this.disableFontFace){return null}var t=new FontFace(this.loadedName,this.data,{});if(this.fontRegistry){this.fontRegistry.registerFont(this)}return t}},{key:"createFontFaceRule",value:function e(){if(!this.data||this.disableFontFace){return null}var t=(0,a.bytesToString)(new Uint8Array(this.data));var r="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");var n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");if(this.fontRegistry){this.fontRegistry.registerFont(this,r)}return n}},{key:"getPathGenerator",value:function e(t,r){if(this.compiledGlyphs[r]!==undefined){return this.compiledGlyphs[r]}var n,i;try{n=t.get(this.loadedName+"_path_"+r)}catch(e){if(!this.ignoreErrors){throw e}if(this._onUnsupportedFeature){this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.font})}(0,a.warn)('getPathGenerator - ignoring character: "'.concat(e,'".'));return this.compiledGlyphs[r]=function(e,t){}}if(this.isEvalSupported&&b.value){var o,s="";for(var u=0,l=n.length;u<l;u++){i=n[u];if(i.args!==undefined){o=i.args.join(",")}else{o=""}s+="c."+i.cmd+"("+o+");\n"}return this.compiledGlyphs[r]=new Function("c","size",s)}return this.compiledGlyphs[r]=function(e,t){for(var r=0,a=n.length;r<a;r++){i=n[r];if(i.cmd==="scale"){i.args=[t,-t]}e[i.cmd].apply(e,i.args)}}}}]);return e}();t.FontFaceObject=_},function(e,t,r){"use strict";var n=Object.create(null);{var a=r(4);var i=typeof navigator!=="undefined"&&navigator.userAgent||"";var o=/Trident/.test(i);var s=/CriOS/.test(i);(function e(){if(o||s){n.disableCreateObjectURL=true}})();(function e(){if(a()){n.disableFontFace=true;n.nativeImageDecoderSupport="none"}})()}t.apiCompatibilityParams=Object.freeze(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CanvasGraphics=void 0;var n=r(1);var a=r(187);var i=16;var o=100;var s=4096;var u=.65;var l=true;var c=1e3;var f=16;var h={get value(){return(0,n.shadow)(h,"value",(0,n.isLittleEndian)())}};function d(e){if(!e.mozCurrentTransform){e._originalSave=e.save;e._originalRestore=e.restore;e._originalRotate=e.rotate;e._originalScale=e.scale;e._originalTranslate=e.translate;e._originalTransform=e.transform;e._originalSetTransform=e.setTransform;e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0];e._transformStack=[];Object.defineProperty(e,"mozCurrentTransform",{get:function e(){return this._transformMatrix}});Object.defineProperty(e,"mozCurrentTransformInverse",{get:function e(){var t=this._transformMatrix;var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5];var u=r*i-n*a;var l=n*a-r*i;return[i/u,n/l,a/l,r/u,(i*o-a*s)/l,(n*o-r*s)/u]}});e.save=function e(){var t=this._transformMatrix;this._transformStack.push(t);this._transformMatrix=t.slice(0,6);this._originalSave()};e.restore=function e(){var t=this._transformStack.pop();if(t){this._transformMatrix=t;this._originalRestore()}};e.translate=function e(t,r){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*r+n[4];n[5]=n[1]*t+n[3]*r+n[5];this._originalTranslate(t,r)};e.scale=function e(t,r){var n=this._transformMatrix;n[0]=n[0]*t;n[1]=n[1]*t;n[2]=n[2]*r;n[3]=n[3]*r;this._originalScale(t,r)};e.transform=function t(r,n,a,i,o,s){var u=this._transformMatrix;this._transformMatrix=[u[0]*r+u[2]*n,u[1]*r+u[3]*n,u[0]*a+u[2]*i,u[1]*a+u[3]*i,u[0]*o+u[2]*s+u[4],u[1]*o+u[3]*s+u[5]];e._originalTransform(r,n,a,i,o,s)};e.setTransform=function t(r,n,a,i,o,s){this._transformMatrix=[r,n,a,i,o,s];e._originalSetTransform(r,n,a,i,o,s)};e.rotate=function e(t){var r=Math.cos(t);var n=Math.sin(t);var a=this._transformMatrix;this._transformMatrix=[a[0]*r+a[2]*n,a[1]*r+a[3]*n,a[0]*-n+a[2]*r,a[1]*-n+a[3]*r,a[4],a[5]];this._originalRotate(t)}}}var v=function e(){function t(e){this.canvasFactory=e;this.cache=Object.create(null)}t.prototype={getCanvas:function e(t,r,n,a){var i;if(this.cache[t]!==undefined){i=this.cache[t];this.canvasFactory.reset(i,r,n);i.context.setTransform(1,0,0,1,0,0)}else{i=this.canvasFactory.create(r,n);this.cache[t]=i}if(a){d(i.context)}return i},clear:function e(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r);delete this.cache[t]}}};return t}();function p(e){var t=1e3;var r=e.width,n=e.height;var a,i,o,s=r+1;var u=new Uint8Array(s*(n+1));var l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]);var c=r+7&~7,f=e.data;var h=new Uint8Array(c*n),d=0,v;for(a=0,v=f.length;a<v;a++){var p=128,g=f[a];while(p>0){h[d++]=g&p?0:255;p>>=1}}var m=0;d=0;if(h[d]!==0){u[0]=1;++m}for(i=1;i<r;i++){if(h[d]!==h[d+1]){u[i]=h[d]?2:1;++m}d++}if(h[d]!==0){u[i]=2;++m}for(a=1;a<n;a++){d=a*c;o=a*s;if(h[d-c]!==h[d]){u[o]=h[d]?1:8;++m}var y=(h[d]?4:0)+(h[d-c]?8:0);for(i=1;i<r;i++){y=(y>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0);if(l[y]){u[o+i]=l[y];++m}d++}if(h[d-c]!==h[d]){u[o+i]=h[d]?2:4;++m}if(m>t){return null}}d=c*(n-1);o=a*s;if(h[d]!==0){u[o]=8;++m}for(i=1;i<r;i++){if(h[d]!==h[d+1]){u[o+i]=h[d]?4:8;++m}d++}if(h[d]!==0){u[o+i]=4;++m}if(m>t){return null}var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]);var _=[];for(a=0;m&&a<=n;a++){var A=a*s;var S=A+r;while(A<S&&!u[A]){A++}if(A===S){continue}var w=[A%s,a];var k=u[A],x=A,C;do{var P=b[k];do{A+=P}while(!u[A]);C=u[A];if(C!==5&&C!==10){k=C;u[A]=0}else{k=C&51*k>>4;u[A]&=k>>2|k<<2}w.push(A%s);w.push(A/s|0);if(!u[A]){--m}}while(x!==A);_.push(w);--a}var R=function e(t){t.save();t.scale(1/r,-1/n);t.translate(0,-n);t.beginPath();for(var a=0,i=_.length;a<i;a++){var o=_[a];t.moveTo(o[0],o[1]);for(var s=2,u=o.length;s<u;s+=2){t.lineTo(o[s],o[s+1])}}t.fill();t.beginPath();t.restore()};return R}var g=function e(){function t(){this.alphaIsShape=false;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=n.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=n.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=n.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=false;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.resumeSMaskCtx=null}t.prototype={clone:function e(){return Object.create(this)},setCurrentPoint:function e(t,r){this.x=t;this.y=r}};return t}();var m=function e(){var t=15;var r=10;function m(e,t,r,n,a,i){this.ctx=e;this.current=new g;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=false;this.res=null;this.xobjs=null;this.commonObjs=t;this.objs=r;this.canvasFactory=n;this.webGLContext=a;this.imageLayer=i;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.cachedCanvases=new v(this.canvasFactory);if(e){d(e)}this._cachedGetSinglePixelWidth=null}function y(e,t){if(typeof ImageData!=="undefined"&&t instanceof ImageData){e.putImageData(t,0,0);return}var r=t.height,a=t.width;var i=r%f;var o=(r-i)/f;var s=i===0?o:o+1;var u=e.createImageData(a,f);var l=0,c;var d=t.data;var v=u.data;var p,g,m,y;if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var b=d.byteLength;var _=new Uint32Array(v.buffer,0,v.byteLength>>2);var A=_.length;var S=a+7>>3;var w=4294967295;var k=h.value?4278190080:255;for(p=0;p<s;p++){m=p<o?f:i;c=0;for(g=0;g<m;g++){var x=b-l;var C=0;var P=x>S?a:x*8-7;var R=P&~7;var E=0;var T=0;for(;C<R;C+=8){T=d[l++];_[c++]=T&128?w:k;_[c++]=T&64?w:k;_[c++]=T&32?w:k;_[c++]=T&16?w:k;_[c++]=T&8?w:k;_[c++]=T&4?w:k;_[c++]=T&2?w:k;_[c++]=T&1?w:k}for(;C<P;C++){if(E===0){T=d[l++];E=128}_[c++]=T&E?w:k;E>>=1}}while(c<A){_[c++]=0}e.putImageData(u,0,p*f)}}else if(t.kind===n.ImageKind.RGBA_32BPP){g=0;y=a*f*4;for(p=0;p<o;p++){v.set(d.subarray(l,l+y));l+=y;e.putImageData(u,0,g);g+=f}if(p<s){y=a*i*4;v.set(d.subarray(l,l+y));e.putImageData(u,0,g)}}else if(t.kind===n.ImageKind.RGB_24BPP){m=f;y=a*m;for(p=0;p<s;p++){if(p>=o){m=i;y=a*m}c=0;for(g=y;g--;){v[c++]=d[l++];v[c++]=d[l++];v[c++]=d[l++];v[c++]=255}e.putImageData(u,0,p*f)}}else{throw new Error("bad image kind: ".concat(t.kind))}}function b(e,t){var r=t.height,n=t.width;var a=r%f;var i=(r-a)/f;var o=a===0?i:i+1;var s=e.createImageData(n,f);var u=0;var l=t.data;var c=s.data;for(var h=0;h<o;h++){var d=h<i?f:a;var v=3;for(var p=0;p<d;p++){var g=0;for(var m=0;m<n;m++){if(!g){var y=l[u++];g=128}c[v]=y&g?0:255;v+=4;g>>=1}}e.putImageData(s,0,h*f)}}function _(e,t){var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(var n=0,a=r.length;n<a;n++){var i=r[n];if(e[i]!==undefined){t[i]=e[i]}}if(e.setLineDash!==undefined){t.setLineDash(e.getLineDash());t.lineDashOffset=e.lineDashOffset}}function A(e){e.strokeStyle="#000000";e.fillStyle="#000000";e.fillRule="nonzero";e.globalAlpha=1;e.lineWidth=1;e.lineCap="butt";e.lineJoin="miter";e.miterLimit=10;e.globalCompositeOperation="source-over";e.font="10px sans-serif";if(e.setLineDash!==undefined){e.setLineDash([]);e.lineDashOffset=0}}function S(e,t,r,n){var a=e.length;for(var i=3;i<a;i+=4){var o=e[i];if(o===0){e[i-3]=t;e[i-2]=r;e[i-1]=n}else if(o<255){var s=255-o;e[i-3]=e[i-3]*o+t*s>>8;e[i-2]=e[i-2]*o+r*s>>8;e[i-1]=e[i-1]*o+n*s>>8}}}function w(e,t,r){var n=e.length;var a=1/255;for(var i=3;i<n;i+=4){var o=r?r[e[i]]:e[i];t[i]=t[i]*o*a|0}}function k(e,t,r){var n=e.length;for(var a=3;a<n;a+=4){var i=e[a-3]*77+e[a-2]*152+e[a-1]*28;t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function x(e,t,r,n,a,i,o){var s=!!i;var u=s?i[0]:0;var l=s?i[1]:0;var c=s?i[2]:0;var f;if(a==="Luminosity"){f=k}else{f=w}var h=1048576;var d=Math.min(n,Math.ceil(h/r));for(var v=0;v<n;v+=d){var p=Math.min(d,n-v);var g=e.getImageData(0,v,r,p);var m=t.getImageData(0,v,r,p);if(s){S(g.data,u,l,c)}f(g.data,m.data,o);e.putImageData(m,0,v)}}function C(e,t,r,n){var a=t.canvas;var i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&n.isEnabled){var s=n.composeSMask({layer:r.canvas,mask:a,properties:{subtype:t.subtype,backdrop:o}});e.setTransform(1,0,0,1,0,0);e.drawImage(s,t.offsetX,t.offsetY);return}x(i,r,a.width,a.height,t.subtype,o,t.transferMap);e.drawImage(a,0,0)}var P=["butt","round","square"];var R=["miter","round","bevel"];var E={};var T={};m.prototype={beginDrawing:function e(t){var r=t.transform,n=t.viewport,a=t.transparency,i=a===void 0?false:a,o=t.background,s=o===void 0?null:o;var u=this.ctx.canvas.width;var l=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=s||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,u,l);this.ctx.restore();if(i){var c=this.cachedCanvases.getCanvas("transparent",u,l,true);this.compositeCtx=this.ctx;this.transparentCanvas=c.canvas;this.ctx=c.context;this.ctx.save();this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save();A(this.ctx);if(r){this.ctx.transform.apply(this.ctx,r)}this.ctx.transform.apply(this.ctx,n.transform);this.baseTransform=this.ctx.mozCurrentTransform.slice();if(this.imageLayer){this.imageLayer.beginLayout()}},executeOperatorList:function e(a,i,o,s){var u=a.argsArray;var l=a.fnArray;var c=i||0;var f=u.length;if(f===c){return c}var h=f-c>r&&typeof o==="function";var d=h?Date.now()+t:0;var v=0;var p=this.commonObjs;var g=this.objs;var m;while(true){if(s!==undefined&&c===s.nextBreakPoint){s.breakIt(c,o);return c}m=l[c];if(m!==n.OPS.dependency){this[m].apply(this,u[c])}else{var y=true;var b=false;var _=undefined;try{for(var A=u[c][Symbol.iterator](),S;!(y=(S=A.next()).done);y=true){var w=S.value;var k=w.startsWith("g_")?p:g;if(!k.has(w)){k.get(w,o);return c}}}catch(e){b=true;_=e}finally{try{if(!y&&A["return"]!=null){A["return"]()}}finally{if(b){throw _}}}}c++;if(c===f){return c}if(h&&++v>r){if(Date.now()>d){o();return c}v=0}}},endDrawing:function e(){if(this.current.activeSMask!==null){this.endSMaskGroup()}this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}this.cachedCanvases.clear();this.webGLContext.clear();if(this.imageLayer){this.imageLayer.endLayout()}},setLineWidth:function e(t){this.current.lineWidth=t;this.ctx.lineWidth=t},setLineCap:function e(t){this.ctx.lineCap=P[t]},setLineJoin:function e(t){this.ctx.lineJoin=R[t]},setMiterLimit:function e(t){this.ctx.miterLimit=t},setDash:function e(t,r){var n=this.ctx;if(n.setLineDash!==undefined){n.setLineDash(t);n.lineDashOffset=r}},setRenderingIntent:function e(t){},setFlatness:function e(t){},setGState:function e(t){for(var r=0,n=t.length;r<n;r++){var a=t[r];var i=a[0];var o=a[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=a[1];break;case"ca":this.current.fillAlpha=a[1];this.ctx.globalAlpha=a[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":if(this.current.activeSMask){if(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask){this.suspendSMaskGroup()}else{this.endSMaskGroup()}}this.current.activeSMask=o?this.tempSMask:null;if(this.current.activeSMask){this.beginSMaskGroup()}this.tempSMask=null;break}}},beginSMaskGroup:function e(){var t=this.current.activeSMask;var r=t.canvas.width;var n=t.canvas.height;var a="smaskGroupAt"+this.groupLevel;var i=this.cachedCanvases.getCanvas(a,r,n,true);var o=this.ctx;var s=o.mozCurrentTransform;this.ctx.save();var u=i.context;u.scale(1/t.scaleX,1/t.scaleY);u.translate(-t.offsetX,-t.offsetY);u.transform.apply(u,s);t.startTransformInverse=u.mozCurrentTransformInverse;_(o,u);this.ctx=u;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(o);this.groupLevel++},suspendSMaskGroup:function e(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();C(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();this.ctx.save();_(t,this.ctx);this.current.resumeSMaskCtx=t;var r=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r);t.save();t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,t.canvas.width,t.canvas.height);t.restore()},resumeSMaskGroup:function e(){var t=this.current.resumeSMaskCtx;var r=this.ctx;this.ctx=t;this.groupStack.push(r);this.groupLevel++},endSMaskGroup:function e(){var t=this.ctx;this.groupLevel--;this.ctx=this.groupStack.pop();C(this.ctx,this.current.activeSMask,t,this.webGLContext);this.ctx.restore();_(t,this.ctx);var r=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r)},save:function e(){this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone();this.current.resumeSMaskCtx=null},restore:function e(){if(this.current.resumeSMaskCtx){this.resumeSMaskGroup()}if(this.current.activeSMask!==null&&(this.stateStack.length===0||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)){this.endSMaskGroup()}if(this.stateStack.length!==0){this.current=this.stateStack.pop();this.ctx.restore();this.pendingClip=null;this._cachedGetSinglePixelWidth=null}},transform:function e(t,r,n,a,i,o){this.ctx.transform(t,r,n,a,i,o);this._cachedGetSinglePixelWidth=null},constructPath:function e(t,r){var a=this.ctx;var i=this.current;var o=i.x,s=i.y;for(var u=0,l=0,c=t.length;u<c;u++){switch(t[u]|0){case n.OPS.rectangle:o=r[l++];s=r[l++];var f=r[l++];var h=r[l++];if(f===0){f=this.getSinglePixelWidth()}if(h===0){h=this.getSinglePixelWidth()}var d=o+f;var v=s+h;this.ctx.moveTo(o,s);this.ctx.lineTo(d,s);this.ctx.lineTo(d,v);this.ctx.lineTo(o,v);this.ctx.lineTo(o,s);this.ctx.closePath();break;case n.OPS.moveTo:o=r[l++];s=r[l++];a.moveTo(o,s);break;case n.OPS.lineTo:o=r[l++];s=r[l++];a.lineTo(o,s);break;case n.OPS.curveTo:o=r[l+4];s=r[l+5];a.bezierCurveTo(r[l],r[l+1],r[l+2],r[l+3],o,s);l+=6;break;case n.OPS.curveTo2:a.bezierCurveTo(o,s,r[l],r[l+1],r[l+2],r[l+3]);o=r[l+2];s=r[l+3];l+=4;break;case n.OPS.curveTo3:o=r[l+2];s=r[l+3];a.bezierCurveTo(r[l],r[l+1],o,s,o,s);l+=4;break;case n.OPS.closePath:a.closePath();break}}i.setCurrentPoint(o,s)},closePath:function e(){this.ctx.closePath()},stroke:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var a=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha;if(a&&a.hasOwnProperty("type")&&a.type==="Pattern"){r.save();var i=r.mozCurrentTransform;var o=n.Util.singularValueDecompose2dScale(i)[0];r.strokeStyle=a.getPattern(r,this);r.lineWidth=Math.max(this.getSinglePixelWidth()*u,this.current.lineWidth*o);r.stroke();r.restore()}else{r.lineWidth=Math.max(this.getSinglePixelWidth()*u,this.current.lineWidth);r.stroke()}if(t){this.consumePath()}r.globalAlpha=this.current.fillAlpha},closeStroke:function e(){this.closePath();this.stroke()},fill:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;var i=false;if(a){r.save();if(this.baseTransform){r.setTransform.apply(r,this.baseTransform)}r.fillStyle=n.getPattern(r,this);i=true}if(this.pendingEOFill){r.fill("evenodd");this.pendingEOFill=false}else{r.fill()}if(i){r.restore()}if(t){this.consumePath()}},eoFill:function e(){this.pendingEOFill=true;this.fill()},fillStroke:function e(){this.fill(false);this.stroke(false);this.consumePath()},eoFillStroke:function e(){this.pendingEOFill=true;this.fillStroke()},closeFillStroke:function e(){this.closePath();this.fillStroke()},closeEOFillStroke:function e(){this.pendingEOFill=true;this.closePath();this.fillStroke()},endPath:function e(){this.consumePath()},clip:function e(){this.pendingClip=E},eoClip:function e(){this.pendingClip=T},beginText:function e(){this.current.textMatrix=n.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function e(){var t=this.pendingTextPaths;var r=this.ctx;if(t===undefined){r.beginPath();return}r.save();r.beginPath();for(var n=0;n<t.length;n++){var a=t[n];r.setTransform.apply(r,a.transform);r.translate(a.x,a.y);a.addToPath(r,a.fontSize)}r.restore();r.clip();r.beginPath();delete this.pendingTextPaths},setCharSpacing:function e(t){this.current.charSpacing=t},setWordSpacing:function e(t){this.current.wordSpacing=t},setHScale:function e(t){this.current.textHScale=t/100},setLeading:function e(t){this.current.leading=-t},setFont:function e(t,r){var a=this.commonObjs.get(t);var s=this.current;if(!a){throw new Error("Can't find font for ".concat(t))}s.fontMatrix=a.fontMatrix?a.fontMatrix:n.FONT_IDENTITY_MATRIX;if(s.fontMatrix[0]===0||s.fontMatrix[3]===0){(0,n.warn)("Invalid font matrix for font "+t)}if(r<0){r=-r;s.fontDirection=-1}else{s.fontDirection=1}this.current.font=a;this.current.fontSize=r;if(a.isType3Font){return}var u=a.loadedName||"sans-serif";var l=a.black?"900":a.bold?"bold":"normal";var c=a.italic?"italic":"normal";var f='"'.concat(u,'", ').concat(a.fallbackName);var h=r<i?i:r>o?o:r;this.current.fontSizeScale=r/h;this.ctx.font="".concat(c," ").concat(l," ").concat(h,"px ").concat(f)},setTextRenderingMode:function e(t){this.current.textRenderingMode=t},setTextRise:function e(t){this.current.textRise=t},moveText:function e(t,r){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r},setLeadingMoveText:function e(t,r){this.setLeading(-r);this.moveText(t,r)},setTextMatrix:function e(t,r,n,a,i,o){this.current.textMatrix=[t,r,n,a,i,o];this.current.textMatrixScale=Math.sqrt(t*t+r*r);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function e(){this.moveText(0,this.current.leading)},paintChar:function e(t,r,a,i){var o=this.ctx;var s=this.current;var u=s.font;var l=s.textRenderingMode;var c=s.fontSize/s.fontSizeScale;var f=l&n.TextRenderingMode.FILL_STROKE_MASK;var h=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG);var d=s.patternFill&&u.data;var v;if(u.disableFontFace||h||d){v=u.getPathGenerator(this.commonObjs,t)}if(u.disableFontFace||d){o.save();o.translate(r,a);o.beginPath();v(o,c);if(i){o.setTransform.apply(o,i)}if(f===n.TextRenderingMode.FILL||f===n.TextRenderingMode.FILL_STROKE){o.fill()}if(f===n.TextRenderingMode.STROKE||f===n.TextRenderingMode.FILL_STROKE){o.stroke()}o.restore()}else{if(f===n.TextRenderingMode.FILL||f===n.TextRenderingMode.FILL_STROKE){o.fillText(t,r,a)}if(f===n.TextRenderingMode.STROKE||f===n.TextRenderingMode.FILL_STROKE){o.strokeText(t,r,a)}}if(h){var p=this.pendingTextPaths||(this.pendingTextPaths=[]);p.push({transform:o.mozCurrentTransform,x:r,y:a,fontSize:c,addToPath:v})}},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),t=e.context;t.scale(1.5,1);t.fillText("I",0,10);var r=t.getImageData(0,0,10,10).data;var a=false;for(var i=3;i<r.length;i+=4){if(r[i]>0&&r[i]<255){a=true;break}}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",a)},showText:function e(t){var r=this.current;var a=r.font;if(a.isType3Font){return this.showType3Text(t)}var i=r.fontSize;if(i===0){return undefined}var o=this.ctx;var s=r.fontSizeScale;var l=r.charSpacing;var c=r.wordSpacing;var f=r.fontDirection;var h=r.textHScale*f;var d=t.length;var v=a.vertical;var p=v?1:-1;var g=a.defaultVMetrics;var m=i*r.fontMatrix[0];var y=r.textRenderingMode===n.TextRenderingMode.FILL&&!a.disableFontFace&&!r.patternFill;o.save();var b;if(r.patternFill){o.save();var _=r.fillColor.getPattern(o,this);b=o.mozCurrentTransform;o.restore();o.fillStyle=_}o.transform.apply(o,r.textMatrix);o.translate(r.x,r.y+r.textRise);if(f>0){o.scale(h,-1)}else{o.scale(h,1)}var A=r.lineWidth;var S=r.textMatrixScale;if(S===0||A===0){var w=r.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(w===n.TextRenderingMode.STROKE||w===n.TextRenderingMode.FILL_STROKE){this._cachedGetSinglePixelWidth=null;A=this.getSinglePixelWidth()*u}}else{A/=S}if(s!==1){o.scale(s,s);A/=s}o.lineWidth=A;var k=0,x;for(x=0;x<d;++x){var C=t[x];if((0,n.isNum)(C)){k+=p*C*i/1e3;continue}var P=false;var R=(C.isSpace?c:0)+l;var E=C.fontChar;var T=C.accent;var O,L,F,I;var j=C.width;if(v){var M,N,D;M=C.vmetric||g;N=C.vmetric?M[1]:j*.5;N=-N*m;D=M[2]*m;j=M?-M[0]:j;O=N/s;L=(k+D)/s}else{O=k/s;L=0}if(a.remeasure&&j>0){var q=o.measureText(E).width*1e3/i*s;if(j<q&&this.isFontSubpixelAAEnabled){var U=j/q;P=true;o.save();o.scale(U,1);O/=U}else if(j!==q){O+=(j-q)/2e3*i/s}}if(C.isInFont||a.missingFile){if(y&&!T){o.fillText(E,O,L)}else{this.paintChar(E,O,L,b);if(T){F=O+T.offset.x/s;I=L-T.offset.y/s;this.paintChar(T.fontChar,F,I,b)}}}var W=j*m+R*f;k+=W;if(P){o.restore()}}if(v){r.y-=k*h}else{r.x+=k*h}o.restore()},showType3Text:function e(t){var r=this.ctx;var a=this.current;var i=a.font;var o=a.fontSize;var s=a.fontDirection;var u=i.vertical?1:-1;var l=a.charSpacing;var c=a.wordSpacing;var f=a.textHScale*s;var h=a.fontMatrix||n.FONT_IDENTITY_MATRIX;var d=t.length;var v=a.textRenderingMode===n.TextRenderingMode.INVISIBLE;var p,g,m,y;if(v||o===0){return}this._cachedGetSinglePixelWidth=null;r.save();r.transform.apply(r,a.textMatrix);r.translate(a.x,a.y);r.scale(f,s);for(p=0;p<d;++p){g=t[p];if((0,n.isNum)(g)){y=u*g*o/1e3;this.ctx.translate(y,0);a.x+=y*f;continue}var b=(g.isSpace?c:0)+l;var _=i.charProcOperatorList[g.operatorListId];if(!_){(0,n.warn)('Type3 character "'.concat(g.operatorListId,'" is not available.'));continue}this.processingType3=g;this.save();r.scale(o,o);r.transform.apply(r,h);this.executeOperatorList(_);this.restore();var A=n.Util.applyTransform([g.width,0],h);m=A[0]*o+b;r.translate(m,0);a.x+=m*f}r.restore();this.processingType3=null},setCharWidth:function e(t,r){},setCharWidthAndBounds:function e(t,r,n,a,i,o){this.ctx.rect(n,a,i-n,o-a);this.clip();this.endPath()},getColorN_Pattern:function e(t){var r=this;var n;if(t[0]==="TilingPattern"){var i=t[1];var o=this.baseTransform||this.ctx.mozCurrentTransform.slice();var s={createCanvasGraphics:function e(t){return new m(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};n=new a.TilingPattern(t,i,this.ctx,s,o)}else{n=(0,a.getShadingPatternFromIR)(t)}return n},setStrokeColorN:function e(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function e(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=true},setStrokeRGBColor:function e(t,r,a){var i=n.Util.makeCssRgb(t,r,a);this.ctx.strokeStyle=i;this.current.strokeColor=i},setFillRGBColor:function e(t,r,a){var i=n.Util.makeCssRgb(t,r,a);this.ctx.fillStyle=i;this.current.fillColor=i;this.current.patternFill=false},shadingFill:function e(t){var r=this.ctx;this.save();var i=(0,a.getShadingPatternFromIR)(t);r.fillStyle=i.getPattern(r,this,true);var o=r.mozCurrentTransformInverse;if(o){var s=r.canvas;var u=s.width;var l=s.height;var c=n.Util.applyTransform([0,0],o);var f=n.Util.applyTransform([0,l],o);var h=n.Util.applyTransform([u,0],o);var d=n.Util.applyTransform([u,l],o);var v=Math.min(c[0],f[0],h[0],d[0]);var p=Math.min(c[1],f[1],h[1],d[1]);var g=Math.max(c[0],f[0],h[0],d[0]);var m=Math.max(c[1],f[1],h[1],d[1]);this.ctx.fillRect(v,p,g-v,m-p)}else{this.ctx.fillRect(-1e10,-1e10,2e10,2e10)}this.restore()},beginInlineImage:function e(){(0,n.unreachable)("Should not call beginInlineImage")},beginImageData:function e(){(0,n.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function e(t,r){this.save();this.baseTransformStack.push(this.baseTransform);if(Array.isArray(t)&&t.length===6){this.transform.apply(this,t)}this.baseTransform=this.ctx.mozCurrentTransform;if(r){var n=r[2]-r[0];var a=r[3]-r[1];this.ctx.rect(r[0],r[1],n,a);this.clip();this.endPath()}},paintFormXObjectEnd:function e(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function e(t){this.save();var r=this.ctx;if(!t.isolated){(0,n.info)("TODO: Support non-isolated groups.")}if(t.knockout){(0,n.warn)("Knockout groups not supported.")}var a=r.mozCurrentTransform;if(t.matrix){r.transform.apply(r,t.matrix)}if(!t.bbox){throw new Error("Bounding box is required.")}var i=n.Util.getAxialAlignedBoundingBox(t.bbox,r.mozCurrentTransform);var o=[0,0,r.canvas.width,r.canvas.height];i=n.Util.intersect(i,o)||[0,0,0,0];var u=Math.floor(i[0]);var l=Math.floor(i[1]);var c=Math.max(Math.ceil(i[2])-u,1);var f=Math.max(Math.ceil(i[3])-l,1);var h=1,d=1;if(c>s){h=c/s;c=s}if(f>s){d=f/s;f=s}var v="groupAt"+this.groupLevel;if(t.smask){v+="_smask_"+this.smaskCounter++%2}var p=this.cachedCanvases.getCanvas(v,c,f,true);var g=p.context;g.scale(1/h,1/d);g.translate(-u,-l);g.transform.apply(g,a);if(t.smask){this.smaskStack.push({canvas:p.canvas,context:g,offsetX:u,offsetY:l,scaleX:h,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null})}else{r.setTransform(1,0,0,1,0,0);r.translate(u,l);r.scale(h,d)}_(r,g);this.ctx=g;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push(r);this.groupLevel++;this.current.activeSMask=null},endGroup:function e(t){this.groupLevel--;var r=this.ctx;this.ctx=this.groupStack.pop();if(this.ctx.imageSmoothingEnabled!==undefined){this.ctx.imageSmoothingEnabled=false}else{this.ctx.mozImageSmoothingEnabled=false}if(t.smask){this.tempSMask=this.smaskStack.pop()}else{this.ctx.drawImage(r.canvas,0,0)}this.restore()},beginAnnotations:function e(){this.save();if(this.baseTransform){this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},endAnnotations:function e(){this.restore()},beginAnnotation:function e(t,r,n){this.save();A(this.ctx);this.current=new g;if(Array.isArray(t)&&t.length===4){var a=t[2]-t[0];var i=t[3]-t[1];this.ctx.rect(t[0],t[1],a,i);this.clip();this.endPath()}this.transform.apply(this,r);this.transform.apply(this,n)},endAnnotation:function e(){this.restore()},paintJpegXObject:function e(t,r,a){var i=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(!i){(0,n.warn)("Dependent image isn't ready yet");return}this.save();var o=this.ctx;o.scale(1/r,-1/a);o.drawImage(i,0,0,i.width,i.height,0,-a,r,a);if(this.imageLayer){var s=o.mozCurrentTransformInverse;var u=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:u[0],top:u[1],width:r/s[0],height:a/s[3]})}this.restore()},paintImageMaskXObject:function e(t){var r=this.ctx;var n=t.width,a=t.height;var i=this.current.fillColor;var o=this.current.patternFill;var s=this.processingType3;if(l&&s&&s.compiled===undefined){if(n<=c&&a<=c){s.compiled=p({data:t.data,width:n,height:a})}else{s.compiled=null}}if(s&&s.compiled){s.compiled(r);return}var u=this.cachedCanvases.getCanvas("maskCanvas",n,a);var f=u.context;f.save();b(f,t);f.globalCompositeOperation="source-in";f.fillStyle=o?i.getPattern(f,this):i;f.fillRect(0,0,n,a);f.restore();this.paintInlineImageXObject(u.canvas)},paintImageMaskXObjectRepeat:function e(t,r,n,a){var i=t.width;var o=t.height;var s=this.current.fillColor;var u=this.current.patternFill;var l=this.cachedCanvases.getCanvas("maskCanvas",i,o);var c=l.context;c.save();b(c,t);c.globalCompositeOperation="source-in";c.fillStyle=u?s.getPattern(c,this):s;c.fillRect(0,0,i,o);c.restore();var f=this.ctx;for(var h=0,d=a.length;h<d;h+=2){f.save();f.transform(r,0,0,n,a[h],a[h+1]);f.scale(1,-1);f.drawImage(l.canvas,0,0,i,o,0,-1,1,1);f.restore()}},paintImageMaskXObjectGroup:function e(t){var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;for(var i=0,o=t.length;i<o;i++){var s=t[i];var u=s.width,l=s.height;var c=this.cachedCanvases.getCanvas("maskCanvas",u,l);var f=c.context;f.save();b(f,s);f.globalCompositeOperation="source-in";f.fillStyle=a?n.getPattern(f,this):n;f.fillRect(0,0,u,l);f.restore();r.save();r.transform.apply(r,s.transform);r.scale(1,-1);r.drawImage(c.canvas,0,0,u,l,0,-1,1,1);r.restore()}},paintImageXObject:function e(t){var r=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(!r){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)},paintImageXObjectRepeat:function e(t,r,a,i){var o=this.processingType3?this.commonObjs.get(t):this.objs.get(t);if(!o){(0,n.warn)("Dependent image isn't ready yet");return}var s=o.width;var u=o.height;var l=[];for(var c=0,f=i.length;c<f;c+=2){l.push({transform:[r,0,0,a,i[c],i[c+1]],x:0,y:0,w:s,h:u})}this.paintInlineImageXObjectGroup(o,l)},paintInlineImageXObject:function e(t){var r=t.width;var n=t.height;var a=this.ctx;this.save();a.scale(1/r,-1/n);var i=a.mozCurrentTransformInverse;var o=i[0],s=i[1];var u=Math.max(Math.sqrt(o*o+s*s),1);var l=i[2],c=i[3];var f=Math.max(Math.sqrt(l*l+c*c),1);var h,d;if(typeof HTMLElement==="function"&&t instanceof HTMLElement||!t.data){h=t}else{d=this.cachedCanvases.getCanvas("inlineImage",r,n);var v=d.context;y(v,t);h=d.canvas}var p=r,g=n;var m="prescale1";while(u>2&&p>1||f>2&&g>1){var b=p,_=g;if(u>2&&p>1){b=Math.ceil(p/2);u/=p/b}if(f>2&&g>1){_=Math.ceil(g/2);f/=g/_}d=this.cachedCanvases.getCanvas(m,b,_);v=d.context;v.clearRect(0,0,b,_);v.drawImage(h,0,0,p,g,0,0,b,_);h=d.canvas;p=b;g=_;m=m==="prescale1"?"prescale2":"prescale1"}a.drawImage(h,0,0,p,g,0,-n,r,n);if(this.imageLayer){var A=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:A[0],top:A[1],width:r/i[0],height:n/i[3]})}this.restore()},paintInlineImageXObjectGroup:function e(t,r){var n=this.ctx;var a=t.width;var i=t.height;var o=this.cachedCanvases.getCanvas("inlineImage",a,i);var s=o.context;y(s,t);for(var u=0,l=r.length;u<l;u++){var c=r[u];n.save();n.transform.apply(n,c.transform);n.scale(1,-1);n.drawImage(o.canvas,c.x,c.y,c.w,c.h,0,-1,1,1);if(this.imageLayer){var f=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:t,left:f[0],top:f[1],width:a,height:i})}n.restore()}},paintSolidColorImageMask:function e(){this.ctx.fillRect(0,0,1,1)},paintXObject:function e(){(0,n.warn)("Unsupported 'paintXObject' command.")},markPoint:function e(t){},markPointProps:function e(t,r){},beginMarkedContent:function e(t){},beginMarkedContentProps:function e(t,r){},endMarkedContent:function e(){},beginCompat:function e(){},endCompat:function e(){},consumePath:function e(){var t=this.ctx;if(this.pendingClip){if(this.pendingClip===T){t.clip("evenodd")}else{t.clip()}this.pendingClip=null}t.beginPath()},getSinglePixelWidth:function e(t){if(this._cachedGetSinglePixelWidth===null){var r=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function e(t,r){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*r+n[4],n[1]*t+n[3]*r+n[5]]}};for(var O in n.OPS){m.prototype[n.OPS[O]]=m.prototype[O]}return m}();t.CanvasGraphics=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getShadingPatternFromIR=s;t.TilingPattern=void 0;var n=r(1);var a={};function i(e,t){if(!t||typeof Path2D==="undefined"){return}var r=t[2]-t[0];var n=t[3]-t[1];var a=new Path2D;a.rect(t[0],t[1],r,n);e.clip(a)}a.RadialAxial={fromIR:function e(t){var r=t[1];var n=t[2];var a=t[3];var o=t[4];var s=t[5];var u=t[6];var l=t[7];return{type:"Pattern",getPattern:function e(t){i(t,n);var c;if(r==="axial"){c=t.createLinearGradient(o[0],o[1],s[0],s[1])}else if(r==="radial"){c=t.createRadialGradient(o[0],o[1],u,s[0],s[1],l)}for(var f=0,h=a.length;f<h;++f){var d=a[f];c.addColorStop(d[0],d[1])}return c}}}};var o=function e(){function t(e,t,r,n,a,i,o,s){var u=t.coords,l=t.colors;var c=e.data,f=e.width*4;var h;if(u[r+1]>u[n+1]){h=r;r=n;n=h;h=i;i=o;o=h}if(u[n+1]>u[a+1]){h=n;n=a;a=h;h=o;o=s;s=h}if(u[r+1]>u[n+1]){h=r;r=n;n=h;h=i;i=o;o=h}var d=(u[r]+t.offsetX)*t.scaleX;var v=(u[r+1]+t.offsetY)*t.scaleY;var p=(u[n]+t.offsetX)*t.scaleX;var g=(u[n+1]+t.offsetY)*t.scaleY;var m=(u[a]+t.offsetX)*t.scaleX;var y=(u[a+1]+t.offsetY)*t.scaleY;if(v>=y){return}var b=l[i],_=l[i+1],A=l[i+2];var S=l[o],w=l[o+1],k=l[o+2];var x=l[s],C=l[s+1],P=l[s+2];var R=Math.round(v),E=Math.round(y);var T,O,L,F;var I,j,M,N;var D;for(var q=R;q<=E;q++){if(q<g){D=q<v?0:v===g?1:(v-q)/(v-g);T=d-(d-p)*D;O=b-(b-S)*D;L=_-(_-w)*D;F=A-(A-k)*D}else{D=q>y?1:g===y?0:(g-q)/(g-y);T=p-(p-m)*D;O=S-(S-x)*D;L=w-(w-C)*D;F=k-(k-P)*D}D=q<v?0:q>y?1:(v-q)/(v-y);I=d-(d-m)*D;j=b-(b-x)*D;M=_-(_-C)*D;N=A-(A-P)*D;var U=Math.round(Math.min(T,I));var W=Math.round(Math.max(T,I));var B=f*q+U*4;for(var z=U;z<=W;z++){D=(T-z)/(T-I);D=D<0?0:D>1?1:D;c[B++]=O-(O-j)*D|0;c[B++]=L-(L-M)*D|0;c[B++]=F-(F-N)*D|0;c[B++]=255}}}function r(e,r,n){var a=r.coords;var i=r.colors;var o,s;switch(r.type){case"lattice":var u=r.verticesPerRow;var l=Math.floor(a.length/u)-1;var c=u-1;for(o=0;o<l;o++){var f=o*u;for(var h=0;h<c;h++,f++){t(e,n,a[f],a[f+1],a[f+u],i[f],i[f+1],i[f+u]);t(e,n,a[f+u+1],a[f+1],a[f+u],i[f+u+1],i[f+1],i[f+u])}}break;case"triangles":for(o=0,s=a.length;o<s;o+=3){t(e,n,a[o],a[o+1],a[o+2],i[o],i[o+1],i[o+2])}break;default:throw new Error("illegal figure")}}function n(e,t,n,a,i,o,s,u){var l=1.1;var c=3e3;var f=2;var h=Math.floor(e[0]);var d=Math.floor(e[1]);var v=Math.ceil(e[2])-h;var p=Math.ceil(e[3])-d;var g=Math.min(Math.ceil(Math.abs(v*t[0]*l)),c);var m=Math.min(Math.ceil(Math.abs(p*t[1]*l)),c);var y=v/g;var b=p/m;var _={coords:n,colors:a,offsetX:-h,offsetY:-d,scaleX:1/y,scaleY:1/b};var A=g+f*2;var S=m+f*2;var w,k,x,C;if(u.isEnabled){w=u.drawFigures({width:g,height:m,backgroundColor:o,figures:i,context:_});k=s.getCanvas("mesh",A,S,false);k.context.drawImage(w,f,f);w=k.canvas}else{k=s.getCanvas("mesh",A,S,false);var P=k.context;var R=P.createImageData(g,m);if(o){var E=R.data;for(x=0,C=E.length;x<C;x+=4){E[x]=o[0];E[x+1]=o[1];E[x+2]=o[2];E[x+3]=255}}for(x=0;x<i.length;x++){r(R,i[x],_)}P.putImageData(R,f,f);w=k.canvas}return{canvas:w,offsetX:h-f*y,offsetY:d-f*b,scaleX:y,scaleY:b}}return n}();a.Mesh={fromIR:function e(t){var r=t[2];var a=t[3];var s=t[4];var u=t[5];var l=t[6];var c=t[7];var f=t[8];return{type:"Pattern",getPattern:function e(t,h,d){i(t,c);var v;if(d){v=n.Util.singularValueDecompose2dScale(t.mozCurrentTransform)}else{v=n.Util.singularValueDecompose2dScale(h.baseTransform);if(l){var p=n.Util.singularValueDecompose2dScale(l);v=[v[0]*p[0],v[1]*p[1]]}}var g=o(u,v,r,a,s,d?null:f,h.cachedCanvases,h.webGLContext);if(!d){t.setTransform.apply(t,h.baseTransform);if(l){t.transform.apply(t,l)}}t.translate(g.offsetX,g.offsetY);t.scale(g.scaleX,g.scaleY);return t.createPattern(g.canvas,"no-repeat")}}}};a.Dummy={fromIR:function e(){return{type:"Pattern",getPattern:function e(){return"hotpink"}}}};function s(e){var t=a[e[0]];if(!t){throw new Error("Unknown IR type: ".concat(e[0]))}return t.fromIR(e)}var u=function e(){var t={COLORED:1,UNCOLORED:2};var r=3e3;function a(e,t,r,n,a){this.operatorList=e[2];this.matrix=e[3]||[1,0,0,1,0,0];this.bbox=e[4];this.xstep=e[5];this.ystep=e[6];this.paintType=e[7];this.tilingType=e[8];this.color=t;this.canvasGraphicsFactory=n;this.baseTransform=a;this.type="Pattern";this.ctx=r}a.prototype={createPatternCanvas:function e(t){var r=this.operatorList;var a=this.bbox;var i=this.xstep;var o=this.ystep;var s=this.paintType;var u=this.tilingType;var l=this.color;var c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+u);var f=a[0],h=a[1],d=a[2],v=a[3];var p=n.Util.singularValueDecompose2dScale(this.matrix);var g=n.Util.singularValueDecompose2dScale(this.baseTransform);var m=[p[0]*g[0],p[1]*g[1]];var y=this.getSizeAndScale(i,this.ctx.canvas.width,m[0]);var b=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]);var _=t.cachedCanvases.getCanvas("pattern",y.size,b.size,true);var A=_.context;var S=c.createCanvasGraphics(A);S.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(S,s,l);S.transform(y.scale,0,0,b.scale,0,0);S.transform(1,0,0,1,-f,-h);this.clipBbox(S,a,f,h,d,v);S.executeOperatorList(r);this.ctx.transform(1,0,0,1,f,h);this.ctx.scale(1/y.scale,1/b.scale);return _.canvas},getSizeAndScale:function e(t,n,a){t=Math.abs(t);var i=Math.max(r,n);var o=Math.ceil(t*a);if(o>=i){o=i}else{a=o/t}return{scale:a,size:o}},clipBbox:function e(t,r,n,a,i,o){if(Array.isArray(r)&&r.length===4){var s=i-n;var u=o-a;t.ctx.rect(n,a,s,u);t.clip();t.endPath()}},setFillAndStrokeStyleToContext:function e(r,a,i){var o=r.ctx,s=r.current;switch(a){case t.COLORED:var u=this.ctx;o.fillStyle=u.fillStyle;o.strokeStyle=u.strokeStyle;s.fillColor=u.fillStyle;s.strokeColor=u.strokeStyle;break;case t.UNCOLORED:var l=n.Util.makeCssRgb(i[0],i[1],i[2]);o.fillStyle=l;o.strokeStyle=l;s.fillColor=l;s.strokeColor=l;break;default:throw new n.FormatError("Unsupported paint type: ".concat(a))}},getPattern:function e(t,r){t=this.ctx;t.setTransform.apply(t,this.baseTransform);t.transform.apply(t,this.matrix);var n=this.createPatternCanvas(r);return t.createPattern(n,"repeat")}};return a}();t.TilingPattern=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GlobalWorkerOptions=void 0;var n=Object.create(null);t.GlobalWorkerOptions=n;n.workerPort=n.workerPort===undefined?null:n.workerPort;n.workerSrc=n.workerSrc===undefined?"":n.workerSrc},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MessageHandler=s;var n=r(1);function a(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function e(t){return typeof t}}else{a=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return a(e)}var i={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(e){if(a(e)!=="object"){return e}switch(e.name){case"AbortException":return new n.AbortException(e.message);case"MissingPDFException":return new n.MissingPDFException(e.message);case"UnexpectedResponseException":return new n.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new n.UnknownErrorException(e.message,e.details);default:return new n.UnknownErrorException(e.message,e.toString())}}function s(e,t,r){var n=this;this.sourceName=e;this.targetName=t;this.comObj=r;this.callbackId=1;this.streamId=1;this.postMessageTransfers=true;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var a=this.callbacksCapabilities=Object.create(null);var i=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName!==n.sourceName){return}if(t.stream){n._processStreamMessage(t)}else if(t.isReply){var s=t.callbackId;if(t.callbackId in a){var u=a[s];delete a[s];if("reason"in t){u.reject(o(t.reason))}else{u.resolve(t.data)}}else{throw new Error("Cannot resolve callback ".concat(s))}}else if(t.action in i){var l=i[t.action];if(t.callbackId){var c=n.sourceName;var f=t.sourceName;new Promise(function(e){e(l(t.data))}).then(function(e){r.postMessage({sourceName:c,targetName:f,isReply:true,callbackId:t.callbackId,data:e})},function(e){r.postMessage({sourceName:c,targetName:f,isReply:true,callbackId:t.callbackId,reason:o(e)})})}else if(t.streamId){n._createStreamSink(t)}else{l(t.data)}}else{throw new Error("Unknown action from worker: ".concat(t.action))}};r.addEventListener("message",this._onComObjOnMessage)}s.prototype={on:function e(t,r){var n=this.actionHandler;if(n[t]){throw new Error('There is already an actionName called "'.concat(t,'"'))}n[t]=r},send:function e(t,r,n){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:r},n)},sendWithPromise:function e(t,r,a){var i=this.callbackId++;var o=(0,n.createPromiseCapability)();this.callbacksCapabilities[i]=o;try{this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:r},a)}catch(e){o.reject(e)}return o.promise},sendWithStream:function e(t,r,a,s){var u=this;var l=this.streamId++;var c=this.sourceName;var f=this.targetName;var h=this.comObj;return new n.ReadableStream({start:function e(a){var i=(0,n.createPromiseCapability)();u.streamControllers[l]={controller:a,startCall:i,pullCall:null,cancelCall:null,isClosed:false};u.postMessage({sourceName:c,targetName:f,action:t,streamId:l,data:r,desiredSize:a.desiredSize},s);return i.promise},pull:function e(t){var r=(0,n.createPromiseCapability)();u.streamControllers[l].pullCall=r;h.postMessage({sourceName:c,targetName:f,stream:i.PULL,streamId:l,desiredSize:t.desiredSize});return r.promise},cancel:function e(t){(0,n.assert)(t instanceof Error,"cancel must have a valid reason");var r=(0,n.createPromiseCapability)();u.streamControllers[l].cancelCall=r;u.streamControllers[l].isClosed=true;h.postMessage({sourceName:c,targetName:f,stream:i.CANCEL,streamId:l,reason:o(t)});return r.promise}},a)},_createStreamSink:function e(t){var r=this;var a=this.actionHandler[t.action];var s=t.streamId;var u=t.desiredSize;var l=this.sourceName;var c=t.sourceName;var f=(0,n.createPromiseCapability)();var h=this.comObj;var d={enqueue:function e(t){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o=arguments.length>2?arguments[2]:undefined;if(this.isCancelled){return}var u=this.desiredSize;this.desiredSize-=a;if(u>0&&this.desiredSize<=0){this.sinkCapability=(0,n.createPromiseCapability)();this.ready=this.sinkCapability.promise}r.postMessage({sourceName:l,targetName:c,stream:i.ENQUEUE,streamId:s,chunk:t},o)},close:function e(){if(this.isCancelled){return}this.isCancelled=true;h.postMessage({sourceName:l,targetName:c,stream:i.CLOSE,streamId:s});delete r.streamSinks[s]},error:function e(t){(0,n.assert)(t instanceof Error,"error must have a valid reason");if(this.isCancelled){return}this.isCancelled=true;h.postMessage({sourceName:l,targetName:c,stream:i.ERROR,streamId:s,reason:o(t)})},sinkCapability:f,onPull:null,onCancel:null,isCancelled:false,desiredSize:u,ready:null};d.sinkCapability.resolve();d.ready=d.sinkCapability.promise;this.streamSinks[s]=d;new Promise(function(e){e(a(t.data,d))}).then(function(){h.postMessage({sourceName:l,targetName:c,stream:i.START_COMPLETE,streamId:s,success:true})},function(e){h.postMessage({sourceName:l,targetName:c,stream:i.START_COMPLETE,streamId:s,reason:o(e)})})},_processStreamMessage:function e(t){var r=this;var a=this.sourceName;var s=t.sourceName;var u=t.streamId;var l=this.comObj;var c=function e(){Promise.all([r.streamControllers[u].startCall,r.streamControllers[u].pullCall,r.streamControllers[u].cancelCall].map(function(e){return e&&e.promise["catch"](function(){})})).then(function(){delete r.streamControllers[u]})};switch(t.stream){case i.START_COMPLETE:if(t.success){this.streamControllers[u].startCall.resolve()}else{this.streamControllers[u].startCall.reject(o(t.reason))}break;case i.PULL_COMPLETE:if(t.success){this.streamControllers[u].pullCall.resolve()}else{this.streamControllers[u].pullCall.reject(o(t.reason))}break;case i.PULL:if(!this.streamSinks[u]){l.postMessage({sourceName:a,targetName:s,stream:i.PULL_COMPLETE,streamId:u,success:true});break}if(this.streamSinks[u].desiredSize<=0&&t.desiredSize>0){this.streamSinks[u].sinkCapability.resolve()}this.streamSinks[u].desiredSize=t.desiredSize;var f=this.streamSinks[t.streamId].onPull;new Promise(function(e){e(f&&f())}).then(function(){l.postMessage({sourceName:a,targetName:s,stream:i.PULL_COMPLETE,streamId:u,success:true})},function(e){l.postMessage({sourceName:a,targetName:s,stream:i.PULL_COMPLETE,streamId:u,reason:o(e)})});break;case i.ENQUEUE:(0,n.assert)(this.streamControllers[u],"enqueue should have stream controller");if(this.streamControllers[u].isClosed){break}this.streamControllers[u].controller.enqueue(t.chunk);break;case i.CLOSE:(0,n.assert)(this.streamControllers[u],"close should have stream controller");if(this.streamControllers[u].isClosed){break}this.streamControllers[u].isClosed=true;this.streamControllers[u].controller.close();c();break;case i.ERROR:(0,n.assert)(this.streamControllers[u],"error should have stream controller");this.streamControllers[u].controller.error(o(t.reason));c();break;case i.CANCEL_COMPLETE:if(t.success){this.streamControllers[u].cancelCall.resolve()}else{this.streamControllers[u].cancelCall.reject(o(t.reason))}c();break;case i.CANCEL:if(!this.streamSinks[u]){break}var h=this.streamSinks[t.streamId].onCancel;new Promise(function(e){e(h&&h(o(t.reason)))}).then(function(){l.postMessage({sourceName:a,targetName:s,stream:i.CANCEL_COMPLETE,streamId:u,success:true})},function(e){l.postMessage({sourceName:a,targetName:s,stream:i.CANCEL_COMPLETE,streamId:u,reason:o(e)})});this.streamSinks[u].sinkCapability.reject(o(t.reason));this.streamSinks[u].isCancelled=true;delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}},postMessage:function e(t,r){if(r&&this.postMessageTransfers){this.comObj.postMessage(t,r)}else{this.comObj.postMessage(t)}},destroy:function e(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Metadata=void 0;var n=r(1);var a=r(191);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=function(){function e(t){i(this,e);(0,n.assert)(typeof t==="string","Metadata: input is not a string");t=this._repair(t);var r=new a.SimpleXMLParser;var o=r.parseFromString(t);this._metadata=Object.create(null);if(o){this._parse(o)}}s(e,[{key:"_repair",value:function e(t){return t.replace(/^([^<]+)/,"").replace(/>\\376\\377([^<]+)/g,function(e,t){var r=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,r,n){return String.fromCharCode(t*64+r*8+n*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))});var n="";for(var a=0,i=r.length;a<i;a+=2){var o=r.charCodeAt(a)*256+r.charCodeAt(a+1);if(o>=32&&o<127&&o!==60&&o!==62&&o!==38){n+=String.fromCharCode(o)}else{n+="&#x"+(65536+o).toString(16).substring(1)+";"}}return">"+n})}},{key:"_parse",value:function e(t){var r=t.documentElement;if(r.nodeName.toLowerCase()!=="rdf:rdf"){r=r.firstChild;while(r&&r.nodeName.toLowerCase()!=="rdf:rdf"){r=r.nextSibling}}var n=r?r.nodeName.toLowerCase():null;if(!r||n!=="rdf:rdf"||!r.hasChildNodes()){return}var a=r.childNodes;for(var i=0,o=a.length;i<o;i++){var s=a[i];if(s.nodeName.toLowerCase()!=="rdf:description"){continue}for(var u=0,l=s.childNodes.length;u<l;u++){if(s.childNodes[u].nodeName.toLowerCase()!=="#text"){var c=s.childNodes[u];var f=c.nodeName.toLowerCase();this._metadata[f]=c.textContent.trim()}}}}},{key:"get",value:function e(t){var r=this._metadata[t];return typeof r!=="undefined"?r:null}},{key:"getAll",value:function e(){return this._metadata}},{key:"has",value:function e(t){return typeof this._metadata[t]!=="undefined"}}]);return e}();t.Metadata=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SimpleXMLParser=void 0;function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}function a(e,t){return s(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function s(e){if(Array.isArray(e))return e}function u(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){c=Reflect.get}else{c=function e(t,r,n){var a=f(t,r);if(!a)return;var i=Object.getOwnPropertyDescriptor(a,r);if(i.get){return i.get.call(n)}return i.value}}return c(e,t,r||e)}function f(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=h(e);if(e===null)break}return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return v(e,t)}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}var y={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function b(e,t){var r=e[t];return r===" "||r==="\n"||r==="\r"||r==="\t"}function _(e){for(var t=0,r=e.length;t<r;t++){if(!b(e,t)){return false}}return true}var A=function(){function e(){p(this,e)}m(e,[{key:"_resolveEntities",value:function e(t){var r=this;return t.replace(/&([^;]+);/g,function(e,t){if(t.substring(0,2)==="#x"){return String.fromCharCode(parseInt(t.substring(2),16))}else if(t.substring(0,1)==="#"){return String.fromCharCode(parseInt(t.substring(1),10))}switch(t){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return r.onResolveEntity(t)})}},{key:"_parseContent",value:function e(t,r){var n=r,a,i=[];function o(){while(n<t.length&&b(t,n)){++n}}while(n<t.length&&!b(t,n)&&t[n]!==">"&&t[n]!=="/"){++n}a=t.substring(r,n);o();while(n<t.length&&t[n]!==">"&&t[n]!=="/"&&t[n]!=="?"){o();var s="",u="";while(n<t.length&&!b(t,n)&&t[n]!=="="){s+=t[n];++n}o();if(t[n]!=="="){return null}++n;o();var l=t[n];if(l!=='"'&&l!=="'"){return null}var c=t.indexOf(l,++n);if(c<0){return null}u=t.substring(n,c);i.push({name:s,value:this._resolveEntities(u)});n=c+1;o()}return{name:a,attributes:i,parsed:n-r}}},{key:"_parseProcessingInstruction",value:function e(t,r){var n=r,a,i;function o(){while(n<t.length&&b(t,n)){++n}}while(n<t.length&&!b(t,n)&&t[n]!==">"&&t[n]!=="/"){++n}a=t.substring(r,n);o();var s=n;while(n<t.length&&(t[n]!=="?"||t[n+1]!==">")){++n}i=t.substring(s,n);return{name:a,value:i,parsed:n-r}}},{key:"parseXml",value:function e(t){var r=0;while(r<t.length){var n=t[r];var a=r;if(n==="<"){++a;var i=t[a];var o=void 0;switch(i){case"/":++a;o=t.indexOf(">",a);if(o<0){this.onError(y.UnterminatedElement);return}this.onEndElement(t.substring(a,o));a=o+1;break;case"?":++a;var s=this._parseProcessingInstruction(t,a);if(t.substring(a+s.parsed,a+s.parsed+2)!=="?>"){this.onError(y.UnterminatedXmlDeclaration);return}this.onPi(s.name,s.value);a+=s.parsed+2;break;case"!":if(t.substring(a+1,a+3)==="--"){o=t.indexOf("--\x3e",a+3);if(o<0){this.onError(y.UnterminatedComment);return}this.onComment(t.substring(a+3,o));a=o+3}else if(t.substring(a+1,a+8)==="[CDATA["){o=t.indexOf("]]>",a+8);if(o<0){this.onError(y.UnterminatedCdat);return}this.onCdata(t.substring(a+8,o));a=o+3}else if(t.substring(a+1,a+8)==="DOCTYPE"){var u=t.indexOf("[",a+8);var l=false;o=t.indexOf(">",a+8);if(o<0){this.onError(y.UnterminatedDoctypeDeclaration);return}if(u>0&&o>u){o=t.indexOf("]>",a+8);if(o<0){this.onError(y.UnterminatedDoctypeDeclaration);return}l=true}var c=t.substring(a+8,o+(l?1:0));this.onDoctype(c);a=o+(l?2:1)}else{this.onError(y.MalformedElement);return}break;default:var f=this._parseContent(t,a);if(f===null){this.onError(y.MalformedElement);return}var h=false;if(t.substring(a+f.parsed,a+f.parsed+2)==="/>"){h=true}else if(t.substring(a+f.parsed,a+f.parsed+1)!==">"){this.onError(y.UnterminatedElement);return}this.onBeginElement(f.name,f.attributes,h);a+=f.parsed+(h?2:1);break}}else{while(a<t.length&&t[a]!=="<"){a++}var d=t.substring(r,a);this.onText(this._resolveEntities(d))}r=a}}},{key:"onResolveEntity",value:function e(t){return"&".concat(t,";")}},{key:"onPi",value:function e(t,r){}},{key:"onComment",value:function e(t){}},{key:"onCdata",value:function e(t){}},{key:"onDoctype",value:function e(t){}},{key:"onText",value:function e(t){}},{key:"onBeginElement",value:function e(t,r,n){}},{key:"onEndElement",value:function e(t){}},{key:"onError",value:function e(t){}}]);return e}();var S=function(){function e(t,r){p(this,e);this.nodeName=t;this.nodeValue=r;Object.defineProperty(this,"parentNode",{value:null,writable:true})}m(e,[{key:"hasChildNodes",value:function e(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function e(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function e(){var t=this.parentNode.childNodes;if(!t){return undefined}var r=t.indexOf(this);if(r===-1){return undefined}return t[r+1]}},{key:"textContent",get:function e(){if(!this.childNodes){return this.nodeValue||""}return this.childNodes.map(function(e){return e.textContent}).join("")}}]);return e}();var w=function(e){d(t,e);function t(){var e;p(this,t);e=u(this,h(t).call(this));e._currentFragment=null;e._stack=null;e._errorCode=y.NoError;return e}m(t,[{key:"parseFromString",value:function e(t){this._currentFragment=[];this._stack=[];this._errorCode=y.NoError;this.parseXml(t);if(this._errorCode!==y.NoError){return undefined}var r=a(this._currentFragment,1),n=r[0];if(!n){return undefined}return{documentElement:n}}},{key:"onResolveEntity",value:function e(r){switch(r){case"apos":return"'"}return c(h(t.prototype),"onResolveEntity",this).call(this,r)}},{key:"onText",value:function e(t){if(_(t)){return}var r=new S("#text",t);this._currentFragment.push(r)}},{key:"onCdata",value:function e(t){var r=new S("#text",t);this._currentFragment.push(r)}},{key:"onBeginElement",value:function e(t,r,n){var a=new S(t);a.childNodes=[];this._currentFragment.push(a);if(n){return}this._stack.push(this._currentFragment);this._currentFragment=a.childNodes}},{key:"onEndElement",value:function e(t){this._currentFragment=this._stack.pop()||[];var r=this._currentFragment[this._currentFragment.length-1];if(!r){return}for(var n=0,a=r.childNodes.length;n<a;n++){r.childNodes[n].parentNode=r}}},{key:"onError",value:function e(t){this._errorCode=t}}]);return t}(A);t.SimpleXMLParser=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFDataTransportStream=void 0;var n=i(r(180));var a=r(1);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,u,"next",e)}function u(e){o(i,n,a,s,u,"throw",e)}s(undefined)})}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function c(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);return e}var f=function(){function e(t,r){var n=this;u(this,e);(0,a.assert)(r);this._queuedChunks=[];this._progressiveDone=t.progressiveDone||false;var i=t.initialData;if(i&&i.length>0){var o=new Uint8Array(i).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=r;this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._contentLength=t.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(e,t){n._onReceiveData({begin:e,chunk:t})});this._pdfDataRangeTransport.addProgressListener(function(e,t){n._onProgress({loaded:e,total:t})});this._pdfDataRangeTransport.addProgressiveReadListener(function(e){n._onReceiveData({chunk:e})});this._pdfDataRangeTransport.addProgressiveDoneListener(function(){n._onProgressiveDone()});this._pdfDataRangeTransport.transportReady()}c(e,[{key:"_onReceiveData",value:function e(t){var r=new Uint8Array(t.chunk).buffer;if(t.begin===undefined){if(this._fullRequestReader){this._fullRequestReader._enqueue(r)}else{this._queuedChunks.push(r)}}else{var n=this._rangeReaders.some(function(e){if(e._begin!==t.begin){return false}e._enqueue(r);return true});(0,a.assert)(n)}}},{key:"_onProgress",value:function e(t){if(t.total===undefined){var r=this._rangeReaders[0];if(r&&r.onProgress){r.onProgress({loaded:t.loaded})}}else{var n=this._fullRequestReader;if(n&&n.onProgress){n.onProgress({loaded:t.loaded,total:t.total})}}}},{key:"_onProgressiveDone",value:function e(){if(this._fullRequestReader){this._fullRequestReader.progressiveDone()}this._progressiveDone=true}},{key:"_removeRangeReader",value:function e(t){var r=this._rangeReaders.indexOf(t);if(r>=0){this._rangeReaders.splice(r,1)}}},{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);var t=this._queuedChunks;this._queuedChunks=null;return new h(this,t,this._progressiveDone)}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=new d(this,t,r);this._pdfDataRangeTransport.requestDataRange(t,r);this._rangeReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeReaders.slice(0);r.forEach(function(e){e.cancel(t)});this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function e(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return e}();t.PDFDataTransportStream=f;var h=function(){function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;u(this,e);this._stream=t;this._done=n||false;this._filename=null;this._queuedChunks=r||[];this._loaded=0;var a=true;var i=false;var o=undefined;try{for(var s=this._queuedChunks[Symbol.iterator](),l;!(a=(l=s.next()).done);a=true){var c=l.value;this._loaded+=c.byteLength}}catch(e){i=true;o=e}finally{try{if(!a&&s["return"]!=null){s["return"]()}}finally{if(i){throw o}}}this._requests=[];this._headersReady=Promise.resolve();t._fullRequestReader=this;this.onProgress=null}c(e,[{key:"_enqueue",value:function e(t){if(this._done){return}if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t,done:false})}else{this._queuedChunks.push(t)}this._loaded+=t.byteLength}},{key:"read",value:function(){var e=s(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this._queuedChunks.length>0)){n.next=3;break}t=this._queuedChunks.shift();return n.abrupt("return",{value:t,done:false});case 3:if(!this._done){n.next=5;break}return n.abrupt("return",{value:undefined,done:true});case 5:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 8:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}},{key:"progressiveDone",value:function e(){if(this._done){return}this._done=true}},{key:"headersReady",get:function e(){return this._headersReady}},{key:"filename",get:function e(){return this._filename}},{key:"isRangeSupported",get:function e(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function e(){return this._stream._contentLength}}]);return e}();var d=function(){function e(t,r,n){u(this,e);this._stream=t;this._begin=r;this._end=n;this._queuedChunk=null;this._requests=[];this._done=false;this.onProgress=null}c(e,[{key:"_enqueue",value:function e(t){if(this._done){return}if(this._requests.length===0){this._queuedChunk=t}else{var r=this._requests.shift();r.resolve({value:t,done:false});this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}this._done=true;this._stream._removeRangeReader(this)}},{key:"read",value:function(){var e=s(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!this._queuedChunk){n.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return n.abrupt("return",{value:t,done:false});case 4:if(!this._done){n.next=6;break}return n.abrupt("return",{value:undefined,done:true});case 6:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 9:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function e(){return false}}]);return e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.WebGLContext=void 0;var n=r(1);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}var s=function(){function e(t){var r=t.enable,n=r===void 0?false:r;a(this,e);this._enabled=n===true}o(e,[{key:"composeSMask",value:function e(t){var r=t.layer,n=t.mask,a=t.properties;return u.composeSMask(r,n,a)}},{key:"drawFigures",value:function e(t){var r=t.width,n=t.height,a=t.backgroundColor,i=t.figures,o=t.context;return u.drawFigures(r,n,a,i,o)}},{key:"clear",value:function e(){u.cleanup()}},{key:"isEnabled",get:function e(){var t=this._enabled;if(t){t=u.tryInitGL()}return(0,n.shadow)(this,"isEnabled",t)}}]);return e}();t.WebGLContext=s;var u=function e(){function t(e,t,r){var n=e.createShader(r);e.shaderSource(n,t);e.compileShader(n);var a=e.getShaderParameter(n,e.COMPILE_STATUS);if(!a){var i=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+i)}return n}function r(e,r){return t(e,r,e.VERTEX_SHADER)}function n(e,r){return t(e,r,e.FRAGMENT_SHADER)}function a(e,t){var r=e.createProgram();for(var n=0,a=t.length;n<a;++n){e.attachShader(r,t[n])}e.linkProgram(r);var i=e.getProgramParameter(r,e.LINK_STATUS);if(!i){var o=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+o)}return r}function i(e,t,r){e.activeTexture(r);var n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);return n}var o,s;function u(){if(o){return}s=document.createElement("canvas");o=s.getContext("webgl",{premultipliedalpha:false})}var l="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ";var c="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ";var f=null;function h(){var e,t;u();e=s;s=null;t=o;o=null;var i=r(t,l);var h=n(t,c);var d=a(t,[i,h]);t.useProgram(d);var v={};v.gl=t;v.canvas=e;v.resolutionLocation=t.getUniformLocation(d,"u_resolution");v.positionLocation=t.getAttribLocation(d,"a_position");v.backdropLocation=t.getUniformLocation(d,"u_backdrop");v.subtypeLocation=t.getUniformLocation(d,"u_subtype");var p=t.getAttribLocation(d,"a_texCoord");var g=t.getUniformLocation(d,"u_image");var m=t.getUniformLocation(d,"u_mask");var y=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,y);t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW);t.enableVertexAttribArray(p);t.vertexAttribPointer(p,2,t.FLOAT,false,0,0);t.uniform1i(g,0);t.uniform1i(m,1);f=v}function d(e,t,r){var n=e.width,a=e.height;if(!f){h()}var o=f,s=o.canvas,u=o.gl;s.width=n;s.height=a;u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight);u.uniform2f(o.resolutionLocation,n,a);if(r.backdrop){u.uniform4f(o.resolutionLocation,r.backdrop[0],r.backdrop[1],r.backdrop[2],1)}else{u.uniform4f(o.resolutionLocation,0,0,0,0)}u.uniform1i(o.subtypeLocation,r.subtype==="Luminosity"?1:0);var l=i(u,e,u.TEXTURE0);var c=i(u,t,u.TEXTURE1);var d=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,d);u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,a,0,a,n,0,n,a]),u.STATIC_DRAW);u.enableVertexAttribArray(o.positionLocation);u.vertexAttribPointer(o.positionLocation,2,u.FLOAT,false,0,0);u.clearColor(0,0,0,0);u.enable(u.BLEND);u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA);u.clear(u.COLOR_BUFFER_BIT);u.drawArrays(u.TRIANGLES,0,6);u.flush();u.deleteTexture(l);u.deleteTexture(c);u.deleteBuffer(d);return s}var v="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ";var p="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ";var g=null;function m(){var e,t;u();e=s;s=null;t=o;o=null;var i=r(t,v);var l=n(t,p);var c=a(t,[i,l]);t.useProgram(c);var f={};f.gl=t;f.canvas=e;f.resolutionLocation=t.getUniformLocation(c,"u_resolution");f.scaleLocation=t.getUniformLocation(c,"u_scale");f.offsetLocation=t.getUniformLocation(c,"u_offset");f.positionLocation=t.getAttribLocation(c,"a_position");f.colorLocation=t.getAttribLocation(c,"a_color");g=f}function y(e,t,r,n,a){if(!g){m()}var i=g,o=i.canvas,s=i.gl;o.width=e;o.height=t;s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight);s.uniform2f(i.resolutionLocation,e,t);var u=0;var l,c,f;for(l=0,c=n.length;l<c;l++){switch(n[l].type){case"lattice":f=n[l].coords.length/n[l].verticesPerRow|0;u+=(f-1)*(n[l].verticesPerRow-1)*6;break;case"triangles":u+=n[l].coords.length;break}}var h=new Float32Array(u*2);var d=new Uint8Array(u*3);var v=a.coords,p=a.colors;var y=0,b=0;for(l=0,c=n.length;l<c;l++){var _=n[l],A=_.coords,S=_.colors;switch(_.type){case"lattice":var w=_.verticesPerRow;f=A.length/w|0;for(var k=1;k<f;k++){var x=k*w+1;for(var C=1;C<w;C++,x++){h[y]=v[A[x-w-1]];h[y+1]=v[A[x-w-1]+1];h[y+2]=v[A[x-w]];h[y+3]=v[A[x-w]+1];h[y+4]=v[A[x-1]];h[y+5]=v[A[x-1]+1];d[b]=p[S[x-w-1]];d[b+1]=p[S[x-w-1]+1];d[b+2]=p[S[x-w-1]+2];d[b+3]=p[S[x-w]];d[b+4]=p[S[x-w]+1];d[b+5]=p[S[x-w]+2];d[b+6]=p[S[x-1]];d[b+7]=p[S[x-1]+1];d[b+8]=p[S[x-1]+2];h[y+6]=h[y+2];h[y+7]=h[y+3];h[y+8]=h[y+4];h[y+9]=h[y+5];h[y+10]=v[A[x]];h[y+11]=v[A[x]+1];d[b+9]=d[b+3];d[b+10]=d[b+4];d[b+11]=d[b+5];d[b+12]=d[b+6];d[b+13]=d[b+7];d[b+14]=d[b+8];d[b+15]=p[S[x]];d[b+16]=p[S[x]+1];d[b+17]=p[S[x]+2];y+=12;b+=18}}break;case"triangles":for(var P=0,R=A.length;P<R;P++){h[y]=v[A[P]];h[y+1]=v[A[P]+1];d[b]=p[S[P]];d[b+1]=p[S[P]+1];d[b+2]=p[S[P]+2];y+=2;b+=3}break}}if(r){s.clearColor(r[0]/255,r[1]/255,r[2]/255,1)}else{s.clearColor(0,0,0,0)}s.clear(s.COLOR_BUFFER_BIT);var E=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,E);s.bufferData(s.ARRAY_BUFFER,h,s.STATIC_DRAW);s.enableVertexAttribArray(i.positionLocation);s.vertexAttribPointer(i.positionLocation,2,s.FLOAT,false,0,0);var T=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,T);s.bufferData(s.ARRAY_BUFFER,d,s.STATIC_DRAW);s.enableVertexAttribArray(i.colorLocation);s.vertexAttribPointer(i.colorLocation,3,s.UNSIGNED_BYTE,false,0,0);s.uniform2f(i.scaleLocation,a.scaleX,a.scaleY);s.uniform2f(i.offsetLocation,a.offsetX,a.offsetY);s.drawArrays(s.TRIANGLES,0,u);s.flush();s.deleteBuffer(E);s.deleteBuffer(T);return o}return{tryInitGL:function e(){try{u();return!!o}catch(e){}return false},composeSMask:d,drawFigures:y,cleanup:function e(){if(f&&f.canvas){f.canvas.width=0;f.canvas.height=0}if(g&&g.canvas){g.canvas.width=0;g.canvas.height=0}f=null;g=null}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.renderTextLayer=void 0;var n=r(1);var a=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}var o=function e(){var t=1e5;var r=/\S/;function i(e){return!r.test(e)}function o(e,t,r){var a=document.createElement("span");var o={angle:0,canvasWidth:0,isWhitespace:false,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};e._textDivs.push(a);if(i(t.str)){o.isWhitespace=true;e._textDivProperties.set(a,o);return}var s=n.Util.transform(e._viewport.transform,t.transform);var u=Math.atan2(s[1],s[0]);var l=r[t.fontName];if(l.vertical){u+=Math.PI/2}var c=Math.sqrt(s[2]*s[2]+s[3]*s[3]);var f=c;if(l.ascent){f=l.ascent*f}else if(l.descent){f=(1+l.descent)*f}var h,d;if(u===0){h=s[4];d=s[5]-f}else{h=s[4]+f*Math.sin(u);d=s[5]-f*Math.cos(u)}a.style.left="".concat(h,"px");a.style.top="".concat(d,"px");a.style.fontSize="".concat(c,"px");a.style.fontFamily=l.fontFamily;a.textContent=t.str;if(e._fontInspectorEnabled){a.dataset.fontName=t.fontName}if(u!==0){o.angle=u*(180/Math.PI)}if(t.str.length>1){if(l.vertical){o.canvasWidth=t.height*e._viewport.scale}else{o.canvasWidth=t.width*e._viewport.scale}}e._textDivProperties.set(a,o);if(e._textContentStream){e._layoutText(a)}if(e._enhanceTextSelection){var v=1,p=0;if(u!==0){v=Math.cos(u);p=Math.sin(u)}var g=(l.vertical?t.height:t.width)*e._viewport.scale;var m=c;var y,b;if(u!==0){y=[v,p,-p,v,h,d];b=n.Util.getAxialAlignedBoundingBox([0,0,g,m],y)}else{b=[h,d,h+g,d+m]}e._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:a,size:[g,m],m:y})}}function s(e){if(e._canceled){return}var r=e._textDivs;var n=e._capability;var a=r.length;if(a>t){e._renderingDone=true;n.resolve();return}if(!e._textContentStream){for(var i=0;i<a;i++){e._layoutText(r[i])}}e._renderingDone=true;n.resolve()}function u(e){var t=e._bounds;var r=e._viewport;var a=l(r.width,r.height,t);for(var i=0;i<a.length;i++){var o=t[i].div;var s=e._textDivProperties.get(o);if(s.angle===0){s.paddingLeft=t[i].left-a[i].left;s.paddingTop=t[i].top-a[i].top;s.paddingRight=a[i].right-t[i].right;s.paddingBottom=a[i].bottom-t[i].bottom;e._textDivProperties.set(o,s);continue}var u=a[i],c=t[i];var f=c.m,h=f[0],d=f[1];var v=[[0,0],[0,c.size[1]],[c.size[0],0],c.size];var p=new Float64Array(64);v.forEach(function(e,t){var r=n.Util.applyTransform(e,f);p[t+0]=h&&(u.left-r[0])/h;p[t+4]=d&&(u.top-r[1])/d;p[t+8]=h&&(u.right-r[0])/h;p[t+12]=d&&(u.bottom-r[1])/d;p[t+16]=d&&(u.left-r[0])/-d;p[t+20]=h&&(u.top-r[1])/h;p[t+24]=d&&(u.right-r[0])/-d;p[t+28]=h&&(u.bottom-r[1])/h;p[t+32]=h&&(u.left-r[0])/-h;p[t+36]=d&&(u.top-r[1])/-d;p[t+40]=h&&(u.right-r[0])/-h;p[t+44]=d&&(u.bottom-r[1])/-d;p[t+48]=d&&(u.left-r[0])/d;p[t+52]=h&&(u.top-r[1])/-h;p[t+56]=d&&(u.right-r[0])/d;p[t+60]=h&&(u.bottom-r[1])/-h});var g=function e(t,r,n){var a=0;for(var i=0;i<n;i++){var o=t[r++];if(o>0){a=a?Math.min(o,a):o}}return a};var m=1+Math.min(Math.abs(h),Math.abs(d));s.paddingLeft=g(p,32,16)/m;s.paddingTop=g(p,48,16)/m;s.paddingRight=g(p,0,16)/m;s.paddingBottom=g(p,16,16)/m;e._textDivProperties.set(o,s)}}function l(e,t,r){var n=r.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:undefined,x2New:undefined}});c(e,n);var a=new Array(r.length);n.forEach(function(e){var t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}});r.map(function(t,r){var i=a[r],o=n[r];o.x1=t.top;o.y1=e-i.right;o.x2=t.bottom;o.y2=e-i.left;o.index=r;o.x1New=undefined;o.x2New=undefined});c(t,n);n.forEach(function(e){var t=e.index;a[t].top=e.x1New;a[t].bottom=e.x2New});return a}function c(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var r={x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0};var n=[{start:-Infinity,end:Infinity,boundary:r}];t.forEach(function(e){var t=0;while(t<n.length&&n[t].end<=e.y1){t++}var r=n.length-1;while(r>=0&&n[r].start>=e.y2){r--}var a,i;var o,s,u=-Infinity;for(o=t;o<=r;o++){a=n[o];i=a.boundary;var l;if(i.x2>e.x1){l=i.index>e.index?i.x1New:e.x1}else if(i.x2New===undefined){l=(i.x2+e.x1)/2}else{l=i.x2New}if(l>u){u=l}}e.x1New=u;for(o=t;o<=r;o++){a=n[o];i=a.boundary;if(i.x2New===undefined){if(i.x2>e.x1){if(i.index>e.index){i.x2New=i.x2}}else{i.x2New=u}}else if(i.x2New>u){i.x2New=Math.max(u,i.x2)}}var c=[],f=null;for(o=t;o<=r;o++){a=n[o];i=a.boundary;var h=i.x2>e.x2?i:e;if(f===h){c[c.length-1].end=a.end}else{c.push({start:a.start,end:a.end,boundary:h});f=h}}if(n[t].start<e.y1){c[0].start=e.y1;c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})}if(e.y2<n[r].end){c[c.length-1].end=e.y2;c.push({start:e.y2,end:n[r].end,boundary:n[r].boundary})}for(o=t;o<=r;o++){a=n[o];i=a.boundary;if(i.x2New!==undefined){continue}var d=false;for(s=t-1;!d&&s>=0&&n[s].start>=i.y1;s--){d=n[s].boundary===i}for(s=r+1;!d&&s<n.length&&n[s].end<=i.y2;s++){d=n[s].boundary===i}for(s=0;!d&&s<c.length;s++){d=c[s].boundary===i}if(!d){i.x2New=u}}Array.prototype.splice.apply(n,[t,r-t+1].concat(c))});n.forEach(function(t){var r=t.boundary;if(r.x2New===undefined){r.x2New=Math.max(e,r.x2)}})}function f(e){var t=this;var r=e.textContent,i=e.textContentStream,o=e.container,s=e.viewport,u=e.textDivs,l=e.textContentItemsStr,c=e.enhanceTextSelection;this._textContent=r;this._textContentStream=i;this._container=o;this._viewport=s;this._textDivs=u||[];this._textContentItemsStr=l||[];this._enhanceTextSelection=!!c;this._fontInspectorEnabled=!!(a["default"].FontInspector&&a["default"].FontInspector.enabled);this._reader=null;this._layoutTextLastFontSize=null;this._layoutTextLastFontFamily=null;this._layoutTextCtx=null;this._textDivProperties=new WeakMap;this._renderingDone=false;this._canceled=false;this._capability=(0,n.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise["finally"](function(){if(t._layoutTextCtx){t._layoutTextCtx.canvas.width=0;t._layoutTextCtx.canvas.height=0;t._layoutTextCtx=null}})["catch"](function(){})}f.prototype={get promise(){return this._capability.promise},cancel:function e(){this._canceled=true;if(this._reader){this._reader.cancel(new n.AbortException("TextLayer task cancelled."));this._reader=null}if(this._renderTimer!==null){clearTimeout(this._renderTimer);this._renderTimer=null}this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function e(t,r){for(var n=0,a=t.length;n<a;n++){this._textContentItemsStr.push(t[n].str);o(this,t[n],r)}},_layoutText:function e(t){var r=this._textDivProperties.get(t);if(r.isWhitespace){return}var n="";if(r.canvasWidth!==0){var a=t.style,i=a.fontSize,o=a.fontFamily;if(i!==this._layoutTextLastFontSize||o!==this._layoutTextLastFontFamily){this._layoutTextCtx.font="".concat(i," ").concat(o);this._layoutTextLastFontSize=i;this._layoutTextLastFontFamily=o}var s=this._layoutTextCtx.measureText(t.textContent),u=s.width;if(u>0){r.scale=r.canvasWidth/u;n="scaleX(".concat(r.scale,")")}}if(r.angle!==0){n="rotate(".concat(r.angle,"deg) ").concat(n)}if(n.length>0){if(this._enhanceTextSelection){r.originalTransform=n}t.style.transform=n}this._textDivProperties.set(t,r);this._container.appendChild(t)},_render:function e(t){var r=this;var a=(0,n.createPromiseCapability)();var i=Object.create(null);var o=document.createElement("canvas");o.mozOpaque=true;this._layoutTextCtx=o.getContext("2d",{alpha:false});if(this._textContent){var u=this._textContent.items;var l=this._textContent.styles;this._processItems(u,l);a.resolve()}else if(this._textContentStream){var c=function e(){r._reader.read().then(function(t){var n=t.value,o=t.done;if(o){a.resolve();return}Object.assign(i,n.styles);r._processItems(n.items,i);e()},a.reject)};this._reader=this._textContentStream.getReader();c()}else{throw new Error('Neither "textContent" nor "textContentStream"'+" parameters specified.")}a.promise.then(function(){i=null;if(!t){s(r)}else{r._renderTimer=setTimeout(function(){s(r);r._renderTimer=null},t)}},this._capability.reject)},expandTextDivs:function e(t){if(!this._enhanceTextSelection||!this._renderingDone){return}if(this._bounds!==null){u(this);this._bounds=null}var r="0 0 0 0";var n=[],a=[];for(var i=0,o=this._textDivs.length;i<o;i++){var s=this._textDivs[i];var l=this._textDivProperties.get(s);if(l.isWhitespace){continue}if(t){n.length=0;a.length=0;if(l.originalTransform){n.push(l.originalTransform)}if(l.paddingTop>0){a.push("".concat(l.paddingTop,"px"));n.push("translateY(".concat(-l.paddingTop,"px)"))}else{a.push(0)}if(l.paddingRight>0){a.push("".concat(l.paddingRight/l.scale,"px"))}else{a.push(0)}if(l.paddingBottom>0){a.push("".concat(l.paddingBottom,"px"))}else{a.push(0)}if(l.paddingLeft>0){a.push("".concat(l.paddingLeft/l.scale,"px"));n.push("translateX(".concat(-l.paddingLeft/l.scale,"px)"))}else{a.push(0)}var c=a.join(" ");if(c!==r){s.style.padding=c}if(n.length){s.style.transform=n.join(" ")}}else{s.style.padding=null;s.style.transform=l.originalTransform}}}};function h(e){var t=new f({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});t._render(e.timeout);return t}return h}();t.renderTextLayer=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AnnotationLayer=void 0;var n=r(183);var a=r(1);function i(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){i=Reflect.get}else{i=function e(t,r,n){var a=o(t,r);if(!a)return;var i=Object.getOwnPropertyDescriptor(a,r);if(i.get){return i.get.call(n)}return i.value}}return i(e,t,r||e)}function o(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=c(e);if(e===null)break}return e}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}function u(e,t){if(t&&(s(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}var g=function(){function e(){d(this,e)}p(e,null,[{key:"create",value:function e(t){var r=t.data.annotationType;switch(r){case a.AnnotationType.LINK:return new y(t);case a.AnnotationType.TEXT:return new b(t);case a.AnnotationType.WIDGET:var n=t.data.fieldType;switch(n){case"Tx":return new A(t);case"Btn":if(t.data.radioButton){return new w(t)}else if(t.data.checkBox){return new S(t)}return new k(t);case"Ch":return new x(t)}return new _(t);case a.AnnotationType.POPUP:return new C(t);case a.AnnotationType.FREETEXT:return new R(t);case a.AnnotationType.LINE:return new E(t);case a.AnnotationType.SQUARE:return new T(t);case a.AnnotationType.CIRCLE:return new O(t);case a.AnnotationType.POLYLINE:return new L(t);case a.AnnotationType.CARET:return new I(t);case a.AnnotationType.INK:return new j(t);case a.AnnotationType.POLYGON:return new F(t);case a.AnnotationType.HIGHLIGHT:return new M(t);case a.AnnotationType.UNDERLINE:return new N(t);case a.AnnotationType.SQUIGGLY:return new D(t);case a.AnnotationType.STRIKEOUT:return new q(t);case a.AnnotationType.STAMP:return new U(t);case a.AnnotationType.FILEATTACHMENT:return new W(t);default:return new m(t)}}}]);return e}();var m=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;d(this,e);this.isRenderable=r;this.data=t.data;this.layer=t.layer;this.page=t.page;this.viewport=t.viewport;this.linkService=t.linkService;this.downloadManager=t.downloadManager;this.imageResourcesPath=t.imageResourcesPath;this.renderInteractiveForms=t.renderInteractiveForms;this.svgFactory=t.svgFactory;if(r){this.container=this._createContainer(n)}}p(e,[{key:"_createContainer",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.data,n=this.page,i=this.viewport;var o=document.createElement("section");var s=r.rect[2]-r.rect[0];var u=r.rect[3]-r.rect[1];o.setAttribute("data-annotation-id",r.id);var l=a.Util.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]);o.style.transform="matrix(".concat(i.transform.join(","),")");o.style.transformOrigin="-".concat(l[0],"px -").concat(l[1],"px");if(!t&&r.borderStyle.width>0){o.style.borderWidth="".concat(r.borderStyle.width,"px");if(r.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE){s=s-2*r.borderStyle.width;u=u-2*r.borderStyle.width}var c=r.borderStyle.horizontalCornerRadius;var f=r.borderStyle.verticalCornerRadius;if(c>0||f>0){var h="".concat(c,"px / ").concat(f,"px");o.style.borderRadius=h}switch(r.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid";break;default:break}if(r.color){o.style.borderColor=a.Util.makeCssRgb(r.color[0]|0,r.color[1]|0,r.color[2]|0)}else{o.style.borderWidth=0}}o.style.left="".concat(l[0],"px");o.style.top="".concat(l[1],"px");o.style.width="".concat(s,"px");o.style.height="".concat(u,"px");return o}},{key:"_createPopup",value:function e(t,r,n){if(!r){r=document.createElement("div");r.style.height=t.style.height;r.style.width=t.style.width;t.appendChild(r)}var a=new P({container:t,trigger:r,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:true});var i=a.render();i.style.left=t.style.width;t.appendChild(i)}},{key:"render",value:function e(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}}]);return e}();var y=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.url||e.data.dest||e.data.action);return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){this.container.className="linkAnnotation";var t=this.data,r=this.linkService;var a=document.createElement("a");if(t.url){(0,n.addLinkAttributes)(a,{url:t.url,target:t.newWindow?n.LinkTarget.BLANK:r.externalLinkTarget,rel:r.externalLinkRel,enabled:r.externalLinkEnabled})}else if(t.action){this._bindNamedAction(a,t.action)}else{this._bindLink(a,t.dest)}this.container.appendChild(a);return this.container}},{key:"_bindLink",value:function e(t,r){var n=this;t.href=this.linkService.getDestinationHash(r);t.onclick=function(){if(r){n.linkService.navigateTo(r)}return false};if(r){t.className="internalLink"}}},{key:"_bindNamedAction",value:function e(t,r){var n=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){n.linkService.executeNamedAction(r);return false};t.className="internalLink"}}]);return t}(m);var b=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){this.container.className="textAnnotation";var t=document.createElement("img");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";t.alt="[{{type}} Annotation]";t.dataset.l10nId="text_annotation_type";t.dataset.l10nArgs=JSON.stringify({type:this.data.name});if(!this.data.hasPopup){this._createPopup(this.container,t,this.data)}this.container.appendChild(t);return this.container}}]);return t}(m);var _=function(e){f(t,e);function t(){d(this,t);return u(this,c(t).apply(this,arguments))}p(t,[{key:"render",value:function e(){return this.container}}]);return t}(m);var A=function(e){f(t,e);function t(e){d(this,t);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){var t=["left","center","right"];this.container.className="textWidgetAnnotation";var r=null;if(this.renderInteractiveForms){if(this.data.multiLine){r=document.createElement("textarea");r.textContent=this.data.fieldValue}else{r=document.createElement("input");r.type="text";r.setAttribute("value",this.data.fieldValue)}r.disabled=this.data.readOnly;if(this.data.maxLen!==null){r.maxLength=this.data.maxLen}if(this.data.comb){var n=this.data.rect[2]-this.data.rect[0];var a=n/this.data.maxLen;r.classList.add("comb");r.style.letterSpacing="calc(".concat(a,"px - 1ch)")}}else{r=document.createElement("div");r.textContent=this.data.fieldValue;r.style.verticalAlign="middle";r.style.display="table-cell";var i=null;if(this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)){i=this.page.commonObjs.get(this.data.fontRefName)}this._setTextStyle(r,i)}if(this.data.textAlignment!==null){r.style.textAlign=t[this.data.textAlignment]}this.container.appendChild(r);return this.container}},{key:"_setTextStyle",value:function e(t,r){var n=t.style;n.fontSize="".concat(this.data.fontSize,"px");n.direction=this.data.fontDirection<0?"rtl":"ltr";if(!r){return}n.fontWeight=r.black?r.bold?"900":"bold":r.bold?"bold":"normal";n.fontStyle=r.italic?"italic":"normal";var a=r.loadedName?'"'.concat(r.loadedName,'", '):"";var i=r.fallbackName||"Helvetica, sans-serif";n.fontFamily=a+i}}]);return t}(_);var S=function(e){f(t,e);function t(e){d(this,t);return u(this,c(t).call(this,e,e.renderInteractiveForms))}p(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation checkBox";var t=document.createElement("input");t.disabled=this.data.readOnly;t.type="checkbox";if(this.data.fieldValue&&this.data.fieldValue!=="Off"){t.setAttribute("checked",true)}this.container.appendChild(t);return this.container}}]);return t}(_);var w=function(e){f(t,e);function t(e){d(this,t);return u(this,c(t).call(this,e,e.renderInteractiveForms))}p(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation radioButton";var t=document.createElement("input");t.disabled=this.data.readOnly;t.type="radio";t.name=this.data.fieldName;if(this.data.fieldValue===this.data.buttonValue){t.setAttribute("checked",true)}this.container.appendChild(t);return this.container}}]);return t}(_);var k=function(e){f(t,e);function t(){d(this,t);return u(this,c(t).apply(this,arguments))}p(t,[{key:"render",value:function e(){var r=i(c(t.prototype),"render",this).call(this);r.className="buttonWidgetAnnotation pushButton";return r}}]);return t}(y);var x=function(e){f(t,e);function t(e){d(this,t);return u(this,c(t).call(this,e,e.renderInteractiveForms))}p(t,[{key:"render",value:function e(){this.container.className="choiceWidgetAnnotation";var t=document.createElement("select");t.disabled=this.data.readOnly;if(!this.data.combo){t.size=this.data.options.length;if(this.data.multiSelect){t.multiple=true}}var r=true;var n=false;var a=undefined;try{for(var i=this.data.options[Symbol.iterator](),o;!(r=(o=i.next()).done);r=true){var s=o.value;var u=document.createElement("option");u.textContent=s.displayValue;u.value=s.exportValue;if(this.data.fieldValue.includes(s.displayValue)){u.setAttribute("selected",true)}t.appendChild(u)}}catch(e){n=true;a=e}finally{try{if(!r&&i["return"]!=null){i["return"]()}}finally{if(n){throw a}}}this.container.appendChild(t);return this.container}}]);return t}(_);var C=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.title||e.data.contents);return u(this,c(t).call(this,e,r))}p(t,[{key:"render",value:function e(){var t=["Line","Square","Circle","PolyLine","Polygon","Ink"];this.container.className="popupAnnotation";if(t.includes(this.data.parentType)){return this.container}var r='[data-annotation-id="'.concat(this.data.parentId,'"]');var n=this.layer.querySelector(r);if(!n){return this.container}var a=new P({container:this.container,trigger:n,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents});var i=parseFloat(n.style.left);var o=parseFloat(n.style.width);this.container.style.transformOrigin="-".concat(i+o,"px -").concat(n.style.top);this.container.style.left="".concat(i+o,"px");this.container.appendChild(a.render());return this.container}}]);return t}(m);var P=function(){function e(t){d(this,e);this.container=t.container;this.trigger=t.trigger;this.color=t.color;this.title=t.title;this.modificationDate=t.modificationDate;this.contents=t.contents;this.hideWrapper=t.hideWrapper||false;this.pinned=false}p(e,[{key:"render",value:function e(){var t=.7;var r=document.createElement("div");r.className="popupWrapper";this.hideElement=this.hideWrapper?r:this.container;this.hideElement.setAttribute("hidden",true);var i=document.createElement("div");i.className="popup";var o=this.color;if(o){var s=t*(255-o[0])+o[0];var u=t*(255-o[1])+o[1];var l=t*(255-o[2])+o[2];i.style.backgroundColor=a.Util.makeCssRgb(s|0,u|0,l|0)}var c=document.createElement("h1");c.textContent=this.title;i.appendChild(c);var f=n.PDFDateString.toDateObject(this.modificationDate);if(f){var h=document.createElement("span");h.textContent="{{date}}, {{time}}";h.dataset.l10nId="annotation_date_string";h.dataset.l10nArgs=JSON.stringify({date:f.toLocaleDateString(),time:f.toLocaleTimeString()});i.appendChild(h)}var d=this._formatContents(this.contents);i.appendChild(d);this.trigger.addEventListener("click",this._toggle.bind(this));this.trigger.addEventListener("mouseover",this._show.bind(this,false));this.trigger.addEventListener("mouseout",this._hide.bind(this,false));i.addEventListener("click",this._hide.bind(this,true));r.appendChild(i);return r}},{key:"_formatContents",value:function e(t){var r=document.createElement("p");var n=t.split(/(?:\r\n?|\n)/);for(var a=0,i=n.length;a<i;++a){var o=n[a];r.appendChild(document.createTextNode(o));if(a<i-1){r.appendChild(document.createElement("br"))}}return r}},{key:"_toggle",value:function e(){if(this.pinned){this._hide(true)}else{this._show(true)}}},{key:"_show",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){this.pinned=true}if(this.hideElement.hasAttribute("hidden")){this.hideElement.removeAttribute("hidden");this.container.style.zIndex+=1}}},{key:"_hide",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(t){this.pinned=false}if(!this.hideElement.hasAttribute("hidden")&&!this.pinned){this.hideElement.setAttribute("hidden",true);this.container.style.zIndex-=1}}}]);return e}();var R=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="freeTextAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var E=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="lineAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=this.svgFactory.createElement("svg:line");i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]);i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]);i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]);i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]);i.setAttribute("stroke-width",t.borderStyle.width);i.setAttribute("stroke","transparent");a.appendChild(i);this.container.append(a);this._createPopup(this.container,i,t);return this.container}}]);return t}(m);var T=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="squareAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var o=this.svgFactory.createElement("svg:rect");o.setAttribute("x",i/2);o.setAttribute("y",i/2);o.setAttribute("width",r-i);o.setAttribute("height",n-i);o.setAttribute("stroke-width",i);o.setAttribute("stroke","transparent");o.setAttribute("fill","none");a.appendChild(o);this.container.append(a);this._createPopup(this.container,o,t);return this.container}}]);return t}(m);var O=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="circleAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var o=this.svgFactory.createElement("svg:ellipse");o.setAttribute("cx",r/2);o.setAttribute("cy",n/2);o.setAttribute("rx",r/2-i/2);o.setAttribute("ry",n/2-i/2);o.setAttribute("stroke-width",i);o.setAttribute("stroke","transparent");o.setAttribute("fill","none");a.appendChild(o);this.container.append(a);this._createPopup(this.container,o,t);return this.container}}]);return t}(m);var L=function(e){f(t,e);function t(e){var r;d(this,t);var n=!!(e.data.hasPopup||e.data.title||e.data.contents);r=u(this,c(t).call(this,e,n,true));r.containerClassName="polylineAnnotation";r.svgElementName="svg:polyline";return r}p(t,[{key:"render",value:function e(){this.container.className=this.containerClassName;var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=[];var o=true;var s=false;var u=undefined;try{for(var l=t.vertices[Symbol.iterator](),c;!(o=(c=l.next()).done);o=true){var f=c.value;var h=f.x-t.rect[0];var d=t.rect[3]-f.y;i.push(h+","+d)}}catch(e){s=true;u=e}finally{try{if(!o&&l["return"]!=null){l["return"]()}}finally{if(s){throw u}}}i=i.join(" ");var v=this.svgFactory.createElement(this.svgElementName);v.setAttribute("points",i);v.setAttribute("stroke-width",t.borderStyle.width);v.setAttribute("stroke","transparent");v.setAttribute("fill","none");a.appendChild(v);this.container.append(a);this._createPopup(this.container,v,t);return this.container}}]);return t}(m);var F=function(e){f(t,e);function t(e){var r;d(this,t);r=u(this,c(t).call(this,e));r.containerClassName="polygonAnnotation";r.svgElementName="svg:polygon";return r}return t}(L);var I=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="caretAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var j=function(e){f(t,e);function t(e){var r;d(this,t);var n=!!(e.data.hasPopup||e.data.title||e.data.contents);r=u(this,c(t).call(this,e,n,true));r.containerClassName="inkAnnotation";r.svgElementName="svg:polyline";return r}p(t,[{key:"render",value:function e(){this.container.className=this.containerClassName;var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=true;var o=false;var s=undefined;try{for(var u=t.inkLists[Symbol.iterator](),l;!(i=(l=u.next()).done);i=true){var c=l.value;var f=[];var h=true;var d=false;var v=undefined;try{for(var p=c[Symbol.iterator](),g;!(h=(g=p.next()).done);h=true){var m=g.value;var y=m.x-t.rect[0];var b=t.rect[3]-m.y;f.push("".concat(y,",").concat(b))}}catch(e){d=true;v=e}finally{try{if(!h&&p["return"]!=null){p["return"]()}}finally{if(d){throw v}}}f=f.join(" ");var _=this.svgFactory.createElement(this.svgElementName);_.setAttribute("points",f);_.setAttribute("stroke-width",t.borderStyle.width);_.setAttribute("stroke","transparent");_.setAttribute("fill","none");this._createPopup(this.container,_,t);a.appendChild(_)}}catch(e){o=true;s=e}finally{try{if(!i&&u["return"]!=null){u["return"]()}}finally{if(o){throw s}}}this.container.append(a);return this.container}}]);return t}(m);var M=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="highlightAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var N=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="underlineAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var D=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="squigglyAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var q=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="strikeoutAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var U=function(e){f(t,e);function t(e){d(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return u(this,c(t).call(this,e,r,true))}p(t,[{key:"render",value:function e(){this.container.className="stampAnnotation";if(!this.data.hasPopup){this._createPopup(this.container,null,this.data)}return this.container}}]);return t}(m);var W=function(e){f(t,e);function t(e){var r;d(this,t);r=u(this,c(t).call(this,e,true));var i=r.data.file,o=i.filename,s=i.content;r.filename=(0,n.getFilenameFromUrl)(o);r.content=s;if(r.linkService.eventBus){r.linkService.eventBus.dispatch("fileattachmentannotation",{source:l(r),id:(0,a.stringToPDFString)(o),filename:o,content:s})}return r}p(t,[{key:"render",value:function e(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.addEventListener("dblclick",this._download.bind(this));if(!this.data.hasPopup&&(this.data.title||this.data.contents)){this._createPopup(this.container,t,this.data)}this.container.appendChild(t);return this.container}},{key:"_download",value:function e(){if(!this.downloadManager){(0,a.warn)("Download cannot be started due to unavailable download manager");return}this.downloadManager.downloadData(this.content,this.filename,"")}}]);return t}(m);var B=function(){function e(){d(this,e)}p(e,null,[{key:"render",value:function e(t){var r=true;var a=false;var i=undefined;try{for(var o=t.annotations[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var u=s.value;if(!u){continue}var l=g.create({data:u,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:t.renderInteractiveForms||false,svgFactory:new n.DOMSVGFactory});if(l.isRenderable){t.div.appendChild(l.render())}}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"update",value:function e(t){var r=true;var n=false;var a=undefined;try{for(var i=t.annotations[Symbol.iterator](),o;!(r=(o=i.next()).done);r=true){var s=o.value;var u=t.div.querySelector('[data-annotation-id="'.concat(s.id,'"]'));if(u){u.style.transform="matrix(".concat(t.viewport.transform.join(","),")")}}}catch(e){n=true;a=e}finally{try{if(!r&&i["return"]!=null){i["return"]()}}finally{if(n){throw a}}}t.div.removeAttribute("hidden")}}]);return e}();t.AnnotationLayer=B},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SVGGraphics=void 0;var n=r(1);var a=r(183);var i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return c(e)||l(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++){r[t]=e[t]}return r}}function f(e,t){return v(e)||d(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function v(e){if(Array.isArray(e))return e}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}var y=function e(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=y;{var b=function e(t){var r=[];var n=[];var a=true;var i=false;var o=undefined;try{for(var s=t[Symbol.iterator](),u;!(a=(u=s.next()).done);a=true){var l=u.value;if(l.fn==="save"){r.push({fnId:92,fn:"group",items:[]});n.push(r);r=r[r.length-1].items;continue}if(l.fn==="restore"){r=n.pop()}else{r.push(l)}}}catch(e){i=true;o=e}finally{try{if(!a&&s["return"]!=null){s["return"]()}}finally{if(i){throw o}}}return r};var _=function e(t){if(Number.isInteger(t)){return t.toString()}var r=t.toFixed(10);var n=r.length-1;if(r[n]!=="0"){return r}do{n--}while(r[n]==="0");return r.substring(0,r[n]==="."?n:n+1)};var A=function e(t){if(t[4]===0&&t[5]===0){if(t[1]===0&&t[2]===0){if(t[0]===1&&t[3]===1){return""}return"scale(".concat(_(t[0])," ").concat(_(t[3]),")")}if(t[0]===t[3]&&t[1]===-t[2]){var r=Math.acos(t[0])*180/Math.PI;return"rotate(".concat(_(r),")")}}else{if(t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1){return"translate(".concat(_(t[4])," ").concat(_(t[5]),")")}}return"matrix(".concat(_(t[0])," ").concat(_(t[1])," ").concat(_(t[2])," ").concat(_(t[3])," ").concat(_(t[4])," ")+"".concat(_(t[5]),")")};var S={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"};var w="http://www.w3.org/XML/1998/namespace";var k="http://www.w3.org/1999/xlink";var x=["butt","round","square"];var C=["miter","round","bevel"];var P=function(){var e=new Uint8Array([137,80,78,71,13,10,26,10]);var t=12;var r=new Int32Array(256);for(var a=0;a<256;a++){var o=a;for(var s=0;s<8;s++){if(o&1){o=3988292384^o>>1&2147483647}else{o=o>>1&2147483647}}r[a]=o}function u(e,t,n){var a=-1;for(var i=t;i<n;i++){var o=(a^e[i])&255;var s=r[o];a=a>>>8^s}return a^-1}function l(e,t,r,n){var a=n;var i=t.length;r[a]=i>>24&255;r[a+1]=i>>16&255;r[a+2]=i>>8&255;r[a+3]=i&255;a+=4;r[a]=e.charCodeAt(0)&255;r[a+1]=e.charCodeAt(1)&255;r[a+2]=e.charCodeAt(2)&255;r[a+3]=e.charCodeAt(3)&255;a+=4;r.set(t,a);a+=t.length;var o=u(r,n+4,a);r[a]=o>>24&255;r[a+1]=o>>16&255;r[a+2]=o>>8&255;r[a+3]=o&255}function c(e,t,r){var n=1;var a=0;for(var i=t;i<r;++i){n=(n+(e[i]&255))%65521;a=(a+n)%65521}return a<<16|n}function f(e){if(!(0,i["default"])()){return h(e)}try{var t;if(parseInt(process.versions.node)>=8){t=e}else{t=new Buffer(e)}var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,n.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return h(e)}function h(e){var t=e.length;var r=65535;var n=Math.ceil(t/r);var a=new Uint8Array(2+t+n*5+4);var i=0;a[i++]=120;a[i++]=156;var o=0;while(t>r){a[i++]=0;a[i++]=255;a[i++]=255;a[i++]=0;a[i++]=0;a.set(e.subarray(o,o+r),i);i+=r;o+=r;t-=r}a[i++]=1;a[i++]=t&255;a[i++]=t>>8&255;a[i++]=~t&65535&255;a[i++]=(~t&65535)>>8&255;a.set(e.subarray(o),i);i+=e.length-o;var s=c(e,0,e.length);a[i++]=s>>24&255;a[i++]=s>>16&255;a[i++]=s>>8&255;a[i++]=s&255;return a}function d(r,a,i,o){var s=r.width;var u=r.height;var c,h,d;var v=r.data;switch(a){case n.ImageKind.GRAYSCALE_1BPP:h=0;c=1;d=s+7>>3;break;case n.ImageKind.RGB_24BPP:h=2;c=8;d=s*3;break;case n.ImageKind.RGBA_32BPP:h=6;c=8;d=s*4;break;default:throw new Error("invalid format")}var p=new Uint8Array((1+d)*u);var g=0,m=0;for(var y=0;y<u;++y){p[g++]=0;p.set(v.subarray(m,m+d),g);m+=d;g+=d}if(a===n.ImageKind.GRAYSCALE_1BPP&&o){g=0;for(var b=0;b<u;b++){g++;for(var _=0;_<d;_++){p[g++]^=255}}}var A=new Uint8Array([s>>24&255,s>>16&255,s>>8&255,s&255,u>>24&255,u>>16&255,u>>8&255,u&255,c,h,0,0,0]);var S=f(p);var w=e.length+t*3+A.length+S.length;var k=new Uint8Array(w);var x=0;k.set(e,x);x+=e.length;l("IHDR",A,k,x);x+=t+A.length;l("IDATA",S,k,x);x+=t+S.length;l("IEND",new Uint8Array(0),k,x);return(0,n.createObjectURL)(k,"image/png",i)}return function e(t,r,a){var i=t.kind===undefined?n.ImageKind.GRAYSCALE_1BPP:t.kind;return d(t,i,r,a)}}();var R=function(){function e(){p(this,e);this.fontSizeScale=1;this.fontWeight=S.fontWeight;this.fontSize=0;this.textMatrix=n.IDENTITY_MATRIX;this.fontMatrix=n.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=n.TextRenderingMode.FILL;this.textMatrixScale=1;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=S.fillColor;this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin="";this.lineCap="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=""}m(e,[{key:"clone",value:function e(){return Object.create(this)}},{key:"setCurrentPoint",value:function e(t,r){this.x=t;this.y=r}}]);return e}();var E=0;var T=0;var O=0;t.SVGGraphics=y=function(){function e(t,r,i){p(this,e);this.svgFactory=new a.DOMSVGFactory;this.current=new R;this.transformMatrix=n.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=t;this.objs=r;this.pendingClip=null;this.pendingEOFill=false;this.embedFonts=false;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!i;this._operatorIdMapping=[];for(var o in n.OPS){this._operatorIdMapping[n.OPS[o]]=o}}m(e,[{key:"save",value:function e(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t);this.current=t.clone()}},{key:"restore",value:function e(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null}},{key:"group",value:function e(t){this.save();this.executeOpTree(t);this.restore()}},{key:"loadDependencies",value:function e(t){var r=this;var a=t.fnArray;var i=t.argsArray;for(var o=0,s=a.length;o<s;o++){if(a[o]!==n.OPS.dependency){continue}var u=true;var l=false;var c=undefined;try{var f=function e(){var t=d.value;var n=t.startsWith("g_")?r.commonObjs:r.objs;var a=new Promise(function(e){n.get(t,e)});r.current.dependencies.push(a)};for(var h=i[o][Symbol.iterator](),d;!(u=(d=h.next()).done);u=true){f()}}catch(e){l=true;c=e}finally{try{if(!u&&h["return"]!=null){h["return"]()}}finally{if(l){throw c}}}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function e(t,r,a,i,o,s){var u=[t,r,a,i,o,s];this.transformMatrix=n.Util.transform(this.transformMatrix,u);this.tgrp=null}},{key:"getSVG",value:function e(t,r){var a=this;this.viewport=r;var i=this._initialize(r);return this.loadDependencies(t).then(function(){a.transformMatrix=n.IDENTITY_MATRIX;a.executeOpTree(a.convertOpList(t));return i})}},{key:"convertOpList",value:function e(t){var r=this._operatorIdMapping;var n=t.argsArray;var a=t.fnArray;var i=[];for(var o=0,s=a.length;o<s;o++){var u=a[o];i.push({fnId:u,fn:r[u],args:n[o]})}return b(i)}},{key:"executeOpTree",value:function e(t){var r=true;var a=false;var i=undefined;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var u=s.value;var l=u.fn;var c=u.fnId;var f=u.args;switch(c|0){case n.OPS.beginText:this.beginText();break;case n.OPS.dependency:break;case n.OPS.setLeading:this.setLeading(f);break;case n.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case n.OPS.setFont:this.setFont(f);break;case n.OPS.showText:this.showText(f[0]);break;case n.OPS.showSpacedText:this.showText(f[0]);break;case n.OPS.endText:this.endText();break;case n.OPS.moveText:this.moveText(f[0],f[1]);break;case n.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case n.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case n.OPS.setHScale:this.setHScale(f[0]);break;case n.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case n.OPS.setTextRise:this.setTextRise(f[0]);break;case n.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case n.OPS.setLineWidth:this.setLineWidth(f[0]);break;case n.OPS.setLineJoin:this.setLineJoin(f[0]);break;case n.OPS.setLineCap:this.setLineCap(f[0]);break;case n.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case n.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case n.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case n.OPS.setStrokeColorN:this.setStrokeColorN(f);break;case n.OPS.setFillColorN:this.setFillColorN(f);break;case n.OPS.shadingFill:this.shadingFill(f[0]);break;case n.OPS.setDash:this.setDash(f[0],f[1]);break;case n.OPS.setRenderingIntent:this.setRenderingIntent(f[0]);break;case n.OPS.setFlatness:this.setFlatness(f[0]);break;case n.OPS.setGState:this.setGState(f[0]);break;case n.OPS.fill:this.fill();break;case n.OPS.eoFill:this.eoFill();break;case n.OPS.stroke:this.stroke();break;case n.OPS.fillStroke:this.fillStroke();break;case n.OPS.eoFillStroke:this.eoFillStroke();break;case n.OPS.clip:this.clip("nonzero");break;case n.OPS.eoClip:this.clip("evenodd");break;case n.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case n.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case n.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case n.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case n.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case n.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case n.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case n.OPS.closePath:this.closePath();break;case n.OPS.closeStroke:this.closeStroke();break;case n.OPS.closeFillStroke:this.closeFillStroke();break;case n.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case n.OPS.nextLine:this.nextLine();break;case n.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case n.OPS.constructPath:this.constructPath(f[0],f[1]);break;case n.OPS.endPath:this.endPath();break;case 92:this.group(u.items);break;default:(0,n.warn)("Unimplemented operator ".concat(l));break}}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"setWordSpacing",value:function e(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function e(t){this.current.charSpacing=t}},{key:"nextLine",value:function e(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function e(t,r,n,a,i,o){var s=this.current;s.textMatrix=s.lineMatrix=[t,r,n,a,i,o];s.textMatrixScale=Math.sqrt(t*t+r*r);s.x=s.lineX=0;s.y=s.lineY=0;s.xcoords=[];s.tspan=this.svgFactory.createElement("svg:tspan");s.tspan.setAttributeNS(null,"font-family",s.fontFamily);s.tspan.setAttributeNS(null,"font-size","".concat(_(s.fontSize),"px"));s.tspan.setAttributeNS(null,"y",_(-s.y));s.txtElement=this.svgFactory.createElement("svg:text");s.txtElement.appendChild(s.tspan)}},{key:"beginText",value:function e(){var t=this.current;t.x=t.lineX=0;t.y=t.lineY=0;t.textMatrix=n.IDENTITY_MATRIX;t.lineMatrix=n.IDENTITY_MATRIX;t.textMatrixScale=1;t.tspan=this.svgFactory.createElement("svg:tspan");t.txtElement=this.svgFactory.createElement("svg:text");t.txtgrp=this.svgFactory.createElement("svg:g");t.xcoords=[]}},{key:"moveText",value:function e(t,r){var n=this.current;n.x=n.lineX+=t;n.y=n.lineY+=r;n.xcoords=[];n.tspan=this.svgFactory.createElement("svg:tspan");n.tspan.setAttributeNS(null,"font-family",n.fontFamily);n.tspan.setAttributeNS(null,"font-size","".concat(_(n.fontSize),"px"));n.tspan.setAttributeNS(null,"y",_(-n.y))}},{key:"showText",value:function e(t){var r=this.current;var a=r.font;var i=r.fontSize;if(i===0){return}var o=r.charSpacing;var s=r.wordSpacing;var u=r.fontDirection;var l=r.textHScale*u;var c=a.vertical;var f=i*r.fontMatrix[0];var h=0;var d=true;var v=false;var p=undefined;try{for(var g=t[Symbol.iterator](),m;!(d=(m=g.next()).done);d=true){var y=m.value;if(y===null){h+=u*s;continue}else if((0,n.isNum)(y)){h+=-y*i*.001;continue}var b=y.width;var k=y.fontChar;var x=(y.isSpace?s:0)+o;var C=b*f+x*u;if(!y.isInFont&&!a.missingFile){h+=C;continue}r.xcoords.push(r.x+h*l);r.tspan.textContent+=k;h+=C}}catch(e){v=true;p=e}finally{try{if(!d&&g["return"]!=null){g["return"]()}}finally{if(v){throw p}}}if(c){r.y-=h*l}else{r.x+=h*l}r.tspan.setAttributeNS(null,"x",r.xcoords.map(_).join(" "));r.tspan.setAttributeNS(null,"y",_(-r.y));r.tspan.setAttributeNS(null,"font-family",r.fontFamily);r.tspan.setAttributeNS(null,"font-size","".concat(_(r.fontSize),"px"));if(r.fontStyle!==S.fontStyle){r.tspan.setAttributeNS(null,"font-style",r.fontStyle)}if(r.fontWeight!==S.fontWeight){r.tspan.setAttributeNS(null,"font-weight",r.fontWeight)}var P=r.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;if(P===n.TextRenderingMode.FILL||P===n.TextRenderingMode.FILL_STROKE){if(r.fillColor!==S.fillColor){r.tspan.setAttributeNS(null,"fill",r.fillColor)}if(r.fillAlpha<1){r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)}}else if(r.textRenderingMode===n.TextRenderingMode.ADD_TO_PATH){r.tspan.setAttributeNS(null,"fill","transparent")}else{r.tspan.setAttributeNS(null,"fill","none")}if(P===n.TextRenderingMode.STROKE||P===n.TextRenderingMode.FILL_STROKE){var R=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,R)}var E=r.textMatrix;if(r.textRise!==0){E=E.slice();E[5]+=r.textRise}r.txtElement.setAttributeNS(null,"transform","".concat(A(E)," scale(1, -1)"));r.txtElement.setAttributeNS(w,"xml:space","preserve");r.txtElement.appendChild(r.tspan);r.txtgrp.appendChild(r.txtElement);this._ensureTransformGroup().appendChild(r.txtElement)}},{key:"setLeadingMoveText",value:function e(t,r){this.setLeading(-r);this.moveText(t,r)}},{key:"addFontStyle",value:function e(t){if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement("svg:style");this.cssStyle.setAttributeNS(null,"type","text/css");this.defs.appendChild(this.cssStyle)}var r=(0,n.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(r,"); }\n")}},{key:"setFont",value:function e(t){var r=this.current;var a=this.commonObjs.get(t[0]);var i=t[1];r.font=a;if(this.embedFonts&&a.data&&!this.embeddedFonts[a.loadedName]){this.addFontStyle(a);this.embeddedFonts[a.loadedName]=a}r.fontMatrix=a.fontMatrix?a.fontMatrix:n.FONT_IDENTITY_MATRIX;var o=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal";var s=a.italic?"italic":"normal";if(i<0){i=-i;r.fontDirection=-1}else{r.fontDirection=1}r.fontSize=i;r.fontFamily=a.loadedName;r.fontWeight=o;r.fontStyle=s;r.tspan=this.svgFactory.createElement("svg:tspan");r.tspan.setAttributeNS(null,"y",_(-r.y));r.xcoords=[]}},{key:"endText",value:function e(){var t=this.current;if(t.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()){t.element=t.txtElement;this.clip("nonzero");this.endPath()}}},{key:"setLineWidth",value:function e(t){if(t>0){this.current.lineWidth=t}}},{key:"setLineCap",value:function e(t){this.current.lineCap=x[t]}},{key:"setLineJoin",value:function e(t){this.current.lineJoin=C[t]}},{key:"setMiterLimit",value:function e(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function e(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function e(t,r,a){this.current.strokeColor=n.Util.makeCssRgb(t,r,a)}},{key:"setFillAlpha",value:function e(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function e(t,r,a){this.current.fillColor=n.Util.makeCssRgb(t,r,a);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[]}},{key:"setStrokeColorN",value:function e(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function e(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function e(t){var r=this.viewport.width;var a=this.viewport.height;var i=n.Util.inverseTransform(this.transformMatrix);var o=n.Util.applyTransform([0,0],i);var s=n.Util.applyTransform([0,a],i);var u=n.Util.applyTransform([r,0],i);var l=n.Util.applyTransform([r,a],i);var c=Math.min(o[0],s[0],u[0],l[0]);var f=Math.min(o[1],s[1],u[1],l[1]);var h=Math.max(o[0],s[0],u[0],l[0]);var d=Math.max(o[1],s[1],u[1],l[1]);var v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",c);v.setAttributeNS(null,"y",f);v.setAttributeNS(null,"width",h-c);v.setAttributeNS(null,"height",d-f);v.setAttributeNS(null,"fill",this._makeShadingPattern(t));this._ensureTransformGroup().appendChild(v)}},{key:"_makeColorN_Pattern",value:function e(t){if(t[0]==="TilingPattern"){return this._makeTilingPattern(t)}return this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function e(t){var r=t[1];var a=t[2];var i=t[3]||n.IDENTITY_MATRIX;var o=f(t[4],4),u=o[0],l=o[1],c=o[2],h=o[3];var d=t[5];var v=t[6];var p=t[7];var g="shading".concat(O++);var m=n.Util.applyTransform([u,l],i),y=f(m,2),b=y[0],_=y[1];var A=n.Util.applyTransform([c,h],i),S=f(A,2),w=S[0],k=S[1];var x=n.Util.singularValueDecompose2dScale(i),C=f(x,2),P=C[0],R=C[1];var E=d*P;var T=v*R;var L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",g);L.setAttributeNS(null,"patternUnits","userSpaceOnUse");L.setAttributeNS(null,"width",E);L.setAttributeNS(null,"height",T);L.setAttributeNS(null,"x","".concat(b));L.setAttributeNS(null,"y","".concat(_));var F=this.svg;var I=this.transformMatrix;var j=this.current.fillColor;var M=this.current.strokeColor;var N=this.svgFactory.create(w-b,k-_);this.svg=N;this.transformMatrix=i;if(p===2){var D=n.Util.makeCssRgb.apply(n.Util,s(r));this.current.fillColor=D;this.current.strokeColor=D}this.executeOpTree(this.convertOpList(a));this.svg=F;this.transformMatrix=I;this.current.fillColor=j;this.current.strokeColor=M;L.appendChild(N.childNodes[0]);this.defs.appendChild(L);return"url(#".concat(g,")")}},{key:"_makeShadingPattern",value:function e(t){switch(t[0]){case"RadialAxial":var r="shading".concat(O++);var a=t[2];var i;switch(t[1]){case"axial":var o=t[3];var s=t[4];i=this.svgFactory.createElement("svg:linearGradient");i.setAttributeNS(null,"id",r);i.setAttributeNS(null,"gradientUnits","userSpaceOnUse");i.setAttributeNS(null,"x1",o[0]);i.setAttributeNS(null,"y1",o[1]);i.setAttributeNS(null,"x2",s[0]);i.setAttributeNS(null,"y2",s[1]);break;case"radial":var u=t[3];var l=t[4];var c=t[5];var f=t[6];i=this.svgFactory.createElement("svg:radialGradient");i.setAttributeNS(null,"id",r);i.setAttributeNS(null,"gradientUnits","userSpaceOnUse");i.setAttributeNS(null,"cx",l[0]);i.setAttributeNS(null,"cy",l[1]);i.setAttributeNS(null,"r",f);i.setAttributeNS(null,"fx",u[0]);i.setAttributeNS(null,"fy",u[1]);i.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var h=true;var d=false;var v=undefined;try{for(var p=a[Symbol.iterator](),g;!(h=(g=p.next()).done);h=true){var m=g.value;var y=this.svgFactory.createElement("svg:stop");y.setAttributeNS(null,"offset",m[0]);y.setAttributeNS(null,"stop-color",m[1]);i.appendChild(y)}}catch(e){d=true;v=e}finally{try{if(!h&&p["return"]!=null){p["return"]()}}finally{if(d){throw v}}}this.defs.appendChild(i);return"url(#".concat(r,")");case"Mesh":(0,n.warn)("Unimplemented pattern Mesh");return null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function e(t,r){this.current.dashArray=t;this.current.dashPhase=r}},{key:"constructPath",value:function e(t,r){var a=this.current;var i=a.x,o=a.y;var s=[];var u=0;var l=true;var c=false;var f=undefined;try{for(var h=t[Symbol.iterator](),d;!(l=(d=h.next()).done);l=true){var v=d.value;switch(v|0){case n.OPS.rectangle:i=r[u++];o=r[u++];var p=r[u++];var g=r[u++];var m=i+p;var y=o+g;s.push("M",_(i),_(o),"L",_(m),_(o),"L",_(m),_(y),"L",_(i),_(y),"Z");break;case n.OPS.moveTo:i=r[u++];o=r[u++];s.push("M",_(i),_(o));break;case n.OPS.lineTo:i=r[u++];o=r[u++];s.push("L",_(i),_(o));break;case n.OPS.curveTo:i=r[u+4];o=r[u+5];s.push("C",_(r[u]),_(r[u+1]),_(r[u+2]),_(r[u+3]),_(i),_(o));u+=6;break;case n.OPS.curveTo2:i=r[u+2];o=r[u+3];s.push("C",_(i),_(o),_(r[u]),_(r[u+1]),_(r[u+2]),_(r[u+3]));u+=4;break;case n.OPS.curveTo3:i=r[u+2];o=r[u+3];s.push("C",_(r[u]),_(r[u+1]),_(i),_(o),_(i),_(o));u+=4;break;case n.OPS.closePath:s.push("Z");break}}}catch(e){c=true;f=e}finally{try{if(!l&&h["return"]!=null){h["return"]()}}finally{if(c){throw f}}}s=s.join(" ");if(a.path&&t.length>0&&t[0]!==n.OPS.rectangle&&t[0]!==n.OPS.moveTo){s=a.path.getAttributeNS(null,"d")+s}else{a.path=this.svgFactory.createElement("svg:path");this._ensureTransformGroup().appendChild(a.path)}a.path.setAttributeNS(null,"d",s);a.path.setAttributeNS(null,"fill","none");a.element=a.path;a.setCurrentPoint(i,o)}},{key:"endPath",value:function e(){var t=this.current;t.path=null;if(!this.pendingClip){return}if(!t.element){this.pendingClip=null;return}var r="clippath".concat(E++);var n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",r);n.setAttributeNS(null,"transform",A(this.transformMatrix));var a=t.element.cloneNode(true);if(this.pendingClip==="evenodd"){a.setAttributeNS(null,"clip-rule","evenodd")}else{a.setAttributeNS(null,"clip-rule","nonzero")}this.pendingClip=null;n.appendChild(a);this.defs.appendChild(n);if(t.activeClipUrl){t.clipGroup=null;this.extraStack.forEach(function(e){e.clipGroup=null});n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(r,")");this.tgrp=null}},{key:"clip",value:function e(t){this.pendingClip=t}},{key:"closePath",value:function e(){var t=this.current;if(t.path){var r="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",r)}}},{key:"setLeading",value:function e(t){this.current.leading=-t}},{key:"setTextRise",value:function e(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function e(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function e(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function e(t){}},{key:"setFlatness",value:function e(t){}},{key:"setGState",value:function e(t){var r=true;var a=false;var i=undefined;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var u=f(s.value,2),l=u[0],c=u[1];switch(l){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,n.warn)("Unimplemented graphic state operator ".concat(l));break}}}catch(e){a=true;i=e}finally{try{if(!r&&o["return"]!=null){o["return"]()}}finally{if(a){throw i}}}}},{key:"fill",value:function e(){var t=this.current;if(t.element){t.element.setAttributeNS(null,"fill",t.fillColor);t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha);this.endPath()}}},{key:"stroke",value:function e(){var t=this.current;if(t.element){this._setStrokeAttributes(t.element);t.element.setAttributeNS(null,"fill","none");this.endPath()}}},{key:"_setStrokeAttributes",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=this.current;var a=n.dashArray;if(r!==1&&a.length>0){a=a.map(function(e){return r*e})}t.setAttributeNS(null,"stroke",n.strokeColor);t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha);t.setAttributeNS(null,"stroke-miterlimit",_(n.miterLimit));t.setAttributeNS(null,"stroke-linecap",n.lineCap);t.setAttributeNS(null,"stroke-linejoin",n.lineJoin);t.setAttributeNS(null,"stroke-width",_(r*n.lineWidth)+"px");t.setAttributeNS(null,"stroke-dasharray",a.map(_).join(" "));t.setAttributeNS(null,"stroke-dashoffset",_(r*n.dashPhase)+"px")}},{key:"eoFill",value:function e(){if(this.current.element){this.current.element.setAttributeNS(null,"fill-rule","evenodd")}this.fill()}},{key:"fillStroke",value:function e(){this.stroke();this.fill()}},{key:"eoFillStroke",value:function e(){if(this.current.element){this.current.element.setAttributeNS(null,"fill-rule","evenodd")}this.fillStroke()}},{key:"closeStroke",value:function e(){this.closePath();this.stroke()}},{key:"closeFillStroke",value:function e(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function e(){this.closePath();this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function e(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0");t.setAttributeNS(null,"y","0");t.setAttributeNS(null,"width","1px");t.setAttributeNS(null,"height","1px");t.setAttributeNS(null,"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(t)}},{key:"paintJpegXObject",value:function e(t,r,n){var a=this.objs.get(t);var i=this.svgFactory.createElement("svg:image");i.setAttributeNS(k,"xlink:href",a.src);i.setAttributeNS(null,"width",_(r));i.setAttributeNS(null,"height",_(n));i.setAttributeNS(null,"x","0");i.setAttributeNS(null,"y",_(-n));i.setAttributeNS(null,"transform","scale(".concat(_(1/r)," ").concat(_(-1/n),")"));this._ensureTransformGroup().appendChild(i)}},{key:"paintImageXObject",value:function e(t){var r=this.objs.get(t);if(!r){(0,n.warn)("Dependent image with object ID ".concat(t," is not ready yet"));return}this.paintInlineImageXObject(r)}},{key:"paintInlineImageXObject",value:function e(t,r){var n=t.width;var a=t.height;var i=P(t,this.forceDataSchema,!!r);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0");o.setAttributeNS(null,"y","0");o.setAttributeNS(null,"width",_(n));o.setAttributeNS(null,"height",_(a));this.current.element=o;this.clip("nonzero");var s=this.svgFactory.createElement("svg:image");s.setAttributeNS(k,"xlink:href",i);s.setAttributeNS(null,"x","0");s.setAttributeNS(null,"y",_(-a));s.setAttributeNS(null,"width",_(n)+"px");s.setAttributeNS(null,"height",_(a)+"px");s.setAttributeNS(null,"transform","scale(".concat(_(1/n)," ").concat(_(-1/a),")"));if(r){r.appendChild(s)}else{this._ensureTransformGroup().appendChild(s)}}},{key:"paintImageMaskXObject",value:function e(t){var r=this.current;var n=t.width;var a=t.height;var i=r.fillColor;r.maskId="mask".concat(T++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",r.maskId);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0");s.setAttributeNS(null,"y","0");s.setAttributeNS(null,"width",_(n));s.setAttributeNS(null,"height",_(a));s.setAttributeNS(null,"fill",i);s.setAttributeNS(null,"mask","url(#".concat(r.maskId,")"));this.defs.appendChild(o);this._ensureTransformGroup().appendChild(s);this.paintInlineImageXObject(t,o)}},{key:"paintFormXObjectBegin",value:function e(t,r){if(Array.isArray(t)&&t.length===6){this.transform(t[0],t[1],t[2],t[3],t[4],t[5])}if(r){var n=r[2]-r[0];var a=r[3]-r[1];var i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",r[0]);i.setAttributeNS(null,"y",r[1]);i.setAttributeNS(null,"width",_(n));i.setAttributeNS(null,"height",_(a));this.current.element=i;this.clip("nonzero");this.endPath()}}},{key:"paintFormXObjectEnd",value:function e(){}},{key:"_initialize",value:function e(t){var r=this.svgFactory.create(t.width,t.height);var n=this.svgFactory.createElement("svg:defs");r.appendChild(n);this.defs=n;var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"transform",A(t.transform));r.appendChild(a);this.svg=a;return r}},{key:"_ensureClipGroup",value:function e(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(t);this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function e(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement("svg:g");this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix));if(this.current.activeClipUrl){this._ensureClipGroup().appendChild(this.tgrp)}else{this.svg.appendChild(this.tgrp)}}return this.tgrp}}]);return e}()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFNodeStream=void 0;var n=o(r(180));var a=r(1);var i=r(198);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}function u(e,t){if(t&&(s(t)==="object"||typeof t==="function")){return t}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}function d(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){d(i,n,a,o,s,"next",e)}function s(e){d(i,n,a,o,s,"throw",e)}o(undefined)})}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function m(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}var y=require("fs");var b=require("http");var _=require("https");var A=require("url");var S=/^file:\/\/\/[a-zA-Z]:\//;function w(e){var t=A.parse(e);if(t.protocol==="file:"||t.host){return t}if(/^[a-z]:[/\\]/i.test(e)){return A.parse("file:///".concat(e))}if(!t.host){t.protocol="file:"}return t}var k=function(){function e(t){p(this,e);this.source=t;this.url=w(t.url);this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:";this.isFsUrl=this.url.protocol==="file:";this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}m(e,[{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);this._fullRequestReader=this.isFsUrl?new T(this):new R(this);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=this.isFsUrl?new O(this,t,r):new E(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}},{key:"_progressiveDataLength",get:function e(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return e}();t.PDFNodeStream=k;var x=function(){function e(t){p(this,e);this._url=t.url;this._done=false;this._storedError=null;this.onProgress=null;var r=t.source;this._contentLength=r.length;this._loaded=0;this._filename=null;this._disableRange=r.disableRange||false;this._rangeChunkSize=r.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=!r.disableStream;this._isRangeSupported=!r.disableRange;this._readableStream=null;this._readCapability=(0,a.createPromiseCapability)();this._headersCapability=(0,a.createPromiseCapability)()}m(e,[{key:"read",value:function(){var e=v(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._readCapability.promise;case 2:if(!this._done){n.next=4;break}return n.abrupt("return",{value:undefined,done:true});case 4:if(!this._storedError){n.next=6;break}throw this._storedError;case 6:t=this._readableStream.read();if(!(t===null)){n.next=10;break}this._readCapability=(0,a.createPromiseCapability)();return n.abrupt("return",this.read());case 10:this._loaded+=t.length;if(this.onProgress){this.onProgress({loaded:this._loaded,total:this._contentLength})}r=new Uint8Array(t).buffer;return n.abrupt("return",{value:r,done:false});case 14:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(!this._isStreamingSupported&&this._isRangeSupported){this._error(new a.AbortException("streaming is disabled"))}if(this._storedError){this._readableStream.destroy(this._storedError)}}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}();var C=function(){function e(t){p(this,e);this._url=t.url;this._done=false;this._storedError=null;this.onProgress=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,a.createPromiseCapability)();var r=t.source;this._isStreamingSupported=!r.disableStream}m(e,[{key:"read",value:function(){var e=v(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._readCapability.promise;case 2:if(!this._done){n.next=4;break}return n.abrupt("return",{value:undefined,done:true});case 4:if(!this._storedError){n.next=6;break}throw this._storedError;case 6:t=this._readableStream.read();if(!(t===null)){n.next=10;break}this._readCapability=(0,a.createPromiseCapability)();return n.abrupt("return",this.read());case 10:this._loaded+=t.length;if(this.onProgress){this.onProgress({loaded:this._loaded})}r=new Uint8Array(t).buffer;return n.abrupt("return",{value:r,done:false});case 14:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(this._storedError){this._readableStream.destroy(this._storedError)}}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}();function P(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var R=function(e){f(t,e);function t(e){var r;p(this,t);r=u(this,c(t).call(this,e));var n=function t(n){if(n.statusCode===404){var o=new a.MissingPDFException('Missing PDF "'.concat(r._url,'".'));r._storedError=o;r._headersCapability.reject(o);return}r._headersCapability.resolve();r._setReadableStream(n);var s=function e(t){return r._readableStream.headers[t.toLowerCase()]};var u=(0,i.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=u.allowRangeRequests,c=u.suggestedLength;r._isRangeSupported=l;r._contentLength=c||r._contentLength;r._filename=(0,i.extractFilenameFromHeader)(s)};r._request=null;if(r._url.protocol==="http:"){r._request=b.request(P(r._url,e.httpHeaders),n)}else{r._request=_.request(P(r._url,e.httpHeaders),n)}r._request.on("error",function(e){r._storedError=e;r._headersCapability.reject(e)});r._request.end();return r}return t}(x);var E=function(e){f(t,e);function t(e,r,n){var i;p(this,t);i=u(this,c(t).call(this,e));i._httpHeaders={};for(var o in e.httpHeaders){var s=e.httpHeaders[o];if(typeof s==="undefined"){continue}i._httpHeaders[o]=s}i._httpHeaders["Range"]="bytes=".concat(r,"-").concat(n-1);var l=function e(t){if(t.statusCode===404){var r=new a.MissingPDFException('Missing PDF "'.concat(i._url,'".'));i._storedError=r;return}i._setReadableStream(t)};i._request=null;if(i._url.protocol==="http:"){i._request=b.request(P(i._url,i._httpHeaders),l)}else{i._request=_.request(P(i._url,i._httpHeaders),l)}i._request.on("error",function(e){i._storedError=e});i._request.end();return i}return t}(C);var T=function(e){f(t,e);function t(e){var r;p(this,t);r=u(this,c(t).call(this,e));var n=decodeURIComponent(r._url.path);if(S.test(r._url.href)){n=n.replace(/^\//,"")}y.lstat(n,function(e,t){if(e){if(e.code==="ENOENT"){e=new a.MissingPDFException('Missing PDF "'.concat(n,'".'))}r._storedError=e;r._headersCapability.reject(e);return}r._contentLength=t.size;r._setReadableStream(y.createReadStream(n));r._headersCapability.resolve()});return r}return t}(x);var O=function(e){f(t,e);function t(e,r,n){var a;p(this,t);a=u(this,c(t).call(this,e));var i=decodeURIComponent(a._url.path);if(S.test(a._url.href)){i=i.replace(/^\//,"")}a._setReadableStream(y.createReadStream(i,{start:r,end:n-1}));return a}return t}(C)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createResponseStatusError=s;t.extractFilenameFromHeader=o;t.validateRangeRequestCapabilities=i;t.validateResponseStatus=u;var n=r(1);var a=r(199);function i(e){var t=e.getResponseHeader,r=e.isHttp,a=e.rangeChunkSize,i=e.disableRange;(0,n.assert)(a>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:false,suggestedLength:undefined};var s=parseInt(t("Content-Length"),10);if(!Number.isInteger(s)){return o}o.suggestedLength=s;if(s<=2*a){return o}if(i||!r){return o}if(t("Accept-Ranges")!=="bytes"){return o}var u=t("Content-Encoding")||"identity";if(u!=="identity"){return o}o.allowRangeRequests=true;return o}function o(e){var t=e("Content-Disposition");if(t){var r=(0,a.getFilenameFromContentDispositionHeader)(t);if(r.includes("%")){try{r=decodeURIComponent(r)}catch(e){}}if(/\.pdf$/i.test(r)){return r}}return null}function s(e,t){if(e===404||e===0&&/^file:/.test(t)){return new n.MissingPDFException('Missing PDF "'+t+'".')}return new n.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)}function u(e){return e===200||e===206}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFilenameFromContentDispositionHeader=s;function n(e,t){return o(e)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var r=[];var n=true;var a=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw i}}return r}function o(e){if(Array.isArray(e))return e}function s(e){var t=true;var r=s("filename\\*","i").exec(e);if(r){r=r[1];var a=f(r);a=unescape(a);a=h(a);a=d(a);return l(a)}r=c(e);if(r){var i=d(r);return l(i)}r=s("filename","i").exec(e);if(r){r=r[1];var o=f(r);o=d(o);return l(o)}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+"\\s*=\\s*"+"("+'[^";\\s][^;\\s]*'+"|"+'"(?:[^"\\\\]|\\\\"?)+"?'+")",t)}function u(e,r){if(e){if(!/^[\x00-\xFF]+$/.test(r)){return r}try{var n=new TextDecoder(e,{fatal:true});var a=Array.from(r,function(e){return e.charCodeAt(0)&255});r=n.decode(new Uint8Array(a));t=false}catch(n){if(/^utf-?8$/i.test(e)){try{r=decodeURIComponent(escape(r));t=false}catch(e){}}}}return r}function l(e){if(t&&/[\x80-\xff]/.test(e)){e=u("utf-8",e);if(t){e=u("iso-8859-1",e)}}return e}function c(e){var t=[],r;var a=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");while((r=a.exec(e))!==null){var i=r,o=n(i,4),u=o[1],l=o[2],c=o[3];u=parseInt(u,10);if(u in t){if(u===0){break}continue}t[u]=[l,c]}var d=[];for(var u=0;u<t.length;++u){if(!(u in t)){break}var v=n(t[u],2),l=v[0],c=v[1];c=f(c);if(l){c=unescape(c);if(u===0){c=h(c)}}d.push(c)}return d.join("")}function f(e){if(e.startsWith('"')){var t=e.slice(1).split('\\"');for(var r=0;r<t.length;++r){var n=t[r].indexOf('"');if(n!==-1){t[r]=t[r].slice(0,n);t.length=r+1}t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function h(e){var t=e.indexOf("'");if(t===-1){return e}var r=e.slice(0,t);var n=e.slice(t+1);var a=n.replace(/^[^']*'/,"");return u(r,a)}function d(e){if(!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)){return e}return e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,n){if(r==="q"||r==="Q"){n=n.replace(/_/g," ");n=n.replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))});return u(t,n)}try{n=atob(n)}catch(e){}return u(t,n)})}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFNetworkStream=void 0;var n=o(r(180));var a=r(1);var i=r(198);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,u,"next",e)}function u(e){s(i,n,a,o,u,"throw",e)}o(undefined)})}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}var h=200;var d=206;function v(e){var t=e.response;if(typeof t!=="string"){return t}var r=(0,a.stringToBytes)(t);return r.buffer}var p=function(){function e(t,r){l(this,e);this.url=t;r=r||{};this.isHttp=/^https?:/i.test(t);this.httpHeaders=this.isHttp&&r.httpHeaders||{};this.withCredentials=r.withCredentials||false;this.getXhr=r.getXhr||function e(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}f(e,[{key:"requestRange",value:function e(t,r,n){var a={begin:t,end:r};for(var i in n){a[i]=n[i]}return this.request(a)}},{key:"requestFull",value:function e(t){return this.request(t)}},{key:"request",value:function e(t){var r=this.getXhr();var n=this.currXhrId++;var a=this.pendingRequests[n]={xhr:r};r.open("GET",this.url);r.withCredentials=this.withCredentials;for(var i in this.httpHeaders){var o=this.httpHeaders[i];if(typeof o==="undefined"){continue}r.setRequestHeader(i,o)}if(this.isHttp&&"begin"in t&&"end"in t){r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1));a.expectedStatus=d}else{a.expectedStatus=h}r.responseType="arraybuffer";if(t.onError){r.onerror=function(e){t.onError(r.status)}}r.onreadystatechange=this.onStateChange.bind(this,n);r.onprogress=this.onProgress.bind(this,n);a.onHeadersReceived=t.onHeadersReceived;a.onDone=t.onDone;a.onError=t.onError;a.onProgress=t.onProgress;r.send(null);return n}},{key:"onProgress",value:function e(t,r){var n=this.pendingRequests[t];if(!n){return}if(n.onProgress){n.onProgress(r)}}},{key:"onStateChange",value:function e(t,r){var n=this.pendingRequests[t];if(!n){return}var a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived){n.onHeadersReceived();delete n.onHeadersReceived}if(a.readyState!==4){return}if(!(t in this.pendingRequests)){return}delete this.pendingRequests[t];if(a.status===0&&this.isHttp){if(n.onError){n.onError(a.status)}return}var i=a.status||h;var o=i===h&&n.expectedStatus===d;if(!o&&i!==n.expectedStatus){if(n.onError){n.onError(a.status)}return}var s=v(a);if(i===d){var u=a.getResponseHeader("Content-Range");var l=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);n.onDone({begin:parseInt(l[1],10),chunk:s})}else if(s){n.onDone({begin:0,chunk:s})}else if(n.onError){n.onError(a.status)}}},{key:"hasPendingRequests",value:function e(){for(var t in this.pendingRequests){return true}return false}},{key:"getRequestXhr",value:function e(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function e(t){return t in this.pendingRequests}},{key:"abortAllRequests",value:function e(){for(var t in this.pendingRequests){this.abortRequest(t|0)}}},{key:"abortRequest",value:function e(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t];r.abort()}}]);return e}();var g=function(){function e(t){l(this,e);this._source=t;this._manager=new p(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials});this._rangeChunkSize=t.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}f(e,[{key:"_onRangeRequestReaderClosed",value:function e(t){var r=this._rangeRequestReaders.indexOf(t);if(r>=0){this._rangeRequestReaders.splice(r,1)}}},{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);this._fullRequestReader=new m(this._manager,this._source);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){var n=new y(this._manager,t,r);n.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}}]);return e}();t.PDFNetworkStream=g;var m=function(){function e(t,r){l(this,e);this._manager=t;var n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url;this._fullRequestId=t.requestFull(n);this._headersReceivedCapability=(0,a.createPromiseCapability)();this._disableRange=r.disableRange||false;this._contentLength=r.length;this._rangeChunkSize=r.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=false;this._isRangeSupported=false;this._cachedChunks=[];this._requests=[];this._done=false;this._storedError=undefined;this._filename=null;this.onProgress=null}f(e,[{key:"_onHeadersReceived",value:function e(){var t=this._fullRequestId;var r=this._manager.getRequestXhr(t);var n=function e(t){return r.getResponseHeader(t)};var a=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),o=a.allowRangeRequests,s=a.suggestedLength;if(o){this._isRangeSupported=true}this._contentLength=s||this._contentLength;this._filename=(0,i.extractFilenameFromHeader)(n);if(this._isRangeSupported){this._manager.abortRequest(t)}this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function e(t){if(t){if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t.chunk,done:false})}else{this._cachedChunks.push(t.chunk)}}this._done=true;if(this._cachedChunks.length>0){return}this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[]}},{key:"_onError",value:function e(t){var r=this._url;var n=(0,i.createResponseStatusError)(t,r);this._storedError=n;this._headersReceivedCapability.reject(n);this._requests.forEach(function(e){e.reject(n)});this._requests=[];this._cachedChunks=[]}},{key:"_onProgress",value:function e(t){if(this.onProgress){this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}}},{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!this._storedError){n.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){n.next=5;break}t=this._cachedChunks.shift();return n.abrupt("return",{value:t,done:false});case 5:if(!this._done){n.next=7;break}return n.abrupt("return",{value:undefined,done:true});case 7:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 10:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._headersReceivedCapability.reject(t);this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];if(this._manager.isPendingRequest(this._fullRequestId)){this._manager.abortRequest(this._fullRequestId)}this._fullRequestReader=null}},{key:"filename",get:function e(){return this._filename}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"headersReady",get:function e(){return this._headersReceivedCapability.promise}}]);return e}();var y=function(){function e(t,r,n){l(this,e);this._manager=t;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(r,n,a);this._requests=[];this._queuedChunk=null;this._done=false;this.onProgress=null;this.onClosed=null}f(e,[{key:"_close",value:function e(){if(this.onClosed){this.onClosed(this)}}},{key:"_onDone",value:function e(t){var r=t.chunk;if(this._requests.length>0){var n=this._requests.shift();n.resolve({value:r,done:false})}else{this._queuedChunk=r}this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];this._close()}},{key:"_onProgress",value:function e(t){if(!this.isStreamingSupported&&this.onProgress){this.onProgress({loaded:t.loaded})}}},{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:if(!(this._queuedChunk!==null)){n.next=4;break}t=this._queuedChunk;this._queuedChunk=null;return n.abrupt("return",{value:t,done:false});case 4:if(!this._done){n.next=6;break}return n.abrupt("return",{value:undefined,done:true});case 6:r=(0,a.createPromiseCapability)();this._requests.push(r);return n.abrupt("return",r.promise);case 9:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._requests.forEach(function(e){e.resolve({value:undefined,done:true})});this._requests=[];if(this._manager.isPendingRequest(this._requestId)){this._manager.abortRequest(this._requestId)}this._close()}},{key:"isStreamingSupported",get:function e(){return false}}]);return e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFFetchStream=void 0;var n=o(r(180));var a=r(1);var i=r(198);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,u,"next",e)}function u(e){s(i,n,a,o,u,"throw",e)}o(undefined)})}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);return e}function h(e,t,r){return{method:"GET",headers:e,signal:r&&r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}var d=function(){function e(t){l(this,e);this.source=t;this.isHttp=/^https?:/i.test(t.url);this.httpHeaders=this.isHttp&&t.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}f(e,[{key:"getFullReader",value:function e(){(0,a.assert)(!this._fullRequestReader);this._fullRequestReader=new v(this);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=new p(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=this._rangeRequestReaders.slice(0);r.forEach(function(e){e.cancel(t)})}},{key:"_progressiveDataLength",get:function e(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]);return e}();t.PDFFetchStream=d;var v=function(){function e(t){var r=this;l(this,e);this._stream=t;this._reader=null;this._loaded=0;this._filename=null;var n=t.source;this._withCredentials=n.withCredentials||false;this._contentLength=n.length;this._headersCapability=(0,a.createPromiseCapability)();this._disableRange=n.disableRange||false;this._rangeChunkSize=n.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}if(typeof AbortController!=="undefined"){this._abortController=new AbortController}this._isStreamingSupported=!n.disableStream;this._isRangeSupported=!n.disableRange;this._headers=new Headers;for(var o in this._stream.httpHeaders){var s=this._stream.httpHeaders[o];if(typeof s==="undefined"){continue}this._headers.append(o,s)}var u=n.url;fetch(u,h(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,i.validateResponseStatus)(e.status)){throw(0,i.createResponseStatusError)(e.status,u)}r._reader=e.body.getReader();r._headersCapability.resolve();var t=function t(r){return e.headers.get(r)};var n=(0,i.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),o=n.allowRangeRequests,s=n.suggestedLength;r._isRangeSupported=o;r._contentLength=s||r._contentLength;r._filename=(0,i.extractFilenameFromHeader)(t);if(!r._isStreamingSupported&&r._isRangeSupported){r.cancel(new a.AbortException("Streaming is disabled."))}})["catch"](this._headersCapability.reject);this.onProgress=null}f(e,[{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r,a,i;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._headersCapability.promise;case 2:n.next=4;return this._reader.read();case 4:t=n.sent;r=t.value;a=t.done;if(!a){n.next=9;break}return n.abrupt("return",{value:r,done:a});case 9:this._loaded+=r.byteLength;if(this.onProgress){this.onProgress({loaded:this._loaded,total:this._contentLength})}i=new Uint8Array(r).buffer;return n.abrupt("return",{value:i,done:false});case 13:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}if(this._abortController){this._abortController.abort()}}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}();var p=function(){function e(t,r,n){var o=this;l(this,e);this._stream=t;this._reader=null;this._loaded=0;var s=t.source;this._withCredentials=s.withCredentials||false;this._readCapability=(0,a.createPromiseCapability)();this._isStreamingSupported=!s.disableStream;if(typeof AbortController!=="undefined"){this._abortController=new AbortController}this._headers=new Headers;for(var u in this._stream.httpHeaders){var c=this._stream.httpHeaders[u];if(typeof c==="undefined"){continue}this._headers.append(u,c)}this._headers.append("Range","bytes=".concat(r,"-").concat(n-1));var f=s.url;fetch(f,h(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,i.validateResponseStatus)(e.status)){throw(0,i.createResponseStatusError)(e.status,f)}o._readCapability.resolve();o._reader=e.body.getReader()});this.onProgress=null}f(e,[{key:"read",value:function(){var e=u(n["default"].mark(function e(){var t,r,a,i;return n["default"].wrap(function e(n){while(1){switch(n.prev=n.next){case 0:n.next=2;return this._readCapability.promise;case 2:n.next=4;return this._reader.read();case 4:t=n.sent;r=t.value;a=t.done;if(!a){n.next=9;break}return n.abrupt("return",{value:r,done:a});case 9:this._loaded+=r.byteLength;if(this.onProgress){this.onProgress({loaded:this._loaded})}i=new Uint8Array(r).buffer;return n.abrupt("return",{value:i,done:false});case 13:case"end":return n.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}if(this._abortController){this._abortController.abort()}}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]);return e}()}])});


/*
 *  Plugins - 3dflipbook.js
 */
!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=72)}([function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _$=window.jQuery,_html2canvas=window.html2canvas,_THREE=window.THREE,_React=window.React,_ReactDOM=window.ReactDOM,_PDFJS=window.pdfjsLib,_tr=function(s){return(window.iberezansky||{}).tr&&window.iberezansky.tr(s)||s};exports.$=_$,exports.html2canvas=_html2canvas,exports.THREE=_THREE,exports.React=_React,exports.ReactDOM=_ReactDOM,exports.PDFJS=_PDFJS,exports.tr=_tr},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_$=window.jQuery,_html2canvas=window.html2canvas,_THREE=window.THREE,_PDFJS=window.PDFJS,_tr=function(s){return(window.iberezansky||{}).tr&&window.iberezansky.tr(s)||s};window.FB3D_LOCALE&&(window.iberezansky=_extends({},window.iberezansky,{tr:function(s){return(FB3D_LOCALE.dictionary||{})[s]||s}})),exports.$=_$,exports.html2canvas=_html2canvas,exports.THREE=_THREE,exports.PDFJS=_PDFJS,exports.tr=_tr},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var BaseMathUtils=function(){function BaseMathUtils(){_classCallCheck(this,BaseMathUtils)}return BaseMathUtils.sum1=function(ka,a,kb,b){return[ka*a[0]+kb*b[0]]},BaseMathUtils.sum2=function(ka,a,kb,b){return[ka*a[0]+kb*b[0],ka*a[1]+kb*b[1]]},BaseMathUtils.sum3=function(ka,a,kb,b){return[ka*a[0]+kb*b[0],ka*a[1]+kb*b[1],ka*a[2]+kb*b[2]]},BaseMathUtils.sum4=function(ka,a,kb,b){return[ka*a[0]+kb*b[0],ka*a[1]+kb*b[1],ka*a[2]+kb*b[2],ka*a[3]+kb*b[3]]},BaseMathUtils.rk4=function(dy,t,dt,y){var sum=arguments.length>4&&void 0!==arguments[4]?arguments[4]:BaseMathUtils.sum[y.length-1],k1=dy(t,y),k2=dy(t+dt/2,sum(1,y,dt/2,k1)),k3=dy(t+dt/2,sum(1,y,dt/2,k2)),k4=dy(t+dt,sum(1,y,dt,k3));return sum(1,y,dt/6,sum(1,sum(1,k1,2,k2),1,sum(2,k3,1,k4)))},BaseMathUtils.extrapolateLinear=function(x,y,xi){return y[0]+(y[1]-y[0])/(x[1]-x[0])*(xi-x[0])},BaseMathUtils.interpolateLinear=function(x,y,xi){return x[0]>x[1]&&(x=x.reverse(),y=y.reverse()),xi<x[0]?y[0]:xi>x[1]?y[1]:BaseMathUtils.extrapolateLinear(x,y,xi)},BaseMathUtils.calcScale=function(srcW,srcH,dstW,dstH){return Math.min(dstW/srcW,dstH/srcH)},BaseMathUtils.mulM=function(a,b){for(var r=[],i=0;i<a.length;++i){r.push([]);for(var j=0;j<b[0].length;++j){r[i][j]=0;for(var k=0;k<b.length;++k)r[i][j]+=a[i][k]*b[k][j]}}return r},BaseMathUtils.transM=function(m){for(var r=[],i=0;i<m.length;++i)for(var j=0;j<m[0].length;++j)r[j]||(r[j]=[]),r[j][i]=m[i][j];return r},BaseMathUtils.mat=function(data){for(var s=0,_iterator=data,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}s+=_ref}return s/data.length},BaseMathUtils.disp=function(data){for(var M=BaseMathUtils.mat(data),s=0,_iterator2=data,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var x=_ref2;s+=(x-M)*(x-M)}return s/data.length},BaseMathUtils.predict1=function(data,num){var r=[],l=data.length;if(BaseMathUtils.disp(data)<l&&l>1){for(var am=[],bm=[],i=0;i<l;++i)am.push([i,1]),bm.push([data[i]]);for(var ta=BaseMathUtils.transM(am),a=BaseMathUtils.mulM(ta,am),b=BaseMathUtils.mulM(ta,bm),d=a[0][0]*a[1][1]-a[1][0]*a[0][1],p=[-(a[0][1]*b[1][0]-b[0][0]*a[1][1])/d,(a[0][0]*b[1][0]-a[1][0]*b[0][0])/d],_i3=0;_i3<num;++_i3){var v=Math.round(p[0]*(_i3+l)+p[1]);-1===r.indexOf(v)&&r.push(v)}}return r},BaseMathUtils.predict=function(data,num){for(var r=[],l=data.length,sgns=0,i=0;i<l-1;++i)sgns+=Math.sign(data[i+1]-data[i]);sgns=Math.abs(sgns)<=(l-1)%2?-1:Math.sign(sgns);for(var _i4=0,cur=data[l-1];_i4<num&&cur>0;++_i4)cur+=sgns,r.push(cur);return r},BaseMathUtils.getUnique=function(){return Math.ceil(1e9*Math.random())},BaseMathUtils.setSplinePoints=function(spline,ps){spline.points.length!==ps.x.length&&console.warn("setSplinePoints: bad points");for(var i=0;i<spline.points.length;++i)spline.points[i].set(ps.x[i],ps.y[i],ps.z?ps.z[i]:0)},BaseMathUtils.mapl2L=function(ls,len,n,f){for(var dL=len/(n-1),L=0,i=0,d=ls[0];i<ls.length-1&&L<len+.1*dL;++i,d+=ls[i])Math.abs(L-d)<Math.abs(L-d-ls[i+1])&&(f(i,L),L+=dL);L<len+.1*dL&&console.warn("mapl2L: ls is not enought")},BaseMathUtils.det2=function(a,b,c,d){return a*d-b*c},BaseMathUtils.solve2Lin=function(a1,b1,a2,b2){var res=void 0,d=BaseMathUtils.det2(a1[0],a1[1],a2[0],a2[1]);if(Math.abs(d)>BaseMathUtils.eps){res={x:BaseMathUtils.det2(b1,a1[1],b2,a2[1])/d,y:BaseMathUtils.det2(a1[0],b1,a2[0],b2)/d}}return res},BaseMathUtils.isInsidePoly=function(ps,p){for(var done=!1,ct=void 0,i=0;i<ps.length;++i)if(BaseMathUtils.v2dist(p,ps[i])<BaseMathUtils.eps){ct=1,done=!0;break}for(;!done;){done=!0,ct=0;for(var np={x:p.x+Math.random()-.5,y:p.y+Math.random()-.5},rn={x:np.x-p.x,y:np.y-p.y},a1=[rn.y,-rn.x],b1=p.x*rn.y-p.y*rn.x,_i5=0;_i5<ps.length;++_i5){var p0=ps[_i5],p1=ps[(_i5+1)%ps.length],n={x:p1.x-p0.x,y:p1.y-p0.y},a2=[n.y,-n.x],b2=p0.x*n.y-p0.y*n.x,ip=BaseMathUtils.solve2Lin(a1,b1,a2,b2);if(ip){if(BaseMathUtils.v2dist(ip,p0)<BaseMathUtils.eps||BaseMathUtils.v2dist(ip,p1)<BaseMathUtils.eps){done=!1;break}if(ip.x>Math.min(p0.x,p1.x)-BaseMathUtils.eps&&ip.x<Math.max(p0.x,p1.x)+BaseMathUtils.eps&&ip.y>Math.min(p0.y,p1.y)-BaseMathUtils.eps&&ip.y<Math.max(p0.y,p1.y)+BaseMathUtils.eps){if(BaseMathUtils.v2dist(ip,p)<BaseMathUtils.eps){ct=1;break}var tn={x:ip.x-p.x,y:ip.y-p.y};ct+=tn.x*rn.x+tn.y*rn.y>0}}}}return ct%2},BaseMathUtils.isInsideConvPoly=function(ps,p){for(var sg=[0,0],i=0;i<ps.length;++i){var p0=ps[i],p1=ps[(i+1)%ps.length],a={x:p0.x-p.x,y:p0.y-p.y},b={x:p1.x-p.x,y:p1.y-p.y};++sg[(a.x*b.y-a.y*b.x<0)+0]}return~sg.indexOf(ps.length)},BaseMathUtils.v2len=function(v2){return Math.sqrt(v2.x*v2.x+v2.y*v2.y)},BaseMathUtils.v2dist=function(v21,v22){return BaseMathUtils.v2len({x:v22.x-v21.x,y:v22.y-v21.y})},BaseMathUtils.computeSquare=function(ps){for(var a=[],p=0,i=0;i<ps.length;++i)a.push(BaseMathUtils.v2dist(ps[i],ps[(i+1)%ps.length])),p+=.5*a[i];return Math.sqrt(p*(p-a[0])*(p-a[1])*(p-a[2]))},BaseMathUtils.computeInterpCoefs=function(tri,p){for(var s=BaseMathUtils.computeSquare(tri),coefs=[],l=tri.length,i=0;i<l;++i)coefs[i]=BaseMathUtils.computeSquare([p,tri[(i+1)%l],tri[(i+2)%l]])/s;return coefs},BaseMathUtils}();BaseMathUtils.sum=[BaseMathUtils.sum1,BaseMathUtils.sum2,BaseMathUtils.sum3,BaseMathUtils.sum4],BaseMathUtils.eps=1e-4,exports.default=BaseMathUtils},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_BaseMathUtils2=__webpack_require__(2),_BaseMathUtils3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_BaseMathUtils2),MathUtils=function(_BaseMathUtils){function MathUtils(){return _classCallCheck(this,MathUtils),_possibleConstructorReturn(this,_BaseMathUtils.apply(this,arguments))}return _inherits(MathUtils,_BaseMathUtils),MathUtils.splitSpline=function(spline,N){for(var o={len:0,ls:[0]},dl=1/N,i=0;i<=N;++i){var p=spline.getPoint(i*dl);if(i){var d=MathUtils.v1.distanceTo(p);o.len+=d,o.ls.push(d)}MathUtils.v1.copy(p)}return o},MathUtils.getLinearIndeces=function(spline,n){for(var ls=[0],l=0,i=0;i<=5e3;++i){var p=spline.getPoint(2e-4*i);if(i){var d=MathUtils.v1.distanceTo(p);l+=d,ls.push(d)}MathUtils.v1.copy(p)}ls.push(1e7);for(var res=[],dl=l/(n-1),_i=0,L=0,_d=ls[0];_i<ls.length-1;++_i,_d+=ls[_i])Math.abs(L-_d)<Math.abs(L-_d-ls[_i+1])&&(res.push(2e-4*_i),L+=dl);return res},MathUtils.refinePoly=function(poly,maxDl){for(var res=[],i=0;i<poly.length;++i){var p0=poly[i],p1=poly[(i+1)%poly.length],l=_BaseMathUtils3.default.v2dist(p0,p1),n=Math.ceil(l/maxDl),dl=l/n;res.push(p0);for(var j=1;j<n;++j)res.push(new _libs.THREE.Vector2(p0.x+j*dl*(p1.x-p0.x)/l,p0.y+j*dl*(p1.y-p0.y)/l))}return res},MathUtils}(_BaseMathUtils3.default);MathUtils.v1=new _libs.THREE.Vector3,exports.default=MathUtils},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var Utils=function(){function Utils(){_classCallCheck(this,Utils)}return Utils.normalizeUrl=function(url){function split(s){return s.replace(/\\/g,"/").split("/")}var base=split(window.location.href);return url=split(url),base[2]===url[2]&&(url[0]=base[0]),url.join("/")},Utils.extends=function(der,base){for(var name in base)der.hasOwnProperty(name)||(der[name]=base[name])},Utils.defaultCmp=function(a,b){return a-b},Utils.lowerBound=function(a,x,cmp){cmp=cmp||Utils.defaultCmp;for(var l=0,h=a.length-1;h-l>1;){var mid=Math.floor((l+h)/2);cmp(x,a[mid])<0?h=mid:l=mid}return cmp(x,a[h])>=0?h:l},Utils}();exports.default=Utils},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),_GraphUtils=__webpack_require__(7),_GraphUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_GraphUtils),ImageBase=function(){function ImageBase(context,width,height,color){_classCallCheck(this,ImageBase),this.context=context,this.wnd=context.wnd,this.doc=context.doc,this.element=context.element||context.doc.body,this.c=context.renderCanvas||ImageBase.renderCanvas,this.ctx=context.renderCanvasCtx||ImageBase.renderCanvasCtx,this.resW=this.width=width,this.resH=this.height=height,this.color=color}return ImageBase.prototype.setResolution=function(res){this.resW=res.width,this.resH=res.height},ImageBase.prototype.dispose=function(){},ImageBase.prototype.renderBlankPage=function(){this.ctx.beginPath(),this.ctx.fillStyle=_GraphUtils2.default.color2Rgba(this.color,1),this.ctx.rect(0,0,this.c.width,this.c.height),this.ctx.fill()},ImageBase.prototype.renderImage=function(image){this.pushCtx(),this.ctx.drawImage(image,0,0),this.popCtx()},ImageBase.prototype.normToConv=function(p){return{x:p.x*this.c.width,y:(1-p.y)*this.c.height}},ImageBase.prototype.renderHit=function(poly){var ctx=this.ctx;ctx.fillStyle="rgba(255,255,0,0.4)",ctx.beginPath();var p=this.normToConv(poly[0]);ctx.moveTo(p.x,p.y);for(var i=1;i<poly.length;++i)p=this.normToConv(poly[i]),ctx.lineTo(p.x,p.y);ctx.closePath(),ctx.fill()},ImageBase.prototype.pushCtx=function(){return this.resW!=this.c.width&&(this.c.width=this.resW),this.resH!=this.c.height&&(this.c.height=this.resH),this.ctx.save(),this.ctx.scale(this.c.width/this.width,this.c.height/this.height),this.ctx},ImageBase.prototype.popCtx=function(){this.ctx.restore()},ImageBase.prototype.renderNotFoundPage=function(){this.renderBlankPage()},ImageBase.prototype.finishRender=function(){this.onChange&&this.onChange(this.c)},ImageBase.prototype.finishLoad=function(){this.onLoad?this.onLoad():this.startRender()},ImageBase.prototype.getSimulatedDoc=function(){},ImageBase}();ImageBase.renderCanvas=(0,_libs.$)("<canvas>")[0],ImageBase.renderCanvasCtx=ImageBase.renderCanvas.getContext("2d"),exports.default=ImageBase},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(0),EventConverter=function(){function EventConverter(wnd,doc){_classCallCheck(this,EventConverter),this.wnd=wnd,this.doc=doc,this.enabled=!0}return EventConverter.prototype.setEnable=function(vl){vl||(this.mCapObject&&(this.notify(this.mCapObject,_libs.$.Event("mouseup"),"mouseup"),this.mCapObject=void 0),this.mHovObject&&(this.notify(this.mHovObject,_libs.$.Event("mouseout"),"mouseout"),this.mHovObject=void 0)),this.enabled=vl},EventConverter.prototype.getCallback=function(object){},EventConverter.prototype.notify=function(object,e,type){var callback=this.getCallback(object);if(callback){var props=_extends({},e,{type:type,view:this.wnd});callback(_libs.$.Event(type,props),object)}},EventConverter.prototype.convert=function(e,data){if(this.enabled){this.filter&&(e=this.filter(this.element,e));var object=this.getObject(e,data);(~e.type.indexOf("touch")?this.convertTouch(e,data,object):this.convertMouse(e,data,object))&&object&&this.notify(object,e,e.type)}},EventConverter.prototype.convertTouch=function(e,data,object){var notify=!0;switch(e.type){case"touchstart":this.tCapObject&&this.notify(this.tCapObject,e,"touchend"),this.tCapObject=object;break;case"touchend":this.tCapObject&&!this.test(this.tCapObject,object)?(this.notify(this.tCapObject,e,"touchend"),notify=!1):object&&this.test(this.tCapObject,object)&&this.notify(object,e,"touchtap"),this.tCapObject=void 0;break;case"touchtap":notify=!1}return notify},EventConverter.prototype.convertMouse=function(e,data,object){var notify=!0;switch(e.type){case"mousedown":this.mCapObject&&this.notify(this.mCapObject,e,"mouseup"),this.mCapObject=object;break;case"mouseup":this.mCapObject&&!this.test(this.mCapObject,object)&&(this.notify(this.mCapObject,e,"mouseup"),notify=!1);break;case"click":notify=this.test(this.mCapObject,object),this.mCapObject=void 0;break;case"mouseenter":case"mouseover":case"mousemove":!this.test(this.mHovObject,object)&&this.mHovObject&&(this.notify(this.mHovObject,e,"mouseout"),this.mHovObject=void 0),!this.mHovObject&&object&&(this.notify(object,e,"mouseover"),this.mHovObject=object),notify="mousemove"===e.type;break;case"mouseleave":case"mouseout":this.mHovObject&&(this.notify(this.mHovObject,e,"mouseout"),this.mHovObject=void 0),notify=!1}return notify},EventConverter}();exports.default=EventConverter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var GraphUtils=function(){function GraphUtils(){_classCallCheck(this,GraphUtils)}return GraphUtils.extrapolateLinear=function(x,y,xi){return y[0]+(y[1]-y[0])/(x[1]-x[0])*(xi-x[0])},GraphUtils.interpolate01=function(y1,y2,t){return GraphUtils.extrapolateLinear([0,1],[y1,y2],t)},GraphUtils.getColorBytes=function(color){return[color>>16&255,color>>8&255,255&color]},GraphUtils.inverseColor=function(color){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,bs=GraphUtils.getColorBytes(color),ibs=[255-bs[0],255-bs[1],255-bs[2]],nbs=[Math.round(GraphUtils.interpolate01(bs[0],ibs[0],t)),Math.round(GraphUtils.interpolate01(bs[1],ibs[1],t)),Math.round(GraphUtils.interpolate01(bs[2],ibs[2],t))];return GraphUtils.bytes2Color(nbs)},GraphUtils.color2Rgba=function(color,a){return GraphUtils.bytes2Rgba(GraphUtils.getColorBytes(color),a)},GraphUtils.bytes2Rgba=function(bs,a){return"rgba("+bs.join(",")+","+a+")"},GraphUtils.bytes2Color=function(bs){return bs[2]|bs[1]<<8|bs[0]<<16},GraphUtils}();exports.default=GraphUtils},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _Cache=__webpack_require__(14),_Cache2=_interopRequireDefault(_Cache),_BlankImage=__webpack_require__(43),_BlankImage2=_interopRequireDefault(_BlankImage),_StaticImage=__webpack_require__(59),_StaticImage2=_interopRequireDefault(_StaticImage),_PdfImage=__webpack_require__(57),_PdfImage2=_interopRequireDefault(_PdfImage),_InteractiveImage=__webpack_require__(51),_InteractiveImage2=_interopRequireDefault(_InteractiveImage),ImageFactory=function(){function ImageFactory(context,cache){_classCallCheck(this,ImageFactory),this.context=context,this.cache=cache||new _Cache2.default}return ImageFactory.prototype.build=function(info){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,widthTexels=arguments.length>2&&void 0!==arguments[2]?arguments[2]:210,heightTexels=arguments.length>3&&void 0!==arguments[3]?arguments[3]:297,color=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16777215,injector=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,image=void 0;switch(info.type){case"html":image=new _InteractiveImage2.default(this.context,widthTexels,heightTexels,color,info.src,this.cache,injector);break;case"image":image=new _StaticImage2.default(this.context,widthTexels,heightTexels,color,info.src);break;case"pdf":image=new _PdfImage2.default(this.context,widthTexels,heightTexels,color,info.src,n);break;case"blank":default:image=new _BlankImage2.default(this.context,widthTexels,heightTexels,color)}return image},ImageFactory}();exports.default=ImageFactory},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_book=__webpack_require__(11),_BaseMathUtils=__webpack_require__(2),_BaseMathUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_BaseMathUtils),BookPropsBuilder=function(){function BookPropsBuilder(onReady){_classCallCheck(this,BookPropsBuilder),this.onReady=onReady,this.defaults=(0,_book.props)()}return BookPropsBuilder.prototype.dispose=function(){},BookPropsBuilder.prototype.calcSize=function(width,height){var scale=_BaseMathUtils2.default.calcScale(width,height,this.defaults.width,this.defaults.height);return{width:scale*width,height:scale*height}},BookPropsBuilder.prototype.calcTexels=function(width,height){var sheet=this.defaults.sheet,scale=_BaseMathUtils2.default.calcScale(width,height,sheet.widthTexels,sheet.heightTexels);return{widthTexels:scale*width,heightTexels:scale*height}},BookPropsBuilder.prototype.calcProps=function(width,height){this.props=_extends({},this.defaults,this.calcSize(width,height),{sheet:_extends({},this.defaults.sheet,this.calcTexels(width,height)),cover:_extends({},this.defaults.cover),page:_extends({},this.defaults.page)})},BookPropsBuilder.prototype.calcSheets=function(pages){return this.sheets=Math.ceil(Math.max(0,pages-4)/2)},BookPropsBuilder.prototype.getSheets=function(){return this.sheets},BookPropsBuilder.prototype.getProps=function(){return this.props},BookPropsBuilder.prototype.getPageCallback=function(){return this.binds.pageCallback},BookPropsBuilder.prototype.ready=function(){this.onReady&&this.onReady(this.getProps(),this.getSheets(),this.getPageCallback())},BookPropsBuilder}();exports.default=BookPropsBuilder},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(1),_sheetBlock=__webpack_require__(41),_sheetBlock2=_interopRequireDefault(_sheetBlock),_MathUtils=__webpack_require__(3),_MathUtils2=_interopRequireDefault(_MathUtils),_ThreeUtils=__webpack_require__(20),_ThreeUtils2=_interopRequireDefault(_ThreeUtils),SheetBlock=function(){function SheetBlock(visual,p,first,last){var angle=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,_this=this,state=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"closed",height=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;_classCallCheck(this,SheetBlock),this.visual=visual,this.p=_extends({},p,{first:first,last:last});var props=this.getProps(),loadedPoints=this.loadPoints();Object.keys(loadedPoints).map(function(k){_this[k]=loadedPoints[k][props.shape]||loadedPoints[k][0]}),this.pSpline=new _libs.THREE.CatmullRomCurve3([]);for(var i=0;i<this.interpolationPoints.x[0].length;++i)this.pSpline.points.push(new _libs.THREE.Vector3);this.iSpline=new _libs.THREE.CatmullRomCurve3([]);for(var _i=0;_i<_sheetBlock2.default.resX;++_i)this.iSpline.points.push(new _libs.THREE.Vector3);if(this.aSplines=[],this.geometry=_sheetBlock2.default.geometry.clone(),this.p.sideFaces=[{first:0,last:_sheetBlock2.default.faces[0]},{first:_sheetBlock2.default.faces[0],last:_sheetBlock2.default.faces[1]}],this.sideTexture=new _libs.THREE.Texture,this.sideTexture.wrapT=_libs.THREE.RepeatWrapping,this.sideTexture.repeat.set(0,last-first),this.sideTexture.image=props.sideTexture,this.sideTexture.needsUpdate=!0,this.materials=[new _libs.THREE.MeshPhongMaterial,new _libs.THREE.MeshPhongMaterial,new _libs.THREE.MeshPhongMaterial({map:this.sideTexture}),new _libs.THREE.MeshPhongMaterial({map:this.sideTexture}),new _libs.THREE.MeshPhongMaterial({map:this.sideTexture}),new _libs.THREE.MeshPhongMaterial({map:this.sideTexture})],this.p.setTexture(this.materials[0],2*first),this.p.setTexture(this.materials[1],2*last-1),this.mesh=new _libs.THREE.Mesh(this.geometry,this.materials),this.mesh.castShadow=!1,this.mesh.receiveShadow=!1,this.three=this.mesh,this.three.userData.self=this,this.markers=[],this.p.marker.use){var l=this.geometry.vertices.length,is=void 0;is=Array.apply(0,Array(l)).map(function(_,i){return i});for(var _iterator=is,_isArray=Array.isArray(_iterator),_i2=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i2>=_iterator.length)break;_ref=_iterator[_i2++]}else{if(_i2=_iterator.next(),_i2.done)break;_ref=_i2.value}var _i3=_ref,marker=_ThreeUtils2.default.createMarker(this.geometry.vertices[_i3],_i3<l/2?16711680:65280,this.p.marker.size);this.markers.push({marker:marker,vertex:_i3}),this.three.add(marker)}}this.corner={use:!0,height:0,maxDistance:0,points:[],OZ:new _libs.THREE.Vector3(0,0,1),axis:new _libs.THREE.Vector3},this.set(0,"closed",height,first,last),this.set(angle,state,height,first,last)}return SheetBlock.prototype.dispose=function(){for(var _iterator2=this.materials,_isArray2=Array.isArray(_iterator2),_i4=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i4>=_iterator2.length)break;_ref2=_iterator2[_i4++]}else{if(_i4=_iterator2.next(),_i4.done)break;_ref2=_i4.value}var m=_ref2;m.map&&(m.map=null,m.needsUpdate=!0),m.dispose()}delete this.materials,this.geometry.dispose()},SheetBlock.prototype.getSize=function(){return this.p.last-this.p.first},SheetBlock.prototype.getProps=function(){return _extends({},this.p.page,{sheets:this.p.sheets})},SheetBlock.prototype.getTopCerners=function(){var off=this.angle>Math.PI/2?this.geometry.vertices.length/2:0;return[this.geometry.vertices[off],this.geometry.vertices[_sheetBlock2.default.resX-1+off],this.geometry.vertices[(_sheetBlock2.default.resZ-1)*_sheetBlock2.default.resX+off],this.geometry.vertices[_sheetBlock2.default.resZ*_sheetBlock2.default.resX-1+off]]},SheetBlock.prototype.getTopSize=function(){var vs=this.getTopCerners();return{width:vs[0].distanceTo(vs[1]),height:vs[0].distanceTo(vs[2])}},SheetBlock.prototype.getTopWorldRotation=function(q){return q.x=-Math.PI/2,q},SheetBlock.prototype.getTopWorldPosition=function(v){var l=this.geometry.vertices.length,off=this.angle>Math.PI/2?l/2:0,vs=[this.geometry.vertices[off],this.geometry.vertices[_sheetBlock2.default.resX-1+off],this.geometry.vertices[(_sheetBlock2.default.resZ-1)*_sheetBlock2.default.resX+off],this.geometry.vertices[_sheetBlock2.default.resZ*_sheetBlock2.default.resX-1+off]];v.set(0,0,0);for(var _iterator3=vs,_isArray3=Array.isArray(_iterator3),_i5=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i5>=_iterator3.length)break;_ref3=_iterator3[_i5++]}else{if(_i5=_iterator3.next(),_i5.done)break;_ref3=_i5.value}var vi=_ref3;v.x+=.25*vi.x,v.y+=.25*vi.y,v.z+=.25*vi.z}return this.three.localToWorld(v),v},SheetBlock.prototype.getInterpolationPoints=function(inds,mod){for(var ps={x:[],y:[]},K=this.getProps().wave,_iterator4=inds,_isArray4=Array.isArray(_iterator4),_i6=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i6>=_iterator4.length)break;_ref4=_iterator4[_i6++]}else{if(_i6=_iterator4.next(),_i6.done)break;_ref4=_i6.value}var i=_ref4;ps.x.push([].concat(this.interpolationPoints.x[i])),ps.y.push(~mod.indexOf(i)?this.interpolationPoints.y[i].map(function(n){return K*n}):[].concat(this.interpolationPoints.y[i]))}return ps},SheetBlock.prototype.set=function(angle){var state=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,height=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.corner.height,first=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.p.first,last=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.p.last,PI=Math.PI;this.state=state;var closedAngle=void 0,binderTurn=void 0;"object"===(void 0===angle?"undefined":_typeof(angle))?(this.angle=angle.openedAngle,closedAngle=angle.closedAngle,binderTurn=angle.binderTurn>PI/2?PI-angle.binderTurn:angle.binderTurn):this.angle=angle,this.corner.height=height,this.p.first===first&&this.p.last===last||(this.sideTexture.repeat.set(0,last-first),this.sideTexture.needsUpdate=!0,this.p.first!==first&&this.p.setTexture(this.materials[0],2*first),this.p.last!==last&&this.p.setTexture(this.materials[1],2*last-1)),this.p.first=first,this.p.last=last;var points=void 0,props=this.getProps();if("closed"===this.state)points=this.getInterpolationPoints(this.closedInterpolationIndeces,this.closedInterpolationIndeces);else if("opened"===this.state)if(void 0!==closedAngle&&Math.abs(closedAngle-PI/2)>.01){points=this.getInterpolationPoints(this.flatInterpolationIndeces,[]);var ps=this.getPointsAtAngle(this.getInterpolationPoints(this.closedInterpolationIndeces,this.closedInterpolationIndeces),closedAngle>PI/2?PI-closedAngle:closedAngle);points.x=[ps.x].concat(points.x),points.y=[ps.y].concat(points.y)}else points=this.getInterpolationPoints(this.openedInterpolationIndeces,this.closedInterpolationIndeces);var hl=void 0,hr=void 0,offset=.5*props.sheets*props.depth;"closed"===this.state&&(offset-=7e-6*this.p.scale),this.angle<=PI/2?(hl=(props.sheets-first)*props.depth,hr=(props.sheets-last)*props.depth):(hl=first*props.depth,hr=last*props.depth);var inAngle=this.angle>PI/2?PI-this.angle:this.angle,hAngle="closed"===this.state?inAngle:void 0===binderTurn?PI/2:binderTurn,_getPointsAtAngleAndH=this.getPointsAtAngleAndHs(points,inAngle,hAngle,[hl/props.width,hr/props.width]),left=_getPointsAtAngleAndH[0],right=_getPointsAtAngleAndH[1];this.angle>PI/2&&(this.inverse(left),this.inverse(right),offset=-offset),this.setPoints(left,right,offset)},SheetBlock.prototype.setPoints=function(left,right,offset){for(var _this2=this,p=this.getProps(),i=0,ys=[right,left],y=0;y<_sheetBlock2.default.resY;++y)for(var z=0;z<_sheetBlock2.default.resZ;++z)for(var x=0;x<_sheetBlock2.default.resX;++x)this.geometry.vertices[i++].set(ys[y].x[x]*p.width+offset,ys[y].y[x]*p.width,z*p.height/(_sheetBlock2.default.resZ-1)-.5*p.height);if(i!==this.geometry.vertices.length&&console.warn("setPoints: bad mapping!"),this.corner.use&&!this.corner.points.length){var plane=new _libs.THREE.Plane,normal=plane.normal,planeOffset=(1-this.getProps().flexibleCorner)*Math.min(p.width,p.height),proj=new _libs.THREE.Vector3;plane.setFromNormalAndCoplanarPoint(new _libs.THREE.Vector3(-1,0,-1).normalize(),new _libs.THREE.Vector3(planeOffset+offset,0,.5*p.height));for(var _i7=0,l=this.geometry.vertices.length;_i7<l;++_i7)if(plane.projectPoint(this.geometry.vertices[_i7],proj),proj.sub(this.geometry.vertices[_i7]),proj.x*normal.x+proj.y*normal.y+proj.z*normal.z>0){var d=proj.length()/planeOffset;this.corner.maxDistance=Math.max(this.corner.maxDistance,d),this.corner.points.push({vertex:_i7,distance:d})}}if(this.corner.use&&Math.abs(this.corner.height)>.001){this.corner.axis.set(-1,0,1).normalize(),this.corner.axis.applyAxisAngle(this.corner.OZ,this.angle);for(var _iterator5=this.corner.points,_isArray5=Array.isArray(_iterator5),_i8=0,_iterator5=_isArray5?_iterator5:_iterator5[Symbol.iterator]();;){var _ref5;if(_isArray5){if(_i8>=_iterator5.length)break;_ref5=_iterator5[_i8++]}else{if(_i8=_iterator5.next(),_i8.done)break;_ref5=_i8.value}var point=_ref5;this.geometry.vertices[point.vertex].applyAxisAngle(this.corner.axis,function(d){return p.cornerDeviation*_this2.corner.height/(1+Math.exp(-p.bending*(d-.5*_this2.corner.maxDistance)))}(point.distance))}}for(var _iterator6=this.markers,_isArray6=Array.isArray(_iterator6),_i9=0,_iterator6=_isArray6?_iterator6:_iterator6[Symbol.iterator]();;){var _ref6;if(_isArray6){if(_i9>=_iterator6.length)break;_ref6=_iterator6[_i9++]}else{if(_i9=_iterator6.next(),_i9.done)break;_ref6=_i9.value}var m=_ref6;m.marker.position.copy(this.geometry.vertices[m.vertex])}this.geometry.computeVertexNormals(),this.geometry.computeBoundingSphere(),this.geometry.verticesNeedUpdate=!0,this.markup&&this.markup.computeVertices()},SheetBlock.prototype.inverse=function(ps){for(var i=0;i<ps.x.length;++i)ps.x[i]=-ps.x[i];return ps},SheetBlock.prototype.getPointsAtHs=function(ps,angle,hs){var _this3=this,N=1e3;_MathUtils2.default.setSplinePoints(this.pSpline,ps);var bl=_MathUtils2.default.splitSpline(this.pSpline,N),r=[],p1=_extends({},this.pSpline.getPoint(.999)),p2=_extends({},this.pSpline.getPoint(1)),dp={x:p2.x-p1.x,y:p2.y-p1.y},ln=Math.sqrt(dp.x*dp.x+dp.y*dp.y),sp=this.pSpline.points[this.pSpline.points.length-1];sp.set(sp.x+.1*dp.x/ln,sp.y+.1*dp.y/ln,0),bl=_MathUtils2.default.splitSpline(this.pSpline,N),bl.ls.push(1e7),_MathUtils2.default.mapl2L(bl.ls,bl.len,_sheetBlock2.default.resX,function(i){for(var j=0;j<hs.length;++j)if(i){var p0=_extends({},_this3.pSpline.getPoint((i-1)/N)),_p=_this3.pSpline.getPoint(i/N),x=-(_p.y-p0.y),y=_p.x-p0.x,l=Math.sqrt(x*x+y*y);r[j].x.push(_p.x+x/l*hs[j]),r[j].y.push(_p.y+y/l*hs[j])}else r[j]={x:[-hs[j]*Math.sin(angle)],y:[hs[j]*Math.cos(angle)]}});for(var nps=[],j=0;j<hs.length;++j)!function(j){nps[j]={x:[],y:[]},_MathUtils2.default.setSplinePoints(_this3.iSpline,r[j]);var l=_MathUtils2.default.splitSpline(_this3.iSpline,N);l.ls.push(1e7),_MathUtils2.default.mapl2L(l.ls,1,_sheetBlock2.default.resX,function(i){var p=_this3.iSpline.getPoint(i/N);nps[j].x.push(p.x),nps[j].y.push(p.y)})}(j);return nps},SheetBlock.prototype.getPointsAtAngleAndHs=function(points,angle,hAngle,hs){var ps=this.getPointsAtAngle(points,angle);return this.getPointsAtHs(ps,hAngle,hs)},SheetBlock.prototype.getPointsAtAngle=function(points,angle){var ps={x:[],y:[]},angles=[];angle/=Math.PI/2;for(var j=0;j<points.x.length;++j)angles.push(j/(points.x.length-1));for(var i=0;i<points.x[0].length;++i){for(var xps=[],yps=[],_j=0;_j<points.x.length;++_j)xps.push(points.x[_j][i]),yps.push(points.y[_j][i]);ps.x.push(this.interpolate(angles,xps,angle)),ps.y.push(this.interpolate(angles,yps,angle))}return ps},SheetBlock.prototype.interpolate=function(x,y,xi){if(!this.aSplines[x.length]){this.aSplines[x.length]=new _libs.THREE.CatmullRomCurve3([]);for(var ps=this.aSplines[x.length].points,i=0;i<x.length;++i)ps.push(new _libs.THREE.Vector3)}for(var spline=this.aSplines[x.length],_i10=0;_i10<x.length;++_i10)spline.points[_i10].set(x[_i10],y[_i10],0);return spline.getPoint(Math.min(1,Math.max(xi,0))).y},SheetBlock.prototype.loadPoints=function(){for(var x=[],y=[],_arr=[0,.2877,.6347,.8174,1],_i11=0;_i11<_arr.length;_i11++){var r=_arr[_i11];x.push(r*Math.cos(.9*Math.PI/4)),y.push(r*Math.sin(.9*Math.PI/4))}return{interpolationPoints:[{x:[[0,.2877,.6347,.8174,1],[0,.286,.632,.815,.997],[0,.279,.623,.806,.988],[0,.126,.411,.593,.774],[0,0,0,0,0],x],y:[[0,0,0,0,0],[0,.03,.01,.002,0],[0,.06,.017,.004,0],[0,.259,.44,.446,.429],[0,.2877,.6347,.8174,1],y]},{x:[[0,.2877,.6347,.8174,1],[0,.286,.632,.815,.997],[0,.279,.623,.806,.988],[0,.233,.563,.746,.927],[0,.144,.433,.613,.796],[0,.07,.288,.455,.626],[0,0,0,0,0],x],y:[[0,0,0,0,0],[0,.03,.01,.002,0],[0,.06,.017,.004,0],[0,.168,.269,.27,.255],[0,.245,.435,.458,.46],[0,.278,.544,.614,.673],[0,.2877,.6347,.8174,1],y]}],openedInterpolationIndeces:[[2,3,4],[2,3,4,5,6]],closedInterpolationIndeces:[[0,1,2],[0,1,2]],flatInterpolationIndeces:[[5,4],[7,6]]}},SheetBlock}();exports.default=SheetBlock},function(module,exports,__webpack_require__){"use strict";function props(){return{height:.297,width:.21,gravity:1,cachedPages:50,renderInactivePages:!0,renderInactivePagesOnMobile:!1,renderWhileFlipping:!1,pagesForPredicting:5,preloadPages:5,rtl:!1,sheet:{startVelocity:1.2,cornerDeviation:.25,flexibility:10,flexibleCorner:.5,bending:11,wave:.5,shape:0,widthTexels:1050,heightTexels:1485,color:16777215},cover:{binderTexture:"",depth:3e-4,padding:0,mass:.003},page:{depth:1e-4,mass:.001},cssLayerProps:{width:1024}}}exports.__esModule=!0,exports.props=props},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0,exports.CSS3DSprite=exports.CSS3DObject=void 0;var _libs=__webpack_require__(0);_libs.THREE.CSS3DObject=function(_THREE$Object3D){function CSS3DObject(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;_classCallCheck(this,CSS3DObject);var _this=_possibleConstructorReturn(this,_THREE$Object3D.call(this));return element&&_this.set(element),_this}return _inherits(CSS3DObject,_THREE$Object3D),CSS3DObject.prototype.set=function(element){this.element=element,this.element.style.position="absolute",this.addEventListener("removed",function(){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})},CSS3DObject}(_libs.THREE.Object3D),_libs.THREE.CSS3DSprite=function(_THREE$CSS3DObject){function CSS3DSprite(element){return _classCallCheck(this,CSS3DSprite),_possibleConstructorReturn(this,_THREE$CSS3DObject.call(this,element))}return _inherits(CSS3DSprite,_THREE$CSS3DObject),CSS3DSprite}(_libs.THREE.CSS3DObject),_libs.THREE.CSS3DRenderer=function CSS3DRenderer(){function epsilon(value){return Math.abs(value)<1e-10?0:value}function getCameraCSSMatrix(matrix){var elements=matrix.elements;return"matrix3d("+epsilon(elements[0])+","+epsilon(-elements[1])+","+epsilon(elements[2])+","+epsilon(elements[3])+","+epsilon(elements[4])+","+epsilon(-elements[5])+","+epsilon(elements[6])+","+epsilon(elements[7])+","+epsilon(elements[8])+","+epsilon(-elements[9])+","+epsilon(elements[10])+","+epsilon(elements[11])+","+epsilon(elements[12])+","+epsilon(-elements[13])+","+epsilon(elements[14])+","+epsilon(elements[15])+")"}function getObjectCSSMatrix(matrix,cameraCSSMatrix){var elements=matrix.elements,matrix3d="matrix3d("+epsilon(elements[0])+","+epsilon(elements[1])+","+epsilon(elements[2])+","+epsilon(elements[3])+","+epsilon(-elements[4])+","+epsilon(-elements[5])+","+epsilon(-elements[6])+","+epsilon(-elements[7])+","+epsilon(elements[8])+","+epsilon(elements[9])+","+epsilon(elements[10])+","+epsilon(elements[11])+","+epsilon(elements[12])+","+epsilon(elements[13])+","+epsilon(elements[14])+","+epsilon(elements[15])+")";return isIE?"translate(-50%,-50%)translate("+_widthHalf+"px,"+_heightHalf+"px)"+cameraCSSMatrix+matrix3d:"translate(-50%,-50%)"+matrix3d}function renderObject(object,camera,cameraCSSMatrix){if(object instanceof _libs.THREE.CSS3DObject){var style;object instanceof _libs.THREE.CSS3DSprite?(matrix.copy(camera.matrixWorldInverse),matrix.transpose(),matrix.copyPosition(object.matrixWorld),matrix.scale(object.scale),matrix.elements[3]=0,matrix.elements[7]=0,matrix.elements[11]=0,matrix.elements[15]=1,style=getObjectCSSMatrix(matrix,cameraCSSMatrix)):style=getObjectCSSMatrix(object.matrixWorld,cameraCSSMatrix);var element=object.element,cachedStyle=cache.objects[object.id]&&cache.objects[object.id].style;void 0!==cachedStyle&&cachedStyle===style||(element.style.WebkitTransform=style,element.style.MozTransform=style,element.style.transform=style,cache.objects[object.id]={style:style},isIE&&(cache.objects[object.id].distanceToCameraSquared=getDistanceToSquared(camera,object))),element.parentNode!==cameraElement&&cameraElement.appendChild(element)}for(var i=0,l=object.children.length;i<l;i++)renderObject(object.children[i],camera,cameraCSSMatrix)}function zOrder(scene){var order=Object.keys(cache.objects).sort(function(a,b){return cache.objects[a].distanceToCameraSquared-cache.objects[b].distanceToCameraSquared}),zMax=order.length;scene.traverse(function(object){var index=order.indexOf(object.id+"");-1!==index&&(object.element.style.zIndex=zMax-index)})}_classCallCheck(this,CSS3DRenderer);var _width,_height,_widthHalf,_heightHalf,matrix=new _libs.THREE.Matrix4,cache={camera:{fov:0,style:""},objects:{}},domElement=document.createElement("div");domElement.style.overflow="hidden",this.domElement=domElement;var cameraElement=document.createElement("div");cameraElement.style.WebkitTransformStyle="preserve-3d",cameraElement.style.MozTransformStyle="preserve-3d",cameraElement.style.transformStyle="preserve-3d",domElement.appendChild(cameraElement);var isIE=/Trident/i.test(navigator.userAgent);this.setClearColor=function(){},this.getSize=function(){return{width:_width,height:_height}},this.setSize=function(width,height){_width=width,_height=height,_widthHalf=_width/2,_heightHalf=_height/2,domElement.style.width=width+"px",domElement.style.height=height+"px",cameraElement.style.width=width+"px",cameraElement.style.height=height+"px"};var getDistanceToSquared=function(){var a=new _libs.THREE.Vector3,b=new _libs.THREE.Vector3;return function(object1,object2){return a.setFromMatrixPosition(object1.matrixWorld),b.setFromMatrixPosition(object2.matrixWorld),a.distanceToSquared(b)}}();this.render=function(scene,camera){var fov=camera.projectionMatrix.elements[5]*_heightHalf;cache.camera.fov!==fov&&(domElement.style.WebkitPerspective=fov+"px",domElement.style.MozPerspective=fov+"px",domElement.style.perspective=fov+"px",cache.camera.fov=fov),scene.updateMatrixWorld(),null===camera.parent&&camera.updateMatrixWorld();var cameraCSSMatrix="translateZ("+fov+"px)"+getCameraCSSMatrix(camera.matrixWorldInverse),style=cameraCSSMatrix+"translate("+_widthHalf+"px,"+_heightHalf+"px)";cache.camera.style===style||isIE||(cameraElement.style.WebkitTransform=style,cameraElement.style.MozTransform=style,cameraElement.style.transform=style,cache.camera.style=style),renderObject(scene,camera,cameraCSSMatrix),isIE&&zOrder(scene)}},exports.default=_libs.THREE.CSS3DRenderer;var _CSS3DObject=_libs.THREE.CSS3DObject,_CSS3DSprite=_libs.THREE.CSS3DSprite;exports.CSS3DObject=_CSS3DObject,exports.CSS3DSprite=_CSS3DSprite},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_CSS3DRenderer=__webpack_require__(12),CSSLayer=function(_CSS3DObject){function CSSLayer(width,height,props){_classCallCheck(this,CSSLayer);var _this=_possibleConstructorReturn(this,_CSS3DObject.call(this));_this.props=props,_this.jContainer=(0,_libs.$)('<div class="hidden css-layer"></div>');var widthPxs=props.width,heightPxs=height/width*widthPxs;return _this.jContainer.width(widthPxs).height(heightPxs),_this.scale.x/=widthPxs/width,_this.scale.y/=widthPxs/width,_this.setData(),_this.set(_this.jContainer[0]),_this}return _inherits(CSSLayer,_CSS3DObject),CSSLayer.init=function(doc){var delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;CSSLayer.delay=delay,CSSLayer.style=(0,_libs.$)("<style type=text/css>\n      .css-layer {\n    \t\topacity: 1;\n    \t\ttransition: opacity "+delay+"ms ease-out;\n        visibility: visible;\n        overflow: hidden;\n    \t}\n    \t.css-layer.hidden {\n    \t\ttransition: opacity "+delay+"ms ease-in, visibility "+delay+"ms step-end;\n    \t\topacity: 0;\n        visibility: hidden;\n      }\n    </style>").appendTo(doc.head)},CSSLayer.dispose=function(){CSSLayer.style.remove()},CSSLayer.prototype.callInternal=function(name){if(this.object&&this.object[name])try{this.object[name]()}catch(e){console.error(e)}},CSSLayer.prototype.dispose=function(){this.clearInternals()},CSSLayer.prototype.clearInternals=function(){this.callInternal("dispose"),!this.css||this.css.remove(),!this.html||this.html.remove()},CSSLayer.prototype.setData=function setData(){var css=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",html=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",js=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.clearInternals(),this.css=(0,_libs.$)('<style type="text/css">'+css+"</style>").appendTo(this.jContainer),this.html=(0,_libs.$)(html).appendTo(this.jContainer);var init=eval(js);init&&(this.object=init(this.jContainer,this.props)||{})},CSSLayer.prototype.pendedCall=function(clb){var _this2=this,timestamp=this.timestamp=Date.now();setTimeout(function(){timestamp===_this2.timestamp&&clb()},CSSLayer.delay)},CSSLayer.prototype.isHidden=function(){return this.jContainer.hasClass("hidden")},CSSLayer.prototype.hide=function(){var _this3=this,res=void 0;return this.isHidden()?res=Promise.resolve():(this.jContainer.addClass("hidden"),this.callInternal("hide"),res=new Promise(function(resolve){_this3.pendedCall(function(){_this3.callInternal("hidden"),resolve()})})),res},CSSLayer.prototype.show=function(){var _this4=this,res=void 0;return this.isHidden()?(this.jContainer.removeClass("hidden"),this.callInternal("show"),res=new Promise(function(resolve){_this4.pendedCall(function(){_this4.callInternal("shown"),resolve()})})):res=Promise.resolve(),res},CSSLayer}(_CSS3DRenderer.CSS3DObject);exports.default=CSSLayer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var Cache=function(){function Cache(){var maxSize=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,sizeof=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cache.countSizeof;_classCallCheck(this,Cache),this.os=new Map,this.sizeof=sizeof,this.maxSize=maxSize,this.size=0}return Cache.prototype.forEach=function(clb){this.os.forEach(function(v,k){return clb([k,v])})},Cache.countSizeof=function(value){return 1},Cache.prototype.remove=function(k){var res=!1,v=this.os.get(k);return v.locked&&v.locked(k)||(this.size-=this.sizeof(v),v.dispose&&v.dispose(),this.os.delete(k),res=!0),res},Cache.prototype.freeSpace=function(){for(var arr=[],_iterator=this.os,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var p=_ref;arr.push({timestamp:p[1].timestamp,key:p[0]})}arr.sort(function(a,b){return a.timestamp-b.timestamp});for(var i=0;i<arr.length&&this.size>3*this.maxSize/4;++i)this.remove(arr[i].key)},Cache.prototype.dispose=function(){for(var arr=[],_iterator2=this.os,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var p=_ref2;arr.push({v:p[1],k:p[0]})}for(var _iterator3=arr,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var o=_ref3;o.v.dispose&&o.v.dispose(),this.os.delete(o.k)}},Cache.recursionSizeof=function(value){var size=0;if(value){++size;var len=value.length;if(void 0===len)for(var p in value)value.hasOwnProperty(p)&&(size+=Cache.recursionSizeof(value[p]));else size+=len}return size},Cache.prototype.getTimestamp=function(){return Date.now()},Cache.prototype.get=function(key){var value=this.os.get(key);return value&&(value.timestamp=this.getTimestamp()),value},Cache.prototype.put=function(key,value){return value.timestamp=this.getTimestamp(),this.os.set(key,value),this.size+=this.sizeof(value),this.size>this.maxSize&&this.freeSpace(),value},Cache}();exports.default=Cache},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),Controller=function(_THREE$EventDispatche){function Controller(){return _classCallCheck(this,Controller),_possibleConstructorReturn(this,_THREE$EventDispatche.apply(this,arguments))}return _inherits(Controller,_THREE$EventDispatche),Controller.prototype.handleDefault=function(id,e,data){},Controller.prototype.dispatchAsync=function(e){var _this2=this;Promise.resolve().then(function(){return _this2.dispatchEvent(e)})},Controller.prototype.dispose=function(){},Controller}(_libs.THREE.EventDispatcher);exports.default=Controller},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _EventConverter2=__webpack_require__(6),_EventConverter3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_EventConverter2),CustomEventConverter=function(_EventConverter){function CustomEventConverter(wnd,doc){var customTest=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1},eDoc=arguments[3];_classCallCheck(this,CustomEventConverter);var _this=_possibleConstructorReturn(this,_EventConverter.call(this,wnd,doc));return _this.eDoc=eDoc,_this.customTest=customTest,_this.customs=[],_this}return _inherits(CustomEventConverter,_EventConverter),CustomEventConverter.prototype.test=function(object1,object2){return!(!object1||!object2)&&this.customTest(object1,object2)},CustomEventConverter.prototype.getCallback=function(object){return object.target.callback},CustomEventConverter.prototype.addCustom=function(custom){this.customs.push(custom)},CustomEventConverter.prototype.getObject=function(e,data){var object=void 0;if(data.doc===this.eDoc)for(var _iterator=this.customs,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var custom=_ref;if(object=custom.testIntersection(e,data))break}return object},CustomEventConverter}(_EventConverter3.default);exports.default=CustomEventConverter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_Utils=__webpack_require__(4),_Utils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Utils),Finder=function(){function Finder(strs,pattern,props){_classCallCheck(this,Finder),this.props=_extends({},Finder.defaults,props),this.strs=strs;this.merge(strs);this.hits=[],this.contexts=[],this.pattern=pattern.toLowerCase(),this.lstr=this.str.toLowerCase();for(var p=0;;){if(-1===(p=this.lstr.indexOf(this.pattern,p)))break;this.addHits(p),this.addContext(p),p+=this.pattern.length}}return Finder.isDelimetr=function(s){return s===Finder.DELIMITER},Finder.prototype.merge=function(){for(var as=[],map=[],strs=this.strs,p=0,i=0;i<strs.length;++i)strs[i].length&&(map.push({base:i,offset:p}),as.push(strs[i]),p+=strs[i].length,i<strs.length-1&&!Finder.isDelimetr(strs[i].charAt(strs[i].length-1))&&!Finder.isDelimetr(strs[i+1].charAt(0))&&(as.push(Finder.DELIMITER),++p));this.map=map,this.str=as.join("")},Finder.prototype.addHits=function(p){var info=this.map[_Utils2.default.lowerBound(this.map,{offset:p},function(a,b){return a.offset-b.offset})],chars=this.pattern.length,i=info.base;for(p-=info.offset;chars;)if(this.strs[i].length){var delimeter=i<this.strs.length-1&&!Finder.isDelimetr(this.strs[i].charAt(this.strs[i].length-1))&&!Finder.isDelimetr(this.strs[i+1].charAt(0)),length=Math.min(this.strs[i].length+(delimeter?1:0)-p,chars);p<this.strs[i].length&&this.hits.push({index:i,offset:p,length:Math.min(length,this.strs[i].length-p)}),chars-=length,++i,p=0}},Finder.prototype.addContext=function(p){for(var f=p,l=p+this.pattern.length-1,dels=this.props.contextLength,prevDels=dels+1;dels&&prevDels-dels;)if(prevDels=dels,dels%2){for(var i=f-2;i>=0;--i)if(Finder.isDelimetr(this.str[i])||0===i){f=0===i?0:i+1,--dels;break}}else for(var _i=l+2;_i<this.str.length;++_i)if(Finder.isDelimetr(this.str[_i])||_i===this.str.length-1){l=_i===this.str.length-1?_i===this.str.length-1:_i-1,--dels;break}this.contexts.push(this.str.substr(f,l-f+1))},Finder.prototype.getHits=function(){return this.hits},Finder.prototype.getContexts=function(){return this.contexts},Finder}();Finder.DELIMITER=" ",Finder.defaults={contextLength:7,hits:!0,contexts:!0},exports.default=Finder},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),_Utils=__webpack_require__(4),_Utils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Utils);_libs.PDFJS.GlobalWorkerOptions.workerSrc=(window.PDFJS_LOCALE?PDFJS_LOCALE:__webpack_require__.i({pdfJsWorker:"js/pdf.worker.js",pdfJsCMapUrl:"cmaps/"})).pdfJsWorker,_libs.PDFJS.cMapUrl=(window.PDFJS_LOCALE?PDFJS_LOCALE:__webpack_require__.i({pdfJsWorker:"js/pdf.worker.js",pdfJsCMapUrl:"cmaps/"})).pdfJsCMapUrl,_libs.PDFJS.cMapPacked=!0,_libs.PDFJS.disableAutoFetch=!0,_libs.PDFJS.disableStream=!0,_libs.PDFJS.imageResourcesPath="images/pdfjs/",_libs.PDFJS.externalLinkTarget=_libs.PDFJS.LinkTarget.BLANK;var Pdf=function(){function Pdf(src,loadingProgress){var _this=this;_classCallCheck(this,Pdf),this.src=_Utils2.default.normalizeUrl(src),this.handlerQueue=[],this.progresData={loaded:-1,total:1},this.loadingProgress=loadingProgress,this.task=_libs.PDFJS.getDocument({url:this.src,rangeChunkSize:524288,cMapUrl:_libs.PDFJS.cMapUrl,cMapPacked:_libs.PDFJS.cMapPacked,disableAutoFetch:_libs.PDFJS.disableAutoFetch,disableStream:_libs.PDFJS.disableStream,imageResourcesPath:_libs.PDFJS.imageResourcesPath,externalLinkTarget:_libs.PDFJS.externalLinkTarget}),this.task.onProgress=function(data){if(_this.loadingProgress){var cur=Math.floor(100*data.loaded/data.total),old=Math.floor(100*_this.progresData.loaded/_this.progresData.total);cur!==old&&(cur=isNaN(cur)?0:cur,cur=cur>100?100:cur,Promise.resolve().then(function(){_this.loadingProgress(cur)}))}_this.progresData=data},this.task.promise.then(function(handler){handler.numPages>1?Promise.all([handler.getPage(1),handler.getPage(2)]).then(function(pages){_this.init(handler,pages)}):_this.init(handler)}).catch(function(e){return console.error(e)})}return Pdf.prototype.init=function(handler,pages){this.handler=handler,this.doubledPages=!!pages&&Math.abs(2*Pdf.getPageSize(pages[0]).width-Pdf.getPageSize(pages[1]).width)/Pdf.getPageSize(pages[0]).width<.01;for(var done=Promise.resolve(handler),_iterator=this.handlerQueue.reverse(),_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if("break"===function(){if(_isArray){if(_i>=_iterator.length)return"break";_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)return"break";_ref=_i.value}var clb=_ref;done=done.then(function(handler){return clb(handler),handler})}())break}},Pdf.prototype.getPageType=function(n){return this.doubledPages&&0!==n&&n!==this.getPagesNum()-1?1&n?"left":"right":"full"},Pdf.prototype.getPage=function(n){return this.handler.getPage(this.doubledPages?Math.ceil(n/2)+1:n+1)},Pdf.prototype.dispose=function(){this.handlerQueue.splice(0,this.handlerQueue.length),delete this.handler},Pdf.prototype.setLoadingProgressClb=function(clb){this.loadingProgress=clb},Pdf.prototype.getPagesNum=function(){return this.handler?this.doubledPages?2*(this.handler.numPages-1):this.handler.numPages:void 0},Pdf.getPageSize=function(page){return{width:page.view[2]-page.view[0],height:page.view[3]-page.view[1]}},Pdf.prototype.getHandler=function(clb){this.handler?clb(this.handler):this.handlerQueue.push(clb)},Pdf}();exports.default=Pdf},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),ThreeEventConverterFs=function(){function ThreeEventConverterFs(visualWorld){var test=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ThreeEventConverterFs.objectsAndFacesTest;_classCallCheck(this,ThreeEventConverterFs),this.visual=visualWorld,this.coords=new _libs.THREE.Vector2,this.raycaster=this.visual.raycaster,this.camera=this.visual.camera,this.threes=[],this.test=test}return ThreeEventConverterFs.objectsTest=function(object1,object2){return!(!object1||!object2)&&object1.object===object2.object},ThreeEventConverterFs.objectsAndFacesTest=function(object1,object2){return!(!object1||!object2)&&(object1.object===object2.object&&object1.face.materialIndex===object2.face.materialIndex)},ThreeEventConverterFs.prototype.addThree=function(three){this.threes.push(three)},ThreeEventConverterFs.prototype.removeThree=function(three){var i=this.threes.indexOf(three);~i&&this.threes.splice(i,1)},ThreeEventConverterFs.prototype.getObject=function(e){return this.setCoordsFromEvent(e),this.raycaster.setFromCamera(this.coords,this.camera),this.raycaster.intersectObjects(this.threes)[0]},ThreeEventConverterFs}();exports.default=ThreeEventConverterFs},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _BaseMathUtils=__webpack_require__(2),_BaseMathUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_BaseMathUtils),ThreeUtils=function(){function ThreeUtils(){_classCallCheck(this,ThreeUtils)}return ThreeUtils.vertices2UVs=function(vertices,indeces,first,last,converClb){for(var r=[],i=first;i<last;++i)for(var vis=[indeces[i].a,indeces[i].b,indeces[i].c],j=0;j<vis.length;++j)r[vis[j]]||(r[vis[j]]=converClb(vertices[vis[j]]));return r},ThreeUtils.computeFaceVertexUvs=function(geometry,faces){for(var uvs=[ThreeUtils.vertices2UVs(geometry.vertices,geometry.faces,0,faces[0],function(p){return new THREE.Vector2(p.x,1-p.z)}),ThreeUtils.vertices2UVs(geometry.vertices,geometry.faces,faces[0],faces[1],function(p){return new THREE.Vector2(1-p.x,1-p.z)}),ThreeUtils.vertices2UVs(geometry.vertices,geometry.faces,faces[1],faces[2],function(p){return new THREE.Vector2(p.x,p.y)}),ThreeUtils.vertices2UVs(geometry.vertices,geometry.faces,faces[2],faces[3],function(p){return new THREE.Vector2(1-p.x,p.y)}),ThreeUtils.vertices2UVs(geometry.vertices,geometry.faces,faces[3],faces[4],function(p){return new THREE.Vector2(p.z,p.y)}),ThreeUtils.vertices2UVs(geometry.vertices,geometry.faces,faces[4],geometry.faces.length,function(p){return new THREE.Vector2(1-p.z,p.y)})],uvsi=0,i=0;i<geometry.faces.length;++i){uvsi+=faces[uvsi]===i;var f=geometry.faces[i];f.materialIndex=uvsi,geometry.faceVertexUvs[0][i]=[uvs[uvsi][f.a],uvs[uvsi][f.b],uvs[uvsi][f.c]]}},ThreeUtils.createMarker=function(p,c,size){var marker=new THREE.Mesh(new THREE.SphereGeometry(size),new THREE.MeshPhongMaterial({color:c}));return marker.position.set(p.x,p.y,p.z),marker},ThreeUtils.findUvTris=function(geometry,ps,first,last){for(var res=[],_iterator=ps,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}for(var p=_ref,found=!1,i=first;i<last&&!found;++i){var tri=geometry.faceVertexUvs[0][i];_BaseMathUtils2.default.isInsideConvPoly(tri,p)&&(res.push({coefs:_BaseMathUtils2.default.computeInterpCoefs(tri,p),i:i}),found=!0)}found||(console.error("Bad point"),res.push(void 0))}return res},ThreeUtils.findInternalVertices=function(geometry,ps,first,last){for(var res={},i=first;i<last;++i)for(var tri=geometry.faceVertexUvs[0][i],f=geometry.faces[i],vs=[f.a,f.b,f.c],j=0;j<tri.length;++j)void 0===res[vs[j]]&&_BaseMathUtils2.default.isInsidePoly(ps,tri[j])&&(res[vs[j]]={p:tri[j],i:vs[j],n:f.vertexNormals[j]});return Object.values(res)},ThreeUtils}();exports.default=ThreeUtils},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var Target=function(){function Target(){_classCallCheck(this,Target)}return Target.test=function(object1,object2){return object1.target===object2.target},Target}();exports.default=Target},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(1),_Detector=__webpack_require__(45),_Detector2=_interopRequireDefault(_Detector),_VisualWorld=__webpack_require__(66),_VisualWorld2=_interopRequireDefault(_VisualWorld),_PdfLinksHandler=__webpack_require__(35),_PdfLinksHandler2=_interopRequireDefault(_PdfLinksHandler),_Book=__webpack_require__(26),_Book2=_interopRequireDefault(_Book),_BookView=__webpack_require__(29),_BookView2=_interopRequireDefault(_BookView),_BookController=__webpack_require__(27),_BookController2=_interopRequireDefault(_BookController),_PdfBookPropsBuilder=__webpack_require__(34),_PdfBookPropsBuilder2=_interopRequireDefault(_PdfBookPropsBuilder),_ClbBookPropsBuilder=__webpack_require__(30),_ClbBookPropsBuilder2=_interopRequireDefault(_ClbBookPropsBuilder),_LoadingController=__webpack_require__(53),_LoadingController2=_interopRequireDefault(_LoadingController),_Search=__webpack_require__(58),_Search2=_interopRequireDefault(_Search),_Bookmarks=__webpack_require__(44),_Bookmarks2=_interopRequireDefault(_Bookmarks),_Thumbnails=__webpack_require__(63),_Thumbnails2=_interopRequireDefault(_Thumbnails),_TocController=__webpack_require__(40),_TocController2=_interopRequireDefault(_TocController),_BookPrinter=__webpack_require__(28),_BookPrinter2=_interopRequireDefault(_BookPrinter),_AutoNavigator=__webpack_require__(24),_AutoNavigator2=_interopRequireDefault(_AutoNavigator),_SoundsEnviroment=__webpack_require__(39),_SoundsEnviroment2=_interopRequireDefault(_SoundsEnviroment);_libs.$.fn.FlipBook=function(options){var scene={dispose:function(){this.ready?(!scene.pdfLinksHandler||scene.pdfLinksHandler.dispose(),delete scene.pdfLinksHandler,scene.sounds.dispose(),delete scene.sounds,scene.tocCtrl.dispose(),delete scene.tocCtrl,scene.thumbnails.dispose(),delete scene.thumbnails,!scene.bookmarks||scene.bookmarks.dispose(),delete scene.bookmarks,scene.ctrl.dispose(),delete scene.ctrl,scene.bookPrinter.dispose(),delete scene.bookPrinter,scene.book.dispose(),delete scene.book,scene.propsBuilder.dispose(),delete scene.propsBuilder,delete scene.bookBuilder,scene.visual.dispose(),delete scene.visual,scene.view.dispose(),delete scene.view,delete scene.dispose):this.pendingDispose=!0}};return options=_extends({},options),scene.view=new _BookView2.default(this.length?this[0]:(0,_libs.$)("<div>").appendTo("body"),function(){_Detector2.default.webgl?(scene.loadingCtrl=new _LoadingController2.default(scene.view,!0,function(progress){return 0===progress?(0,_libs.tr)("Please wait... the Application is Loading"):(0,_libs.tr)("PDF is Loading:")+" "+progress+"%"}),scene.visual=new _VisualWorld2.default(scene.view.getContainer().ownerDocument.defaultView,scene.view.getContainer().ownerDocument,scene.view.getView()),scene.bookBuilder=function(props,sheets,pageCallback){props.cssLayerProps=_extends({},props.cssLayerProps,{scene:scene}),options.propertiesCallback&&(props=options.propertiesCallback(props)),scene.book=new _Book2.default(scene.visual,sheets,pageCallback,props),scene.bookPrinter=new _BookPrinter2.default(scene.visual,scene.book,(options.template||{}).printStyle),scene.loadingCtrl.dispose(),delete scene.loadingCtrl,scene.ctrl=new _BookController2.default(scene.book,scene.view,options.controlsProps),scene.book.setInjector(function(w){w.jQuery=w.$=_libs.$,w.book=scene.book,w.bookCtrl=scene.ctrl,props.injector&&props.injector(w)}),scene.view.addHandler(scene.ctrl),scene.ctrl.setPrinter(scene.bookPrinter);var test=pageCallback(0);scene.search=new _Search2.default(scene.view.getSearchView(),scene.book.getPages()),scene.search.onQuery=scene.book.setQuery.bind(scene.book),scene.book.addEventListener("searchResults",function(e){scene.search.setResults(e.results,e.lastPage)}),scene.thumbnails=new _Thumbnails2.default(scene.visual,scene.view.getThumbnailsView(),pageCallback,2*(sheets+2),{kWtoH:props.width/props.height}),scene.tocCtrl=new _TocController2.default(scene.view,scene.ctrl),scene.tocCtrl.setThumbnails(scene.thumbnails),scene.tocCtrl.setSearch(scene.search),scene.ctrl.setTocCtrl(scene.tocCtrl),scene.view.addHandler(scene.tocCtrl),"pdf"===test.type&&(scene.pdfLinksHandler=new _PdfLinksHandler2.default(test.src,scene.ctrl,scene.visual.element),scene.book.addEventListener("pdfAnnotation",scene.pdfLinksHandler.handleEvent.bind(scene.pdfLinksHandler)),test.src.getHandler(function(handler){handler.getOutline().then(function(outline){scene.bookmarks=new _Bookmarks2.default(scene.view.getBookmarksView(),outline),scene.tocCtrl.setBookmarks(scene.bookmarks,test.src)})}),options.pdfLinks&&options.pdfLinks.handler&&scene.pdfLinksHandler.setHandler(options.pdfLinks.handler)),scene.sounds=new _SoundsEnviroment2.default(options.template),scene.ctrl.setSounds(scene.sounds),scene.sounds.subscribeFlips(scene.ctrl),scene.ready=!0,new _AutoNavigator2.default(scene.visual,scene.ctrl,options.autoNavigation).dispose(),options.ready&&options.ready(scene),scene.pendingDispose&&scene.dispose()},options.pdf?(scene.propsBuilder=new _PdfBookPropsBuilder2.default(options.pdf,scene.bookBuilder),scene.propsBuilder.pdf.setLoadingProgressClb(scene.loadingCtrl.setProgress.bind(scene.loadingCtrl))):options.pageCallback?scene.propsBuilder=new _ClbBookPropsBuilder2.default(scene.visual,options.pageCallback,options.pages,scene.bookBuilder):scene.propsBuilder=new _ClbBookPropsBuilder2.default(scene.visual,_Book2.default.pageCallback,6,scene.bookBuilder)):_Detector2.default.addGetWebGLMessage({parent:scene.view.getView()})},options.template),scene},(0,_libs.$)(function(){for(var containers=(0,_libs.$)(".flip-book-container"),i=0;i<containers.length;++i){var jContainer=(0,_libs.$)(containers[i]),src=jContainer.attr("src");src&&jContainer.FlipBook({pdf:src})}}),window.jQuery=window.$=_libs.$},function(module,exports,__webpack_require__){"use strict";Array.prototype.fill||(Array.prototype.fill=function(value){if(null==this)throw new TypeError("this is null or not defined");for(var O=Object(this),len=O.length>>>0,start=arguments[1],relativeStart=start>>0,k=relativeStart<0?Math.max(len+relativeStart,0):Math.min(relativeStart,len),end=arguments[2],relativeEnd=void 0===end?len:end>>0,final=relativeEnd<0?Math.max(len+relativeEnd,0):Math.min(relativeEnd,len);k<final;)O[k]=value,k++;return O}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(predicate){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var value,list=Object(this),length=list.length>>>0,thisArg=arguments[1],i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return value}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(predicate){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var value,list=Object(this),length=list.length>>>0,thisArg=arguments[1],i=0;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return i;return-1}),Object.values||(Object.values=function(O){return Object.keys(O).map(function(name){return O[name]})||[]}),RegExp.escape||(RegExp.escape=function(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}),String.prototype.replaceAll||(String.prototype.replaceAll=function(search,replace){return this.replace(new RegExp(RegExp.escape(search),"g"),replace)})},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},AutoNavigator=function(){function AutoNavigator(context,bookCtrl){var props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,AutoNavigator),props=_extends({},props,{urlParam:props.urlParam||"fb3d-page",navigates:void 0===props.navigates?1:props.navigates,pageN:props.pageN||0}),this.props=props,this.context=context,this.bookCtrl=bookCtrl,this.urlParam=props.urlParam,this.pageN=props.pageN,this.wnd=context.wnd,this.wnd.fb3d=_extends({},this.wnd.fb3d),this.wnd.fb3d.navigator=_extends({},this.wnd.fb3d.navigator),this.navigator=this.wnd.fb3d.navigator[this.urlParam]=_extends({},this.wnd.fb3d.navigator[this.urlParam]),this.navigator.instances=(this.navigator.instances||0)+1,this.navigator.instances<=this.props.navigates&&this.bookCtrl.goToPage(this.getPageNumber())}return AutoNavigator.prototype.dispose=function(){},AutoNavigator.prototype.getParameterByName=function(name,url){url||(url=window.location.href),name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^]*)|&|#|$)"),results=regex.exec(url);return results?results[2]?decodeURIComponent(results[2].replace(/\+/g," ")):"":null},AutoNavigator.prototype.getPageNumber=function(){var number=parseInt(this.pageN);return(isNaN(number)||0===number)&&(number=this.getParameterByName(this.urlParam),number=parseInt(number),isNaN(number)&&(number=1)),number-1},AutoNavigator}();exports.default=AutoNavigator},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(1),_MathUtils=__webpack_require__(3),_MathUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_MathUtils),Binder=function(){function Binder(visual,p){var _this=this;_classCallCheck(this,Binder),this.visual=visual,this.p=_extends({},p,{backSize:2*p.cover.depth+p.sheets*p.page.depth}),this.OZ=new _libs.THREE.Vector3(0,0,1),this.backG=new _libs.THREE.BoxGeometry(p.cover.depth,this.p.backSize,p.cover.height),this.materials=[new _libs.THREE.MeshPhongMaterial({color:p.cover.color}),new _libs.THREE.MeshPhongMaterial({color:p.cover.color}),new _libs.THREE.MeshPhongMaterial({color:p.cover.color}),new _libs.THREE.MeshPhongMaterial({color:p.cover.color}),new _libs.THREE.MeshPhongMaterial({color:p.cover.color}),new _libs.THREE.MeshPhongMaterial({color:p.cover.color})];var backM=new _libs.THREE.Mesh(this.backG,this.materials);""!==p.cover.binderTexture&&this.visual.textureLoader.load(p.cover.binderTexture,function(texture){_this.materials[1].color.setHex(16777215),_this.materials[1].map=texture,texture.minFilter=_libs.THREE.LinearFilter,texture.needsUpdate=!0,_this.materials[1].needsUpdate=!0}),this.three=new _libs.THREE.Object3D,this.back=new _libs.THREE.Object3D,this.backRT=new _libs.THREE.Object3D,this.backRR=new _libs.THREE.Object3D,this.backLT=new _libs.THREE.Object3D,this.backLR=new _libs.THREE.Object3D,this.leftPivot=new _libs.THREE.Object3D,this.rightPivot=new _libs.THREE.Object3D,this.back.add(backM),this.back.add(this.leftPivot),this.back.add(this.rightPivot),this.backRT.add(this.back),this.backRR.add(this.backRT),this.backLT.add(this.backRR),this.backLR.add(this.backLT),this.three.add(this.backLR)}return Binder.prototype.dispose=function(){for(var _iterator=this.materials,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var m=_ref;m.map&&(m.map=null,m.needsUpdate=!0),m.dispose()}delete this.materials,this.backG.dispose()},Binder.prototype.set=function(angle){var right=void 0,left=void 0;angle>Math.PI/2?(right=Math.PI/2,left=angle-Math.PI/2):(right=angle,left=0);var p=this.p,tr1={x:-.5*p.cover.depth,y:.5*p.backSize-p.cover.depth};this.backRT.position.set(tr1.x,tr1.y,0),this.backRR.position.set(-tr1.x,-tr1.y,0),this.backRR.quaternion.setFromAxisAngle(this.OZ,right);var tr2={x:p.backSize-2*p.cover.depth-.5*p.cover.depth,y:.5*p.backSize-p.cover.depth};this.backLT.position.set(tr2.x,tr2.y,0),this.backLR.position.set(-tr2.x,-tr2.y,0),this.backLR.quaternion.setFromAxisAngle(this.OZ,left)},Binder.prototype.setLeft=function(angle){var PI=Math.PI;this.leftPivot.position.set(_MathUtils2.default.interpolateLinear([-PI,-PI/2],[0,this.p.cover.depth],angle),.5*this.p.backSize-.5*this.p.cover.depth,0),this.leftPivot.quaternion.setFromAxisAngle(this.OZ,angle)},Binder.prototype.setRight=function(angle){var PI=Math.PI;this.rightPivot.position.set(_MathUtils2.default.interpolateLinear([-PI/2,0],[this.p.cover.depth,0],angle),-.5*this.p.backSize+.5*this.p.cover.depth,0),this.rightPivot.quaternion.setFromAxisAngle(this.OZ,angle)},Binder.prototype.joinLeftCover=function(cover){cover.three.position.set(0,-.5*this.p.cover.depth,0),this.leftPivot.add(cover.three)},Binder.prototype.disconnectLeftCover=function(cover){this.leftPivot.remove(cover.three)},Binder.prototype.joinRightCover=function(cover){cover.three.position.set(0,-.5*this.p.cover.depth,0),this.rightPivot.add(cover.three)},Binder.prototype.disconnectRightCover=function(cover){this.rightPivot.remove(cover.three)},Binder}();exports.default=Binder},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(1),_book=__webpack_require__(11),_GraphUtils=__webpack_require__(7),_GraphUtils2=_interopRequireDefault(_GraphUtils),_Binder=__webpack_require__(25),_Binder2=_interopRequireDefault(_Binder),_Cover=__webpack_require__(31),_Cover2=_interopRequireDefault(_Cover),_SheetBlock=__webpack_require__(10),_SheetBlock2=_interopRequireDefault(_SheetBlock),_SheetPhysics=__webpack_require__(38),_SheetPhysics2=_interopRequireDefault(_SheetPhysics),_PageManager=__webpack_require__(33),_PageManager2=_interopRequireDefault(_PageManager),_CSSLayer=__webpack_require__(13),_CSSLayer2=_interopRequireDefault(_CSSLayer),_CssLayersManager=__webpack_require__(32),_CssLayersManager2=_interopRequireDefault(_CssLayersManager),_SearchEngine=__webpack_require__(36),_SearchEngine2=_interopRequireDefault(_SearchEngine),_CustomEventConverter=__webpack_require__(16),_CustomEventConverter2=_interopRequireDefault(_CustomEventConverter),_CircleTarget=__webpack_require__(68),_CircleTarget2=_interopRequireDefault(_CircleTarget),Book=function(_THREE$EventDispatche){function Book(visual,sheets,pageCallback,props){_classCallCheck(this,Book);var _this=_possibleConstructorReturn(this,_THREE$EventDispatche.call(this));return _this.visual=visual,_this.mouseController=!0,_this.p=_extends({},Book.prepareProps(props),{sheets:sheets,pageCallback:pageCallback,zoom:1,singlePage:!1,autoResolution:{enable:!1,k:1.5}}),_this.pageManager=new _PageManager2.default(visual,_this,_this.p),_CSSLayer2.default.init(visual.doc),_this.layerManager=new _CssLayersManager2.default(_this),_this.searchEngine=new _SearchEngine2.default(pageCallback,2*(sheets+2)),_this.searchEngine.onPageHitsChanged=function(page,query){_this.pageManager.refreshPageQuery(page,query),_this.dispatchEvent({type:"searchResults",results:_this.searchEngine.results,lastPage:page,query:query})},_this.three=new _libs.THREE.Object3D,_this.binder=new _Binder2.default(visual,_this.p),_this.three.add(_this.binder.three),_this.leftCover=new _Cover2.default(visual,_extends({},_this.p,{setTexture:_this.setLeftCoverTexture.bind(_this)}),Math.PI/2,"opened"),_this.binder.joinLeftCover(_this.leftCover),_this.subscribeSheetBlock(_this.leftCover,0),_this.rightCover=new _Cover2.default(visual,_extends({},_this.p,{setTexture:_this.setRightCoverTexture.bind(_this)}),0,"closed"),_this.binder.joinRightCover(_this.rightCover),_this.subscribeSheetBlock(_this.rightCover,2*(_this.p.sheets+1)),_this.threeSheetBlocks=new _libs.THREE.Object3D,_this.three.add(_this.threeSheetBlocks),_this.threeSheetBlocks.position.set(.5*_this.p.cover.depth-.5*sheets*_this.p.page.depth,-.5*sheets*_this.p.page.depth,0),_this.sheetBlocks=[],sheets>0&&_this.addSheetBlock(0,new _SheetBlock2.default(visual,_extends({},_this.p,{setTexture:_this.setPageTexture.bind(_this)}),0,sheets,0,"closed")),_this.angle=_this.p.rtl?Math.PI:0,_this.closedAngle=0,_this.set(_this.angle,0),_this.lastMousePos={t:0},_this.three.position.set(-.5*_this.p.cover.depth+.5*sheets*_this.p.page.depth,0,0),_this.sheetPhysics=new _SheetPhysics2.default(_this.p.page.width/_this.p.scale,_this.p.gravity,_this.p.page.cornerDeviation),_this.binds={update:_this.update.bind(_this),lastMousePos:function(e){_this.lastMousePos=_extends({},_this.lastMousePos,{pageX:e.pageX,pageY:e.pageY})}},_this.visual.addRenderCallback(_this.binds.update),(0,_libs.$)(_this.visual.element).on("mousemove",_this.binds.lastMousePos),_this.binds.onPickCallback=_this.onPickCallback.bind(_this),_this.visual.drag.onPickCallback=_this.binds.onPickCallback,_this.binds.onDragCallback=_this.onDragCallback.bind(_this),_this.visual.drag.onDragCallback=_this.binds.onDragCallback,_this.binds.onReleaseCallback=_this.onReleaseCallback.bind(_this),_this.visual.drag.onReleaseCallback=_this.binds.onReleaseCallback,_this.dragAngle=.05,_this.tmp={boxs:[new _libs.THREE.Box3,new _libs.THREE.Box3]},_this.visual.addObject(_this.three),_this.visual.addEventListener("resize",_this.pageManager.refreshZoom.bind(_this.pageManager)),setTimeout(function(){_this.notifyBeforeAnimation(),_this.notifyAfterAnimation()},100),_this.updateThree(),_this}return _inherits(Book,_THREE$EventDispatche),Book.prototype.dispose=function(){this.visual.removeObject(this.three),this.sheetPhysics.dispose(),delete this.visual.drag.onPickCallback,delete this.visual.drag.onDragCallback,delete this.visual.drag.onReleaseCallback,(0,_libs.$)(this.visual.element).off("mousemove",this.binds.lastMousePos),this.visual.removeRenderCallback(this.binds.update),this.removeSheetBlocks(0,this.sheetBlocks.length),this.binder.disconnectLeftCover(this.leftCover),this.removeSheetBlock(this.leftCover),this.binder.disconnectRightCover(this.rightCover),this.removeSheetBlock(this.rightCover),this.binder.dispose(),this.layerManager.dispose(),_CSSLayer2.default.dispose(),this.pageManager.dispose()},Book.prototype.updateThree=function(){this.three.userData.needsUpdate=!0},Book.prototype.setAutoResolution=function(enable){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5;this.p.autoResolution=_extends({},this.p.autoResolution,{enable:enable,k:k})},Book.prototype.setZoom=function(zoom,singlePage){(Math.abs(this.p.zoom-zoom)>.001||singlePage!==this.p.singlePage)&&(this.p.zoom=zoom,this.p.singlePage=singlePage,this.pageManager.refreshZoom())},Book.prototype.getPageCallback=function(){return this.p.pageCallback},Book.prototype.setQuery=function(query){this.searchEngine.setQuery(query)},Book.prototype.isProcessing=function(){return 0!==this.sheetPhysics.getSize()},Book.prototype.getPages=function(){return 4+2*this.p.sheets},Book.prototype.setFlipProgressClb=function(clb){this.p.flipProgressClb=clb},Book.prototype.setInjector=function(injector){this.p.injector=injector},Book.prototype.isActivePage=function(n){var res=!0;if(n>1&&n<this.getPages()-2)for(var _iterator=this.sheetBlocks,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var b=_ref;if(n-2>2*b.p.first&&n-2<2*b.p.last-1){res=!1;break}}return res},Book.prototype.getBlockByPage=function(n){var block=void 0;if(n<2)block=this.leftCover;else if(n<2*(this.p.sheets+1))for(var _iterator2=this.sheetBlocks,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var b=_ref2;if(n-2>=2*b.p.first&&n-2<2*b.p.last){block=b;break}}else block=this.rightCover;return block},Book.prototype.getBlockPages=function(block){var range=void 0;switch(block){case this.leftCover:range=[0,1];break;case this.rightCover:range=[2*(this.p.sheets+1),2*(this.p.sheets+1)+1];break;default:range=block?[2*(block.p.first+1),2*(block.p.last+1)-1]:void 0}return range},Book.prototype.getPage=function(){var PI=Math.PI,p=void 0;if(this.angle===PI/2||this.angle===3*PI/2){for(var _iterator3=this.sheetBlocks,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var block=_ref3;if(block.angle<=PI/2){p=this.getBlockPages(block)[0]-1;break}}p||(p=this.getPages()-3)}else this.angle<PI/2?p=0:this.angle>3*PI/2?p=1:this.angle<PI?p=this.getPages()-3:this.angle>=PI&&(p=this.getPages()-1);return p},Book.prototype.getTopPages=function(){var p=this.getPage();return 0===p||p===this.getPages()-1?[p]:[p,p+1]},Book.prototype.getPageState=function(n){return this.pageManager.getPageState(n)},Book.prototype.enableLoadingAnimation=function(enable){this.pageManager.enableLoadingAnimation(enable)},Book.prototype.getLeftFlipping=function(){var block=void 0,left=this.sheetBlocks[0],PI=Math.PI;return this.angle===PI?block=this.rightCover:left&&"closed"===left.state&&left.angle>PI/2?block=left:this.angle!==PI/2&&this.angle!==3*PI/2||(block=this.leftCover),block},Book.prototype.getRightFlipping=function(){var block=void 0,right=this.sheetBlocks[this.sheetBlocks.length-1],PI=Math.PI;return 0===this.angle?block=this.leftCover:right&&"closed"===right.state&&right.angle<=PI/2?block=right:this.angle!==PI/2&&this.angle!==3*PI/2||(block=this.rightCover),block},Book.prototype.getClosedBlockAngle=function(angle){var closedAngle=void 0,PI=Math.PI;if(this.leftCover.physicId){var test=void 0;try{test=Math.abs(this.sheetPhysics.getParametr(this.leftCover.physicId,"angle")-angle)}catch(e){test=0}closedAngle=angle>PI/2||test>PI/6?PI/2:this.closedAngle}else if(this.rightCover.physicId){var _test=void 0;try{_test=Math.abs(this.sheetPhysics.getParametr(this.rightCover.physicId,"angle")-angle)}catch(e){_test=0}closedAngle=angle<PI/2||_test>PI/6?PI/2+1e-7:this.closedAngle}else closedAngle=PI/2+1e-7*(0!==angle);return{openedAngle:angle,closedAngle:closedAngle,binderTurn:this.closedAngle}},Book.prototype.flipLeft=function(){var _this2=this,size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,progressClb=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.p.flipProgressClb,block=void 0,res=void 0;if(this.sheetPhysics.getSize()<25){var left=this.sheetBlocks[0],PI=Math.PI;this.angle===PI?res=this.connectPhysics(block=this.rightCover,this.p.cover.mass,PI,-this.p.cover.startVelocity,this.p.cover.flexibility,0,function(angle,height){return _this2.set(3*PI/2-angle/2,height)},function(angle,height){_this2.set(3*PI/2-angle/2,0),_this2.setSheetBlocks(angle?PI:PI/2+1e-7,"closed")},progressClb):left&&"closed"===left.state&&left.angle>PI/2?(block=size<left.getSize()?this.splitSheetBlock(0,left.getSize()-size)[1]:left,res=this.connectPhysics(block,this.p.page.mass*block.getSize(),PI,-this.p.page.startVelocity,this.p.page.flexibility,0,function(angle,height){return block.set(_this2.getClosedBlockAngle(angle),"opened",height)},Book.finishAnimationClb.bind({book:this,block:block}),progressClb)):this.angle!==PI/2&&this.angle!==3*PI/2||(res=this.connectPhysics(block=this.leftCover,this.p.cover.mass,PI,-this.p.cover.startVelocity,this.p.cover.flexibility,0,function(angle,height){_this2.set(2*PI-angle/2,height),angle>PI/2&&_this2.setSheetBlocks(angle?PI/2:0,"closed")},function(angle,height){return _this2.set(0===angle?0:2*PI-angle/2,0)},progressClb))}return res},Book.prototype.flipRight=function(){var _this3=this,size=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,progressClb=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.p.flipProgressClb,block=void 0,res=void 0;if(this.sheetPhysics.getSize()<25){var right=this.sheetBlocks[this.sheetBlocks.length-1],PI=Math.PI;0===this.angle?res=this.connectPhysics(block=this.leftCover,this.p.cover.mass,0,this.p.cover.startVelocity,this.p.cover.flexibility,0,function(angle,height){return _this3.set(angle/2,height)},function(angle,height){_this3.set(angle/2,0),_this3.setSheetBlocks(angle?PI/2:0,"closed")},progressClb):right&&"closed"===right.state&&right.angle<=PI/2?(block=size<right.getSize()?this.splitSheetBlock(this.sheetBlocks.length-1,size)[0]:right,res=this.connectPhysics(block,this.p.page.mass*block.getSize(),0,this.p.page.startVelocity,this.p.page.flexibility,0,function(angle,height){return block.set(_this3.getClosedBlockAngle(angle),"opened",height)},Book.finishAnimationClb.bind({book:this,block:block}),progressClb)):this.angle!==PI/2&&this.angle!==3*PI/2||(res=this.connectPhysics(block=this.rightCover,this.p.cover.mass,0,this.p.cover.startVelocity,this.p.cover.flexibility,0,function(angle,height){_this3.set(PI/2+angle/2,height),angle<PI/2&&_this3.setSheetBlocks(PI/2+1e-7,"closed")},function(angle,height){return _this3.set(PI/2+angle/2,0)},progressClb))}return res},Book.prototype.clearHoverInfo=function(){this.pageManager.turnOnEvents(),delete this.hoverInfo.block.force,delete this.hoverInfo.block.cornerForce,delete this.hoverInfo},Book.prototype.xSegment=function(){var boxs=this.tmp.boxs,res={};return this.leftCover.physicId?(boxs[0].setFromObject(this.rightCover.three),res.min=-(res.max=boxs[0].max.x)):this.rightCover.physicId?(boxs[0].setFromObject(this.leftCover.three),res.max=-(res.min=boxs[0].min.x)):(boxs[0].setFromObject(this.leftCover.three),boxs[1].setFromObject(this.rightCover.three),boxs[0].union(boxs[1]),res.min=boxs[0].min.x,res.max=boxs[0].max.x),res},Book.prototype.computeTarget=function(point){var x=point.x,seg=(point.y,this.xSegment()),angle=void 0;return angle=(seg.max-x)/(seg.max-seg.min)*Math.PI,Math.max(this.dragAngle,Math.min(Math.PI-this.dragAngle,angle))},Book.prototype.onPickCallback=function(object){var res=!1,block=object.object.userData.self,p=_extends({},object.uv),i=object.face.materialIndex;return i<2&&(p.x=0===i?p.x:1-p.x,block.cornerTarget.testIntersection(null,p)&&block.physicId&&(this.hoverInfo&&this.clearHoverInfo(),block.force=_SheetPhysics2.default.dragForceClb,block.cornerForce=_SheetPhysics2.default.getDragCornerForceClb(this.computeTarget(object.point)),this.dragInfo={object:object,block:block},res=!0,this.pageManager.turnOffEvents())),res},Book.prototype.onDragCallback=function(point){var block=this.dragInfo.block;block.getProps();return block.force=_SheetPhysics2.default.dragForceClb,block.cornerForce=_SheetPhysics2.default.getDragCornerForceClb(this.computeTarget(point)),!0},Book.prototype.onReleaseCallback=function(){delete this.dragInfo.block.force,delete this.dragInfo.block.cornerForce,delete this.dragInfo,this.pageManager.turnOnEvents()},Book.prototype.getFlipping=function(i){return i?this.getLeftFlipping():this.getRightFlipping()},Book.prototype.flip=function(i){var size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i?this.flipLeft(size):this.flipRight(size)},Book.prototype.enableMouse=function(enable){this.mouseController=enable},Book.prototype.cornerCallback=function(e,data){var _this4=this;if(this.mouseController){var _data$data=data.data,i=_data$data.i,n=_data$data.n;if("mouseover"===e.type){if(this.hoverInfo&&void 0!==this.hoverInfo.pendings)++this.hoverInfo.pendings;else if(this.hoverInfo&&(console.warn("Wrong state: element is already hover"),this.hoverInfo.n!==n&&this.clearHoverInfo()),!this.hoverInfo&&!this.dragInfo){var res=Promise.resolve(void 0),hover=this.getBlockByPage(n),possible=this.getFlipping(i);if(n>1&&n<2*(this.p.sheets+1)&&hover.physicId&&(hover.angle<.02||hover.angle>Math.PI-.02))res=Promise.resolve(hover);else if(hover===possible){var sheetBlocks=[this.leftCover].concat(this.sheetBlocks,[this.rightCover]),j=sheetBlocks.indexOf(hover),nextBlock=~j?sheetBlocks[j+2*i-1]:void 0;(!nextBlock||!nextBlock.physicId||nextBlock.angle>.02&&nextBlock.angle<Math.PI-.02)&&(res=this.flip(i,1).then(function(block){return block?_this4.sheetPhysics.setParametr(block.physicId,"velocity",0):delete _this4.hoverInfo,block}),this.hoverInfo={pendings:1})}res.then(function(block){if(_this4.hoverInfo&&_this4.hoverInfo.pendings<1&&(block=void 0,delete _this4.hoverInfo),block){_this4.pageManager.turnOffEvents();var p=block.getProps();block.force=_this4.sheetPhysics.getTargetForceClb(p.mass*block.getSize(),i?Math.PI-.02:.02),block.cornerForce=function(){return(i?-1:1)*_SheetPhysics2.default.hoverCornerForceClb()},_this4.sheetPhysics.setParametr(block.physicId,"angle",i?Math.PI-.01:.01),_this4.hoverInfo={n:n,block:block},_this4.update(1/30)}})}}else if(this.hoverInfo&&"mouseout"===e.type)void 0!==this.hoverInfo.pendings?--this.hoverInfo.pendings:n===this.hoverInfo.n&&this.clearHoverInfo();else if("mousedown"===e.type)this.cornerClickData={x:e.pageX,y:e.pageY};else if("click"===e.type){if(Math.sqrt(Math.pow(this.cornerClickData.x-e.pageX,2)+Math.pow(this.cornerClickData.y-e.pageY,2))<5){var _hover=this.getBlockByPage(n);if(_hover.physicId){var id=_hover.physicId,props=_hover.getProps();this.sheetPhysics.setParametr(id,"velocity",(i?-1:1)*props.startVelocity)}}delete this.cornerClickData}}},Book.prototype.addSheetBlock=function(p,block){this.sheetBlocks.splice(p,0,block),this.subscribeSheetBlock(block,2),this.threeSheetBlocks.add(block.three)},Book.prototype.subscribeSheetBlock=function(block,offset){var _this5=this,eventConverter=new _CustomEventConverter2.default(this.visual.wnd,this.visual.doc,_CircleTarget2.default.test),target=new _CircleTarget2.default(.925,.075,.15);target.block=block,target.callback=this.cornerCallback.bind(this),eventConverter.addCustom(target),block.cornerTarget=target,block.three.userData.mouseCallback=function(e,data){var i=data.face.materialIndex;if(i<2){var n=0===i?offset+2*block.p.first:offset+2*block.p.last-1;eventConverter.convert(e,{x:0===i?data.uv.x:1-data.uv.x,y:data.uv.y,i:i,n:n}),_this5.pageManager.transferEventToTexture(n,e,data)}},block.three.userData.touchCallback=function(e,data){var i=data.face.materialIndex;if(i<2){var n=0===i?offset+2*block.p.first:offset+2*block.p.last-1;_this5.pageManager.transferEventToTexture(n,e,data)}},this.visual.drag.addThree(block.three),this.visual.mouseEvents.addThree(block.three),this.visual.touchEvents.addThree(block.three)},Book.prototype.removeSheetBlock=function(block){this.visual.mouseEvents.removeThree(block.three),this.visual.touchEvents.removeThree(block.three),this.visual.drag.removeThree(block.three),this.threeSheetBlocks.remove(block.three),block.dispose()},Book.prototype.removeSheetBlocks=function(first,size){for(var blocks=this.sheetBlocks.splice(first,size),_iterator4=blocks,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}var block=_ref4;this.removeSheetBlock(block)}},Book.prototype.setTexture=function(material,n){this.pageManager.setTexture(material,n)},Book.prototype.setPageTexture=function(material,n){this.setTexture(material,n+2)},Book.prototype.setLeftCoverTexture=function(material,n){this.setTexture(material,n)},Book.prototype.setRightCoverTexture=function(material,n){this.setTexture(material,n+2*(this.p.sheets+1))},Book.finishAnimationClb=function(angle){this.block.set(this.book.getClosedBlockAngle(angle).closedAngle,"closed",0);var i=this.book.sheetBlocks.indexOf(this.block);~i&&(0===angle?this.book.mergeSheetBlocks(i,this.book.sheetBlocks.length-i):this.book.mergeSheetBlocks(0,i+1))},Book.prototype.calcBlockForce=function(block,object,angle,velocity,cornerHeight){return block.force?block.force(object,angle,velocity,cornerHeight):0},Book.prototype.calcBlockCornerForce=function(block,object,angle,velocity,cornerHeight){return block.cornerForce?block.cornerForce(object,angle,velocity,cornerHeight):0},Book.prototype.notifyBeforeAnimation=function(){var res=void 0;return this.animationNotification?res=Promise.reject():(this.animationNotification=!0,this.dispatchEvent({type:"beforeAnimation"}),res=this.layerManager.hide()),res},Book.prototype.notifyAfterAnimation=function(){this.animationNotification&&(delete this.animationNotification,this.layerManager.show(),this.dispatchEvent({type:"afterAnimation"}))},Book.prototype.connectPhysics=function(block,mass,angle,velocity,flexibility,coverHeight,simulateClb,removeClb,progressClb){var _this6=this,type=function(){return _this6.hoverInfo?"hover":_this6.dragInfo?"drag":"free"};return(this.sheetPhysics.getSize()?Promise.resolve():this.notifyBeforeAnimation()).then(function(){return block.physicId=_this6.sheetPhysics.addObject(mass,angle,velocity,flexibility,coverHeight,function(angl,ch){simulateClb(angl,ch),progressClb(block,Math.abs(angle-angl)/Math.PI,"process",type()),_this6.updateThree()},function(angl,ch){removeClb(angl,ch),delete block.physicId,progressClb(block,Math.abs(angle-angl)/Math.PI,"finish",type()),Promise.resolve().then(function(){_this6.sheetPhysics.getSize()||_this6.notifyAfterAnimation()}),_this6.updateThree()},function(object,angle,velocity,cornerHeight){return _this6.calcBlockForce(block,object,angle,velocity,cornerHeight)},function(object,angle,velocity,cornerHeight){return _this6.calcBlockCornerForce(block,object,angle,velocity,cornerHeight)}),progressClb(block,0,"init",type()),block}).catch(function(){})},Book.prototype.update=function(dt){var _this7=this;this.lastMousePos.t+=dt,this.isProcessing()&&void 0!==this.lastMousePos.pageX&&this.lastMousePos.t-(this.lastMousePos.lastT||0)>.25&&!this.hoverInfo&&!this.dragInfo&&(this.lastMousePos.lastT=this.lastMousePos.t,Promise.resolve().then(function(){(0,_libs.$)(_this7.visual.element).trigger(_libs.$.Event("mousemove",_this7.lastMousePos))})),this.sheetPhysics.simulate(dt)},Book.prototype.splitSheetBlock=function(i,leftSize){var block=this.sheetBlocks[i];if(block&&leftSize<block.getSize()){var newBlock=new _SheetBlock2.default(this.visual,_extends({},this.p,{setTexture:this.setPageTexture.bind(this)}),block.p.first,block.p.first+leftSize,block.angle,block.state);return block.set(block.angle,block.state,block.corner.height,block.p.first+leftSize,block.p.last),this.addSheetBlock(i,newBlock),[newBlock,block]}},Book.prototype.mergeSheetBlocks=function(first,size){if(first<this.sheetBlocks.length){size=Math.min(this.sheetBlocks.length-first,size);var firstBlock=this.sheetBlocks[first],lastBlock=this.sheetBlocks[first+size-1];firstBlock.set(firstBlock.angle,firstBlock.state,firstBlock.corner.height,firstBlock.p.first,lastBlock.p.last),this.removeSheetBlocks(first+1,size-1)}},Book.prototype.setSheetBlocks=function(angle,state){"closed"===state&&(this.closedAngle=angle),this.sheetBlocks.forEach(function(s){s.physicId||s.set(angle,state)})},Book.prototype.set=function(angle){var height=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.angle=angle;var PI=Math.PI;if(angle<PI/4)this.binder.set(0),this.binder.setLeft(-PI/2+2*angle),this.leftCover.set(PI/2,"opened",height),this.setSheetBlocks(0,"closed"),this.binder.setRight(0),this.rightCover.set(0,"closed",0);else if(angle<2*PI/4){var a=2*(angle-PI/4);this.binder.set(a),this.binder.setLeft(-a),this.leftCover.set(PI/2+a,"opened",height),this.setSheetBlocks(a,"closed"),this.binder.setRight(-a),this.rightCover.set(a,"closed",0)}else if(angle<3*PI/4){var _a=2*(angle-PI/2);this.binder.set(PI/2),this.binder.setLeft(-PI/2),this.leftCover.set(PI,"opened",0),this.binder.setRight(-PI/2),this.rightCover.set(_a,"opened",height)}else if(angle<4*PI/4){var _a2=2*(angle-3*PI/4)+PI/2;this.binder.set(_a2),this.binder.setLeft(-_a2),this.leftCover.set(_a2,"closed",0),this.setSheetBlocks(_a2,"closed"),this.binder.setRight(-PI/2),this.rightCover.set(PI/2,"opened",height)}else if(angle<5*PI/4)this.binder.set(PI),this.binder.setLeft(-PI),this.leftCover.set(PI,"closed",0),this.setSheetBlocks(PI,"closed"),this.binder.setRight(-PI/2-2*(angle-PI)),this.rightCover.set(PI/2,"opened",height);else if(angle<6*PI/4){var _a3=2*(angle-5*PI/4);this.binder.set(PI-_a3),this.binder.setLeft(-PI+_a3),this.leftCover.set(PI-_a3,"closed",0),this.setSheetBlocks(PI-_a3,"closed"),this.binder.setRight(-PI+_a3),this.rightCover.set(PI/2-_a3,"opened",height)}else if(angle<7*PI/4){var _a4=2*(angle-6*PI/4);this.binder.set(PI/2),this.binder.setLeft(-PI/2),this.leftCover.set(PI-_a4,"opened",height),this.binder.setRight(-PI/2),this.rightCover.set(0,"opened",0)}else if(angle<8*PI/4){var _a5=2*(angle-7*PI/4);this.binder.set(PI/2-_a5),this.binder.setLeft(-PI/2),this.leftCover.set(PI/2,"opened",height),this.setSheetBlocks(PI/2-_a5,"closed"),this.binder.setRight(-PI/2+_a5),this.rightCover.set(PI/2-_a5,"closed",0)}},Book.createSideTexture=function(color){var jC=(0,_libs.$)('<canvas width="8" height="8"></canvas>'),ctx=jC[0].getContext("2d");return ctx.beginPath(),ctx.fillStyle=_GraphUtils2.default.color2Rgba(color,1),ctx.rect(0,0,8,7),ctx.fill(),ctx.beginPath(),ctx.fillStyle=_GraphUtils2.default.color2Rgba(_GraphUtils2.default.inverseColor(color,.5),1),ctx.rect(0,7,8,1),ctx.fill(),jC[0]},Book.prepareProps=function(props){return Book.calcProps(Book.mergeProps((0,_book.props)(),props))},Book.mergeProps=function(first,second){return second=second||{},_extends({},first,second,{sheet:_extends({},first.sheet,second.sheet),cover:_extends({},first.cover,second.cover),page:_extends({},first.page,second.page),cssLayerProps:_extends({},first.cssLayerProps,second.cssLayerProps)})},Book.calcProps=function(props){var p=_extends({},props,{sheet:_extends({},props.sheet),cover:_extends({},props.sheet,props.cover),page:_extends({},props.sheet,props.page),cssLayerProps:_extends({},props.cssLayerProps,{$:_libs.$})}),height=50*p.height,width=50*p.width,flipProgressClb=function(){},sheet={sideTexture:p.sheet.sideTexture||Book.createSideTexture(p.sheet.color)},cover=_extends({},sheet,p.cover,{depth:50*p.cover.depth,width:width,height:height,padding:50*p.cover.padding}),page=_extends({},sheet,p.page,{depth:50*p.page.depth,width:cover.width-cover.padding,height:cover.height-2*cover.padding}),marker={use:!1,color:16711680,size:.05};return cover.color===sheet.color||p.cover.sideTexture||(cover.sideTexture=Book.createSideTexture(cover.color)),page.color===sheet.color||p.page.sideTexture||(page.sideTexture=Book.createSideTexture(page.color)),_extends({},p,{scale:50,height:height,width:width,flipProgressClb:flipProgressClb,cover:cover,page:page,marker:marker})},Book}(_libs.THREE.EventDispatcher);exports.default=Book},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(1),_Controller2=__webpack_require__(15),_Controller3=_interopRequireDefault(_Controller2),_bookController=__webpack_require__(42),_EventsToActions=__webpack_require__(49),_EventsToActions2=_interopRequireDefault(_EventsToActions),_stats=__webpack_require__(71),_stats2=_interopRequireDefault(_stats),_Object3DWatcher=__webpack_require__(55),_Object3DWatcher2=_interopRequireDefault(_Object3DWatcher),_FullScreen=__webpack_require__(50),_FullScreen2=_interopRequireDefault(_FullScreen),BookController=function(_Controller){function BookController(book,view,props){_classCallCheck(this,BookController);var _this=_possibleConstructorReturn(this,_Controller.call(this));return _this.navigationControls=!0,_this.book=book,_this.visual=book.visual,_this.p=BookController.prepareProps(props),_this.p.rtl=book.p.rtl,_this.devicePixelRatio=_this.visual.wnd.devicePixelRatio||1,_this.orbit=book.visual.getOrbit(),book.setFlipProgressClb(_this.updateViewIfState.bind(_this)),_this.view=view,_this.bindActions(),_this.state={smartPan:!_this.actions.cmdSmartPan.active,singlePage:_this.actions.cmdSinglePage.active||_this.actions.cmdSinglePage.activeForMobile&&_this.devicePixelRatio>1,stats:_this.actions.cmdStats.active,lighting:_this.p.lighting.default,activeSide:1},_this.boxs=[new _libs.THREE.Box3,new _libs.THREE.Box3],_this.bookWatcher=new _Object3DWatcher2.default(_this.visual,function(){return _this.state.singlePage?_this.state.activeSide?_this.boxs[0].setFromObject(book.rightCover.three):_this.boxs[0].setFromObject(book.leftCover.three):(_this.boxs[0].setFromObject(book.leftCover.three),_this.boxs[1].setFromObject(book.rightCover.three),_this.boxs[0].union(_this.boxs[1])),_this.boxs[0]}),_this.bookWatcher.scale=_this.p.scale.default,_this.book.setZoom(_this.bookWatcher.scale,_this.state.singlePage),_this.Stats=new _stats2.default,_this.Stats.domElement.style.position="absolute",_this.Stats.domElement.style.top="0px",_this.visual.setExtraLighting(_this.state.lighting),_this.binds={onScreenModeChanged:_this.onScreenModeChanged.bind(_this),stats:_this.Stats.update.bind(_this.Stats),onUpdateView:_this.updateView.bind(_this)},_FullScreen2.default.addEventListener(_this.view.getParentContainer().ownerDocument,_this.binds.onScreenModeChanged),_this.cmdSmartPan(),_this.view.templateObject.appLoaded&&Promise.resolve().then(_this.view.templateObject.appLoaded),_this.book.enableLoadingAnimation(_this.p.loadingAnimation.book),_this.p.loadingAnimation.skin&&_this.initLoadingAnimation(),_this.book.enableLoadingAnimation(_this.p.loadingAnimation.book),_this.book.setAutoResolution(_this.p.autoResolution.enabled,_this.p.autoResolution.coefficient),_this.visual.addEventListener("resize",_this.updateView.bind(_this)),_this}return _inherits(BookController,_Controller),BookController.prototype.dispose=function(){_FullScreen2.default.removeEventListener(this.view.getParentContainer().ownerDocument,this.binds.onScreenModeChanged),delete this.book,delete this.view,delete this.visual},BookController.prototype.initLoadingAnimation=function(){var _this2=this,handler=function(){for(var pages=_this2.book.getTopPages(),visible=!1,_iterator=pages,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var n=_ref,state=_this2.book.getPageState(n);if(visible=void 0===state||"loading"===state)break}_this2.view.setState("widLoading",{visible:visible})};this.book.addEventListener("beforeAnimation",handler),this.book.addEventListener("afterAnimation",handler),this.book.addEventListener("loadPage",handler),this.book.addEventListener("loadedPage",handler)},BookController.prototype.enableNavigation=function(enable){this.navigationControls=enable},BookController.prototype.setTocCtrl=function(tocCtrl){this.tocCtrl=tocCtrl,this.tocCtrl.onChange=this.updateView.bind(this),this.updateView()},BookController.prototype.setPrinter=function(printer){this.printer=printer,this.updateView()},BookController.prototype.setSounds=function(sounds){this.sounds=sounds,sounds.setEnabled(this.actions.cmdSounds.active),this.updateView()},BookController.prototype.onScreenModeChanged=function(e){this.updateView()},BookController.prototype.canZoomIn=function(){return!this.state.smartPan||Math.abs(this.bookWatcher.scale-this.p.scale.max)>this.p.eps},BookController.prototype.canZoomOut=function(){return!this.state.smartPan||Math.abs(this.bookWatcher.scale-this.p.scale.min)>this.p.eps},BookController.prototype.canDefaultZoom=function(){return this.state.smartPan},BookController.prototype.setBookZoom=function(scale){var _this3=this;setTimeout(function(){_this3.bookWatcher.scale===scale&&_this3.book.setZoom(scale,_this3.state.singlePage)},1e3)},BookController.prototype.cmdZoomIn=function(){this.state.smartPan?(this.bookWatcher.scale=Math.min(this.p.scale.max,this.bookWatcher.scale+this.p.scale.delta),this.setBookZoom(this.bookWatcher.scale)):this.orbit.zoomIn(6.6*this.p.scale.delta/.32),this.updateView()},BookController.prototype.cmdZoomOut=function(){this.state.smartPan?(this.bookWatcher.scale=Math.max(this.p.scale.min,this.bookWatcher.scale-this.p.scale.delta),this.setBookZoom(this.bookWatcher.scale)):this.orbit.zoomOut(6.6*this.p.scale.delta/.32),this.updateView()},BookController.prototype.cmdDefaultZoom=function(){this.state.smartPan&&(this.bookWatcher.scale=this.p.scale.default,this.setBookZoom(this.bookWatcher.scale),this.updateView())},BookController.prototype.cmdToc=function(){this.tocCtrl&&this.tocCtrl.togle()},BookController.prototype.cmdFastBackward=function(){this.startFlip(this.book.flipLeft(5))},BookController.prototype.cmdBackward=function(){var _this4=this;this.state.singlePage?(this.state.activeSide=(this.getPage()+1)%2,this.state.activeSide?(this.state.activeSide=0,this.updateView()):this.startFlip(this.book.flipLeft(1)).then(function(block){block&&(_this4.state.activeSide=1)})):this.startFlip(this.book.flipLeft(1))},BookController.prototype.cmdBigBackward=function(){this.cmdBackward()},BookController.prototype.cmdForward=function(){var _this5=this;this.state.singlePage?(this.state.activeSide=(this.getPage()+1)%2,this.state.activeSide?this.startFlip(this.book.flipRight(1)).then(function(block){block&&(_this5.state.activeSide=0)}):(this.state.activeSide=1,this.updateView())):this.startFlip(this.book.flipRight(1))},BookController.prototype.cmdBigForward=function(){this.cmdForward()},BookController.prototype.cmdFastForward=function(){this.startFlip(this.book.flipRight(5))},BookController.prototype.cmdSave=function(){window.open(this.p.downloadURL,"_blank")},BookController.prototype.cmdPrint=function(){this.printer.print()},BookController.prototype.cmdFullScreen=function(){_FullScreen2.default.activated()?_FullScreen2.default.cancel():_FullScreen2.default.request(this.view.getParentContainer())},BookController.prototype.cmdSmartPan=function(){this.state.smartPan=!this.state.smartPan,this.state.smartPan?(this.orbit.minAzimuthAngle=0,this.orbit.maxAzimuthAngle=0,this.orbit.minPolarAngle=0,this.orbit.maxPolarAngle=Math.PI/4,this.bookWatcher.enabled=!0):(this.orbit.minAzimuthAngle=-1/0,this.orbit.maxAzimuthAngle=1/0,this.orbit.minPolarAngle=0,this.orbit.maxPolarAngle=Math.PI,this.bookWatcher.enabled=!1),this.updateView()},BookController.prototype.cmdSinglePage=function(){this.state.singlePage=!this.state.singlePage,this.setBookZoom(this.bookWatcher.scale),this.updateView()},BookController.prototype.cmdSounds=function(){this.sounds&&this.sounds.togle(),this.updateView()},BookController.prototype.cmdStats=function(){this.state.stats=!this.state.stats,this.state.stats?((0,_libs.$)(this.view.getContainer()).append(this.Stats.domElement),this.visual.addRenderCallback(this.binds.stats)):((0,_libs.$)(this.view.getContainer()).find(this.Stats.domElement).remove(),this.visual.removeRenderCallback(this.binds.stats)),this.updateView()},BookController.prototype.cmdLightingUp=function(){this.state.lighting=Math.min(this.state.lighting+this.p.lighting.delta,this.p.lighting.max),this.visual.setExtraLighting(this.state.lighting),this.updateView()},BookController.prototype.cmdLightingDown=function(){this.state.lighting=Math.max(this.state.lighting-this.p.lighting.delta,this.p.lighting.min),this.visual.setExtraLighting(this.state.lighting),this.updateView()},BookController.prototype.goToPage=function(page){var _this6=this;this.p.rtl&&(page=this.book.getPages()-1-page);var pageNum=Math.max(Math.min(page,this.book.getPages()-1),0);this.state.activeSide=(pageNum+1)%2;var target=Math.max(Math.min(page-1+page%2,this.book.getPages()-1),0),current=this.book.getPage(),flips=[],covs=0;if(target!=current){0===current?(flips.push(1),current+=1,++covs):current===this.book.getPages()-1&&(flips.push(-1),current-=2,++covs);var cv=0;0===target?(cv=-1,target+=1,++covs):target===this.book.getPages()-1&&(cv=1,target-=2,++covs),target-current&&flips.push(Math.ceil((target-current)/2)),cv&&flips.push(cv)}var setClb=function(fl,time,clb){setTimeout(function(){fl<0?_this6.startFlip(_this6.book.flipLeft(-fl,clb)):_this6.startFlip(_this6.book.flipRight(fl,clb))},time)};if(2===covs)setClb(flips[0],0,function(block,progress,state){"finish"==state&&1==progress&&setClb(flips[flips.length-1],0)}),setClb(flips[1],500);else for(var time=0,_iterator2=flips,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var fl=_ref2;setClb(fl,time),time+=400}},BookController.prototype.startFlip=function(flipRes){var _this7=this;return flipRes?flipRes.then(function(block){return block&&_this7.dispatchAsync({type:"startFlip"}),block}):Promise.resolve(void 0)},BookController.prototype.endFlip=function(block){return this.dispatchAsync({type:"endFlip"}),block},BookController.prototype.getPage=function(){return this.book.getPage()?Math.min(this.book.getPage()+this.state.activeSide,this.book.getPages()-1):0},BookController.prototype.getPageForGUI=function(){var n=(this.state.singlePage?this.getPage():this.book.getPage())+1;return this.p.rtl&&(n=this.book.getPages()-n+1),n},BookController.prototype.inpPage=function(e,data){this.goToPage(data-1)},BookController.prototype.updateViewIfState=function(block,progress,state,type){"init"!==state&&"finish"!==state||setTimeout(this.updateView.bind(this),100),"finish"===state&&this.endFlip(block)},BookController.prototype.isCmdVisible=function(name){return(0,_libs.$)(this.visual.element).width()<this.p.narrowView.width?void 0===this.actions[name].enabledInNarrow?this.actions[name].enabled:this.actions[name].enabledInNarrow:this.actions[name].enabled},BookController.prototype.updateViewState=function(){this.viewState={cmdZoomIn:{enable:this.canZoomIn(),visible:this.isCmdVisible("cmdZoomIn"),active:!1},cmdZoomOut:{enable:this.canZoomOut(),visible:this.isCmdVisible("cmdZoomOut"),active:!1},cmdDefaultZoom:{enable:this.canDefaultZoom(),visible:this.isCmdVisible("cmdDefaultZoom"),active:this.canDefaultZoom()&&Math.abs(this.bookWatcher.scale-this.p.scale.default)<this.p.eps},cmdToc:{enable:!!this.tocCtrl,visible:this.isCmdVisible("cmdToc")&&this.tocCtrl,active:this.tocCtrl&&this.tocCtrl.visible},inpPages:{visible:!0,value:this.book.getPages()},inpPage:{visible:!0,enable:!this.book.isProcessing()&&this.navigationControls,value:this.getPageForGUI()},cmdSave:{enable:!0,visible:this.isCmdVisible("cmdSave")&&!!this.p.downloadURL,active:!1},cmdPrint:{enable:!0,visible:this.isCmdVisible("cmdPrint")&&!!this.printer,active:!1},cmdFullScreen:{enable:_FullScreen2.default.available(),visible:this.isCmdVisible("cmdFullScreen"),active:_FullScreen2.default.available()&&_FullScreen2.default.activated()},widSettings:{enable:!0,visible:this.isCmdVisible("widSettings"),active:!1},cmdSmartPan:{enable:!0,visible:this.isCmdVisible("cmdSmartPan"),active:this.state.smartPan},cmdSinglePage:{enable:!0,visible:this.isCmdVisible("cmdSinglePage"),active:this.state.singlePage},cmdSounds:{enable:!0,visible:this.isCmdVisible("cmdSounds")&&!!this.sounds,active:!!this.sounds&&this.sounds.enabled},cmdStats:{enable:!0,visible:this.isCmdVisible("cmdStats"),active:this.state.stats},cmdLightingUp:{enable:Math.abs(this.state.lighting-this.p.lighting.max)>this.p.eps,visible:this.isCmdVisible("cmdLightingUp"),active:!1},cmdLightingDown:{enable:Math.abs(this.state.lighting-this.p.lighting.min)>this.p.eps,visible:this.isCmdVisible("cmdLightingDown"),active:!1}};for(var left=this.book.getLeftFlipping(),right=this.book.getRightFlipping(),flippersEnable={cmdFastBackward:!!left&&this.navigationControls,cmdBackward:!!left&&this.navigationControls,cmdBigBackward:!!left&&this.navigationControls,cmdForward:!!right&&this.navigationControls,cmdBigForward:!!right&&this.navigationControls,cmdFastForward:!!right&&this.navigationControls},_iterator3=Object.keys(flippersEnable),_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var name=_ref3;this.viewState[name]={enable:flippersEnable[name],visible:this.isCmdVisible(name),active:!1}}},BookController.prototype.updateView=function(){if(this.view){this.updateViewState();for(var _iterator4=Object.keys(this.viewState),_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}var name=_ref4;this.view.setState(name,this.viewState[name])}}},BookController.prototype.getActions=function(){var _this8=this,isSwipping=function(name){return _this8.actions.touchCmdSwipe.enabled&&_this8.actions.touchCmdSwipe.code===_this8.actions[name].code&&_this8.state.smartPan&&_this8.bookWatcher.scale<=1},cmds={};for(var name in this)!function(name){0===name.indexOf("cmd")&&(cmds[name]={activate:function(){_this8.viewState&&_this8.viewState[name].enable&&_this8[name].apply(_this8,arguments)}})}(name);return _extends({},cmds,{cmdPanLeft:{activate:function(e){return _this8.orbit.actions.pan(e,{state:"move",dx:-_this8.p.pan.speed,dy:0})}},cmdPanRight:{activate:function(e){return _this8.orbit.actions.pan(e,{state:"move",dx:_this8.p.pan.speed,dy:0})}},cmdPanUp:{activate:function(e){return _this8.orbit.actions.pan(e,{state:"move",dx:0,dy:-_this8.p.pan.speed})}},cmdPanDown:{activate:function(e){return _this8.orbit.actions.pan(e,{state:"move",dx:0,dy:_this8.p.pan.speed})}},mouseCmdRotate:{activate:this.orbit.actions.rotate},mouseCmdDragZoom:{activate:function(e,data){data.dy>0?_this8.cmdZoomOut():data.dy<0&&_this8.cmdZoomIn()}},mouseCmdPan:{activate:this.orbit.actions.pan},mouseCmdWheelZoom:{activate:function(e){e.preventDefault(),e.deltaY<0?_this8.cmdZoomOut():e.deltaY>0&&_this8.cmdZoomIn()}},touchCmdRotate:{activate:function(e,data){isSwipping("touchCmdRotate")||(e.preventDefault(),_this8.orbit.actions.rotate(e,data))}},touchCmdZoom:{activate:function(e,data){isSwipping("touchCmdZoom")||(e.preventDefault(),data.dy>0?_this8.cmdZoomOut():data.dy<0&&_this8.cmdZoomIn())}},touchCmdPan:{activate:function(e,data){isSwipping("touchCmdPan")||(e.preventDefault(),_this8.orbit.actions.pan(e,data))}},touchCmdSwipe:{activate:function(e,data){if(isSwipping("touchCmdSwipe"))if(e.preventDefault(),"start"===data.state){var touch=(e.touches||e.originalEvent.touches)[_this8.actions.touchCmdSwipe.code-1];_this8.swipeData={handled:!1,x0:touch.pageX,y0:touch.pageY,x:touch.pageX,y:touch.pageY}}else"move"===data.state?_this8.swipeData.handled||(_this8.swipeData=_extends({},_this8.swipeData,{x:_this8.swipeData.x+data.dx,y:_this8.swipeData.y+data.dy}),Math.abs(_this8.swipeData.x0-_this8.swipeData.x)>100&&(_this8.swipeData.x0>_this8.swipeData.x?_this8.cmdForward():_this8.cmdBackward(),_this8.swipeData.handled=!0)):delete _this8.swipeData}},widSettings:{activate:function(){}}})},BookController.prototype.bindActions=function(){this.eToA=new _EventsToActions2.default((0,_libs.$)(this.visual.element)),this.eToA.addAction(function(e){return e.preventDefault()},"contextmenu",_EventsToActions2.default.mouseButtons.Right,0),this.actions=this.getActions();for(var _iterator5=Object.keys(this.actions),_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:_iterator5[Symbol.iterator]();;){var _ref5;if(_isArray5){if(_i5>=_iterator5.length)break;_ref5=_iterator5[_i5++]}else{if(_i5=_iterator5.next(),_i5.done)break;_ref5=_i5.value}var name=_ref5,action=_extends({},this.actions[name],this.p.actions[name]);if(this.actions[name]=action,action.enabled){var flags=action.flags||0;action.type?this.eToA.addAction(action.activate,action.type,action.code,flags):void 0!==action.code&&this.eToA.addAction(action.activate,"keydown",action.code,flags)}}},BookController.prepareProps=function(props){return BookController.calcProps(BookController.mergeProps((0,_bookController.props)(),props))},BookController.setActions=function(props,actions){for(var _iterator6=Object.keys(actions||{}),_isArray6=Array.isArray(_iterator6),_i6=0,_iterator6=_isArray6?_iterator6:_iterator6[Symbol.iterator]();;){var _ref6;if(_isArray6){if(_i6>=_iterator6.length)break;_ref6=_iterator6[_i6++]}else{if(_i6=_iterator6.next(),_i6.done)break;_ref6=_i6.value}var name=_ref6;props.actions[name]=_extends({},props.actions[name],actions[name])}},BookController.mergeProps=function(first,second){function merge(first,second){second=second||{};for(var props=_extends({},first,second),_iterator7=Object.keys(first),_isArray7=Array.isArray(_iterator7),_i7=0,_iterator7=_isArray7?_iterator7:_iterator7[Symbol.iterator]();;){var _ref7;if(_isArray7){if(_i7>=_iterator7.length)break;_ref7=_iterator7[_i7++]}else{if(_i7=_iterator7.next(),_i7.done)break;_ref7=_i7.value}var name=_ref7;"object"===_typeof(first[name])&&(props[name]=merge(first[name],second[name]))}return props}second=second||{};var props=merge(first,second);return BookController.setActions(props,first.actions),BookController.setActions(props,second.actions),props},BookController.calcProps=function(props){return props.scale.delta=(props.scale.max-props.scale.min)/props.scale.levels,props.lighting.delta=(props.lighting.max-props.lighting.min)/props.lighting.levels,props},BookController}(_Controller3.default);exports.default=BookController},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(1),BookPrinter=function(){function BookPrinter(context,book,styleSheet){_classCallCheck(this,BookPrinter),this.book=book,this.styleSheet=styleSheet,this.wnd=context.wnd,this.doc=context.doc,this.pageCallback=book.getPageCallback();var test=this.pageCallback(0);this.type=test.type,"pdf"===this.type&&(this.pdfSrc=test.src.src)}return BookPrinter.prototype.cancel=function(){this.canceled=!0},BookPrinter.prototype.dispose=function(){this.frame&&(this.frame.remove(),delete this.frame)},BookPrinter.prototype.print=function(){var _this=this;if(delete this.canceled,"pdf"===this.type){var printWnd=void 0,callManually=!1;this.useIFrame()?(callManually=!!this.frame,this.frame||(this.frame=(0,_libs.$)('<iframe src="'+this.pdfSrc+'" style="display: none;"></iframe>').appendTo(this.doc.body)),printWnd=this.frame[0].contentWindow):printWnd=this.wnd.open(this.pdfSrc),callManually?printWnd.print():(0,_libs.$)(printWnd).on("load",function(){try{printWnd.print()}catch(e){console.error(e)}})}else this.renderContent().then(function(content){var printWnd=_this.wnd.open(),printDoc=printWnd.document,html='\n            <!DOCTYPE html>\n            <html>\n              <head>\n                <meta charset="utf-8">\n                <title>3D FlipBook - Printing</title>\n                '+content.head+'\n                <script type="text/javascript">\n                  function printDocument() {\n                    window.print();\n                    window.close();\n                  }\n                  function init() {\n                    setTimeout(printDocument, 100);\n                  }\n                <\/script>\n              </head>\n              <body onload="init()">\n                '+content.body+"\n              </body>\n            </html>\n          ";printDoc.open(),printDoc.write(html),printDoc.close()}).catch(function(e){return console.warn("3D FlipBook - Printing was canceled")})},BookPrinter.prototype.progress=function(v){if(this.canceled)throw"Cancel Printing";this.onProgress&&this.onProgress(Math.floor(100*v))},BookPrinter.prototype.renderContent=function(){for(var _this2=this,pages=this.book.getPages(),head=new Set,body=[],done=Promise.resolve(),page=0;page<pages;++page)!function(page){var info=_this2.pageCallback(page);"image"===info.type?done=done.then(function(){return _this2.progress(page/pages),_this2.renderImage(head,body,info.src)}):"html"===info.type&&(done=done.then(function(){return _this2.progress(page/pages),_this2.renderHtml(head,body,info.src)}))}(page);return done.then(function(){return _this2.progress(1),{head:_this2.renderHead(head),body:body.join("\n")}})},BookPrinter.wrap=function(content){return'<div class="fb3d-printer-page">'+content+"</div>"},BookPrinter.prototype.renderImage=function(head,body,src){body.push(BookPrinter.wrap('<img src="'+src+'" />'))},BookPrinter.prototype.renderHtml=function(head,body,src){return new Promise(function(resolve,reject){_libs.$.get(src,function(html){for(var links=html.match(/<link.*?>/gi)||[],_iterator=links,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var link=_ref;if(link.match(/stylesheet/i)){var href=link.match(/href\s*=\s*['"](.*)['"]/i);href&&head.add(href[1])}}var content=html.match(/<body.*?>([\S\s]*)<\/body>/i);content&&body.push(BookPrinter.wrap(content[1])),resolve()}).fail(function(e){console.error(e.responseText),reject()})})},BookPrinter.prototype.renderHead=function(head){var content=[];return head.forEach(function(k){return content.push('<link rel="stylesheet" href="'+k+'">')}),content.push(this.styleSheet?'<link rel="stylesheet" href="'+this.styleSheet+'">':BookPrinter.defaultStyleSheet()),content.join("\n")},BookPrinter.prototype.useIFrame=function(){var isChromium=this.wnd.chrome,winNav=this.wnd.navigator,vendorName=winNav.vendor,isIEedge=winNav.userAgent.indexOf("Edge")>-1,isIOSChrome=winNav.userAgent.match("CriOS");return!!isIOSChrome||!(!isChromium||"Google Inc."!==vendorName||isIEedge)},BookPrinter.defaultStyleSheet=function(){return'\n      <style type="text/css">\n        body {\n          margin: 0;\n          padding: 0;\n        }\n        .fb3d-printer-page {\n          page-break-after: always;\n        }\n      </style>\n    '},BookPrinter}();exports.default=BookPrinter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _View2=(__webpack_require__(1),__webpack_require__(65)),_View3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_View2),BookView=function(_View){function BookView(container,onLoad,template,handler){return _classCallCheck(this,BookView),_possibleConstructorReturn(this,_View.call(this,container,onLoad,template,handler))}return _inherits(BookView,_View),BookView.prototype.initView=function(){this.view=this.container.find(".view"),this.bookmarksView=this.container.find(".widBookmarks"),this.thumbnailsView=this.container.find(".widThumbnails"),this.searchView=this.container.find(".widSearch")},BookView.prototype.getHandlers=function(id){var _this2=this;return"inpPage"===id?[{inpPage:function(e,data){return _this2.callLater(_View.prototype.getHandlers.call(_this2,id),id,e,data,BookView.PAGE_HANDLER_DELAY)}}]:_View.prototype.getHandlers.call(this,id)},BookView.prototype.onItemStateChanged=function(id,state){"cmdFullScreen"===id&&(state.active?this.parentContainer.addClass("fullscreen"):this.parentContainer.removeClass("fullscreen"))},BookView.prototype.getView=function(){return this.view},BookView.prototype.getBookmarksView=function(){return this.bookmarksView},BookView.prototype.getThumbnailsView=function(){return this.thumbnailsView},BookView.prototype.getSearchView=function(){return this.searchView},BookView.prototype.getForms=function(){return[]},BookView.prototype.getLinks=function(){return["cmdZoomIn","cmdZoomOut","cmdDefaultZoom","cmdToc","cmdFastBackward","cmdBackward","cmdBigBackward","cmdForward","cmdBigForward","cmdFastForward","cmdSave","cmdPrint","cmdFullScreen","cmdSmartPan","cmdSinglePage","cmdSounds","cmdStats","cmdLightingUp","cmdLightingDown","cmdCloseToc","cmdBookmarks","cmdSearch","cmdThumbnails"]},BookView.prototype.getWidgets=function(){return["widLoadingProgress","widFloatWnd","widTocMenu","widBookmarks","widThumbnails","widSearch","widSettings","widLoading"]},BookView.prototype.getInputs=function(){return["inpPage","inpPages"]},BookView.prototype.getTexts=function(){return["txtLoadingProgress"]},BookView.prototype.getTemplate=function(){return{html:"templates/default-book-view.html",styles:["css/black-book-view.css"],links:[{rel:"stylesheet",href:"css/font-awesome.min.css"}],script:"js/default-book-view.js"}},BookView}(_View3.default);BookView.PAGE_HANDLER_DELAY=1e3,exports.default=BookView},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _BookPropsBuilder2=__webpack_require__(9),_BookPropsBuilder3=_interopRequireDefault(_BookPropsBuilder2),_ImageFactory=__webpack_require__(8),_ImageFactory2=_interopRequireDefault(_ImageFactory),ClbBookPropsBuilder=function(_BookPropsBuilder){function ClbBookPropsBuilder(context,pageCallback,pages,onReady){_classCallCheck(this,ClbBookPropsBuilder);var _this=_possibleConstructorReturn(this,_BookPropsBuilder.call(this,onReady));if(_this.calcSheets(pages),_this.pageCallback=pageCallback,_this.binds={pageCallback:pageCallback.bind(_this)},_this.imageFactory=new _ImageFactory2.default(context),pages>0){var test=_this.imageFactory.build(pageCallback(0),0,_this.defaults.sheet.widthTexels,_this.defaults.sheet.heightTexels,_this.defaults.sheet.color);test.onLoad=function(){_this.calcProps(test.width,test.height),test.dispose(),_this.ready()}}else _this.props=_this.defaults,_this.ready();return _this}return _inherits(ClbBookPropsBuilder,_BookPropsBuilder),ClbBookPropsBuilder}(_BookPropsBuilder3.default);exports.default=ClbBookPropsBuilder},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_SheetBlock2=__webpack_require__(10),_SheetBlock3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_SheetBlock2),Cover=function(_SheetBlock){function Cover(visual,p,angle,state){return _classCallCheck(this,Cover),_possibleConstructorReturn(this,_SheetBlock.call(this,visual,p,0,1,angle,state))}return _inherits(Cover,_SheetBlock),Cover.prototype.getProps=function(){return _extends({},this.p.cover,{sheets:1})},Cover.prototype.loadPoints=function(){return{interpolationPoints:[{x:[[0,.2877,.6347,.8174,1],[0,.2831,.6256,.8082,.9909],[0,.2603,.5936,.7763,.9589],[0,.137,.3881,.5342,.6758],[0,0,0,0,0]],y:[[0,0,0,0,0],[0,.02,.005,-.001,-.0025],[0,.04,.01,-.002,-.005],[0,.2466,.4795,.5708,.6758],[0,.2877,.6347,.8174,1]]},{x:[[0,.2877,.6347,.8174,1],[0,.2831,.6256,.8082,.9909],[0,.2603,.5936,.7763,.9589],[0,.233,.563,.746,.927],[0,.144,.433,.613,.796],[0,.07,.288,.455,.626],[0,0,0,0,0]],y:[[0,0,0,0,0],[0,.02,.005,-.001,-.0025],[0,.04,.01,-.002,-.005],[0,.168,.269,.27,.255],[0,.245,.435,.458,.46],[0,.278,.544,.614,.673],[0,.2877,.6347,.8174,1]]}],openedInterpolationIndeces:[[2,3,4],[2,3,4,5,6]],closedInterpolationIndeces:[[0,1,2],[0,1,2]]}},Cover}(_SheetBlock3.default);exports.default=Cover},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _SheetCssLayer=__webpack_require__(37),_SheetCssLayer2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_SheetCssLayer),CssLayersManager=function(){function CssLayersManager(book){_classCallCheck(this,CssLayersManager),this.book=book,this.props=book.p.cssLayerProps,this.visual=book.visual,this.pageManager=book.pageManager,this.wrappers={}}return CssLayersManager.prototype.getActives=function(){var page=this.book.getPage(),pages=this.book.getPages();return 0===page||page===pages-1?[page]:[page,page+1]},CssLayersManager.prototype.dispose=function(){for(var _iterator=Object.values(this.wrappers),_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}_ref.layers.forEach(function(l){return l.dispose()})}delete this.wrappers},CssLayersManager.prototype.show=function(){var _this=this;this.hidden=!1;for(var _iterator2=this.getActives(),_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if("break"===function(){if(_isArray2){if(_i2>=_iterator2.length)return"break";_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)return"break";_ref2=_i2.value}var n=_ref2,w=_this.wrappers[n];if(w){if("ready"===w.state&&w.layers.length){var block=_this.book.getBlockByPage(n);w.layers.forEach(function(l){l.isHidden()&&(l.update(block),l.show())})}}else{var _w=_this.wrappers[n]={state:"loading",layers:[]};Promise.resolve().then(function(){_this.pageManager.getLayers(n,function(layers){if(layers.length&&_this.wrappers){for(var _block=_this.book.getBlockByPage(n),_iterator3=layers,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var l=_ref3,sl=new _SheetCssLayer2.default(_this.visual,_block,_this.props);_w.layers.push(sl),sl.set(l.css,l.html,l.js)}setTimeout(function(){!_this.hidden&&~_this.getActives().indexOf(n)&&_w.layers.forEach(function(l){return l.show()})},10)}_w.state="ready"})})}}())break}},CssLayersManager.prototype.hide=function(){this.hidden=!0;for(var wait=[],_iterator4=Object.values(this.wrappers),_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}_ref4.layers.forEach(function(l){return wait.push(l.hide())})}return Promise.all(wait)},CssLayersManager}();exports.default=CssLayersManager},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(1),_Cache=__webpack_require__(14),_Cache2=_interopRequireDefault(_Cache),_LoadingAnimation=__webpack_require__(52),_LoadingAnimation2=_interopRequireDefault(_LoadingAnimation),_ImageFactory=__webpack_require__(8),_ImageFactory2=_interopRequireDefault(_ImageFactory),_BaseMathUtils=__webpack_require__(2),_BaseMathUtils2=_interopRequireDefault(_BaseMathUtils),_TextureAnimator=__webpack_require__(60),_TextureAnimator2=_interopRequireDefault(_TextureAnimator),PageManager=function(){function PageManager(visual,book,p){_classCallCheck(this,PageManager),this.visual=visual,this.book=book,this.pageQuery="",this.p=p,this.pageCache=new _Cache2.default(p.cachedPages),this.resourcesCache=new _Cache2.default,this.canvas=(0,_libs.$)("<canvas>")[0],this.imageFactory=new _ImageFactory2.default(_extends({},visual,{dispatchEvent:book.dispatchEvent.bind(book),renderCanvas:this.canvas,renderCanvasCtx:this.canvas.getContext("2d")}),this.resourcesCache),this.loadings=[],this.renderQueue=[],this.pageRequests=[],this.predictedRequests=[],this.tmpMaterial=new _libs.THREE.MeshBasicMaterial,visual.addObject(new _libs.THREE.Mesh(new _libs.THREE.PlaneGeometry(.001,.001),this.tmpMaterial)),this.loadingAnimation=!0,this.loading={},this.loading[p.cover.color]=this.createLoadingTexture(p.cover),p.page.color!==p.cover.color&&(this.loading[p.page.color]=this.createLoadingTexture(p.page)),this.turnOnEvents(),visual.addRenderCallback(this.update.bind(this)),setTimeout(this.updateRenderQueue.bind(this),250)}return PageManager.prototype.createLoadingTexture=function(p){var scale=Math.sqrt(1262992.5/(p.widthTexels*p.heightTexels)),animation=new _LoadingAnimation2.default(scale*p.widthTexels,scale*p.heightTexels,p.color),animator=new _TextureAnimator2.default(animation.createSprite(6),6,1,6,.2);return animation.dispose(),animator},PageManager.prototype.dispose=function(){this.turnOffEvents();for(var _iterator=Object.keys(this.loading),_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var color=_ref;this.loading[color].dispose()}delete this.loading,this.resourcesCache.dispose(),this.pageCache.dispose(),this.canvas.height=this.canvas.width=0,delete this.canvas},PageManager.prototype.isCover=function(n){return n<2||n>=2*(this.p.sheets+1)},PageManager.prototype.isMobile=function(){return(this.visual.wnd.devicePixelRatio||1)>1},PageManager.prototype.getPageState=function(n){var object=this.pageCache.get(n);return object?object.state:void 0},PageManager.prototype.enableLoadingAnimation=function(enable){this.loadingAnimation=enable;for(var _iterator2=this.loadings,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var o=_ref2;this.setupMaterial(o)}},PageManager.prototype.update=function(dt){if(this.loadingAnimation){for(var loading={},_iterator3=this.loadings,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var o=_ref3;o.isActive()&&(loading[o.color]=!0)}for(var _iterator4=Object.keys(loading),_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}var color=_ref4;this.loading[color].update(dt),this.book.updateThree()}}},PageManager.prototype.removeFromLoadings=function(o){var i=this.loadings.indexOf(o);~i&&this.loadings.splice(i,1)},PageManager.prototype.removeFromRenderQueue=function(o){var i=this.renderQueue.indexOf(o);~i&&this.renderQueue.splice(i,1)},PageManager.prototype.refreshPageQuery=function(n){var query=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pageQuery=query;var object=this.pageCache.get(n);object&&object.wrapper&&object.wrapper.setQuery&&(this.pageCache.remove(n)||(object.wrapper.setQuery(query),this.pushInRenderQueue(object)))},PageManager.prototype.refreshZoom=function(){var _this=this;if(this.p.autoResolution.enable){var es=[];this.pageCache.forEach(function(e){es.push(e)}),es.forEach(function(e){var object=e[1];object&&object.wrapper&&(_this.pageCache.remove(e[0])||_this.pushInRenderQueue(object))})}},PageManager.prototype.getLayers=function(n,clb){var _this2=this;this.p.cssLayersLoader?this.p.cssLayersLoader(n,function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var object=_this2.pageCache.get(n);object&&("active"!==object.state?object.pendings.push({clb:clb,args:args}):clb.apply(void 0,args))}):clb([])},PageManager.prototype.resolvePendings=function(pendings){for(var _iterator5=pendings,_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:_iterator5[Symbol.iterator]();;){var _ref5;if(_isArray5){if(_i5>=_iterator5.length)break;_ref5=_iterator5[_i5++]}else{if(_i5=_iterator5.next(),_i5.done)break;_ref5=_i5.value}var p=_ref5;try{p.clb.apply(p,p.args)}catch(e){console.error(e)}}pendings.splice(0,pendings.length)},PageManager.prototype.rtlPageN=function(n){return this.p.rtl?2*(this.p.sheets+2)-1-n:n},PageManager.prototype.load=function(material,n){var _this3=this,pi=this.p.pageCallback(this.rtlPageN(n)),p=this.isCover(n)?this.p.cover:this.p.page,o={n:n,texture:new _libs.THREE.Texture,wrapper:null,state:"loading",locked:function(n){return"loading"===o.state||"rendering"===o.state||_this3.book.isActivePage(n)},color:p.color,isActive:function(){return _this3.book.isActivePage(n)},isTop:function(){return~_this3.book.getTopPages().indexOf(n)},dispose:function(){_this3.removeFromLoadings(o),_this3.removeFromRenderQueue(o),o.wrapper&&o.wrapper.dispose&&o.wrapper.dispose(),o.texture.dispose(),delete o.texture,delete o.wrapper},pendings:[]};return o.texture.minFilter=_libs.THREE.LinearFilter,this.loadings.push(o),this.setMaterial(o,material),Promise.resolve().then(function(){if(o.texture){o.widthTexels=pi.widthTexels||p.widthTexels,o.heightTexels=pi.heightTexels||p.heightTexels;var res=_this3.calcResolution(o);o.wrapper=_this3.imageFactory.build(pi,void 0===pi.number?_this3.rtlPageN(n):pi.number,res.width,res.height,p.color,_this3.p.injector),o.wrapper.setQuery&&o.wrapper.setQuery(_this3.pageQuery),o.simulate=pi.interactive?(o.wrapper.simulate||function(){}).bind(o.wrapper):void 0,o.wrapper.onLoad=function(){_this3.pushInRenderQueue(o),_this3.book.dispatchEvent({type:"loadedPage",page:n})},o.wrapper.onChange=function(image){o.texture&&(_this3.removeFromLoadings(o),o.material&&(o.material.map=o.texture,o.material.color=new _libs.THREE.Color(16777215),o.material.needsUpdate=!0),o.texture.image=image,o.texture.needsUpdate=!0,o.texture.onUpdate=function(){"queuedForRender"!==o.state&&(o.state="active",_this3.resolvePendings(o.pendings)),delete _this3.rendering},_this3.tmpMaterial.map=o.texture,_this3.tmpMaterial.needsUpdate=!0)}}}),this.book.dispatchEvent({type:"loadPage",page:n}),this.pageCache.put(n,o)},PageManager.prototype.isSinglePage=function(o){return this.p.singlePage||!o.n||o.n===this.book.getPages()-1},PageManager.prototype.calcResolution=function(o){var res=void 0;if(this.p.autoResolution.enable){var k=Math.min((this.isSinglePage(o)?1:.5)*this.visual.width()/o.widthTexels,this.visual.height()/o.heightTexels);res={width:this.p.autoResolution.k*this.p.zoom*k*o.widthTexels,height:this.p.autoResolution.k*this.p.zoom*k*o.heightTexels}}else res={width:o.widthTexels,height:o.heightTexels};return res},PageManager.prototype.pushInRenderQueue=function(o){"queuedForRender"!==o.state&&(o.state="queuedForRender",this.renderQueue.push(o))},PageManager.prototype.updateRenderQueue=function(){if(this.canvas){var p=this.p;if(this.rendering)this.book.updateThree();else if(p.renderWhileFlipping||!this.book.isProcessing()){for(var active=void 0,top=void 0,_iterator6=this.renderQueue,_isArray6=Array.isArray(_iterator6),_i6=0,_iterator6=_isArray6?_iterator6:_iterator6[Symbol.iterator]();;){var _ref6;if(_isArray6){if(_i6>=_iterator6.length)break;_ref6=_iterator6[_i6++]}else{if(_i6=_iterator6.next(),_i6.done)break;_ref6=_i6.value}var o=_ref6;if(!active&&o.isActive()&&(active=o),o.isTop()){top=o;break}}this.rendering=top||active,(this.isMobile()&&p.renderInactivePagesOnMobile||!this.isMobile()&&p.renderInactivePages)&&(this.rendering=this.rendering||this.renderQueue[0]),this.rendering&&(this.rendering.wrapper.startRender?(this.removeFromRenderQueue(this.rendering),this.rendering.state="rendering",this.rendering.wrapper.setResolution(this.calcResolution(this.rendering)),this.rendering.wrapper.startRender()):delete this.rendering)}setTimeout(this.updateRenderQueue.bind(this),250)}},PageManager.prototype.turnOnEvents=function(){this.transferEvents=!0},PageManager.prototype.turnOffEvents=function(){var mouseup=_libs.$.Event("mouseup"),mouseout=_libs.$.Event("mouseout");this.pageCache.forEach(function(ent){var object=ent[1];object.simulate&&(object.simulate(mouseup,void 0,0,0),object.simulate(mouseout,void 0,0,0))}),this.transferEvents=!1},PageManager.prototype.transferEventToTexture=function(n,e,data){if(this.transferEvents){var toObject=this.getOrLoadTextureObject(void 0,n);if(toObject.wrapper){var uv=data.uv,toDoc=toObject.wrapper.getSimulatedDoc();this.pageCache.forEach(function(ent){var object=ent[1];object.simulate&&object.simulate(e,toDoc,uv.x,uv.y)})}}},PageManager.prototype.loadPredictedPages=function(){this.predictedRequests=_BaseMathUtils2.default.predict(this.pageRequests,this.p.preloadPages);for(var _iterator7=this.predictedRequests,_isArray7=Array.isArray(_iterator7),_i7=0,_iterator7=_isArray7?_iterator7:_iterator7[Symbol.iterator]();;){var _ref7;if(_isArray7){if(_i7>=_iterator7.length)break;_ref7=_iterator7[_i7++]}else{if(_i7=_iterator7.next(),_i7.done)break;_ref7=_i7.value}var p=_ref7;p<this.book.getPages()&&!this.pageCache.get(p)&&this.load(void 0,p)}},PageManager.prototype.addPageRequest=function(n){this.pageRequests.push(n),this.pageRequests.length>this.p.pagesForPredicting&&this.pageRequests.shift(),Promise.resolve().then(this.loadPredictedPages.bind(this))},PageManager.prototype.setMaterial=function(o,material){this.pageCache.forEach(function(e){var ob=e[1];o!==ob&&ob.material===material&&delete ob.material}),material&&material!==o.material&&(o.material=material,this.setupMaterial(o))},PageManager.prototype.setupMaterial=function(o){o.material.map=o.texture.image?o.texture:this.loadingAnimation?this.loading[o.color].texture:null,o.material.map||(o.material.color=new _libs.THREE.Color(o.color)),o.material.needsUpdate=!0},PageManager.prototype.getOrLoadTextureObject=function(material,n){var object=this.pageCache.get(n);return object?this.setMaterial(object,material):(object=this.load(material,n),this.addPageRequest(n)),object},PageManager.prototype.setTexture=function(material,n){~this.predictedRequests.indexOf(n)&&this.addPageRequest(n),this.getOrLoadTextureObject(material,n)},PageManager}();exports.default=PageManager},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _BookPropsBuilder2=__webpack_require__(9),_BookPropsBuilder3=_interopRequireDefault(_BookPropsBuilder2),_Pdf=__webpack_require__(18),_Pdf2=_interopRequireDefault(_Pdf),PdfBookPropsBuilder=function(_BookPropsBuilder){function PdfBookPropsBuilder(src,onReady){_classCallCheck(this,PdfBookPropsBuilder);var _this=_possibleConstructorReturn(this,_BookPropsBuilder.call(this,onReady));return _this.pdf=new _Pdf2.default(src),_this.pageDescription={type:"pdf",src:_this.pdf,interactive:!0},_this.binds={pageCallback:_this.pageCallback.bind(_this)},_this.pdf.getHandler(_this.init.bind(_this)),_this}return _inherits(PdfBookPropsBuilder,_BookPropsBuilder),PdfBookPropsBuilder.prototype.dispose=function(){this.pdf.dispose(),_BookPropsBuilder.prototype.dispose.call(this)},PdfBookPropsBuilder.prototype.init=function(handler){var _this2=this,pages=this.pdf.getPagesNum();this.calcSheets(pages),pages>0?handler.getPage(1).then(function(page){var viewport=page.getViewport({scale:1}),size={width:viewport.width,height:viewport.height};_this2.calcProps(size.width,size.height),_this2.ready()}).catch(function(e){console.error(e)}):(this.props=this.defaults,this.ready())},PdfBookPropsBuilder.prototype.pageCallback=function(n){return this.pageDescription},PdfBookPropsBuilder}(_BookPropsBuilder3.default);exports.default=PdfBookPropsBuilder},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(1),PdfLinksHandler=function(){function PdfLinksHandler(pdf,ctrl,element){_classCallCheck(this,PdfLinksHandler),this.pdf=pdf,this.ctrl=ctrl,this.element=(0,_libs.$)(element),this.cursors=[]}return PdfLinksHandler.prototype.dispose=function(){},PdfLinksHandler.prototype.setHandler=function(handler){this.handler=handler},PdfLinksHandler.prototype.defaultHandler=function(type,destination){"internal"===type?this.ctrl.goToPage(destination):"external"===type&&window.open(destination,"_blank")},PdfLinksHandler.prototype.callHandlers=function(type,destination){this.handler&&this.handler(type,destination)||this.defaultHandler(type,destination)},PdfLinksHandler.prototype.handleEvent=function(data){var _this=this,e=data.event,anno=data.annotation;switch(e.type){case"mouseover":this.cursors.push(this.element.css("cursor")),this.element.css("cursor","pointer");break;case"mouseout":this.element.css("cursor",this.cursors.pop()||"");break;case"touchtap":case"click":if(anno.url)this.callHandlers("external",anno.url);else if(anno.dest){var destPromise=void 0;destPromise="string"==typeof anno.dest?this.pdf.handler.getDestination(anno.dest):Promise.resolve(anno.dest),destPromise.then(function(dest){return"number"==typeof dest[0]?dest[0]:_this.pdf.handler.getPageIndex(dest[0])}).then(function(number){return _this.callHandlers("internal",number)}).catch(function(){return console.error("Bad link")})}}},PdfLinksHandler}();exports.default=PdfLinksHandler},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _Finder=__webpack_require__(17),_Finder2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Finder),SearchEngine=function(){function SearchEngine(pageCallback,pages){_classCallCheck(this,SearchEngine),this.pageCallback=pageCallback,this.pages=pages,this.results=[]}return SearchEngine.prototype.setQuery=function(query){this.query=query,this.update=!0,this.process()},SearchEngine.prototype.process=function(){var _this=this;if(this.update){var results=this.results;if(this.results=[],this.onPageHitsChanged)for(var _iterator=results,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){if(_isArray){if(_i>=_iterator.length)break;_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_i.value}this.onPageHitsChanged(void 0,"")}this.update=!1,this.page=0,this.stamp=Date.now(),this.query.length>1&&this.process()}else if(this.page<this.pages){var stamp=this.stamp;this.find(this.pageCallback(this.page)).then(function(contexts){stamp===_this.stamp&&(contexts.length&&_this.results.push({page:_this.page,contexts:contexts}),_this.onPageHitsChanged&&_this.onPageHitsChanged(_this.page,_this.query),++_this.page,_this.process())})}},SearchEngine.prototype.find=function(pi){var _this2=this;return"pdf"===pi.type?new Promise(function(resolve){pi.src.getHandler(function(){var n=void 0===pi.number?_this2.page:pi.number;"right"===pi.src.getPageType(n)?resolve([]):pi.src.getPage(n).then(function(page){page.getTextContent().then(function(textContent){resolve(new _Finder2.default(textContent.items.map(function(item){return item.str}),_this2.query,{hits:!1}).getContexts())})}).catch(function(){return resolve([])})})}):Promise.resolve([])},SearchEngine}();exports.default=SearchEngine},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _CSSLayer=__webpack_require__(13),_CSSLayer2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_CSSLayer),SheetCssLayer=function(){function SheetCssLayer(visual,block,props){_classCallCheck(this,SheetCssLayer),this.visual=visual;var size=block.getTopSize();this.layer=new _CSSLayer2.default(size.width,size.height,props),this.update(block),this.visual.addCssObject(this.layer)}return SheetCssLayer.prototype.dispose=function(){this.layer.dispose(),this.visual.removeCssObject(this.layer)},SheetCssLayer.prototype.isHidden=function(){return this.layer.isHidden()},SheetCssLayer.prototype.hide=function(){return this.layer.hide()},SheetCssLayer.prototype.show=function(){return this.layer.show()},SheetCssLayer.prototype.set=function(css,html,js){this.layer.setData(css,html,js)},SheetCssLayer.prototype.update=function(block){this.block=block,this.block.getTopWorldRotation(this.layer.rotation),this.block.getTopWorldPosition(this.layer.position)},SheetCssLayer}();exports.default=SheetCssLayer},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_MathUtils=__webpack_require__(3),_MathUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_MathUtils),SheetPhysics=function(){function SheetPhysics(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,gravity=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,cornerDeviation=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.15,fps=arguments.length>3&&void 0!==arguments[3]?arguments[3]:240;_classCallCheck(this,SheetPhysics),this.p={r:r,cornerDeviation:cornerDeviation,l:Math.PI*r,startDt:1/fps,gravity:gravity,margin:.002*r,infM:1e4,attempts:16,maxIterations:100},this.os=[]}return SheetPhysics.targetForceClb=function(o,a,v,ch){var l=a*this.r;return 100*this.m*this.g*(2/(1+Math.exp(10*(l-this.tl)))-1)-40*this.m*v},SheetPhysics.hoverCornerForceClb=function(o,v,l,ch){return 5},SheetPhysics.prototype.getTargetForceClb=function(mass,targetAngle){return SheetPhysics.targetForceClb.bind({g:this.p.gravity,m:mass,tl:targetAngle*this.p.r,r:this.p.r})},SheetPhysics.dragForceClb=function(o,a,v,ch){return o.flbt*o.m*(10*o.g*ch-50*v/(1+Math.exp(3.5*Math.abs(ch))))},SheetPhysics.dragCornerForceClb=function(o,a,v,ch){return 15*(2/(1+Math.exp(10*(a-this.ta)*o.r))-1)},SheetPhysics.getDragCornerForceClb=function(targetAngle){return SheetPhysics.dragCornerForceClb.bind({ta:targetAngle})},SheetPhysics.prototype.dispose=function(){this.os=[]},SheetPhysics.prototype.getSize=function(){return this.os.length},SheetPhysics.prototype.addObject=function(mass,angle,velocity,flexibility,cornerHeight,simulateClb,removeClb){var forceClb=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){return 0},cornerForceClb=arguments.length>8&&void 0!==arguments[8]?arguments[8]:function(){return 0},no={id:_MathUtils2.default.getUnique(),m:mass,v:velocity,l:angle*this.p.r,f:forceClb,cf:cornerForceClb,ch:cornerHeight,flbt:flexibility,simulateClb:simulateClb,removeClb:removeClb},i=this.os.findIndex(function(o){return no.l<=o.l});return i=~i?i:this.os.length,this.os.splice(i,0,no),no.id},SheetPhysics.prototype.getParametrMap=function(name){return{mass:"m",velocity:"v",flexibility:"flbt",cornerHeight:"ch",simulateClb:"simulateClb",removeClb:"removeClb",forceClb:"f",cornerForceClb:"cf"}[name]},SheetPhysics.prototype.setParametr=function(id,name,value){var o=this.os.find(function(o){return o.id===id});"angle"===name?o.l=value*this.p.r:o[this.getParametrMap(name)]=value},SheetPhysics.prototype.getParametr=function(id,name){var o=this.os.find(function(o){return o.id===id});return"angle"===name?o.l/this.p.r:o[this.getParametrMap(name)]},SheetPhysics.prototype.simulate=function(T){for(var t=0,dt=this.p.startDt,attempt=0,it=0;t<T&&it<this.p.maxIterations;){dt>T-t&&(dt=T-t);var nos=this.integrate(this.os,dt),ci=this.findCollisions(nos);if(ci.num>1&&attempt<this.p.attempts)dt/=2,++attempt;else{if(1===ci.num){var scos=this.solveCollision(nos[ci.last-1],nos[ci.last]);nos[ci.last-1]=scos[0],nos[ci.last]=scos[1]}else if(ci.num>1){for(var gs=[],last=-2,_iterator=ci.all,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var i=_ref;i-last>1&&gs.push([]),gs[gs.length-1].push(i),last=i}for(var _iterator2=gs,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var g=_ref2,sg=void 0,i0=void 0;nos[g[0]].l>Math.PI/2*this.p.r?(sg=-1,i0=g[g.length-1]):(sg=1,i0=g[0]);for(var _i3=i0;_i3<nos.length&&_i3>-1;_i3+=sg){var o=nos[_i3+sg];if(!(o&&sg*(o.l-nos[_i3].l)<=this.p.margin))break;o.l=nos[_i3].l+2*sg*this.p.margin,(o.l>this.p.l||o.l<0)&&(o.l=o.l>this.p.l?this.p.l:0,o.ch=0,o.v=0,console.error("Bad collision"))}}}this.os=nos,this.findAndSolveCornerCollisions(),t+=dt,dt=this.p.startDt,attempt=0}++it}this.removeStatics()},SheetPhysics.prototype.removeStatics=function(){for(var nos=[],notify=[[],[]],_iterator3=this.os,_isArray3=Array.isArray(_iterator3),_i4=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i4>=_iterator3.length)break;_ref3=_iterator3[_i4++]}else{if(_i4=_iterator3.next(),_i4.done)break;_ref3=_i4.value}var o=_ref3;o.simulateClb&&o.simulateClb(o.l/this.p.r,o.ch),o.l!==this.p.l&&0!==o.l||0!==o.v?nos.push(o):void 0!==o.removeClb&&notify[(o.l!==this.p.l)+0].push(o)}this.os=nos;for(var _iterator4=notify[0].reverse(),_isArray4=Array.isArray(_iterator4),_i5=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i5>=_iterator4.length)break;_ref4=_iterator4[_i5++]}else{if(_i5=_iterator4.next(),_i5.done)break;_ref4=_i5.value}var _o=_ref4;_o.removeClb(Math.PI,_o.ch)}for(var _iterator5=notify[1],_isArray5=Array.isArray(_iterator5),_i6=0,_iterator5=_isArray5?_iterator5:_iterator5[Symbol.iterator]();;){var _ref5;if(_isArray5){if(_i6>=_iterator5.length)break;_ref5=_iterator5[_i6++]}else{if(_i6=_iterator5.next(),_i6.done)break;_ref5=_i6.value}var _o2=_ref5;_o2.removeClb(0,_o2.ch)}},SheetPhysics.prototype.findAndSolveCornerCollisions=function(){if(this.os.length)for(var os=[_extends({},this.os[0],{l:0,m:this.p.infM,ch:0})].concat(this.os,[_extends({},this.os[0],{l:1.05*this.p.l,m:this.p.infM,ch:0})]),i=1;i<os.length;++i){var a=os[i-1],b=os[i],al=a.l+this.p.cornerDeviation*a.ch*this.p.r,bl=b.l+this.p.cornerDeviation*b.ch*this.p.r;if(1.05*al>bl&&a.ch>b.ch){var dCh=a.ch-b.ch,dv=a.m/a.flbt+b.m/b.flbt,ka=a.m/a.flbt/dv,kb=b.m/b.flbt/dv;a.ch=a.ch-kb*dCh,b.ch=b.ch+ka*dCh}}},SheetPhysics.prototype.solveCollision=function(a,b){var mm=b.m+a.m,av=(-a.v*b.m+a.m*a.v+2*b.m*b.v)/mm,bv=(b.m*b.v-b.v*a.m+2*a.m*a.v)/mm;return[_extends({},a,{v:av}),_extends({},b,{v:bv})]},SheetPhysics.prototype.findCollisions=function(os){for(var ci={num:0,last:0,all:[]},i=1;i<os.length&&ci.num<2;++i)(os[i-1].l>os[i].l||this.isCollision(os[i-1],os[i]))&&(os[i-1].l>os[i].l&&++ci.num,++ci.num,ci.last=i,-1===ci.all.indexOf(i-1)&&ci.all.push(i-1),-1===ci.all.indexOf(i)&&ci.all.push(i));return ci},SheetPhysics.prototype.isCollision=function(a,b){return Math.abs(a.l-b.l)<this.p.margin&&a.v>b.v},SheetPhysics.prototype.integrate=function(os,dt){for(var nos=[],_iterator6=os,_isArray6=Array.isArray(_iterator6),_i7=0,_iterator6=_isArray6?_iterator6:_iterator6[Symbol.iterator]();;){var _ref6;if(_isArray6){if(_i7>=_iterator6.length)break;_ref6=_iterator6[_i7++]}else{if(_i7=_iterator6.next(),_i7.done)break;_ref6=_i7.value}var o=_ref6,vl=_MathUtils2.default.rk4(this.dy.bind({g:this.p.gravity,r:this.p.r,m:o.m,f:o.f,cf:o.cf,ch:o.ch,flbt:o.flbt}),0,dt,[o.v,o.l,o.ch]),no=_extends({},o,{v:vl[0],l:vl[1],ch:vl[2]});(no.l<=0||no.l>=this.p.l)&&(no.l=no.l<=0?0:this.p.l,no.v=0,no.ch=0),nos.push(no)}return nos},SheetPhysics.prototype.dy=function(t,y){var v=y[0],l=y[1],ch=y[2],f=this.f(this,l/this.r,v,ch),cf=this.cf(this,l/this.r,v,ch);return[(-this.g*Math.cos(l/this.r)*this.m+f)/this.m,v+.01*(Math.random()-.5),this.flbt*((2/(1+Math.exp(-.2*cf))-1)*(1-2/(1+Math.exp(-5*(Math.abs(ch)-2))))-ch)]},SheetPhysics}();exports.default=SheetPhysics},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var SoundsEnviroment=function(){function SoundsEnviroment(){var template=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,SoundsEnviroment),this.sounds=template.sounds||{},this.audio={},this.sounds.startFlip&&(this.audio.startFlip=new Audio(this.sounds.startFlip)),this.sounds.endFlip&&(this.audio.endFlip=new Audio(this.sounds.endFlip))}return SoundsEnviroment.prototype.setEnabled=function(enabled){this.enabled=enabled},SoundsEnviroment.prototype.togle=function(){this.enabled=!this.enabled},SoundsEnviroment.prototype.dispose=function(){delete this.audio.startFlip,delete this.audio.endFlip},SoundsEnviroment.prototype.startFlip=function(){this.enabled&&this.audio.startFlip&&this.audio.startFlip.play()},SoundsEnviroment.prototype.endFlip=function(){this.enabled&&this.audio.startFlip&&(this.audio.startFlip.pause(),this.audio.startFlip.currentTime=0),this.enabled&&this.audio.endFlip&&this.audio.endFlip.play()},SoundsEnviroment.prototype.subscribeFlips=function(emitter){emitter.addEventListener("startFlip",this.startFlip.bind(this)),emitter.addEventListener("endFlip",this.endFlip.bind(this))},SoundsEnviroment}();exports.default=SoundsEnviroment},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _WidgetController2=__webpack_require__(67),_WidgetController3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_WidgetController2),TocController=function(_WidgetController){function TocController(view,bookCtrl){_classCallCheck(this,TocController);var _this=_possibleConstructorReturn(this,_WidgetController.call(this,view));return _this.bookCtrl=bookCtrl,_this.tab="none",_this}return _inherits(TocController,_WidgetController),TocController.prototype.setThumbnails=function(thumbnails){this.thumbnails=thumbnails,thumbnails.onNavigate=this.navigateThumbnails.bind(this),"none"===this.tab&&(this.tab="thumbnails"),this.fireChange()},TocController.prototype.setSearch=function(search){this.search=search,search.onNavigate=this.navigateSearch.bind(this),this.fireChange()},TocController.prototype.setBookmarks=function(bookmarks,pdf){this.bookmarks=bookmarks,this.pdf=pdf,bookmarks.onNavigate=this.navigateBookmarks.bind(this),bookmarks.getSize()&&(this.tab="bookmarks",this.isBookmarks=!0),this.fireChange()},TocController.prototype.cmdBookmarks=function(){this.tab="bookmarks",this.fireChange()},TocController.prototype.cmdThumbnails=function(){this.tab="thumbnails",this.fireChange()},TocController.prototype.cmdSearch=function(){this.tab="search",this.fireChange()},TocController.prototype.cmdCloseToc=function(){this.hide()},TocController.prototype.navigateThumbnails=function(number){this.bookCtrl.goToPage(number)},TocController.prototype.navigateSearch=function(number){this.bookCtrl.goToPage(number)},TocController.prototype.navigateBookmarks=function(item){var _this2=this;if(item.url)window.open(item.url,"_blank");else if(item.dest){var destPromise=void 0;destPromise="string"==typeof item.dest?this.pdf.handler.getDestination(item.dest):Promise.resolve(item.dest),destPromise.then(function(dest){return _this2.pdf.handler.getPageIndex(dest[0])}).then(function(number){return _this2.bookCtrl.goToPage(number)}).catch(function(){return console.error("Bad bookmark")})}},TocController.prototype.updateView=function(){var _this3=this;this.view&&(this.view.setState("widTocMenu",{enable:!0,visible:!0,active:!1}),this.view.setState("widThumbnails",{enable:!0,visible:"thumbnails"===this.tab,active:!1}),this.view.setState("widSearch",{enable:!0,visible:"search"===this.tab,active:!1}),this.view.setState("widBookmarks",{enable:!0,visible:"bookmarks"===this.tab,active:!1}),this.view.setState("cmdBookmarks",{enable:!0,visible:!0,active:"bookmarks"===this.tab}),this.view.setState("cmdCloseToc",{enable:!0,visible:!0,active:!1}),this.view.setState("cmdThumbnails",{enable:!0,visible:!0,active:"thumbnails"===this.tab}),this.view.setState("cmdSearch",{enable:!0,visible:!0,active:"search"===this.tab}),Promise.resolve().then(function(){return _this3.thumbnails.setEnable(_this3.visible&&"thumbnails"===_this3.tab)}),_WidgetController.prototype.updateView.call(this))},TocController}(_WidgetController3.default);exports.default=TocController},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _libs=__webpack_require__(1),_ThreeUtils=__webpack_require__(20),_ThreeUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ThreeUtils),faces=[],frontGeometry=new _libs.THREE.PlaneGeometry(1,1,10,1);frontGeometry.translate(.5,.5,1);var backGeometry=new _libs.THREE.PlaneGeometry(1,1,10,1);backGeometry.rotateY(Math.PI),backGeometry.translate(.5,.5,0);var leftGeometry=new _libs.THREE.PlaneGeometry(1,1,14,1);leftGeometry.rotateY(-Math.PI/2),leftGeometry.translate(0,.5,.5);var rightGeometry=new _libs.THREE.PlaneGeometry(1,1,14,1);rightGeometry.rotateY(Math.PI/2),rightGeometry.translate(1,.5,.5);var topGeometry=new _libs.THREE.PlaneGeometry(1,1,10,14);topGeometry.rotateX(-Math.PI/2),topGeometry.translate(.5,1,.5);var bottomGeometry=topGeometry.clone();bottomGeometry.translate(0,-1,0);for(var _iterator=bottomGeometry.faces,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var f=_ref,_ref3=[f.b,f.a];f.a=_ref3[0],f.b=_ref3[1]}var geometry=new _libs.THREE.Geometry;geometry.vertices=[].concat(bottomGeometry.vertices,topGeometry.vertices);var addFaces=function(fs,map){for(var _iterator2=fs,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var f=_ref2;geometry.faces.push(new _libs.THREE.Face3(map(f.a),map(f.b),map(f.c)))}faces.push(geometry.faces.length)},mapVertices=function(src,dst){for(var map=[],i=0;i<src.length;++i)for(var j=0;j<dst.length;++j)if(function(a,b){return Math.abs(a.x-b.x)+Math.abs(a.y-b.y)+Math.abs(a.z-b.z)<1e-4}(src[i],dst[j])){map[i]=j;break}return map},frontMap=mapVertices(frontGeometry.vertices,geometry.vertices),backMap=mapVertices(backGeometry.vertices,geometry.vertices),leftMap=mapVertices(leftGeometry.vertices,geometry.vertices),rightMap=mapVertices(rightGeometry.vertices,geometry.vertices);addFaces(topGeometry.faces,function(i){return i+bottomGeometry.vertices.length}),addFaces(bottomGeometry.faces,function(i){return i}),addFaces(frontGeometry.faces,function(i){return frontMap[i]}),addFaces(backGeometry.faces,function(i){return backMap[i]}),addFaces(leftGeometry.faces,function(i){return leftMap[i]}),addFaces(rightGeometry.faces,function(i){return rightMap[i]}),faces.pop(),_ThreeUtils2.default.computeFaceVertexUvs(geometry,faces),geometry.computeVertexNormals(),geometry.computeBoundingSphere(),geometry.verticesNeedUpdate=!0,exports.default={resX:11,resY:2,resZ:15,faces:faces,geometry:geometry}},function(module,exports,__webpack_require__){"use strict";function props(){return{eps:1e-4,skin:{default:"short-white-book-view"},scale:{default:.9,min:.9,max:2.5,levels:7},lighting:{default:.7,min:0,max:1,levels:7},pan:{speed:50},loadingAnimation:{skin:!1,book:!0},autoResolution:{enabled:!0,coefficient:1.5},narrowView:{width:500},actions:{cmdZoomIn:{enabled:!0,enabledInNarrow:!0},cmdZoomOut:{enabled:!0,enabledInNarrow:!0},cmdDefaultZoom:{enabled:!0,enabledInNarrow:!1,type:"dblclick",code:0},cmdToc:{enabled:!0,enabledInNarrow:!0},cmdFastBackward:{enabled:!1,enabledInNarrow:!1},cmdBackward:{enabled:!0,enabledInNarrow:!1},cmdBigBackward:{enabled:!0,enabledInNarrow:!0},cmdForward:{enabled:!0,enabledInNarrow:!1},cmdBigForward:{enabled:!0,enabledInNarrow:!0},cmdFastForward:{enabled:!1,enabledInNarrow:!1},cmdSave:{enabled:!0,enabledInNarrow:!0},cmdPrint:{enabled:!0,enabledInNarrow:!1},cmdFullScreen:{enabled:!0,enabledInNarrow:!0},widSettings:{enabled:!0,enabledInNarrow:!0},cmdSmartPan:{enabled:!0,enabledInNarrow:!0,active:!0},cmdSinglePage:{enabled:!0,enabledInNarrow:!0,active:!1,activeForMobile:!1},cmdSounds:{enabled:!0,enabledInNarrow:!0,active:!0},cmdStats:{enabled:!0,enabledInNarrow:!0,active:!1},cmdLightingUp:{enabled:!0,enabledInNarrow:!0},cmdLightingDown:{enabled:!0,enabledInNarrow:!0},cmdPanLeft:{enabled:!1},cmdPanRight:{enabled:!1},cmdPanUp:{enabled:!1},cmdPanDown:{enabled:!1},mouseCmdRotate:{enabled:!0,type:"mousedrag",code:mouseButtons.Right},mouseCmdDragZoom:{enabled:!0,type:"mousedrag",code:mouseButtons.Middle},mouseCmdPan:{enabled:!0,type:"mousedrag",code:mouseButtons.Left},mouseCmdWheelZoom:{enabled:!0,type:"mousewheel",code:0},touchCmdRotate:{enabled:!0,type:"touchdrag",code:3},touchCmdZoom:{enabled:!0,type:"touchdrag",code:2},touchCmdPan:{enabled:!0,type:"touchdrag",code:1},touchCmdSwipe:{enabled:!0,type:"touchdrag",code:1}}}}exports.__esModule=!0,exports.props=props;var mouseButtons={Left:0,Middle:1,Right:2}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _ImageBase2=(__webpack_require__(0),__webpack_require__(5)),_ImageBase3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ImageBase2),BlankImage=function(_ImageBase){function BlankImage(context,width,height,color){_classCallCheck(this,BlankImage);var _this=_possibleConstructorReturn(this,_ImageBase.call(this,context,width,height,color));return Promise.resolve().then(function(){_this.startRender=function(){_this.renderBlankPage(),_this.finishRender()},_this.finishLoad()}),_this}return _inherits(BlankImage,_ImageBase),BlankImage}(_ImageBase3.default);exports.default=BlankImage},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),Bookmarks=function(){function Bookmarks(container,items){var _this=this,getTitle=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(i){return i.title},getItems=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(i){return i.items};_classCallCheck(this,Bookmarks),this.container=container,this.map=[],this.getTitle=getTitle,this.getItems=getItems,this.nodes=this.mapNodes(items,this.map),this.binds={togle:function(e){e.preventDefault();for(var li=(0,_libs.$)(e.target);li[0]&&li[0]!==container[0]&&!li.hasClass("item");)li=(0,_libs.$)(li[0].parentNode);if(li.hasClass("item")){for(var cmd=(0,_libs.$)(e.target);cmd[0]&&cmd[0]!==li[0]&&!cmd.hasClass("cmd");)cmd=(0,_libs.$)(cmd[0].parentNode);if(cmd.hasClass("cmd")){var node=_this.map[li.attr("data-id")];cmd.hasClass("togle")?(node.minimized=!node.minimized,node.minimized?(li.find("ul").remove(),li.find(".togle").addClass("minimized")):(li.find(".togle").removeClass("minimized"),li.append((_this.renderNode(node).match(/<ul.*<\/ul>/)||[""])[0]))):_this.onNavigate&&_this.onNavigate(node.item)}}}},container.on("click",this.binds.togle),this.update()}return Bookmarks.prototype.getSize=function(){return this.map.length},Bookmarks.prototype.dispose=function(){this.container.off("click",this.binds.togle),this.container.html("")},Bookmarks.prototype.update=function(){this.container.html(this.renderNodes(this.nodes))},Bookmarks.prototype.forEach=function(f){for(var nodes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nodes,_iterator=nodes||[],_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var node=_ref;f(node),this.forEach(f,node.children)}},Bookmarks.prototype.expand=function(){this.forEach(function(n){return n.minimized=!1}),this.update()},Bookmarks.prototype.minimize=function(){this.forEach(function(n){return n.minimized=!0}),this.update()},Bookmarks.prototype.renderNode=function(node){return['<div class="area">',node.children?'<a href="#" class="cmd togle'+(node.minimized?" minimized":"")+'"><i class="fa fa-angle-right"></i></a> ':'<i class="white-space"></i> ','<a class="cmd" title="',node.title,'" href="#">',node.title,"</a></div>",node.minimized?"":this.renderNodes(node.children)].join("")},Bookmarks.prototype.renderNodes=function(nodes){var res=['<div class="bookmarks">'];if(nodes&&nodes.length){res.push('<ul class="level-',nodes[0].level,'">');for(var _iterator2=nodes,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var node=_ref2;res.push(['<li class="item" data-id="',node.id,'">',this.renderNode(node),"</li>"].join(""))}res.push("</ul>")}return res.push("</div>"),res.join("")},Bookmarks.prototype.mapNodes=function(items){var map=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],level=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,nodes=null;if(items&&items.length){nodes=[];for(var _iterator3=items,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var item=_ref3,id=map.length;map.push(void 0);var node={id:id,title:this.getTitle(item),level:level,item:item,minimized:!0,children:this.mapNodes(this.getItems(item),map,level+1)};nodes.push(node),map[id]=node}}return nodes},Bookmarks}();exports.default=Bookmarks},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),Detector=function(){function Detector(){_classCallCheck(this,Detector)}return Detector.getWebGLErrorMessage=function(){var element=document.createElement("div");return element.id="webgl-error-message",element.style.fontFamily="monospace",element.style.fontSize="13px",element.style.fontWeight="normal",element.style.textAlign="center",element.style.background="#fff",element.style.color="#000",element.style.padding="1.5em",element.style.width="400px",element.style.margin="5em auto 0",Detector.webgl||(element.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),element},Detector.addGetWebGLMessage=function(parameters){var parent=void 0,element=void 0;parameters=parameters||{},parent=parameters.parent||(0,_libs.$)(document.body),parameters.id,element=Detector.getWebGLErrorMessage(),parent.append(element)},Detector}();Detector.canvas=!!window.CanvasRenderingContext2D,Detector.webgl=function(){try{var canvas=document.createElement("canvas");return!(!window.WebGLRenderingContext||!canvas.getContext("webgl")&&!canvas.getContext("experimental-webgl"))}catch(e){return!1}}(),Detector.workers=!!window.Worker,Detector.fileapi=window.File&&window.FileReader&&window.FileList&&window.Blob,exports.default=Detector},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),DocMouseSimulator=function(){function DocMouseSimulator(jFrame,element){var bElement=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.body;_classCallCheck(this,DocMouseSimulator),this.jFrame=jFrame,this.wnd=jFrame[0].contentWindow,this.doc=jFrame[0].contentDocument,this.element=element||doc.body,this.bElement=bElement,this.resendProperties=this.getDefaultResendProperties(),this.undefinedProperties=this.getDefaultUndefinedProperties(),this.cursors=[],this.onDocChangeClbs=[];for(var terms=[{find:":hover",replace:"."+DocMouseSimulator.HOVER},{find:":active",replace:"."+DocMouseSimulator.ACTIVE}],style=['<style type="text/css">'],i=0;i<this.doc.styleSheets.length;++i)for(var ss=this.doc.styleSheets[i],j=0;j<ss.cssRules.length;++j){for(var r=ss.cssRules[j],cssText=void 0,_iterator=terms,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var term=_ref;~r.selectorText.indexOf(term.find)&&(cssText=(cssText||r.cssText).replace(new RegExp(term.find,"g"),term.replace))}cssText&&style.push(cssText)}style.push("</style>"),(0,_libs.$)(this.doc.head).append((0,_libs.$)(style.join("")))}return DocMouseSimulator.prototype.convertCoords=function(x,y){var jElement=(0,_libs.$)(this.element),offset=jElement.offset();return{x:offset.left+jElement.width()*x,y:offset.top+jElement.height()*(1-y)}},DocMouseSimulator.prototype.triggerEvent=function(element,e,p,type,advancedProps){for(var props={},_iterator2=this.resendProperties,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var _n=_ref2;props[_n]=e[_n]}for(var _iterator3=this.undefinedProperties,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}props[_ref3]=void 0}for(var n in advancedProps)advancedProps.hasOwnProperty(n)&&(props[n]=advancedProps[n]);props.view=this.wnd,props.pageX=p.x,props.pageY=p.y;var jE=_libs.$.Event(type,props);jE.timeStamp=e.timeStamp,(0,_libs.$)(element).trigger(jE)},DocMouseSimulator.prototype.addClass=function(element,name){(0,_libs.$)(element).addClass(name);var style=this.wnd.getComputedStyle(element);this.cursors.push((0,_libs.$)(this.bElement).css("cursor")),(0,_libs.$)(this.bElement).css("cursor",style.getPropertyValue("cursor"))},DocMouseSimulator.prototype.removeClass=function(element,name){(0,_libs.$)(element).removeClass(name),(0,_libs.$)(this.bElement).css("cursor",this.cursors.pop())},DocMouseSimulator.prototype.enterElement=function(element){this.addClass(element,DocMouseSimulator.HOVER)},DocMouseSimulator.prototype.leaveElement=function(element){this.removeClass(element,DocMouseSimulator.HOVER)},DocMouseSimulator.prototype.activateElement=function(element){this.addClass(element,DocMouseSimulator.ACTIVE)},DocMouseSimulator.prototype.deactivateElement=function(element){this.removeClass(element,DocMouseSimulator.ACTIVE)},DocMouseSimulator.prototype.addDocChangeClb=function(clb){this.onDocChangeClbs.push(clb)},DocMouseSimulator.prototype.notify=function(){for(var _iterator4=this.onDocChangeClbs,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}_ref4(this.wnd,this.doc)}},DocMouseSimulator.prototype.elementFromPoint=function(p){for(var node=this.doc.body,next=!0;next;){next=!1;for(var i=0;i<node.childNodes.length;++i){var child=node.childNodes[i];if(child instanceof this.wnd.Element){var jC=(0,_libs.$)(child),offset=jC.offset(),height=jC.height(),width=jC.width();if(p.x>offset.left&&p.x<offset.left+width&&p.y>offset.top&&p.y<offset.top+height){node=child,next=!0;break}}}}return node},DocMouseSimulator.prototype.getElement=function(p){var off0=this.jFrame.offset();this.jFrame.offset({left:.5*window.innerWidth-p.x,top:.5*window.innerHeight-p.y});var element=this.doc.elementFromPoint(p.x,p.y);return element||(element=this.doc.elementFromPoint(p.x,p.y)),this.jFrame.offset(off0),element||this.elementFromPoint(p)},DocMouseSimulator.prototype.simulate=function(e,doc,x,y){var p=this.convertCoords(x,y),element=doc===this.doc?this.getElement(p):void 0,trigger=void 0!==element,notify=!1;switch(e.type){case"mousedown":this.capElement&&(this.deactivateElement(this.capElement),notify=!0),this.capElement=element,this.capElement&&(this.activateElement(this.capElement),notify=!0);break;case"mouseup":this.capElement&&(this.deactivateElement(this.capElement),notify=!0),this.timeStamp=e.timeStamp;break;case"click":trigger=element&&this.capElement===element,this.capElement=void 0;break;case"mouseenter":case"mouseover":case"mousemove":var leaved=null;this.hovElement!==element&&this.hovElement&&(this.triggerEvent(this.hovElement,e,p,"mouseout",{relatedTarget:element||null}),this.leaveElement(this.hovElement),leaved=this.hovElement,this.hovElement=void 0,notify=!0),!this.hovElement&&element&&(this.triggerEvent(element,e,p,"mouseover",{relatedTarget:leaved}),this.enterElement(element),this.hovElement=element,notify=!0),trigger=element&&"mousemove"===e.type;break;case"mouseleave":case"mouseout":this.hovElement&&(this.triggerEvent(this.hovElement,e,p,"mouseout",{relatedTarget:e.relatedTarget}),this.leaveElement(this.hovElement),this.hovElement=void 0,notify=!0),trigger=!1}trigger&&this.triggerEvent(element,e,p,e.type),notify&&this.notify()},DocMouseSimulator.prototype.getDefaultUndefinedProperties=function(){return["clientX","clientY","offsetX","offsetY","screenX","screenY"]},DocMouseSimulator.prototype.getDefaultResendProperties=function(){return["altKey","bubbles","button","buttons","cancelable","changedTouches","char","charCode","ctrlKey","data","detail","eventPhase","isDefaultPrevented","key","keyCode","metaKey","pointerId","pointerType","shiftKey","targetTouches","touches","which"]},DocMouseSimulator}();DocMouseSimulator.HOVER="SIMULATED-HOVER",DocMouseSimulator.ACTIVE="SIMULATED-ACTIVE",exports.default=DocMouseSimulator},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var Dom2Image=function Dom2Image(wnd,doc,cache){function toSvg(node,options){function applyOptions(clone){return options.bgcolor&&(clone.style.backgroundColor=options.bgcolor),options.width&&(clone.style.width=options.width+"px"),options.height&&(clone.style.height=options.height+"px"),options.style&&self.window.Object.keys(options.style).forEach(function(property){clone.style[property]=options.style[property]}),clone}return options=options||{},Promise.resolve(node).then(function(node){return cloneNode(node,options.filter,!0)}).then(embedFonts).then(inlineImages).then(applyOptions).then(function(clone){return makeSvgDataUri(clone,options.width||util.width(node),options.height||util.height(node))})}function toPixelData(node,options){return draw(node,options||{}).then(function(canvas){return canvas.getContext("2d").getImageData(0,0,util.width(node),util.height(node)).data})}function toPng(node,options){return draw(node,options||{}).then(function(canvas){return canvas.toDataURL()})}function toJpeg(node,options){return options=options||{},draw(node,options).then(function(canvas){return canvas.toDataURL("image/jpeg",options.quality||1)})}function toBlob(node,options){return draw(node,options||{}).then(util.canvasToBlob)}function draw(domNode,options){function newCanvas(domNode){var canvas=self.document.createElement("canvas");if(canvas.width=options.width||util.width(domNode),canvas.height=options.height||util.height(domNode),options.bgcolor){var ctx=canvas.getContext("2d");ctx.fillStyle=options.bgcolor,ctx.fillRect(0,0,canvas.width,canvas.height)}return canvas}return toSvg(domNode,options).then(util.makeImage).then(util.delay(100)).then(function(image){var canvas=newCanvas(domNode);return canvas.getContext("2d").drawImage(image,0,0),canvas})}function cloneNode(node,filter,root){function makeNodeCopy(node){return util.isCanvas(node)?util.makeImage(node.toDataURL()):node.cloneNode(!1)}function cloneChildren(original,clone,filter){var children=original.childNodes;return 0===children.length?Promise.resolve(clone):function(parent,children,filter){var done=Promise.resolve();return children.forEach(function(child){done=done.then(function(){return cloneNode(child,filter)}).then(function(childClone){childClone&&parent.appendChild(childClone)})}),done}(clone,util.asArray(children),filter).then(function(){return clone})}function processClone(original,clone){function cloneStyle(){!function(source,target){source.cssText?target.cssText=source.cssText:function(source,target){util.asArray(source).forEach(function(name){target.setProperty(name,source.getPropertyValue(name),source.getPropertyPriority(name))})}(source,target)}(self.window.getComputedStyle(original),clone.style)}function clonePseudoElements(){function clonePseudoElement(element){var style=self.window.getComputedStyle(original,element),content=style.getPropertyValue("content");if(""!==content&&"none"!==content){var className=util.uid();clone.className=clone.className+" "+className;var styleElement=self.document.createElement("style");styleElement.appendChild(function(className,element,style){var selector="."+className+":"+element,cssText=style.cssText?function(style){var content=style.getPropertyValue("content");return style.cssText+" content: "+content+";"}(style):function(style){function formatProperty(name){return name+": "+style.getPropertyValue(name)+(style.getPropertyPriority(name)?" !important":"")}return util.asArray(style).map(formatProperty).join("; ")+";"}(style);return self.document.createTextNode(selector+"{"+cssText+"}")}(className,element,style)),clone.appendChild(styleElement)}}[":before",":after"].forEach(function(element){clonePseudoElement(element)})}function copyUserInput(){util.isTextArea(original)&&(clone.innerHTML=original.value),util.isInput(original)&&clone.setAttribute("value",original.value)}function fixSvg(){util.isSVG(clone)&&(clone.setAttribute("xmlns","http://www.w3.org/2000/svg"),util.isSVGRect(clone)&&["width","height"].forEach(function(attribute){var value=clone.getAttribute(attribute);value&&clone.style.setProperty(attribute,value)}))}return util.isElement(clone)?Promise.resolve().then(cloneStyle).then(clonePseudoElements).then(copyUserInput).then(fixSvg).then(function(){return clone}):clone}return root||!filter||filter(node)?Promise.resolve(node).then(makeNodeCopy).then(function(clone){return cloneChildren(node,clone,filter)}).then(function(clone){return processClone(node,clone)}):Promise.resolve()}function embedFonts(node){return fontFaces.resolveAll().then(function(cssText){var styleNode=self.document.createElement("style");return node.appendChild(styleNode),styleNode.appendChild(self.document.createTextNode(cssText)),node})}function inlineImages(node){return images.inlineAll(node).then(function(){return node})}function makeSvgDataUri(node,width,height){return Promise.resolve(node).then(function(node){return node.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new self.window.XMLSerializer).serializeToString(node)}).then(util.escapeXhtml).then(function(xhtml){return["data:image/svg+xml;charset=utf-8,",'<svg xmlns="http://www.w3.org/2000/svg" width="',width,'" height="',height,'">','<foreignObject x="0" y="0" width="100%" height="100%">',xhtml,"</foreignObject>","</svg>"].join("")})}_classCallCheck(this,Dom2Image);var self=this;this.window=wnd,this.document=doc,this.cache=cache;var util=function(){function mimes(){var WOFF="application/font-woff";return{woff:WOFF,woff2:WOFF,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function parseExtension(url){var match=/\.([^\.\/]*?)$/g.exec(url);return match?match[1]:""}function mimeType(url){var extension=parseExtension(url).toLowerCase();return mimes()[extension]||""}function isDataUrl(url){return-1!==url.search(/^(data:)/)}function toBlob(canvas){return new Promise(function(resolve){for(var binaryString=self.window.atob(canvas.toDataURL().split(",")[1]),length=binaryString.length,binaryArray=new self.window.Uint8Array(length),i=0;i<length;i++)binaryArray[i]=binaryString.charCodeAt(i);resolve(new self.window.Blob([binaryArray],{type:"image/png"}))})}function canvasToBlob(canvas){return canvas.toBlob?new Promise(function(resolve){canvas.toBlob(resolve)}):toBlob(canvas)}function resolveUrl(url,baseUrl){var doc=self.document.implementation.createHTMLDocument(),base=doc.createElement("base");doc.head.appendChild(base);var a=doc.createElement("a");return doc.body.appendChild(a),base.href=baseUrl,a.href=url,a.href}function makeImage(uri){return new Promise(function(resolve,reject){var image=new self.window.Image;image.onload=function(){resolve(image)},image.onerror=reject,image.src=uri})}function getAndEncode(url){var data=self.cache.get(url);if(data)return data.content?data.content:new Promise(function(resolve){data.content?resolve(data.content):data.pendings.push(resolve)});data=self.cache.put(url,{pendings:[]});var TIMEOUT=3e4;return new Promise(function(resolve){function done(){if(4===request.readyState){if(200!==request.status)return void fail("cannot fetch resource: "+url+", status: "+request.status);var encoder=new self.window.FileReader;encoder.onloadend=function(){data.content=encoder.result.split(/,/)[1];for(var _iterator=data.pendings,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}_ref(data.content)}data.pendings=[],resolve(data.content)},encoder.readAsDataURL(request.response)}}function timeout(){fail("timeout of "+TIMEOUT+"ms occured while fetching resource: "+url)}function fail(message){console.error(message),resolve("")}var request=new self.window.XMLHttpRequest;request.onreadystatechange=done,request.ontimeout=timeout,request.responseType="blob",request.timeout=TIMEOUT,request.open("GET",url,!0),request.send()})}function dataAsUrl(content,type){return["data:",type,";base64,",content].join("")}function escape(string){return string.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function delay(ms){return function(arg){return new Promise(function(resolve){setTimeout(function(){resolve(arg)},ms)})}}function asArray(arrayLike){for(var array=[],length=arrayLike.length,i=0;i<length;i++)array.push(arrayLike[i]);return array}function escapeXhtml(string){return string.replace(/(#|\n)/g,function(c){return"#"===c?"%23":"%0A"})}function width(node){var leftBorder=px(node,"border-left-width"),rightBorder=px(node,"border-right-width");return node.scrollWidth+leftBorder+rightBorder}function height(node){var topBorder=px(node,"border-top-width"),bottomBorder=px(node,"border-bottom-width");return node.scrollHeight+topBorder+bottomBorder}function px(node,styleProperty){var value=self.window.getComputedStyle(node).getPropertyValue(styleProperty);return parseFloat(value.replace("px",""))}function isElement(node){return node instanceof self.window.Element}function isCanvas(node){return node instanceof self.window.HTMLCanvasElement}function isTextArea(node){return node instanceof self.window.HTMLTextAreaElement}function isInput(node){return node instanceof self.window.HTMLInputElement}function isSVG(node){return node instanceof self.window.SVGElement}function isSVGRect(node){return node instanceof self.window.SVGRectElement}function isImage(node){return node instanceof self.window.HTMLImageElement}return{escape:escape,parseExtension:parseExtension,mimeType:mimeType,dataAsUrl:dataAsUrl,isDataUrl:isDataUrl,canvasToBlob:canvasToBlob,resolveUrl:resolveUrl,getAndEncode:getAndEncode,uid:function(){var index=0;return function(){return"u"+function(){return("0000"+(self.window.Math.random()*self.window.Math.pow(36,4)<<0).toString(36)).slice(-4)}()+index++}}(),delay:delay,asArray:asArray,escapeXhtml:escapeXhtml,makeImage:makeImage,width:width,height:height,isElement:isElement,isCanvas:isCanvas,isTextArea:isTextArea,isInput:isInput,isSVG:isSVG,isSVGRect:isSVGRect,isImage:isImage}}(),inliner=function(){function shouldProcess(string){return-1!==string.search(URL_REGEX)}function readUrls(string){for(var result=[],match=void 0;null!==(match=URL_REGEX.exec(string));)result.push(match[1]);return result.filter(function(url){return!util.isDataUrl(url)})}function inline(string,url,baseUrl,get){function urlAsRegex(url){return new self.window.RegExp(["(url\\(['\"]?)(",util.escape(url),")(['\"]?\\))"].join(""),"g")}return Promise.resolve(url).then(function(url){return baseUrl?util.resolveUrl(url,baseUrl):url}).then(get||util.getAndEncode).then(function(data){return util.dataAsUrl(data,util.mimeType(url))}).then(function(dataUrl){return string.replace(urlAsRegex(url),["$1",dataUrl,"$3"].join(""))})}function inlineAll(string,baseUrl,get){return function(){return!shouldProcess(string)}()?Promise.resolve(string):Promise.resolve(string).then(readUrls).then(function(urls){var done=Promise.resolve(string);return urls.forEach(function(url){done=done.then(function(string){return inline(string,url,baseUrl,get)})}),done})}var URL_REGEX=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:inlineAll,shouldProcess:shouldProcess,impl:{readUrls:readUrls,inline:inline}}}(),fontFaces=function(){function resolveAll(){return readAll(self.document).then(function(webFonts){return Promise.all(webFonts.map(function(webFont){return webFont.resolve()}))}).then(function(cssStrings){return cssStrings.join("\n")})}function readAll(){function selectWebFontRules(cssRules){return cssRules.filter(function(rule){return rule.type===CSSRule.FONT_FACE_RULE}).filter(function(rule){return inliner.shouldProcess(rule.style.getPropertyValue("src"))})}function getCssRules(styleSheets){var cssRules=[];return styleSheets.forEach(function(sheet){try{util.asArray(sheet.cssRules||[]).forEach(cssRules.push.bind(cssRules))}catch(e){console.log("Error while reading CSS rules from "+sheet.href,e.toString())}}),cssRules}function newWebFont(webFontRule){return{resolve:function(){var baseUrl=(webFontRule.parentStyleSheet||{}).href;return inliner.inlineAll(webFontRule.cssText,baseUrl)},src:function(){return webFontRule.style.getPropertyValue("src")}}}return Promise.resolve(util.asArray(self.document.styleSheets)).then(getCssRules).then(selectWebFontRules).then(function(rules){return rules.map(newWebFont)})}return{resolveAll:resolveAll,impl:{readAll:readAll}}}(),images=function(){function newImage(element){function inline(get){return util.isDataUrl(element.src)?Promise.resolve():Promise.resolve(element.src).then(get||util.getAndEncode).then(function(data){return util.dataAsUrl(data,util.mimeType(element.src))}).then(function(dataUrl){return new Promise(function(resolve,reject){element.onload=resolve,element.onerror=reject,element.src=dataUrl})})}return{inline:inline}}function inlineAll(node){return util.isElement(node)?function(node){var background=node.style.getPropertyValue("background");return background?inliner.inlineAll(background).then(function(inlined){node.style.setProperty("background",inlined,node.style.getPropertyPriority("background"))}).then(function(){return node}):Promise.resolve(node)}(node).then(function(){return util.isImage(node)?newImage(node).inline():Promise.all(util.asArray(node.childNodes).map(function(child){return inlineAll(child)}))}):Promise.resolve(node)}return{inlineAll:inlineAll,impl:{newImage:newImage}}}();this.toSvg=toSvg,this.toPng=toPng,this.toJpeg=toJpeg,this.toBlob=toBlob,this.toPixelData=toPixelData,this.impl={fontFaces:fontFaces,images:images,util:util,inliner:inliner}};exports.default=Dom2Image},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),Drag=function(){function Drag(wnd,doc,visualWorld){_classCallCheck(this,Drag),this.wnd=wnd,this.doc=doc,this.visual=visualWorld,this.coords=new _libs.THREE.Vector2,this.intersection=new _libs.THREE.Vector3,this.raycaster=this.visual.raycaster,this.camera=this.visual.camera,this.plane=new _libs.THREE.Plane,this.threes=[],this.selected=null,this.enabled=!0,this.controlsState=this.visual.getControlsState(),this.element=this.visual.element,this.binds={onMouseMove:this.onMouseMove.bind(this),onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this)},(0,_libs.$)(this.element).on("mousemove",this.binds.onMouseMove),(0,_libs.$)(this.element).on("mousedown",this.binds.onMouseDown),(0,_libs.$)(this.doc).on("mouseup",this.binds.onMouseUp)}return Drag.prototype.addThree=function(three){this.threes.push(three)},Drag.prototype.removeThree=function(three){var i=this.threes.indexOf(three);~i&&this.threes.splice(i,1)},Drag.prototype.onPickCallback=function(){return!0},Drag.prototype.onDragCallback=function(){return!0},Drag.prototype.onReleaseCallback=function(){},Drag.prototype.dispose=function(){(0,_libs.$)(this.element).off("mousemove",this.binds.onMouseMove),(0,_libs.$)(this.element).off("mousedown",this.binds.onMouseDown),(0,_libs.$)(this.doc).off("mouseup",this.binds.onMouseUp)},Drag.prototype.setCoordsFromEvent=function(e){var jElement=(0,_libs.$)(this.element),offset=jElement.offset();return this.coords.x=(e.pageX-offset.left)/jElement.width()*2-1,this.coords.y=-(e.pageY-offset.top)/jElement.height()*2+1,this.coords},Drag.prototype.onMouseDown=function(e){if(this.enabled){this.selected&&this.onMouseUp(e),this.setCoordsFromEvent(e),this.raycaster.setFromCamera(this.coords,this.camera);var intersects=this.raycaster.intersectObjects(this.threes);if(intersects.length>0){var selected=intersects[0].object;if(!this.onPickCallback(intersects[0]))return;var v=intersects[0].point.clone();this.distance=v.sub(this.raycaster.ray.origin).length(),this.controlsState=this.visual.getControlsState(),this.visual.setControlsState(!1),this.plane.setFromNormalAndCoplanarPoint(this.visual.camera.getWorldDirection(this.plane.normal),intersects[0].point),this.selected=selected}}},Drag.prototype.onMouseMove=function(e){this.enabled&&(e.preventDefault(),this.selected&&(this.setCoordsFromEvent(e),this.raycaster.setFromCamera(this.coords,this.camera),this.raycaster.ray.intersectPlane(this.plane,this.intersection)&&(this.onDragCallback(this.intersection)||this.onMouseUp(e))))},Drag.prototype.onMouseUp=function(e){this.selected&&(this.onReleaseCallback(),this.selected=null,this.visual.setControlsState(this.controlsState)),this.enabled&&e.preventDefault()},Drag}();exports.default=Drag},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(0);__webpack_require__(70)(_libs.$);var EventsToActions=function(){function EventsToActions(element,actions){_classCallCheck(this,EventsToActions),this.actions=actions||{},this.element=element,this.doc=element[0].ownerDocument,this.wnd=this.doc.defaultView,this.enabled=!0,this.binds={contextMenu:this.contextMenu.bind(this),mouseDown:this.mouseDown.bind(this),mouseMove:this.mouseMove.bind(this),mouseUp:this.mouseUp.bind(this),mouseWheel:this.mouseWheel.bind(this),mouseMoveDoc:this.mouseMoveDoc.bind(this),mouseUpDoc:this.mouseUpDoc.bind(this),click:this.click.bind(this),dblclick:this.dblclick.bind(this),touchStart:this.touchStart.bind(this),touchMove:this.touchMove.bind(this),touchEnd:this.touchEnd.bind(this),keyDown:this.keyDown.bind(this),keyPress:this.keyPress.bind(this),keyUp:this.keyUp.bind(this)},this.element.on("contextmenu",this.binds.contextMenu),this.element.on("mousedown",this.binds.mouseDown),this.element.on("mousemove",this.binds.mouseMove),this.element.on("mouseup",this.binds.mouseUp),this.element.on("mousewheel",this.binds.mouseWheel),(0,_libs.$)(this.doc).on("mousemove",this.binds.mouseMoveDoc),(0,_libs.$)(this.doc).on("mouseup",this.binds.mouseUpDoc),this.element.on("click",this.binds.click),this.element.on("dblclick",this.binds.dblclick),this.element.on("touchstart",this.binds.touchStart),this.element.on("touchmove",this.binds.touchMove),this.element.on("touchend",this.binds.touchEnd),(0,_libs.$)(this.wnd).on("keydown",this.binds.keyDown),(0,_libs.$)(this.wnd).on("keypress",this.binds.keyPress),(0,_libs.$)(this.wnd).on("keyup",this.binds.keyUp)}return EventsToActions.getEventFlags=function(e){return e.ctrlKey<<0|e.shiftKey<<1|e.altKey<<2},EventsToActions.getPosition=function(touches){var x=void 0,y=void 0;return 2===touches.length?(x=touches[1].pageX-touches[0].pageX,y=touches[1].pageY-touches[0].pageY,y=-Math.sqrt(x*x+y*y),x=0):(x=touches[0].pageX,y=touches[0].pageY),{x:x,y:y}},EventsToActions.prototype.addAction=function(action,type,code,flags){type=type.toLowerCase(),this.actions[type]||(this.actions[type]={}),this.actions[type][code]||(this.actions[type][code]={}),this.actions[type][code][flags]||(this.actions[type][code][flags]=[]),this.actions[type][code][flags].push(action)},EventsToActions.prototype.getActions=function(type,code,flags){return((this.actions[type]||{})[code]||{})[flags]||[]},EventsToActions.prototype.fireActions=function(actions,e,data){for(var _iterator=actions,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}_ref(e,data)}},EventsToActions.prototype.contextMenu=function(e){if(this.enabled){var flags=EventsToActions.getEventFlags(e);this.fireActions(this.getActions("contextmenu",e.button,flags),e)}},EventsToActions.prototype.mouseDown=function(e){if(this.picked&&this.mouseUpDoc(),this.enabled){var flags=EventsToActions.getEventFlags(e);this.fireActions(this.getActions("mousedown",e.button,flags),e),this.picked={x:e.pageX,y:e.pageY,actions:this.getActions("mousedrag",e.button,flags)},this.fireActions(this.picked.actions,e,{state:"start"})}},EventsToActions.prototype.mouseMove=function(e){if(this.enabled){var flags=EventsToActions.getEventFlags(e);this.fireActions(this.getActions("mousemove",e.button,flags),e)}},EventsToActions.prototype.mouseMoveDoc=function(e){this.enabled&&this.picked&&(this.fireActions(this.picked.actions,e,{state:"move",dx:e.pageX-this.picked.x,dy:e.pageY-this.picked.y}),this.picked={x:e.pageX,y:e.pageY,actions:this.picked.actions})},EventsToActions.prototype.mouseUp=function(e){if(this.enabled){var flags=EventsToActions.getEventFlags(e);this.fireActions(this.getActions("mouseup",e.button,flags),e)}},EventsToActions.prototype.mouseUpDoc=function(e){this.picked&&(this.fireActions(this.picked.actions,e,{state:"end"}),delete this.picked)},EventsToActions.prototype.mouseWheel=function(e){if(this.enabled){var flags=EventsToActions.getEventFlags(e);this.fireActions(this.getActions("mousewheel",0,flags),e)}},EventsToActions.prototype.clicks=function(e,type){if(this.enabled){var flags=EventsToActions.getEventFlags(e);this.fireActions(this.getActions(type,e.button,flags),e)}},EventsToActions.prototype.click=function(e){this.clicks(e,"click")},EventsToActions.prototype.dblclick=function(e){this.clicks(e,"dblclick")},EventsToActions.prototype.touchPick=function(e,flags,touches){this.touchPicked=_extends({},EventsToActions.getPosition(touches),{actions:this.getActions("touchdrag",touches.length,flags),code:touches.length,flags:flags}),this.fireActions(this.touchPicked.actions,e,{state:"start"})},EventsToActions.prototype.touchStart=function(e){if(this.touchPicked&&this.touchEnd(e),this.enabled){var flags=EventsToActions.getEventFlags(e),touches=e.touches||e.originalEvent.touches;this.fireActions(this.getActions("touchstart",touches.length,flags),e),this.touchPick(e,flags,touches)}},EventsToActions.prototype.touchMove=function(e){if(this.enabled){var flags=EventsToActions.getEventFlags(e),touches=e.touches||e.originalEvent.touches;if(this.fireActions(this.getActions("touchmove",touches.length,flags),e),this.touchPicked)if(this.touchPicked.code===touches.length&&this.touchPicked.flags===flags){var pos=EventsToActions.getPosition(touches);this.fireActions(this.touchPicked.actions,e,{state:"move",dx:pos.x-this.touchPicked.x,dy:pos.y-this.touchPicked.y}),this.touchPicked=_extends({},this.touchPicked,pos)}else this.touchEnd(e),this.touchPick(e,flags,touches)}},EventsToActions.prototype.touchEnd=function(e){this.touchPicked&&(this.fireActions(this.touchPicked.actions,e,{state:"end"}),delete this.touchPicked)},EventsToActions.prototype.key=function(e,type){if(this.enabled){var flags=EventsToActions.getEventFlags(e);this.fireActions(this.getActions(type,e.keyCode,flags),e)}},EventsToActions.prototype.keyDown=function(e){this.key(e,"keydown")},EventsToActions.prototype.keyPress=function(e){this.key(e,"keypress")},EventsToActions.prototype.keyUp=function(e){this.key(e,"keyup")},EventsToActions.prototype.dispose=function(){this.element.off("contextmenu",this.binds.contextMenu),this.element.off("mousedown",this.binds.mouseDown),this.element.off("mousemove",this.binds.mouseMove),this.element.off("mouseup",this.binds.mouseUp),this.element.off("mousewheel",this.binds.mouseWheel),(0,_libs.$)(this.doc).off("mousemove",this.binds.mouseMoveDoc),(0,_libs.$)(this.doc).off("mouseup",this.binds.mouseUpDoc),this.element.off("click",this.binds.click),this.element.off("dblclick",this.binds.dblclick),this.element.off("touchstart",this.binds.touchStart),this.element.off("touchmove",this.binds.touchMove),this.element.off("touchend",this.binds.touchEnd),(0,_libs.$)(this.wnd).off("keydown",this.binds.keyDown),(0,_libs.$)(this.wnd).off("keypress",this.binds.keyPress),(0,_libs.$)(this.wnd).off("keyup",this.binds.keyUp)},EventsToActions}();EventsToActions.modKeys={Ctrl:1,Shift:2,Alt:4},EventsToActions.mouseButtons={Left:0,Middle:1,Right:2},exports.default=EventsToActions},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var FullScreen=function(){function FullScreen(){_classCallCheck(this,FullScreen)}return FullScreen.available=function(){return FullScreen._hasWebkitFullScreen||FullScreen._hasMozFullScreen||FullScreen._hasMsFullscreen},FullScreen.activated=function(){return FullScreen._hasWebkitFullScreen?document.webkitIsFullScreen:FullScreen._hasMozFullScreen?document.mozFullScreen:FullScreen._hasMsFullscreen?!!document.msFullscreenElement:void console.assert(!1)},FullScreen.addEventListener=function(element,handler){element.addEventListener&&(element.addEventListener("webkitfullscreenchange",handler,!1),element.addEventListener("mozfullscreenchange",handler,!1),element.addEventListener("fullscreenchange",handler,!1),element.addEventListener("MSFullscreenChange",handler,!1))},FullScreen.removeEventListener=function(element,handler){element.removeEventListener&&(element.removeEventListener("webkitfullscreenchange",handler,!1),element.removeEventListener("mozfullscreenchange",handler,!1),element.removeEventListener("fullscreenchange",handler,!1),element.removeEventListener("MSFullscreenChange",handler,!1))},FullScreen.request=function(element){element=element||document.body,FullScreen._hasWebkitFullScreen?element.webkitRequestFullScreen():FullScreen._hasMozFullScreen?element.mozRequestFullScreen():FullScreen._hasMsFullscreen?element.msRequestFullscreen():console.assert(!1)},FullScreen.cancel=function(){FullScreen._hasWebkitFullScreen?document.webkitCancelFullScreen():FullScreen._hasMozFullScreen?document.mozCancelFullScreen():FullScreen._hasMsFullscreen?document.msExitFullscreen():console.assert(!1)},FullScreen}();FullScreen._hasWebkitFullScreen=!!document.webkitCancelFullScreen,FullScreen._hasMozFullScreen=!!document.mozCancelFullScreen,FullScreen._hasMsFullscreen=!!document.documentElement.msRequestFullscreen,exports.default=FullScreen},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_ImageBase2=__webpack_require__(5),_ImageBase3=_interopRequireDefault(_ImageBase2),_BaseMathUtils=__webpack_require__(2),_BaseMathUtils2=_interopRequireDefault(_BaseMathUtils),_Dom2Image=__webpack_require__(47),_Dom2Image2=_interopRequireDefault(_Dom2Image),_DocMouseSimulator=__webpack_require__(46),_DocMouseSimulator2=_interopRequireDefault(_DocMouseSimulator),InteractiveImage=function(_ImageBase){function InteractiveImage(context,width,height,color,src,cache,injector){_classCallCheck(this,InteractiveImage);var _this=_possibleConstructorReturn(this,_ImageBase.call(this,context,width,height,color));_this.iId="i"+_BaseMathUtils2.default.getUnique();var jFrame=(0,_libs.$)('<iframe id="'+_this.iId+'" src="'+src+'" style="position: fixed; left: -1000px;"></iframe>');return(0,_libs.$)(_this.doc.body).append(jFrame),_this.frame=jFrame[0],_this.binds={},injector&&injector(_this.frame.contentWindow),_this.doc.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#Extensibility","1.1")&&(_this.image=new Image,_this.binds.imageLoad=function(){_this.renderImage(_this.image),_this.finishRender()},(0,_libs.$)(_this.image).on("load",_this.binds.imageLoad),_this.svgRender=new _Dom2Image2.default(_this.frame.contentWindow,_this.frame.contentDocument,cache)),_this.binds.frameLoad=function(){~_this.frame.contentDocument.title.indexOf("404")?(_this.startRender=function(){_this.renderNotFoundPage(),_this.finishRender()},_this.finishLoad()):setTimeout(function(){_this.frame&&(_this.width=(0,_libs.$)(_this.frame.contentDocument.body).width(),_this.height=(0,_libs.$)(_this.frame.contentDocument.body).height(),jFrame.css("width",_this.width+"px").css("height",_this.height+"px"),jFrame.offset({left:-_this.width-100,top:0}),_this.svgRender&&(_this.simulator=new _DocMouseSimulator2.default(jFrame,_this.frame.contentDocument.body,_this.element),_this.simulator.addDocChangeClb(_this.finishLoad.bind(_this))),_this.startRender=function(){_this.render()},_this.finishLoad())},500)},(0,_libs.$)(_this.frame.contentWindow).on("load",_this.binds.frameLoad),_this}return _inherits(InteractiveImage,_ImageBase),InteractiveImage.prototype.getSimulatedDoc=function(){return this.frame.contentDocument},InteractiveImage.prototype.render=function(){var _this2=this;this.svgRender?this.svgRender.toSvg(this.simulator.element,{height:this.height+"px",width:this.width+"px"}).then(function(dataUrl){_this2.image.src=dataUrl}).catch(function(error){console.error("Dom2Image: ",error),_this2.renderBlankPage(),_this2.finishRender()}):(0,_libs.html2canvas)(this.frame.contentDocument.body,{timeout:3e4}).then(function(canvas){_this2.renderImage(canvas),_this2.finishRender()})},InteractiveImage.prototype.dispose=function(){(0,_libs.$)(this.image).off("load",this.binds.imageLoad),(0,_libs.$)(this.frame.contentWindow).off("load",this.binds.frameLoad),(0,_libs.$)(this.doc.body).find("#"+this.iId).remove(),this.image&&(this.image.src="",delete this.image),this.frame.src="",delete this.frame,_ImageBase.prototype.dispose.call(this)},InteractiveImage.prototype.simulate=function(e,doc,x,y){this.simulator&&this.simulator.simulate(e,doc,x,y)},InteractiveImage}(_ImageBase3.default);exports.default=InteractiveImage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),_GraphUtils=__webpack_require__(7),_GraphUtils2=_interopRequireDefault(_GraphUtils),_MathUtils=__webpack_require__(3),_MathUtils2=_interopRequireDefault(_MathUtils),LoadingAnimation=function(){function LoadingAnimation(width,height,color){_classCallCheck(this,LoadingAnimation);var jC=(0,_libs.$)('<canvas width="'+width+'" height="'+height+'"></canvas>');this.c=jC[0],this.p={g:9.8,dt:1/60,color:color,updateInterval:.25},this.ctx=this.c.getContext("2d"),this.os=[-2,Math.PI/2],this.t=this.p.updateInterval}return LoadingAnimation.prototype.dy=function(t,y){var w=y[0],a=y[1];return[-this.g*Math.cos(a),w]},LoadingAnimation.prototype.integrate=function(T){for(var t=0,dt=this.p.dt,os=this.os;t<T;)t+dt>T&&(dt=T-t),os=_MathUtils2.default.rk4(this.dy.bind({g:this.p.g}),0,dt,os),t+=dt;return os},LoadingAnimation.prototype.calcTimeTo=function(target){for(var t=0,dt=this.p.dt,os=this.os;Math.abs(os[1]-target)>1e-4;){var nos=_MathUtils2.default.rk4(this.dy.bind({g:this.p.g}),0,dt,os);nos[0]<0&&nos[1]<target||nos[0]>0&&nos[1]>target?dt/=2:(os=nos,t+=dt)}return t},LoadingAnimation.prototype.update=function(T){if(this.os=this.integrate(T),this.t+=T,this.t>=this.p.updateInterval){this.t=0;var r=.04*Math.min(this.c.width,this.c.height),a=this.os[1],x0=.5*this.c.width,y0=.5*this.c.height,ctx=this.ctx;ctx.clearRect(0,0,this.c.width,this.c.height),ctx.beginPath(),ctx.fillStyle=_GraphUtils2.default.color2Rgba(this.p.color,1),ctx.rect(0,0,this.c.width,this.c.height),ctx.fill(),ctx.beginPath(),ctx.shadowBlur=50,ctx.fillStyle=_GraphUtils2.default.color2Rgba(_GraphUtils2.default.inverseColor(this.p.color,.9),Math.abs(this.os[0]/6.36)),ctx.shadowColor=_GraphUtils2.default.color2Rgba(_GraphUtils2.default.inverseColor(this.p.color,1),.9),ctx.shadowOffsetX=0,ctx.shadowOffsetY=0,ctx.font="bold "+Math.round(.25*r)+"px Arial",ctx.textAlign="center",ctx.textBaseline="middle",ctx.fillText((0,_libs.tr)("Loading..."),x0,y0);var da=2*Math.PI/10;ctx.shadowColor=_GraphUtils2.default.color2Rgba(_GraphUtils2.default.inverseColor(this.p.color,1),.7);for(var i=0,_a=a,_r=.2*r;i<10;++i,_r*=.9,_a+=da){ctx.beginPath(),ctx.fillStyle=_GraphUtils2.default.color2Rgba(_GraphUtils2.default.inverseColor(this.p.color,(10-i)/10),.7*(10-i)/10);var cx=x0+r*Math.cos(_a),cy=y0-r*Math.sin(_a),nx=x0+r*Math.cos(_a+da),ny=y0-r*Math.sin(_a+da);ctx.shadowOffsetX=.2*(nx-cx),ctx.shadowOffsetY=.2*(ny-cy),ctx.arc(cx,cy,_r,0,2*Math.PI,1),ctx.fill()}this.onChange&&this.onChange(this.c,this.p.color)}},LoadingAnimation.prototype.getImage=function(){return this.c},LoadingAnimation.prototype.dispose=function(){this.c.width=0,this.c.height=0,delete this.ctx,delete this.c},LoadingAnimation.prototype.createSprite=function(n){var c=(0,_libs.$)('<canvas width="'+this.c.width*n+'" height="'+this.c.height+'"></canvas>')[0],ctx=c.getContext("2d"),t=this.calcTimeTo(this.os[1]+2*Math.sign(this.os[0])*Math.PI),dt=t/(n+1),updateInterval=this.p.updateInterval;this.p.updateInterval=0;for(var i=0;i<n;++i)this.update(dt),ctx.drawImage(this.c,i*this.c.width,0);return this.p.updateInterval=updateInterval,c},LoadingAnimation}();exports.default=LoadingAnimation},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var LoadingController=(__webpack_require__(0),function(){function LoadingController(view){var showProgress=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],loadingMsg=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;_classCallCheck(this,LoadingController),this.view=view,this.progress=0,this.showProgress=showProgress,this.getLoadingMsg=loadingMsg||LoadingController.defaultLoadingMsg,this.updateView()}return LoadingController.defaultLoadingMsg=function(progress){return["Please wait... the Application is Loading: ",progress,"%"].join("")},LoadingController.prototype.dispose=function(){this.showProgress=!1,this.updateView(),delete this.view},LoadingController.prototype.setProgress=function(v){this.progress=v,this.updateView()},LoadingController.prototype.updateView=function(){if(this.view){this.view.setState("widLoadingProgress",{enable:!0,visible:this.showProgress,active:!1}),this.view.setState("txtLoadingProgress",{value:this.getLoadingMsg(this.progress),visible:!0});for(var _iterator=this.view.getLinks(),_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var name=_ref;this.view.setState(name,{enable:!1,visible:!0,active:!1})}this.view.setState("inpPages",{visible:!0,value:""}),this.view.setState("inpPage",{visible:!0,enable:!1,value:""})}},LoadingController}());exports.default=LoadingController},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_EventConverter2=__webpack_require__(6),_EventConverter3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_EventConverter2),MouseEventConverter=function(_EventConverter){function MouseEventConverter(wnd,doc,element){_classCallCheck(this,MouseEventConverter);var _this=_possibleConstructorReturn(this,_EventConverter.call(this,wnd,doc));return _this.element=element,_this.binds={convert:_this.convert.bind(_this)},(0,_libs.$)(_this.element).on("mousemove mousedown mouseover mouseout click",_this.binds.convert),(0,_libs.$)(_this.doc).on("mouseup",_this.binds.convert),_this}return _inherits(MouseEventConverter,_EventConverter),MouseEventConverter.prototype.dispose=function(){(0,_libs.$)(this.element).off("mousemove mousedown mouseover mouseout click",this.binds.convert),(0,_libs.$)(this.doc).off("mouseup",this.binds.convert)},MouseEventConverter}(_EventConverter3.default);exports.default=MouseEventConverter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(0),_MathUtils=__webpack_require__(3),_MathUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_MathUtils),Object3DWatcher=function(){function Object3DWatcher(visual,boundBoxClb){var testScale=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.testScale;_classCallCheck(this,Object3DWatcher),this.visual=visual,this.boundBoxClb=boundBoxClb,this.testScale=testScale,this.camera=visual.camera,this.element=this.visual.element,this.elementSize={w:1,h:1},this.devicePixelRatio=this.visual.wnd.devicePixelRatio||1,this.orbit=visual.getOrbit(),this.scale=1,this.eps=1e-4,this.v=new _libs.THREE.Vector3,this.dv=new _libs.THREE.Vector2,this.enabled=!1,visual.addRenderCallback(this.update.bind(this)),this.os={vx:0,vy:0,x:0,y:0},this.orbit.update(),this.camera.updateMatrixWorld();var box=this.computeClientBoundBox();this.movePan({x:-1.11*box.mid.x,y:-1.11*box.mid.y})}return Object3DWatcher.prototype.movePan=function(dv){this.orbit.pan(dv.x*this.visual.width(),-dv.y*this.visual.height())},Object3DWatcher.prototype.vToCamera=function(v){return v.project(this.camera),{x:.5*v.x,y:.5*v.y}},Object3DWatcher.prototype.computeClientBoundBox=function(){for(var box=this.boundBoxClb(),xs=[box.min.x,box.max.x],ys=[0,0],zs=[box.min.z,box.max.z],ps=[],res={max:{},min:{}},_iterator=xs,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}for(var x=_ref,_iterator2=ys,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}for(var y=_ref2,_iterator3=zs,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var z=_ref3;ps.push(this.vToCamera(this.v.set(x,y,z)))}}}return ps.sort(function(p1,p2){return p1.x-p2.x}),res.min.x=ps[0].x,res.max.x=ps[ps.length-1].x,ps.sort(function(p1,p2){return p1.y-p2.y}),res.min.y=ps[0].y,res.max.y=ps[ps.length-1].y,res.width=res.max.x-res.min.x,res.height=res.max.y-res.min.y,res.mid={x:.5*(res.max.x+res.min.x),y:.5*(res.max.y+res.min.y)},res},Object3DWatcher.prototype.setObject=function(boundBoxClb){this.boundBoxClb=boundBoxClb},Object3DWatcher.prototype.testScale=function(){return!0},Object3DWatcher.prototype.computeCorr=function(K,min,max){var corr=0;return K<1?min>-.5?corr=-.5-min:max<.5&&(corr=.5-max):min<-.5?corr=-.5-min:max>.5&&(corr=.5-max),corr},Object3DWatcher.prototype.getScale=function(){var box=this.computeClientBoundBox(),Kx=this.elementSize.w/box.width,Ky=this.elementSize.h/box.height;return 1/Math.min(Kx,Ky)},Object3DWatcher.prototype.centerView=function(T){var _this=this,box=this.computeClientBoundBox(),Kx=this.elementSize.w/box.width,Ky=this.elementSize.h/box.height,K=Math.min(Kx,Ky);if(this.testScale()&&Math.abs(1/K-this.scale)>this.eps){var scale=1/K+.2*(this.scale-1/K);this.orbit.setScale(this.orbit.getScale()/(K*scale)),this.orbit.update(),this.camera.updateMatrixWorld(),box=this.computeClientBoundBox(),Kx=this.elementSize.w/box.width,Ky=this.elementSize.h/box.height,K=Math.min(Kx,Ky)}var dv=this.dv;if(K>1-this.eps?dv.set(-box.mid.x,-box.mid.y):dv.set(this.computeCorr(Kx,box.min.x,box.max.x),this.computeCorr(Ky,box.min.y,box.max.y)),Math.sqrt(this.os.vx*this.os.vx+this.os.vy*this.os.vy)>.003||dv.length()>.003){var dt=1/60,t=0,os=_extends({},this.os,{x:0,y:0});for(os.tf=function(vx,vy,x,y){return{x:75*(dv.x-x)/Math.pow(_this.devicePixelRatio,1),y:75*(dv.y-y)/Math.pow(_this.devicePixelRatio,1)}};t<T;)t+dt>T&&(dt=T-t),os=this.integrate(os,dt),t+=dt;this.movePan(os),this.os=os}},Object3DWatcher.prototype.integrate=function(os,dt){var _MathUtils$rk=_MathUtils2.default.rk4(this.dy.bind(os),0,dt,[os.vx,os.vy,os.x,os.y]),vx=_MathUtils$rk[0],vy=_MathUtils$rk[1],x=_MathUtils$rk[2],y=_MathUtils$rk[3];return _extends({},os,{vx:vx,vy:vy,x:x,y:y})},Object3DWatcher.prototype.dy=function(t,Y){var vx=Y[0],vy=Y[1],x=Y[2],y=Y[3],tf=this.tf(vx,vy,x,y);return[tf.x-15*vx,tf.y-15*vy,vx,vy]},Object3DWatcher.prototype.update=function(dt){this.enabled&&this.boundBoxClb&&this.centerView(dt)},Object3DWatcher}();exports.default=Object3DWatcher},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),Orbit=function(_THREE$EventDispatche){function Orbit(object,domElement){function getAutoRotationAngle(){return 2*Math.PI/60/60*scope.autoRotateSpeed}function getZoomScale(){return Math.pow(.95,scope.zoomSpeed)}function rotateLeft(angle){sphericalDelta.theta-=angle}function rotateUp(angle){sphericalDelta.phi-=angle}function dollyIn(dollyScale){scope.object instanceof _libs.THREE.PerspectiveCamera?scale/=dollyScale:scope.object instanceof _libs.THREE.OrthographicCamera?(scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom*dollyScale)),scope.object.updateProjectionMatrix(),zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type-dolly/zoom disabled."),scope.enableZoom=!1)}function dollyOut(dollyScale){scope.object instanceof _libs.THREE.PerspectiveCamera?scale*=dollyScale:scope.object instanceof _libs.THREE.OrthographicCamera?(scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom/dollyScale)),scope.object.updateProjectionMatrix(),zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type-dolly/zoom disabled."),scope.enableZoom=!1)}function rotate(event,data){if(scope.enabled&&scope.enableRotate&&"move"===data.state){var element=scope.domElement;rotateLeft(2*Math.PI*data.dx/element.clientWidth*scope.rotateSpeed),rotateUp(2*Math.PI*data.dy/element.clientHeight*scope.rotateSpeed),scope.update()}}function pan(event,data){scope.enabled&&scope.enablePan&&"move"===data.state&&(scope.pan(data.dx,data.dy),scope.update())}function offsetDolly(event,data){scope.enabled&&scope.enableZoom&&"move"===data.state&&(data.dy>0?dollyIn(getZoomScale()):data.dy<0&&dollyOut(getZoomScale()),scope.update())}function wheelDolly(event){scope.enabled&&scope.enableZoom&&(event.deltaY>0?dollyOut(getZoomScale()):event.deltaY<0&&dollyIn(getZoomScale()),scope.update())}_classCallCheck(this,Orbit);var _this=_possibleConstructorReturn(this,_THREE$EventDispatche.call(this));_this.object=object,_this.domElement=domElement||document.body,_this.enabled=!0,_this.target=new _libs.THREE.Vector3,_this.minDistance=0,_this.maxDistance=1/0,_this.minZoom=0,_this.maxZoom=1/0,_this.minPolarAngle=0,_this.maxPolarAngle=Math.PI,_this.minAzimuthAngle=-1/0,_this.maxAzimuthAngle=1/0,_this.enableDamping=!1,_this.dampingFactor=.25,_this.enableZoom=!0,_this.zoomSpeed=1,_this.enableRotate=!0,_this.rotateSpeed=1,_this.enablePan=!0,_this.autoRotate=!1,_this.autoRotateSpeed=2,_this.target0=_this.target.clone(),_this.position0=_this.object.position.clone(),_this.zoom0=_this.object.zoom,_this.getPolarAngle=function(){return spherical.phi},_this.getAzimuthalAngle=function(){return spherical.theta},_this.reset=function(){scope.target.copy(scope.target0),scope.object.position.copy(scope.position0),scope.object.zoom=scope.zoom0,scope.object.updateProjectionMatrix(),scope.dispatchEvent(changeEvent),scope.update()},_this.zoomOut=function(){var speed=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.zoomSpeed,_speed=this.zoomSpeed;this.zoomSpeed=speed,dollyIn(getZoomScale()),this.zoomSpeed=_speed},_this.zoomIn=function(){var speed=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.zoomSpeed,_speed=this.zoomSpeed;this.zoomSpeed=speed,dollyOut(getZoomScale()),this.zoomSpeed=_speed},_this.getScale=function(){return scale},_this.setScale=function(newScale){scale=newScale},_this.update=function(){var offset=new _libs.THREE.Vector3,quat=(new _libs.THREE.Quaternion).setFromUnitVectors(object.up,new _libs.THREE.Vector3(0,1,0)),quatInverse=quat.clone().inverse(),lastPosition=new _libs.THREE.Vector3,lastQuaternion=new _libs.THREE.Quaternion;return function(){var position=scope.object.position;return offset.copy(position).sub(scope.target),offset.applyQuaternion(quat),spherical.setFromVector3(offset),scope.autoRotate&&rotateLeft(getAutoRotationAngle()),spherical.theta+=sphericalDelta.theta,spherical.phi+=sphericalDelta.phi,spherical.theta=Math.max(scope.minAzimuthAngle,Math.min(scope.maxAzimuthAngle,spherical.theta)),spherical.phi=Math.max(scope.minPolarAngle,Math.min(scope.maxPolarAngle,spherical.phi)),spherical.makeSafe(),spherical.radius*=scale,spherical.radius=Math.max(scope.minDistance,Math.min(scope.maxDistance,spherical.radius)),scope.target.add(panOffset),offset.setFromSpherical(spherical),offset.applyQuaternion(quatInverse),position.copy(scope.target).add(offset),scope.object.lookAt(scope.target),!0===scope.enableDamping?(sphericalDelta.theta*=1-scope.dampingFactor,sphericalDelta.phi*=1-scope.dampingFactor):sphericalDelta.set(0,0,0),scale=1,panOffset.set(0,0,0),!!(zoomChanged||lastPosition.distanceToSquared(scope.object.position)>EPS||8*(1-lastQuaternion.dot(scope.object.quaternion))>EPS)&&(scope.dispatchEvent(changeEvent),lastPosition.copy(scope.object.position),lastQuaternion.copy(scope.object.quaternion),zoomChanged=!1,!0)}}(),_this.dispose=function(){};var scope=_this,changeEvent={type:"change"},EPS=1e-6,spherical=new _libs.THREE.Spherical,sphericalDelta=new _libs.THREE.Spherical,scale=1,panOffset=new _libs.THREE.Vector3,zoomChanged=!1,panLeft=function(){var v=new _libs.THREE.Vector3;return function(distance,objectMatrix){v.setFromMatrixColumn(objectMatrix,0),v.multiplyScalar(-distance),panOffset.add(v)}}(),panUp=function(){var v=new _libs.THREE.Vector3;return function(distance,objectMatrix){v.setFromMatrixColumn(objectMatrix,1),v.multiplyScalar(distance),panOffset.add(v)}}();return scope.pan=function(){var offset=new _libs.THREE.Vector3;return function(deltaX,deltaY){var element=scope.domElement;if(scope.object instanceof _libs.THREE.PerspectiveCamera){var position=scope.object.position;offset.copy(position).sub(scope.target);var targetDistance=offset.length();targetDistance*=Math.tan(scope.object.fov/2*Math.PI/180),panLeft(2*deltaX*targetDistance/element.clientHeight,scope.object.matrix),panUp(2*deltaY*targetDistance/element.clientHeight,scope.object.matrix)}else scope.object instanceof _libs.THREE.OrthographicCamera?(panLeft(deltaX*(scope.object.right-scope.object.left)/scope.object.zoom/element.clientWidth,scope.object.matrix),panUp(deltaY*(scope.object.top-scope.object.bottom)/scope.object.zoom/element.clientHeight,scope.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type-pan disabled."),scope.enablePan=!1)}}(),_this.actions={rotate:rotate,pan:pan,offsetDolly:offsetDolly,wheelDolly:wheelDolly},_this.update(),_this}return _inherits(Orbit,_THREE$EventDispatche),Orbit}(_libs.THREE.EventDispatcher);exports.default=Orbit},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_ImageBase2=__webpack_require__(5),_ImageBase3=_interopRequireDefault(_ImageBase2),_Pdf=__webpack_require__(18),_Pdf2=_interopRequireDefault(_Pdf),_BaseMathUtils=__webpack_require__(2),_BaseMathUtils2=_interopRequireDefault(_BaseMathUtils),_CustomEventConverter=__webpack_require__(16),_CustomEventConverter2=_interopRequireDefault(_CustomEventConverter),_PolyTarget=__webpack_require__(69),_PolyTarget2=_interopRequireDefault(_PolyTarget),_Finder=__webpack_require__(17),_Finder2=_interopRequireDefault(_Finder),PdfImage=function(_ImageBase){function PdfImage(context,width,height,color,pdf,n){_classCallCheck(this,PdfImage);var _this=_possibleConstructorReturn(this,_ImageBase.call(this,context,width,height,color));return _this.query="",_this.n=n,_this.pdf=pdf,_this.v={x:0,y:0,z:0,set:function(x,y,z){return this.x=x,this.y=y,this.z=z,this},transform:function(m){var x=m.m[0][0]*this.x+m.m[1][0]*this.y+m.m[2][0]*this.z,y=m.m[0][1]*this.x+m.m[1][1]*this.y+m.m[2][1]*this.z,z=m.m[0][2]*this.x+m.m[0][2]*this.y+m.m[2][0]*this.z;return this.x=x,this.y=y,this.z=z,this}},_this.m={m:[[1,0,0],[0,1,0],[0,0,1]],set:function(m00,m01,m02,m10,m11,m12,m20,m21,m22){return this.m=[[m00,m01,m02],[m10,m11,m12],[m20,m21,m22]],this}},_this.startRender=function(){_this.pdf.getHandler(_this.render.bind(_this))},Promise.resolve().then(function(){return _this.pdf.getHandler(_this.init.bind(_this))}),_this}return _inherits(PdfImage,_ImageBase),PdfImage.prototype.setQuery=function(query){this.query=query.trim(),this.textContent&&this.setHits(this.textContent)},PdfImage.prototype.rectSize=function(r){return{width:r[2]-r[0],height:r[3]-r[1]}},PdfImage.prototype.createPoly=function(m,p,s){var poly=[],v=this.v;return v.set(p.x,p.y,1).transform(m),poly.push({x:v.x,y:v.y}),v.set(p.x,p.y+s.height,1).transform(m),poly.push({x:v.x,y:v.y}),v.set(p.x+s.width,p.y+s.height,1).transform(m),poly.push({x:v.x,y:v.y}),v.set(p.x+s.width,p.y,1).transform(m),poly.push({x:v.x,y:v.y}),poly},PdfImage.prototype.getSimulatedDoc=function(){return this},PdfImage.prototype.simulate=function(e,doc,x,y){this.eventConverter&&this.eventConverter.convert(e,{doc:doc,x:x,y:y})},PdfImage.prototype.setAnnotations=function(annos){var _this2=this,t=this.viewport.transform,targets=[];this.m.set(t[0],t[1],0,t[2],t[3],0,t[4],t[5],1);for(var _iterator=annos,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var anno=_ref;if("Link"===anno.subtype){var rect=anno.rect,aPos={x:rect[0],y:rect[1]},aSz=this.rectSize(rect),_target=new _PolyTarget2.default(this.createPoly(this.m,aPos,aSz).map(function(p){return{x:p.x/_this2.viewport.width,y:1-p.y/_this2.viewport.height}}));_target.anno=anno,_target.callback=this.annoClb.bind(this),targets.push(_target)}}if(targets.length){this.eventConverter=new _CustomEventConverter2.default(this.wnd,this.doc,_PolyTarget2.default.test,this.getSimulatedDoc());for(var _iterator2=targets,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var target=_ref2;this.eventConverter.addCustom(target)}}},PdfImage.prototype.setHits=function(textContent){this.textContent=textContent,""!==this.query&&(this.finder=new _Finder2.default(textContent.items.map(function(item){return item.str}),this.query,{contexts:!1}))},PdfImage.prototype.renderHits=function(){var _this3=this;if(this.finder){for(var testSz=(this.page.view,(0,_libs.$)('<div style="position: absolute; visibility: hidden;"></div>').appendTo("body")),textDiv=testSz[0],baseOffset=testSz.offset().left,_iterator3=this.finder.getHits(),_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if(_isArray3){if(_i3>=_iterator3.length)break;_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)break;_ref3=_i3.value}var hit=_ref3,item=this.textContent.items[hit.index],t=_libs.PDFJS.Util.transform(this.viewport.transform,item.transform),style=this.textContent.styles[item.fontName],angle=Math.atan2(t[1],t[0])+(style.vertical?Math.PI/2:0),fontHeight=Math.sqrt(t[2]*t[2]+t[3]*t[3]),fontAscent=style.ascent?style.ascent*fontHeight:style.descent?(1+style.descent)*fontHeight:fontHeight;testSz.html(item.str.substr(0,hit.offset)+"<span>"+item.str.substr(hit.offset,hit.length)+"</span>"+item.str.substr(hit.offset+hit.length)),textDiv.style.fontSize=fontHeight+"px",textDiv.style.fontFamily=style.fontFamily;var testSpan=testSz.find("span"),iwidth=style.vertical?item.height*this.viewport.scale:item.width*this.viewport.scale,width=testSz.width(),relativeOffset=(testSpan.offset().left-baseOffset)/width;this.m.set(1,0,0,0,1,0,t[4]+fontAscent*Math.sin(angle),t[5]-fontAscent*Math.cos(angle),1);var poly=this.createPoly(this.m,{x:relativeOffset*iwidth,y:0},{width:iwidth*testSpan.width()/width,height:testSpan.height()});poly=poly.map(function(p){return{x:p.x/_this3.viewport.width,y:1-p.y/_this3.viewport.height}}),this.renderHit(poly)}testSz.remove()}},PdfImage.prototype.annoClb=function(e,data){this.context.dispatchEvent&&this.context.dispatchEvent({type:"pdfAnnotation",event:e,annotation:data.target.anno})},PdfImage.prototype.calcViewport=function(){var scale=_BaseMathUtils2.default.calcScale(this.size.width,this.size.height,this.resW,this.resH);(!this.viewport||Math.abs(this.viewport.scale-scale)>1e-4)&&(this.viewport=this.page.getViewport({scale:scale}),"full"!==this.type&&("right"===this.type&&(this.viewport.offsetX+=.5*this.viewport.width,this.viewport.transform[4]-=.5*this.viewport.width),this.viewport.width/=2),this.resW=this.width=this.viewport.width,this.resH=this.height=this.viewport.height)},PdfImage.prototype.init=function(){var _this4=this;this.type=this.pdf.getPageType(this.n),this.pdf.getPage(this.n).then(function(page){_this4.page=page,_this4.size=_Pdf2.default.getPageSize(page),"full"!==_this4.type&&(_this4.size.width/=2),page.getAnnotations().then(_this4.setAnnotations.bind(_this4)),page.getTextContent().then(_this4.setHits.bind(_this4)),_this4.calcViewport(),_this4.finishLoad()}).catch(function(e){console.error("Cannot load PDF page: "+(_this4.n+1)),_this4.finishLoad()})},PdfImage.prototype.setResolution=function(res){_ImageBase.prototype.setResolution.call(this,res),this.page&&this.calcViewport()},PdfImage.prototype.render=function(handler){var _this5=this;this.page?this.page.render({canvasContext:this.pushCtx(),viewport:this.viewport}).promise.then(function(){_this5.renderHits(),_this5.popCtx(),_this5.finishRender()}):(this.renderBlankPage(),this.finishRender())},PdfImage}(_ImageBase3.default);exports.default=PdfImage},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),Search=function(){function Search(container,pages){_classCallCheck(this,Search),this.container=container,this.pages=pages,this.prevResults=[],container.html('\n      <div class="search">\n        <div class="query">\n          <input class="inpQuery" type="text" maxlength="30" value="" />\n        </div>\n        <div class="results">\n        </div>\n        <div class="status">\n\n        </div>\n      </div>\n    '),this.query=container.find(".query input"),this.results=container.find(".results"),this.status=container.find(".status"),this.binds={navigate:this.navigate.bind(this),doQuery:this.doQuery.bind(this)},this.query.on("keydown",this.binds.doQuery),this.results.on("click",this.binds.navigate)}return Search.prototype.dispose=function(){this.results.off("click",this.binds.navigate),this.query.off("keydown",this.binds.doQuery)},Search.prototype.navigate=function(e){if(e.preventDefault(),void 0!==this.onNavigate){var target=(0,_libs.$)(e.target);if(!target.hasClass("result")){var t=target.find(".result");if(t.length)target=t;else for(;target.length&&!target.hasClass("result");)target=(0,_libs.$)(target[0].parentNode)}var page=target.attr("data");void 0!==page&&this.onNavigate(parseInt(page))}},Search.prototype.doQuery=function(){var _this=this;if(this.onQuery){var queryStamp=this.queryStamp=Date.now();setTimeout(function(){queryStamp===_this.queryStamp&&_this.onQuery(_this.query[0].value.trim())},1e3)}},Search.prototype.setResults=function(results,lastPage){this.prevResults.length&&results[0]!==this.prevResults[0]&&(this.prevResults=[],this.results.html(""));for(var htmls=[],i=this.prevResults.length;i<results.length;++i){var result=results[i];htmls.push('<div class="result" data="'+result.page+'">'),htmls.push('<a href="#">'),htmls.push("<div>"+result.contexts.join("</div><div>")+"</div>"),htmls.push("</a>"),htmls.push("</div>")}(0,_libs.$)(htmls.join("")).appendTo(this.results),this.prevResults=[].concat(results),void 0===lastPage?this.status.html(""):this.status.html(lastPage+" of "+this.pages)},Search}();exports.default=Search},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_ImageBase2=__webpack_require__(5),_ImageBase3=_interopRequireDefault(_ImageBase2),_Utils=__webpack_require__(4),_Utils2=_interopRequireDefault(_Utils),StaticImage=function(_ImageBase){function StaticImage(context,width,height,color,src){_classCallCheck(this,StaticImage);var _this=_possibleConstructorReturn(this,_ImageBase.call(this,context,width,height,color));return _this.binds={},_this.image=new Image,_this.image.crossOrigin="Anonymous",_this.binds.imageLoad=function(){_this.width=_this.image.width,_this.height=_this.image.height,_this.startRender=function(){_this.renderImage(_this.image),_this.finishRender()},_this.finishLoad()},_this.binds.imageError=function(){_this.startRender=function(){_this.renderNotFoundPage(),_this.finishRender()},_this.finishLoad()},(0,_libs.$)(_this.image).on("load",_this.binds.imageLoad).on("error",_this.binds.imageError),_this.image.src=_Utils2.default.normalizeUrl(src),_this}return _inherits(StaticImage,_ImageBase),StaticImage.prototype.dispose=function(){(0,_libs.$)(this.image).off("load",this.binds.imageLoad).off("error",this.binds.imageError),this.image.src="",delete this.image,_ImageBase.prototype.dispose.call(this)},StaticImage}(_ImageBase3.default);exports.default=StaticImage},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _libs=__webpack_require__(0),TextureAnimator=function(){function TextureAnimator(img,tilesHoriz,tilesVert,numTiles,tileDispDuration){_classCallCheck(this,TextureAnimator);var texture=new _libs.THREE.Texture;texture.minFilter=_libs.THREE.LinearFilter,texture.image=img,texture.needsUpdate=!0,this.texture=texture,this.tilesHorizontal=tilesHoriz,this.tilesVertical=tilesVert,this.numberOfTiles=numTiles,texture.repeat.set(1/this.tilesHorizontal,1/this.tilesVertical),this.tileDisplayDuration=tileDispDuration,this.currentDisplayTime=0,this.currentTile=0}return TextureAnimator.prototype.update=function(milliSec){for(this.currentDisplayTime+=milliSec;this.currentDisplayTime>this.tileDisplayDuration;){this.currentDisplayTime-=this.tileDisplayDuration,++this.currentTile,this.currentTile==this.numberOfTiles&&(this.currentTile=0);var currentColumn=this.currentTile%this.tilesHorizontal;this.texture.offset.x=currentColumn/this.tilesHorizontal;var currentRow=Math.floor(this.currentTile/this.tilesHorizontal);this.texture.offset.y=currentRow/this.tilesVertical}},TextureAnimator.prototype.dispose=function(){var img=this.texture.image;img.height=img.width=0,this.texture.dispose()},TextureAnimator}();exports.default=TextureAnimator},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_Utils=__webpack_require__(4),_Utils2=_interopRequireDefault(_Utils),_MouseEventConverter2=__webpack_require__(54),_MouseEventConverter3=_interopRequireDefault(_MouseEventConverter2),_ThreeEventConverter=__webpack_require__(19),_ThreeEventConverter2=_interopRequireDefault(_ThreeEventConverter),ThreeMouseEventConverter=function(_MouseEventConverter){function ThreeMouseEventConverter(wnd,doc,visualWorld,test){_classCallCheck(this,ThreeMouseEventConverter);var _this=_possibleConstructorReturn(this,_MouseEventConverter.call(this,wnd,doc,visualWorld.element));return _Utils2.default.extends(_this,new _ThreeEventConverter2.default(visualWorld,test)),_this}return _inherits(ThreeMouseEventConverter,_MouseEventConverter),ThreeMouseEventConverter.prototype.getCallback=function(object){return object.object.userData.mouseCallback},ThreeMouseEventConverter.prototype.setCoordsFromEvent=function(e){var jElement=(0,_libs.$)(this.element),offset=jElement.offset();return this.coords.x=(e.pageX-offset.left)/jElement.width()*2-1,this.coords.y=-(e.pageY-offset.top)/jElement.height()*2+1,this.coords},ThreeMouseEventConverter}(_MouseEventConverter3.default);exports.default=ThreeMouseEventConverter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_Utils=__webpack_require__(4),_Utils2=_interopRequireDefault(_Utils),_TouchEventConverter2=__webpack_require__(64),_TouchEventConverter3=_interopRequireDefault(_TouchEventConverter2),_ThreeEventConverter=__webpack_require__(19),_ThreeEventConverter2=_interopRequireDefault(_ThreeEventConverter),ThreeTouchEventConverter=function(_TouchEventConverter){function ThreeTouchEventConverter(wnd,doc,visualWorld,test){_classCallCheck(this,ThreeTouchEventConverter);var _this=_possibleConstructorReturn(this,_TouchEventConverter.call(this,wnd,doc,visualWorld.element));return _Utils2.default.extends(_this,new _ThreeEventConverter2.default(visualWorld,test)),_this}return _inherits(ThreeTouchEventConverter,_TouchEventConverter),ThreeTouchEventConverter.prototype.getCallback=function(object){return object.object.userData.touchCallback},ThreeTouchEventConverter.prototype.setCoordsFromEvent=function(e){var jElement=(0,_libs.$)(this.element),offset=jElement.offset(),touches=e.touches||e.originalEvent.touches,touch=touches.length?touches[0]:(this.lastTouches||[{pageX:0,pageY:0}])[0],pageX=touch.pageX,pageY=touch.pageY;return this.lastTouches=touches.length?touches:this.lastTouches,this.coords.x=(pageX-offset.left)/jElement.width()*2-1,this.coords.y=-(pageY-offset.top)/jElement.height()*2+1,this.coords},ThreeTouchEventConverter}(_TouchEventConverter3.default);exports.default=ThreeTouchEventConverter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(0),_ImageFactory=__webpack_require__(8),_ImageFactory2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_ImageFactory),Thumbnails=function(){function Thumbnails(context,container,thumbnailsClb,size){var _this=this,props=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{kWtoH:210/297};_classCallCheck(this,Thumbnails),this.container=container,this.p=props,this.thumbnailsClb=thumbnailsClb,this.size=size,this.canvas=(0,_libs.$)("<canvas>")[0],this.imageFactory=new _ImageFactory2.default(_extends({},context,{renderCanvas:this.canvas,renderCanvasCtx:this.canvas.getContext("2d")})),this.thumbnails=[];for(var i=0;i<size;++i){var info=this.thumbnailsClb(i);this.thumbnails.push(_extends({},info,{index:i,loaded:"thumbnail-image"===info.type,heading:null,thumbnail:null,title:info.title||i}))}this.binds={update:this.update.bind(this),navigate:function(e){if(e.preventDefault(),_this.onNavigate){for(var node=e.target;node&&!node.dataThumbnail;)node=node.parentNode;_this.onNavigate(node.dataThumbnail.index)}}},this.container.on("scroll",this.binds.update)}return Thumbnails.prototype.getSize=function(){return this.size},Thumbnails.prototype.setEnable=function(enable){this.enable=enable,this.update()},Thumbnails.prototype.dispose=function(){this.container.find("a").off("click",this.binds.navigate),this.container.off("scroll",this.binds.update),this.container.html(""),this.canvas.height=this.canvas.width=0,delete this.canvas},Thumbnails.prototype.load=function(thumbnail){var _this2=this;this.loading=!0;var wrapper=this.imageFactory.build(thumbnail,void 0===thumbnail.number?thumbnail.index:thumbnail.number,300*this.p.kWtoH,300);wrapper.onChange=function(canvas){_this2.setImage(thumbnail,canvas.toDataURL("image/png")),thumbnail.loaded=!0,wrapper.dispose(),_this2.loading=!1,Promise.resolve().then(function(){return _this2.update()})}},Thumbnails.prototype.getActive=function(){for(var first=this.container.scrollTop(),last=first+this.container.height(),res=[],_iterator=this.thumbnails,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var thumbnail=_ref;Math.max(thumbnail.first,first)<Math.min(thumbnail.last,last)&&res.push(thumbnail)}return res},Thumbnails.prototype.update=function(){if(!this.loading&&this.canvas&&this.enable){this.built||this.render();for(var active=this.getActive(),_iterator2=active,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var thumbnail=_ref2;if(!thumbnail.loaded){this.load(thumbnail);break}}}},Thumbnails.prototype.setImage=function(thumbnail,img){thumbnail.img=img,thumbnail.thumbnail.css("background-image",["url('",img,"')"].join("")),thumbnail.thumbnail.removeClass("loading")},Thumbnails.prototype.render=function(){for(var elements=['<div class="thumbnails">'],i=0;i<this.size;++i)elements.push(['<div class="item"><a href="#"><div class="thumbnail loading"></div></a><div class="heading"><a href="#" title="',i+1,'">',i+1,"</a></div></div>"].join(""));elements.push("</div>"),this.container.append(elements.join(""));for(var items=this.container.find(".item"),base=this.container.find(".thumbnails").offset().top,_i3=0;_i3<items.length;++_i3){var item=(0,_libs.$)(items[_i3]);this.thumbnails[_i3].heading=item.find(".heading"),this.thumbnails[_i3].thumbnail=item.find(".thumbnail"),this.thumbnails[_i3].first=item.offset().top-base,this.thumbnails[_i3].last=this.thumbnails[_i3].first+item.height(),this.thumbnails[_i3].loaded&&this.setImage(this.thumbnails[_i3],this.thumbnails[_i3].src);for(var as=item.find("a"),j=0;j<as.length;++j){as[j].dataThumbnail=this.thumbnails[_i3]}}this.container.find("a").on("click",this.binds.navigate),this.built=!0},Thumbnails}();exports.default=Thumbnails},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _libs=__webpack_require__(0),_EventConverter2=__webpack_require__(6),_EventConverter3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_EventConverter2),TouchConverter=function(_EventConverter){function TouchConverter(wnd,doc,element){_classCallCheck(this,TouchConverter);var _this=_possibleConstructorReturn(this,_EventConverter.call(this,wnd,doc));return _this.element=element,_this.binds={convert:_this.convert.bind(_this)},(0,_libs.$)(_this.element).on("touchstart touchmove",_this.binds.convert),(0,_libs.$)(_this.doc).on("touchend",_this.binds.convert),_this}return _inherits(TouchConverter,_EventConverter),TouchConverter.prototype.dispose=function(){(0,_libs.$)(this.element).off("touchstart touchmove",this.binds.convert),(0,_libs.$)(this.doc).off("touchend",this.binds.convert)},TouchConverter}(_EventConverter3.default);exports.default=TouchConverter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(0),View=function(){function View(parentContainer,onLoad){var _this3=this,template=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,View),this.pendings={},this.binds={onResize:this.onResize.bind(this)},this.parentContainer=(0,_libs.$)(parentContainer),this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.parentContainer.html('<iframe style="border: 0;'+(this.isIOS?"":" width: 100%; height: 100%")+'" scrolling="no"></iframe>'),this.frame=this.parentContainer.find("iframe")[0],this.frame.contentWindow.stop&&this.frame.contentWindow.stop(),this.isIOS&&((0,_libs.$)(this.parentContainer[0].ownerDocument.defaultView).on("resize",this.binds.onResize),this.onResize(),setTimeout(this.checkIframeSize.bind(this),250)),this.container=(0,_libs.$)(this.frame.contentDocument.body),this.container.css("margin","0"),this.head=(0,_libs.$)(this.frame.contentDocument.head),this.onLoad=onLoad,this.handlers=[];var script=template.html?template.script:this.getTemplate().script,urls={styles:template.styles||this.getTemplate().styles,html:[template.html||this.getTemplate().html],script:script?[script]:[]},files={},links=template.links||this.getTemplate().links;this.loadFiles(urls,files).then(function(){for(var _loop4=function(){if(_isArray7){if(_i7>=_iterator7.length)return"break";_ref7=_iterator7[_i7++]}else{if(_i7=_iterator7.next(),_i7.done)return"break";_ref7=_i7.value}var style=_ref7,textCss=style.data,url=style.url;textCss=textCss.replace(/url\(['"](.*?)["']\)/g,function(r,r1){return["url(",_this3.urlResolver(url,r1),")"].join("")}),(0,_libs.$)('<style type="text/css">'+textCss+"</style>").appendTo(_this3.head)},_iterator7=files.styles,_isArray7=Array.isArray(_iterator7),_i7=0,_iterator7=_isArray7?_iterator7:_iterator7[Symbol.iterator]();;){var _ref7,_ret4=_loop4();if("break"===_ret4)break}_this3.container.html(_this3.translate(files.html[0].data)),_this3.jLinks=[];for(var _iterator8=links,_isArray8=Array.isArray(_iterator8),_i8=0,_iterator8=_isArray8?_iterator8:_iterator8[Symbol.iterator]();;){var _ref8;if(_isArray8){if(_i8>=_iterator8.length)break;_ref8=_iterator8[_i8++]}else{if(_i8=_iterator8.next(),_i8.done)break;_ref8=_i8.value}var _link=_ref8;_this3.jLinks.push((0,_libs.$)(["<link ",_this3.objToAttrsStr(_link),">"].join("")).appendTo(_this3.head))}if(files.script[0]){var init=eval(files.script[0].data);_this3.templateObject=init(_this3.container)}else _this3.templateObject={};_this3.linkControls={};for(var _iterator9=_this3.getLinks(),_isArray9=Array.isArray(_iterator9),_i9=0,_iterator9=_isArray9?_iterator9:_iterator9[Symbol.iterator]();;){var _ref9;if(_isArray9){if(_i9>=_iterator9.length)break;_ref9=_iterator9[_i9++]}else{if(_i9=_iterator9.next(),_i9.done)break;_ref9=_i9.value}var id=_ref9;_this3.linkControls[id]=_this3.container.find("."+id),_this3.binds[id]=View.handleLinkEvent.bind({getHandlers:_this3.getHandlers.bind(_this3),id:id,ctrl:_this3.linkControls[id]}),_this3.linkControls[id].on("click",_this3.binds[id])}_this3.widgetControls={};for(var _iterator10=_this3.getWidgets(),_isArray10=Array.isArray(_iterator10),_i10=0,_iterator10=_isArray10?_iterator10:_iterator10[Symbol.iterator]();;){var _ref10;if(_isArray10){if(_i10>=_iterator10.length)break;_ref10=_iterator10[_i10++]}else{if(_i10=_iterator10.next(),_i10.done)break;_ref10=_i10.value}var _id=_ref10;_this3.widgetControls[_id]=_this3.container.find("."+_id)}_this3.inputControls={};for(var _iterator11=_this3.getInputs(),_isArray11=Array.isArray(_iterator11),_i11=0,_iterator11=_isArray11?_iterator11:_iterator11[Symbol.iterator]();;){var _ref11;if(_isArray11){if(_i11>=_iterator11.length)break;_ref11=_iterator11[_i11++]}else{if(_i11=_iterator11.next(),_i11.done)break;_ref11=_i11.value}var _id2=_ref11;_this3.inputControls[_id2]=_this3.container.find("."+_id2),_this3.binds[_id2]=View.handleInputEvent.bind({getHandlers:_this3.getHandlers.bind(_this3),id:_id2,ctrl:_this3.inputControls[_id2]}),_this3.inputControls[_id2].on("keyup",_this3.binds[_id2])}_this3.formControls={};for(var _iterator12=_this3.getForms(),_isArray12=Array.isArray(_iterator12),_i12=0,_iterator12=_isArray12?_iterator12:_iterator12[Symbol.iterator]();;){var _ref12;if(_isArray12){if(_i12>=_iterator12.length)break;_ref12=_iterator12[_i12++]}else{if(_i12=_iterator12.next(),_i12.done)break;_ref12=_i12.value}var _id3=_ref12;_this3.formControls[_id3]=_this3.container.find("."+_id3),_this3.binds[_id3]=View.handleFormEvent.bind({getHandlers:_this3.getHandlers.bind(_this3),id:_id3,ctrl:_this3.formControls[_id3]}),_this3.formControls[_id3].on("submit",_this3.binds[_id3])}_this3.textControls={};for(var _iterator13=_this3.getTexts(),_isArray13=Array.isArray(_iterator13),_i13=0,_iterator13=_isArray13?_iterator13:_iterator13[Symbol.iterator]();;){var _ref13;if(_isArray13){if(_i13>=_iterator13.length)break;_ref13=_iterator13[_i13++]}else{if(_i13=_iterator13.next(),_i13.done)break;_ref13=_i13.value}var _id4=_ref13;_this3.textControls[_id4]=_this3.container.find("."+_id4)}_this3.stateSetters=[{map:_this3.linkControls,setter:_this3.setLinkControlState.bind(_this3)},{map:_this3.widgetControls,setter:_this3.setWidgetControlState.bind(_this3)},{map:_this3.inputControls,setter:_this3.setInputControlState.bind(_this3)},{map:_this3.textControls,setter:_this3.setTextControlState.bind(_this3)}],_this3.initView(),_this3.onLoad&&_this3.onLoad(),_this3.fireLinksOnLoadEvent()}).catch(function(res){return console.error(res)})}return View.classProperty=function(ctrl,className,value){value?ctrl.addClass(className):ctrl.removeClass(className)},View.attributeProperty=function(ctrl,attributeName,value){value?ctrl.attr(attributeName,value):ctrl.removeAttr(attributeName)},View.callHandlers=function(handlers,id,e,data){for(var _iterator=handlers,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}var handler=_ref;handler[id]?handler[id](e,data):handler.handleDefault&&handler.handleDefault(id,e,data)}},View.handleEvent=function(id,getHandlers,e,data){View.callHandlers(getHandlers(id),id,e,data)},View.handleLinkEvent=function(e){e.preventDefault(),this.ctrl.hasClass("disabled")||View.handleEvent(this.id,this.getHandlers,e)},View.handleInputEvent=function(e){View.handleEvent(this.id,this.getHandlers,e,e.target.value)},View.handleFormEvent=function(e){e.preventDefault(),View.handleEvent(this.id,this.getHandlers,e)},View.prototype.getLinks=function(){return null},View.prototype.getWidgets=function(){return null},View.prototype.getInputs=function(){return null},View.prototype.getTexts=function(){return null},View.prototype.getTemplate=function(){return{}},View.prototype.getHandlers=function(id){return this.handlers},View.prototype.callLater=function(handlers,id,e,data,ms){var _this=this;this.pendings[id]={timestamp:(new Date).getTime()},setTimeout(function(){var timestamp=(new Date).getTime(),pending=_this.pendings[id];pending&&timestamp-pending.timestamp>=ms&&(View.callHandlers(handlers,id,e,data),delete _this.pendings[id])},ms)},View.prototype.loadFiles=function(urls,files){for(var tasks=[],_iterator2=Object.keys(urls),_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if("break"===function(){if(_isArray2){if(_i2>=_iterator2.length)return"break";_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)return"break";_ref2=_i2.value}var name=_ref2;files[name]=[];for(var _iterator3=urls[name],_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[Symbol.iterator]();;){var _ref3;if("break"===function(){if(_isArray3){if(_i3>=_iterator3.length)return"break";_ref3=_iterator3[_i3++]}else{if(_i3=_iterator3.next(),_i3.done)return"break";_ref3=_i3.value}var url=_ref3;tasks.push(new Promise(function(resolve,reject){_libs.$.get(url,function(data){files[name].push({url:url,data:data}),resolve()}).fail(function(res){reject(res)})}))}())break}}())break}return Promise.all(tasks)},View.prototype.urlResolver=function(baseUrl,url){if(url=url.replace(/\\/g,"/"),"/"!==url.charAt(0)){baseUrl=baseUrl.replace(/\\/g,"/");var p=baseUrl.lastIndexOf("/");url=(~p?baseUrl.substr(0,p+1):"")+url;var parts=url.split("/");url=[];for(var _iterator4=parts,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[Symbol.iterator]();;){var _ref4;if(_isArray4){if(_i4>=_iterator4.length)break;_ref4=_iterator4[_i4++]}else{if(_i4=_iterator4.next(),_i4.done)break;_ref4=_i4.value}var part=_ref4;"."===part||(".."===part?!url.length||1===url.length&&""===url[0]||url.pop():url.push(part))}url=url.join("/")}return url},View.prototype.objToAttrsStr=function(o){for(var res=[],_iterator5=Object.keys(o),_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:_iterator5[Symbol.iterator]();;){var _ref5;if(_isArray5){if(_i5>=_iterator5.length)break;_ref5=_iterator5[_i5++]}else{if(_i5=_iterator5.next(),_i5.done)break;_ref5=_i5.value}var _name=_ref5;res.push([_name,'="',o[_name],'"'].join(""))}return res.join(" ")},View.prototype.checkIframeSize=function(){this.frame&&((Math.abs(this.frame.width-this.parentContainer.width())>1||Math.abs(this.frame.height-this.parentContainer.height())>1)&&this.onResize(),setTimeout(this.checkIframeSize.bind(this),250))},View.prototype.onResize=function(){this.frame.width=this.parentContainer.width(),this.frame.height=this.parentContainer.height()},View.prototype.translate=function(html){return html.replace(/<\$tr>(.*)<\/\$tr>/gi,function(s0,s1){return(0,_libs.tr)(s1)})},View.prototype.fireLinksOnLoadEvent=function(){var _this2=this;if(this.templateObject&&this.templateObject.linkLoaded)for(var _iterator6=this.jLinks,_isArray6=Array.isArray(_iterator6),_i6=0,_iterator6=_isArray6?_iterator6:_iterator6[Symbol.iterator]();;){var _ref6,_ret3=function(){if(_isArray6){if(_i6>=_iterator6.length)return"break";_ref6=_iterator6[_i6++]}else{if(_i6=_iterator6.next(),_i6.done)return"break";_ref6=_i6.value}var jLink=_ref6,link=jLink[0],img=new Image;img.onerror=function(){return _this2.templateObject.linkLoaded(link)},img.src=link.href}();if("break"===_ret3)break}},View.prototype.dispose=function(){delete this.textControls;for(var _iterator14=this.getLinks(),_isArray14=Array.isArray(_iterator14),_i14=0,_iterator14=_isArray14?_iterator14:_iterator14[Symbol.iterator]();;){var _ref14;if(_isArray14){if(_i14>=_iterator14.length)break;_ref14=_iterator14[_i14++]}else{if(_i14=_iterator14.next(),_i14.done)break;_ref14=_i14.value}var id=_ref14;this.linkControls[id].off("click",this.binds[id])}delete this.linkControls,delete this.widgetControls;for(var _iterator15=this.getInputs(),_isArray15=Array.isArray(_iterator15),_i15=0,_iterator15=_isArray15?_iterator15:_iterator15[Symbol.iterator]();;){var _ref15;if(_isArray15){if(_i15>=_iterator15.length)break;_ref15=_iterator15[_i15++]}else{if(_i15=_iterator15.next(),_i15.done)break;_ref15=_i15.value}var _id5=_ref15;this.inputControls[_id5].off("keyup",this.binds[_id5])}delete this.inputControls;for(var _iterator16=this.getForms(),_isArray16=Array.isArray(_iterator16),_i16=0,_iterator16=_isArray16?_iterator16:_iterator16[Symbol.iterator]();;){var _ref16;if(_isArray16){if(_i16>=_iterator16.length)break;_ref16=_iterator16[_i16++]}else{if(_i16=_iterator16.next(),_i16.done)break;_ref16=_i16.value}var _id6=_ref16;this.formControls[_id6].off("submit",this.binds[_id6])}delete this.formControls,!this.templateObject.dispose||this.templateObject.dispose(),delete this.templateObject,this.isIOS&&(0,_libs.$)(this.parentContainer[0].ownerDocument.defaultView).off("resize",this.binds.onResize),this.parentContainer.html(""),delete this.frame},View.prototype.getContainer=function(){return this.container[0]},View.prototype.getParentContainer=function(){return this.parentContainer[0]},View.prototype.addHandler=function(handler){this.handlers.push(handler)},View.prototype.initView=function(){},View.setControlState=function(ctrl,defaults,state,stateHandlers){if(ctrl&&ctrl[0]){var st=_extends({},defaults,state);for(var _name2 in st)st.hasOwnProperty(_name2)&&stateHandlers[_name2]&&stateHandlers[_name2](ctrl,st[_name2])}},View.prototype.setLinkControlState=function(id,state){View.setControlState(this.linkControls[id],{visible:!0,active:!1,enable:!0},state,View.linkStateHandlers)},View.prototype.setWidgetControlState=function(id,state){View.setControlState(this.widgetControls[id],{visible:!0,active:!1,enable:!0},state,View.widgetStateHandlers)},View.prototype.setInputControlState=function(id,state){View.setControlState(this.inputControls[id],{visible:!0,enable:!0,value:""},state,View.inputStateHandlers)},View.prototype.setTextControlState=function(id,state){View.setControlState(this.textControls[id],{visible:!0,value:""},state,View.textStateHandlers)},View.prototype.onItemStateChanged=function(){},View.prototype.setState=function(id,state){for(var _iterator17=this.stateSetters,_isArray17=Array.isArray(_iterator17),_i17=0,_iterator17=_isArray17?_iterator17:_iterator17[Symbol.iterator]();;){var _ref17;if(_isArray17){if(_i17>=_iterator17.length)break;_ref17=_iterator17[_i17++]}else{if(_i17=_iterator17.next(),_i17.done)break;_ref17=_i17.value}var item=_ref17;if(item.map[id]){item.setter(id,state),this.onItemStateChanged(id,state);break}}},View}();View.linkStateHandlers={visible:function(ctrl,value){return View.classProperty(ctrl,"hidden",!value)},active:function(ctrl,value){return View.classProperty(ctrl,"active",value)},enable:function(ctrl,value){return View.classProperty(ctrl,"disabled",!value)}},View.widgetStateHandlers={visible:function(ctrl,value){return View.classProperty(ctrl,"hidden",!value)},active:function(ctrl,value){return View.classProperty(ctrl,"active",value)},enable:function(ctrl,value){return View.classProperty(ctrl,"disabled",!value)}},View.inputStateHandlers={visible:function(ctrl,value){return View.classProperty(ctrl,"hidden",!value)},value:function(ctrl,_value){return ctrl[0].value=_value},enable:function(ctrl,value){return View.attributeProperty(ctrl,"disabled",!value)}},View.textStateHandlers={visible:function(ctrl,value){return View.classProperty(ctrl,"hidden",!value)},value:function(ctrl,_value2){return ctrl.text(_value2)}},exports.default=View},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_libs=__webpack_require__(0),_Orbit=__webpack_require__(56),_Orbit2=_interopRequireDefault(_Orbit),_ThreeMouseEventConverter=__webpack_require__(61),_ThreeMouseEventConverter2=_interopRequireDefault(_ThreeMouseEventConverter),_ThreeTouchEventConverter=__webpack_require__(62),_ThreeTouchEventConverter2=_interopRequireDefault(_ThreeTouchEventConverter),_Drag=__webpack_require__(48),_Drag2=_interopRequireDefault(_Drag),_CSS3DRenderer=__webpack_require__(12),_CSS3DRenderer2=_interopRequireDefault(_CSS3DRenderer),VisualWorld=function(_THREE$EventDispatche){function VisualWorld(wnd,doc,container){var useHelpers=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,VisualWorld);var _this=_possibleConstructorReturn(this,_THREE$EventDispatche.call(this));_this.checkUpdateFlag=!0,_this.wnd=wnd,_this.doc=doc,_this.jContainer=container,_this.renderCallbacks=[],_this.clock=new _libs.THREE.Clock,_this.raycaster=new _libs.THREE.Raycaster,_this.scene=new _libs.THREE.Scene,_this.cssScene=new _libs.THREE.Scene,_this.camera=new _libs.THREE.PerspectiveCamera(30,_this.width()/_this.height(),.2,2e3);_this.camera.position.x=0,_this.camera.position.y=27.5,_this.camera.position.z=0,_this.renderer=new _libs.THREE.WebGLRenderer({alpha:!0,antialias:!0}),_this.renderer.setClearColor(0,0),_this.renderer.setPixelRatio(_this.wnd.devicePixelRatio),_this.renderer.setSize(_this.width(),_this.height()),_this.jContainer.append(_this.renderer.domElement),_this.cssRenderer=new _CSS3DRenderer2.default,_this.cssRenderer.setSize(_this.width(),_this.height()),(0,_libs.$)(_this.cssRenderer.domElement).css({position:"absolute",top:0,margin:0,padding:0}),_this.jContainer.append(_this.cssRenderer.domElement),_this.element=_this.cssRenderer.domElement,_this.textureLoader=new _libs.THREE.TextureLoader,_this.scene.add(new _libs.THREE.AmbientLight(13684944)),_this.light=new _libs.THREE.DirectionalLight(4210752,1),_this.light.position.set(0,30,0),_this.light.castShadow=!1,_this.scene.add(_this.light),_this.controls=new _Orbit2.default(_this.camera,_this.element),_this.controls.target.y=.5;var cssScene=(0,_libs.$)(_this.cssRenderer.domElement).find("div"),tmpVector=new _libs.THREE.Vector3;_this.controls.addEventListener("change",function(){_this.camera.getWorldDirection(tmpVector),cssScene.css("display",tmpVector.y-_this.camera.position.y>0?"none":"block"),_this.updateThree()}),useHelpers&&_this.scene.add(new _libs.THREE.AxisHelper(5)),_this.binds={onWindowResize:_this.onWindowResize.bind(_this),animate:_this.animate.bind(_this)},(0,_libs.$)(_this.wnd).on("resize",_this.binds.onWindowResize),_this.mouseEvents=new _ThreeMouseEventConverter2.default(_this.wnd,_this.doc,_this),_this.touchEvents=new _ThreeTouchEventConverter2.default(_this.wnd,_this.doc,_this);var filterData={type:"mousemove"};return _this.mouseEvents.filter=function(element,e){var types=["mouseenter","mouseover","mouseleave","mouseout"],contains=function(p,c){return p===c||_libs.$.contains(p,c)};return"mousemove"===e.type&&(filterData.pageX=e.pageX,filterData.pageY=e.pageY),e.relatedTarget&&~types.indexOf(e.type)&&contains(element,e.target)&&contains(element,e.relatedTarget)?_extends({},e,filterData):e},_this.drag=new _Drag2.default(_this.wnd,_this.doc,_this),_this.onWindowResize(),_this.animate(),_this}return _inherits(VisualWorld,_THREE$EventDispatche),VisualWorld.prototype.updateThree=function(){this.light.userData.needsUpdate=!0},VisualWorld.prototype.dispose=function(){delete this.binds.animate,(0,_libs.$)(this.wnd).off("resize",this.binds.onWindowResize),this.mouseEvents.dispose(),this.touchEvents.dispose(),this.drag.dispose(),this.controls.dispose()},VisualWorld.prototype.width=function(){return this.jContainer.width()},VisualWorld.prototype.height=function(){return this.jContainer.height()},VisualWorld.prototype.setExtraLighting=function(v){this.light.intensity=v},VisualWorld.prototype.getOrbit=function(){return this.controls},VisualWorld.prototype.setControlsState=function(state){this.controls.enabled=state},VisualWorld.prototype.getControlsState=function(){return this.controls.enabled},VisualWorld.prototype.onWindowResize=function(){var _this2=this;if(this.width()>1&&this.height()>1){var updateRenderer=function(renderer){renderer.setSize(_this2.width(),_this2.height())};!function(camera){camera.aspect=_this2.width()/_this2.height(),camera.updateProjectionMatrix()}(this.camera),updateRenderer(this.renderer),updateRenderer(this.cssRenderer),this.updateThree(),this.dispatchEvent({type:"resize"})}else setTimeout(function(){_this2.onWindowResize()},250)},VisualWorld.prototype.addObject=function(object){this.scene.add(object)},VisualWorld.prototype.addCssObject=function(object){this.cssScene.add(object)},VisualWorld.prototype.removeCssObject=function(object){this.cssScene.remove(object)},VisualWorld.prototype.removeObject=function(object){this.scene.remove(object)},VisualWorld.prototype.animate=function(){this.binds.animate&&requestAnimationFrame(this.binds.animate),this.render()},VisualWorld.prototype.addRenderCallback=function(clb){this.renderCallbacks.push(clb)},VisualWorld.prototype.removeRenderCallback=function(clb){var i=this.renderCallbacks.indexOf(clb);~i&&this.renderCallbacks.splice(i,1)},VisualWorld.prototype.render=function(){var deltaTime=this.clock.getDelta();this.controls.update(deltaTime);for(var _iterator=this.renderCallbacks,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[Symbol.iterator]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++]}else{if(_i=_iterator.next(),_i.done)break;_ref=_i.value}_ref(deltaTime)}this.cssRenderer.render(this.cssScene,this.camera);var render=!0;if(this.checkUpdateFlag){render=!1;for(var _iterator2=this.scene.children,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[Symbol.iterator]();;){var _ref2;if(_isArray2){if(_i2>=_iterator2.length)break;_ref2=_iterator2[_i2++]}else{if(_i2=_iterator2.next(),_i2.done)break;_ref2=_i2.value}var o=_ref2;render=render||o.userData.needsUpdate,o.userData.needsUpdate=!1}}render&&this.renderer.render(this.scene,this.camera)},VisualWorld}(_libs.THREE.EventDispatcher);exports.default=VisualWorld},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _Controller2=__webpack_require__(15),_Controller3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Controller2),WidgetController=function(_Controller){function WidgetController(view){_classCallCheck(this,WidgetController);var _this=_possibleConstructorReturn(this,_Controller.call(this));return _this.view=view,_this.visible=!1,_this}return _inherits(WidgetController,_Controller),WidgetController.prototype.togle=function(){this.visible=!this.visible,this.fireChange()},WidgetController.prototype.hide=function(){this.visible=!1,this.fireChange()},WidgetController.prototype.fireChange=function(){this.onChange&&this.onChange(),this.updateView()},WidgetController.prototype.updateView=function(){this.view&&this.view.setState("widFloatWnd",{enable:!0,visible:this.visible,active:!1})},WidgetController}(_Controller3.default);exports.default=WidgetController},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _Target2=__webpack_require__(21),_Target3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Target2),CircleTarget=function(_Target){function CircleTarget(x,y,r){_classCallCheck(this,CircleTarget);var _this=_possibleConstructorReturn(this,_Target.call(this));return _this.p={x:x,y:y,r:r},_this}return _inherits(CircleTarget,_Target),CircleTarget.prototype.testIntersection=function(e,data){var res=void 0,x=data.x,y=data.y,p=this.p;return(x-p.x)*(x-p.x)+(y-p.y)*(y-p.y)<=p.r*p.r&&(res={target:this,data:data}),res},CircleTarget}(_Target3.default);exports.default=CircleTarget},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _Target2=__webpack_require__(21),_Target3=_interopRequireDefault(_Target2),_BaseMathUtils=__webpack_require__(2),_BaseMathUtils2=_interopRequireDefault(_BaseMathUtils),PolyTarget=function(_Target){function PolyTarget(poly){_classCallCheck(this,PolyTarget);var _this=_possibleConstructorReturn(this,_Target.call(this));return _this.poly=poly,_this}return _inherits(PolyTarget,_Target),PolyTarget.prototype.testIntersection=function(e,p){return _BaseMathUtils2.default.isInsidePoly(this.poly,p)?{target:this,data:p}:void 0},PolyTarget}(_Target3.default);exports.default=PolyTarget},function(module,exports,__webpack_require__){var define=!1;
!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):module.exports=factory}(function($){function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;if(event=$.event.fix(orgEvent),event.type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(deltaY=-1*orgEvent.deltaY,delta=deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX){if(1===orgEvent.deltaMode){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight,deltaY*=lineHeight,deltaX*=lineHeight}else if(2===orgEvent.deltaMode){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight,deltaY*=pageHeight,deltaX*=pageHeight}if(absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta,shouldAdjustOldDeltas(orgEvent,absDelta)&&(lowestDelta/=40)),shouldAdjustOldDeltas(orgEvent,absDelta)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left,offsetY=event.clientY-boundingRect.top}return event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120==0}var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})})},function(module,exports,__webpack_require__){!function(f,e){module.exports=e()}(0,function(){var f=function(){function e(a){return c.appendChild(a.dom),a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";l=a}var l=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",c.addEventListener("click",function(a){a.preventDefault(),u(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel("FPS","#0ff","#002")),h=e(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var t=e(new f.Panel("MB","#f08","#201"));return u(0),{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();if(h.update(c-k,200),c>g+1e3&&(r.update(1e3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};return f.Panel=function(e,f,l){var c=1/0,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement("canvas");q.width=r,q.height=h,q.style.cssText="width:80px;height:48px";var b=q.getContext("2d");return b.font="bold "+9*a+"px Helvetica,Arial,sans-serif",b.textBaseline="top",b.fillStyle=l,b.fillRect(0,0,r,h),b.fillStyle=f,b.fillText(e,t,v),b.fillRect(d,m,n,p),b.fillStyle=l,b.globalAlpha=.9,b.fillRect(d,m,n,p),{dom:q,update:function(h,w){c=Math.min(c,h),k=Math.max(k,h),b.fillStyle=l,b.globalAlpha=1,b.fillRect(0,0,r,m),b.fillStyle=f,b.fillText(g(h)+" "+e+" ("+g(c)+"-"+g(k)+")",t,v),b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p),b.fillRect(d+n-a,m,a,p),b.fillStyle=l,b.globalAlpha=.9,b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}},f})},function(module,exports,__webpack_require__){__webpack_require__(23),module.exports=__webpack_require__(22)}]);


/*
 *  Plugins - pdf.worker.js
 */
(function e(r,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t();else if(typeof define==="function"&&define.amd)define("pdfjs-dist/build/pdf.worker",[],t);else if(typeof exports==="object")exports["pdfjs-dist/build/pdf.worker"]=t();else r["pdfjs-dist/build/pdf.worker"]=r.pdfjsWorker=t()})(this,function(){return function(e){var r={};function t(a){if(r[a]){return r[a].exports}var n=r[a]={i:a,l:false,exports:{}};e[a].call(n.exports,n,n.exports,t);n.l=true;return n.exports}t.m=e;t.c=r;t.d=function(e,r,a){if(!t.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:a})}};t.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};t.t=function(e,r){if(r&1)e=t(e);if(r&8)return e;if(r&4&&typeof e==="object"&&e&&e.__esModule)return e;var a=Object.create(null);t.r(a);Object.defineProperty(a,"default",{enumerable:true,value:e});if(r&2&&typeof e!="string")for(var n in e)t.d(a,n,function(r){return e[r]}.bind(null,n));return a};t.n=function(e){var r=e&&e.__esModule?function r(){return e["default"]}:function r(){return e};t.d(r,"a",r);return r};t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)};t.p="";return t(t.s=0)}([function(e,r,t){"use strict";var a="2.3.200";var n="4ae3f9fc";var i=t(1);r.WorkerMessageHandler=i.WorkerMessageHandler},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.WorkerMessageHandler=r.WorkerTask=void 0;var a=f(t(2));var n=t(5);var i=t(183);var o=t(184);var s=f(t(8));var c=t(223);var l=t(224);var u=t(186);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,r){return g(e)||v(e,r)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(e,r){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var t=[];var a=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){t.push(s.value);if(r&&t.length===r)break}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(n)throw i}}return t}function g(e){if(Array.isArray(e))return e}function p(e,r,t,a,n,i,o){try{var s=e[i](o);var c=s.value}catch(e){t(e);return}if(s.done){r(c)}else{Promise.resolve(c).then(a,n)}}function m(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=e.apply(r,t);function o(e){p(i,a,n,o,s,"next",e)}function s(e){p(i,a,n,o,s,"throw",e)}o(undefined)})}}var b=function e(){function r(e){this.name=e;this.terminated=false;this._capability=(0,n.createPromiseCapability)()}r.prototype={get finished(){return this._capability.promise},finish:function e(){this._capability.resolve()},terminate:function e(){this.terminated=true},ensureNotTerminated:function e(){if(this.terminated){throw new Error("Worker task was terminated")}}};return r}();r.WorkerTask=b;var y={setup:function e(r,t){var a=false;r.on("test",function e(t){if(a){return}a=true;if(!(t instanceof Uint8Array)){r.send("test",null);return}var n=t[0]===255;r.postMessageTransfers=n;r.send("test",{supportTransfers:n})});r.on("configure",function e(r){(0,n.setVerbosityLevel)(r.verbosity)});r.on("GetDocRequest",function e(r){return y.createDocumentHandler(r,t)})},createDocumentHandler:function e(r,t){var s;var f=false;var d=null;var v=[];var g=(0,n.getVerbosityLevel)();var p=r.apiVersion;var y="2.3.200";if(p!==y){throw new Error('The API version "'.concat(p,'" does not match ')+'the Worker version "'.concat(y,'".'))}var w=r.docId;var k=r.docBaseUrl;var S=r.docId+"_worker";var x=new c.MessageHandler(S,w,t);x.postMessageTransfers=r.postMessageTransfers;function C(){if(f){throw new Error("Worker was terminated")}}function A(e){v.push(e)}function O(e){e.finish();var r=v.indexOf(e);v.splice(r,1)}function P(e){return I.apply(this,arguments)}function I(){I=m(a["default"].mark(function e(r){var t,n,i,o;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return s.ensureDoc("checkHeader");case 2:a.next=4;return s.ensureDoc("parseStartXRef");case 4:a.next=6;return s.ensureDoc("parse",[r]);case 6:if(r){a.next=9;break}a.next=9;return s.ensureDoc("checkFirstPage");case 9:a.next=11;return Promise.all([s.ensureDoc("numPages"),s.ensureDoc("fingerprint")]);case 11:t=a.sent;n=h(t,2);i=n[0];o=n[1];return a.abrupt("return",{numPages:i,fingerprint:o});case 16:case"end":return a.stop()}}},e)}));return I.apply(this,arguments)}function T(e,r){var t=(0,n.createPromiseCapability)();var a;var i=e.source;if(i.data){try{a=new o.LocalPdfManager(w,i.data,i.password,r,k);t.resolve(a)}catch(e){t.reject(e)}return t.promise}var s,c=[];try{s=new l.PDFWorkerStream(x)}catch(e){t.reject(e);return t.promise}var u=s.getFullReader();u.headersReady.then(function(){if(!u.isRangeSupported){return}var e=i.disableAutoFetch||u.isStreamingSupported;a=new o.NetworkPdfManager(w,s,{msgHandler:x,password:i.password,length:u.contentLength,disableAutoFetch:e,rangeChunkSize:i.rangeChunkSize},r,k);for(var n=0;n<c.length;n++){a.sendProgressiveData(c[n])}c=[];t.resolve(a);d=null})["catch"](function(e){t.reject(e);d=null});var f=0;var h=function e(){var s=(0,n.arraysToBytes)(c);if(i.length&&s.length!==i.length){(0,n.warn)("reported HTTP length is different from actual")}try{a=new o.LocalPdfManager(w,s,i.password,r,k);t.resolve(a)}catch(e){t.reject(e)}c=[]};var v=new Promise(function(e,r){var t=function e(t){try{C();if(t.done){if(!a){h()}d=null;return}var i=t.value;f+=(0,n.arrayByteLength)(i);if(!u.isStreamingSupported){x.send("DocProgress",{loaded:f,total:Math.max(f,u.contentLength||0)})}if(a){a.sendProgressiveData(i)}else{c.push(i)}u.read().then(e,r)}catch(e){r(e)}};u.read().then(t,r)});v["catch"](function(e){t.reject(e);d=null});d=function e(r){s.cancelAllRequests(r)};return t.promise}function E(e){function r(e){C();x.send("GetDoc",{pdfInfo:e})}function t(e){C();if(e instanceof n.PasswordException){var r=new b("PasswordException: response "+e.code);A(r);x.sendWithPromise("PasswordRequest",e).then(function(e){O(r);s.updatePassword(e.password);a()})["catch"](function(e){O(r);x.send("PasswordException",e)}.bind(null,e))}else if(e instanceof n.InvalidPDFException){x.send("InvalidPDF",e)}else if(e instanceof n.MissingPDFException){x.send("MissingPDF",e)}else if(e instanceof n.UnexpectedResponseException){x.send("UnexpectedResponse",e)}else{x.send("UnknownError",new n.UnknownErrorException(e.message,e.toString()))}}function a(){C();P(false).then(r,function e(a){C();if(!(a instanceof u.XRefParseException)){t(a);return}s.requestLoadedStream();s.onLoadedStream().then(function(){C();P(true).then(r,t)})},t)}C();var i={forceDataSchema:e.disableCreateObjectURL,maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported};T(e,i).then(function(e){if(f){e.terminate(new n.AbortException("Worker was terminated."));throw new Error("Worker was terminated")}s=e;s.onLoadedStream().then(function(e){x.send("DataLoaded",{length:e.bytes.byteLength})})}).then(a,t)}x.on("GetPage",function e(r){return s.getPage(r.pageIndex).then(function(e){return Promise.all([s.ensure(e,"rotate"),s.ensure(e,"ref"),s.ensure(e,"userUnit"),s.ensure(e,"view")]).then(function(e){var r=h(e,4),t=r[0],a=r[1],n=r[2],i=r[3];return{rotate:t,ref:a,userUnit:n,view:i}})})});x.on("GetPageIndex",function e(r){var t=i.Ref.get(r.ref.num,r.ref.gen);var a=s.pdfDocument.catalog;return a.getPageIndex(t)});x.on("GetDestinations",function e(r){return s.ensureCatalog("destinations")});x.on("GetDestination",function e(r){return s.ensureCatalog("getDestination",[r.id])});x.on("GetPageLabels",function e(r){return s.ensureCatalog("pageLabels")});x.on("GetPageLayout",function e(r){return s.ensureCatalog("pageLayout")});x.on("GetPageMode",function e(r){return s.ensureCatalog("pageMode")});x.on("GetViewerPreferences",function(e){return s.ensureCatalog("viewerPreferences")});x.on("GetOpenActionDestination",function(e){return s.ensureCatalog("openActionDestination")});x.on("GetAttachments",function e(r){return s.ensureCatalog("attachments")});x.on("GetJavaScript",function e(r){return s.ensureCatalog("javaScript")});x.on("GetOutline",function e(r){return s.ensureCatalog("documentOutline")});x.on("GetPermissions",function(e){return s.ensureCatalog("permissions")});x.on("GetMetadata",function e(r){return Promise.all([s.ensureDoc("documentInfo"),s.ensureCatalog("metadata")])});x.on("GetData",function e(r){s.requestLoadedStream();return s.onLoadedStream().then(function(e){return e.bytes})});x.on("GetStats",function e(r){return s.pdfDocument.xref.stats});x.on("GetAnnotations",function(e){var r=e.pageIndex,t=e.intent;return s.getPage(r).then(function(e){return e.getAnnotationsData(t)})});x.on("GetOperatorList",function e(r,t){var a=r.pageIndex;s.getPage(a).then(function(e){var i=new b("GetOperatorList: page ".concat(a));A(i);var o=g>=n.VerbosityLevel.INFOS?Date.now():0;e.getOperatorList({handler:x,sink:t,task:i,intent:r.intent,renderInteractiveForms:r.renderInteractiveForms}).then(function(e){O(i);if(o){(0,n.info)("page=".concat(a+1," - getOperatorList: time=")+"".concat(Date.now()-o,"ms, len=").concat(e.length))}t.close()},function(e){O(i);if(i.terminated){return}x.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.unknown});t.error(e)})})},this);x.on("GetTextContent",function e(r,t){var a=r.pageIndex;t.onPull=function(e){};t.onCancel=function(e){};s.getPage(a).then(function(e){var i=new b("GetTextContent: page "+a);A(i);var o=g>=n.VerbosityLevel.INFOS?Date.now():0;e.extractTextContent({handler:x,task:i,sink:t,normalizeWhitespace:r.normalizeWhitespace,combineTextItems:r.combineTextItems}).then(function(){O(i);if(o){(0,n.info)("page=".concat(a+1," - getTextContent: time=")+"".concat(Date.now()-o,"ms"))}t.close()},function(e){O(i);if(i.terminated){return}t.error(e)})})});x.on("FontFallback",function(e){return s.fontFallback(e.id,x)});x.on("Cleanup",function e(r){return s.cleanup()});x.on("Terminate",function e(r){f=true;if(s){s.terminate(new n.AbortException("Worker was terminated."));s=null}if(d){d(new n.AbortException("Worker was terminated."))}(0,i.clearPrimitiveCaches)();var t=[];v.forEach(function(e){t.push(e.finished);e.terminate()});return Promise.all(t).then(function(){x.destroy();x=null})});x.on("Ready",function e(t){E(r);r=null});return S},initializeFromPort:function e(r){var t=new c.MessageHandler("worker","main",r);y.setup(t,r);t.send("ready",null)}};r.WorkerMessageHandler=y;function w(e){return typeof e.postMessage==="function"&&"onmessage"in e}if(typeof window==="undefined"&&!(0,s["default"])()&&typeof self!=="undefined"&&w(self)){y.initializeFromPort(self)}},function(e,r,t){"use strict";e.exports=t(3)},function(e,r,t){"use strict";(function(e){function r(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){r=function e(r){return typeof r}}else{r=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return r(e)}var t=function(e){"use strict";var t=Object.prototype;var a=t.hasOwnProperty;var n;var i=typeof Symbol==="function"?Symbol:{};var o=i.iterator||"@@iterator";var s=i.asyncIterator||"@@asyncIterator";var c=i.toStringTag||"@@toStringTag";function l(e,r,t,a){var n=r&&r.prototype instanceof p?r:p;var i=Object.create(n.prototype);var o=new T(a||[]);i._invoke=A(e,t,o);return i}e.wrap=l;function u(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}var f="suspendedStart";var h="suspendedYield";var d="executing";var v="completed";var g={};function p(){}function m(){}function b(){}var y={};y[o]=function(){return this};var w=Object.getPrototypeOf;var k=w&&w(w(E([])));if(k&&k!==t&&a.call(k,o)){y=k}var S=b.prototype=p.prototype=Object.create(y);m.prototype=S.constructor=b;b.constructor=m;b[c]=m.displayName="GeneratorFunction";function x(e){["next","throw","return"].forEach(function(r){e[r]=function(e){return this._invoke(r,e)}})}e.isGeneratorFunction=function(e){var r=typeof e==="function"&&e.constructor;return r?r===m||(r.displayName||r.name)==="GeneratorFunction":false};e.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,b)}else{e.__proto__=b;if(!(c in e)){e[c]="GeneratorFunction"}}e.prototype=Object.create(S);return e};e.awrap=function(e){return{__await:e}};function C(e){function t(n,i,o,s){var c=u(e[n],e,i);if(c.type==="throw"){s(c.arg)}else{var l=c.arg;var f=l.value;if(f&&r(f)==="object"&&a.call(f,"__await")){return Promise.resolve(f.__await).then(function(e){t("next",e,o,s)},function(e){t("throw",e,o,s)})}return Promise.resolve(f).then(function(e){l.value=e;o(l)},function(e){return t("throw",e,o,s)})}}var n;function i(e,r){function a(){return new Promise(function(a,n){t(e,r,a,n)})}return n=n?n.then(a,a):a()}this._invoke=i}x(C.prototype);C.prototype[s]=function(){return this};e.AsyncIterator=C;e.async=function(r,t,a,n){var i=new C(l(r,t,a,n));return e.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})};function A(e,r,t){var a=f;return function n(i,o){if(a===d){throw new Error("Generator is already running")}if(a===v){if(i==="throw"){throw o}return F()}t.method=i;t.arg=o;while(true){var s=t.delegate;if(s){var c=O(s,t);if(c){if(c===g)continue;return c}}if(t.method==="next"){t.sent=t._sent=t.arg}else if(t.method==="throw"){if(a===f){a=v;throw t.arg}t.dispatchException(t.arg)}else if(t.method==="return"){t.abrupt("return",t.arg)}a=d;var l=u(e,r,t);if(l.type==="normal"){a=t.done?v:h;if(l.arg===g){continue}return{value:l.arg,done:t.done}}else if(l.type==="throw"){a=v;t.method="throw";t.arg=l.arg}}}}function O(e,r){var t=e.iterator[r.method];if(t===n){r.delegate=null;if(r.method==="throw"){if(e.iterator["return"]){r.method="return";r.arg=n;O(e,r);if(r.method==="throw"){return g}}r.method="throw";r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=u(t,e.iterator,r.arg);if(a.type==="throw"){r.method="throw";r.arg=a.arg;r.delegate=null;return g}var i=a.arg;if(!i){r.method="throw";r.arg=new TypeError("iterator result is not an object");r.delegate=null;return g}if(i.done){r[e.resultName]=i.value;r.next=e.nextLoc;if(r.method!=="return"){r.method="next";r.arg=n}}else{return i}r.delegate=null;return g}x(S);S[c]="Generator";S[o]=function(){return this};S.toString=function(){return"[object Generator]"};function P(e){var r={tryLoc:e[0]};if(1 in e){r.catchLoc=e[1]}if(2 in e){r.finallyLoc=e[2];r.afterLoc=e[3]}this.tryEntries.push(r)}function I(e){var r=e.completion||{};r.type="normal";delete r.arg;e.completion=r}function T(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(P,this);this.reset(true)}e.keys=function(e){var r=[];for(var t in e){r.push(t)}r.reverse();return function t(){while(r.length){var a=r.pop();if(a in e){t.value=a;t.done=false;return t}}t.done=true;return t}};function E(e){if(e){var r=e[o];if(r){return r.call(e)}if(typeof e.next==="function"){return e}if(!isNaN(e.length)){var t=-1,i=function r(){while(++t<e.length){if(a.call(e,t)){r.value=e[t];r.done=false;return r}}r.value=n;r.done=true;return r};return i.next=i}}return{next:F}}e.values=E;function F(){return{value:n,done:true}}T.prototype={constructor:T,reset:function e(r){this.prev=0;this.next=0;this.sent=this._sent=n;this.done=false;this.delegate=null;this.method="next";this.arg=n;this.tryEntries.forEach(I);if(!r){for(var t in this){if(t.charAt(0)==="t"&&a.call(this,t)&&!isNaN(+t.slice(1))){this[t]=n}}}},stop:function e(){this.done=true;var r=this.tryEntries[0];var t=r.completion;if(t.type==="throw"){throw t.arg}return this.rval},dispatchException:function e(r){if(this.done){throw r}var t=this;function i(e,a){c.type="throw";c.arg=r;t.next=e;if(a){t.method="next";t.arg=n}return!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];var c=s.completion;if(s.tryLoc==="root"){return i("end")}if(s.tryLoc<=this.prev){var l=a.call(s,"catchLoc");var u=a.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc){return i(s.catchLoc,true)}else if(this.prev<s.finallyLoc){return i(s.finallyLoc)}}else if(l){if(this.prev<s.catchLoc){return i(s.catchLoc,true)}}else if(u){if(this.prev<s.finallyLoc){return i(s.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function e(r,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}if(o&&(r==="break"||r==="continue")&&o.tryLoc<=t&&t<=o.finallyLoc){o=null}var s=o?o.completion:{};s.type=r;s.arg=t;if(o){this.method="next";this.next=o.finallyLoc;return g}return this.complete(s)},complete:function e(r,t){if(r.type==="throw"){throw r.arg}if(r.type==="break"||r.type==="continue"){this.next=r.arg}else if(r.type==="return"){this.rval=this.arg=r.arg;this.method="return";this.next="end"}else if(r.type==="normal"&&t){this.next=t}return g},finish:function e(r){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===r){this.complete(a.completion,a.afterLoc);I(a);return g}}},catch:function e(r){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===r){var n=a.completion;if(n.type==="throw"){var i=n.arg;I(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(r,t,a){this.delegate={iterator:E(r),resultName:t,nextLoc:a};if(this.method==="next"){this.arg=n}return g}};return e}((false?undefined:r(e))==="object"?e.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}).call(this,t(4)(e))},function(e,r,t){"use strict";e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function r(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function r(){return e.i}});e.webpackPolyfill=1}return e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.arrayByteLength=ae;r.arraysToBytes=ne;r.assert=j;r.bytesToString=re;r.createPromiseCapability=Ae;r.getVerbosityLevel=M;r.info=D;r.isArrayBuffer=Se;r.isArrayEqual=xe;r.isBool=ye;r.isEmptyObj=be;r.isNum=we;r.isString=ke;r.isSpace=Ce;r.isSameOrigin=q;r.createValidAbsoluteUrl=H;r.isLittleEndian=ue;r.isEvalSupported=fe;r.log2=oe;r.readInt8=se;r.readUint16=ce;r.readUint32=le;r.removeNullCharacters=ee;r.setVerbosityLevel=L;r.shadow=G;r.string32=ie;r.stringToBytes=te;r.stringToPDFString=ge;r.stringToUTF8String=pe;r.utf8StringToString=me;r.warn=N;r.unreachable=U;Object.defineProperty(r,"ReadableStream",{enumerable:true,get:function(){return a.ReadableStream}});r.createObjectURL=r.FormatError=r.Util=r.UnknownErrorException=r.UnexpectedResponseException=r.TextRenderingMode=r.StreamType=r.PermissionFlag=r.PasswordResponses=r.PasswordException=r.NativeImageDecoding=r.MissingPDFException=r.InvalidPDFException=r.AbortException=r.CMapCompressionType=r.ImageKind=r.FontType=r.AnnotationType=r.AnnotationStateModelType=r.AnnotationReviewState=r.AnnotationReplyType=r.AnnotationMarkedState=r.AnnotationFlag=r.AnnotationFieldFlag=r.AnnotationBorderStyleType=r.UNSUPPORTED_FEATURES=r.VerbosityLevel=r.OPS=r.IDENTITY_MATRIX=r.FONT_IDENTITY_MATRIX=r.BaseException=void 0;t(6);var a=t(181);function n(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function i(e,r,t){if(r)n(e.prototype,r);if(t)n(e,t);return e}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(r){return typeof r}}else{o=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return o(e)}function s(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function c(e,r){if(r&&(o(r)==="object"||typeof r==="function")){return r}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return u(e)}function f(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)h(e,r)}function h(e,r){h=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return h(e,r)}var d=[1,0,0,1,0,0];r.IDENTITY_MATRIX=d;var v=[.001,0,0,.001,0,0];r.FONT_IDENTITY_MATRIX=v;var g={NONE:"none",DECODE:"decode",DISPLAY:"display"};r.NativeImageDecoding=g;var p={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};r.PermissionFlag=p;var m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};r.TextRenderingMode=m;var b={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};r.ImageKind=b;var y={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};r.AnnotationType=y;var w={MARKED:"Marked",REVIEW:"Review"};r.AnnotationStateModelType=w;var k={MARKED:"Marked",UNMARKED:"Unmarked"};r.AnnotationMarkedState=k;var S={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};r.AnnotationReviewState=S;var x={GROUP:"Group",REPLY:"R"};r.AnnotationReplyType=x;var C={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};r.AnnotationFlag=C;var A={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};r.AnnotationFieldFlag=A;var O={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};r.AnnotationBorderStyleType=O;var P={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};r.StreamType=P;var I={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};r.FontType=I;var T={ERRORS:0,WARNINGS:1,INFOS:5};r.VerbosityLevel=T;var E={NONE:0,BINARY:1,STREAM:2};r.CMapCompressionType=E;var F={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};r.OPS=F;var B={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};r.UNSUPPORTED_FEATURES=B;var _={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};r.PasswordResponses=_;var R=T.WARNINGS;function L(e){if(Number.isInteger(e)){R=e}}function M(){return R}function D(e){if(R>=T.INFOS){console.log("Info: ".concat(e))}}function N(e){if(R>=T.WARNINGS){console.log("Warning: ".concat(e))}}function U(e){throw new Error(e)}function j(e,r){if(!e){U(r)}}function q(e,r){var t;try{t=new URL(e);if(!t.origin||t.origin==="null"){return false}}catch(e){return false}var a=new URL(r,t);return t.origin===a.origin}function z(e){if(!e){return false}switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return true;default:return false}}function H(e,r){if(!e){return null}try{var t=r?new URL(e,r):new URL(e);if(z(t)){return t}}catch(e){}return null}function G(e,r,t){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:false});return t}var W=function e(){function r(e){if(this.constructor===r){U("Cannot initialize BaseException.")}this.message=e;this.name=this.constructor.name}r.prototype=new Error;r.constructor=r;return r}();r.BaseException=W;var X=function(e){f(r,e);function r(e,t){var a;s(this,r);a=c(this,u(r).call(this,e));a.code=t;return a}return r}(W);r.PasswordException=X;var V=function(e){f(r,e);function r(e,t){var a;s(this,r);a=c(this,u(r).call(this,e));a.details=t;return a}return r}(W);r.UnknownErrorException=V;var K=function(e){f(r,e);function r(){s(this,r);return c(this,u(r).apply(this,arguments))}return r}(W);r.InvalidPDFException=K;var Y=function(e){f(r,e);function r(){s(this,r);return c(this,u(r).apply(this,arguments))}return r}(W);r.MissingPDFException=Y;var J=function(e){f(r,e);function r(e,t){var a;s(this,r);a=c(this,u(r).call(this,e));a.status=t;return a}return r}(W);r.UnexpectedResponseException=J;var Z=function(e){f(r,e);function r(){s(this,r);return c(this,u(r).apply(this,arguments))}return r}(W);r.FormatError=Z;var Q=function(e){f(r,e);function r(){s(this,r);return c(this,u(r).apply(this,arguments))}return r}(W);r.AbortException=Q;var $=/\x00/g;function ee(e){if(typeof e!=="string"){N("The argument for removeNullCharacters must be a string.");return e}return e.replace($,"")}function re(e){j(e!==null&&o(e)==="object"&&e.length!==undefined,"Invalid argument for bytesToString");var r=e.length;var t=8192;if(r<t){return String.fromCharCode.apply(null,e)}var a=[];for(var n=0;n<r;n+=t){var i=Math.min(n+t,r);var s=e.subarray(n,i);a.push(String.fromCharCode.apply(null,s))}return a.join("")}function te(e){j(typeof e==="string","Invalid argument for stringToBytes");var r=e.length;var t=new Uint8Array(r);for(var a=0;a<r;++a){t[a]=e.charCodeAt(a)&255}return t}function ae(e){if(e.length!==undefined){return e.length}j(e.byteLength!==undefined);return e.byteLength}function ne(e){var r=e.length;if(r===1&&e[0]instanceof Uint8Array){return e[0]}var t=0;for(var a=0;a<r;a++){t+=ae(e[a])}var n=0;var i=new Uint8Array(t);for(var o=0;o<r;o++){var s=e[o];if(!(s instanceof Uint8Array)){if(typeof s==="string"){s=te(s)}else{s=new Uint8Array(s)}}var c=s.byteLength;i.set(s,n);n+=c}return i}function ie(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function oe(e){if(e<=0){return 0}return Math.ceil(Math.log2(e))}function se(e,r){return e[r]<<24>>24}function ce(e,r){return e[r]<<8|e[r+1]}function le(e,r){return(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0}function ue(){var e=new Uint8Array(4);e[0]=1;var r=new Uint32Array(e.buffer,0,1);return r[0]===1}function fe(){try{new Function("");return true}catch(e){return false}}var he=["rgb(",0,",",0,",",0,")"];var de=function(){function e(){s(this,e)}i(e,null,[{key:"makeCssRgb",value:function e(r,t,a){he[1]=r;he[3]=t;he[5]=a;return he.join("")}},{key:"transform",value:function e(r,t){return[r[0]*t[0]+r[2]*t[1],r[1]*t[0]+r[3]*t[1],r[0]*t[2]+r[2]*t[3],r[1]*t[2]+r[3]*t[3],r[0]*t[4]+r[2]*t[5]+r[4],r[1]*t[4]+r[3]*t[5]+r[5]]}},{key:"applyTransform",value:function e(r,t){var a=r[0]*t[0]+r[1]*t[2]+t[4];var n=r[0]*t[1]+r[1]*t[3]+t[5];return[a,n]}},{key:"applyInverseTransform",value:function e(r,t){var a=t[0]*t[3]-t[1]*t[2];var n=(r[0]*t[3]-r[1]*t[2]+t[2]*t[5]-t[4]*t[3])/a;var i=(-r[0]*t[1]+r[1]*t[0]+t[4]*t[1]-t[5]*t[0])/a;return[n,i]}},{key:"getAxialAlignedBoundingBox",value:function r(t,a){var n=e.applyTransform(t,a);var i=e.applyTransform(t.slice(2,4),a);var o=e.applyTransform([t[0],t[3]],a);var s=e.applyTransform([t[2],t[1]],a);return[Math.min(n[0],i[0],o[0],s[0]),Math.min(n[1],i[1],o[1],s[1]),Math.max(n[0],i[0],o[0],s[0]),Math.max(n[1],i[1],o[1],s[1])]}},{key:"inverseTransform",value:function e(r){var t=r[0]*r[3]-r[1]*r[2];return[r[3]/t,-r[1]/t,-r[2]/t,r[0]/t,(r[2]*r[5]-r[4]*r[3])/t,(r[4]*r[1]-r[5]*r[0])/t]}},{key:"apply3dTransform",value:function e(r,t){return[r[0]*t[0]+r[1]*t[1]+r[2]*t[2],r[3]*t[0]+r[4]*t[1]+r[5]*t[2],r[6]*t[0]+r[7]*t[1]+r[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function e(r){var t=[r[0],r[2],r[1],r[3]];var a=r[0]*t[0]+r[1]*t[2];var n=r[0]*t[1]+r[1]*t[3];var i=r[2]*t[0]+r[3]*t[2];var o=r[2]*t[1]+r[3]*t[3];var s=(a+o)/2;var c=Math.sqrt((a+o)*(a+o)-4*(a*o-i*n))/2;var l=s+c||1;var u=s-c||1;return[Math.sqrt(l),Math.sqrt(u)]}},{key:"normalizeRect",value:function e(r){var t=r.slice(0);if(r[0]>r[2]){t[0]=r[2];t[2]=r[0]}if(r[1]>r[3]){t[1]=r[3];t[3]=r[1]}return t}},{key:"intersect",value:function r(t,a){function n(e,r){return e-r}var i=[t[0],t[2],a[0],a[2]].sort(n);var o=[t[1],t[3],a[1],a[3]].sort(n);var s=[];t=e.normalizeRect(t);a=e.normalizeRect(a);if(i[0]===t[0]&&i[1]===a[0]||i[0]===a[0]&&i[1]===t[0]){s[0]=i[1];s[2]=i[2]}else{return null}if(o[0]===t[1]&&o[1]===a[1]||o[0]===a[1]&&o[1]===t[1]){s[1]=o[1];s[3]=o[2]}else{return null}return s}}]);return e}();r.Util=de;var ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ge(e){var r=e.length,t=[];if(e[0]==="þ"&&e[1]==="ÿ"){for(var a=2;a<r;a+=2){t.push(String.fromCharCode(e.charCodeAt(a)<<8|e.charCodeAt(a+1)))}}else{for(var n=0;n<r;++n){var i=ve[e.charCodeAt(n)];t.push(i?String.fromCharCode(i):e.charAt(n))}}return t.join("")}function pe(e){return decodeURIComponent(escape(e))}function me(e){return unescape(encodeURIComponent(e))}function be(e){for(var r in e){return false}return true}function ye(e){return typeof e==="boolean"}function we(e){return typeof e==="number"}function ke(e){return typeof e==="string"}function Se(e){return o(e)==="object"&&e!==null&&e.byteLength!==undefined}function xe(e,r){if(e.length!==r.length){return false}return e.every(function(e,t){return e===r[t]})}function Ce(e){return e===32||e===9||e===13||e===10}function Ae(){var e=Object.create(null);var r=false;Object.defineProperty(e,"settled",{get:function e(){return r}});e.promise=new Promise(function(t,a){e.resolve=function(e){r=true;t(e)};e.reject=function(e){r=true;a(e)}});return e}var Oe=function e(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function e(t,a){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!n&&URL.createObjectURL){var i=new Blob([t],{type:a});return URL.createObjectURL(i)}var o="data:".concat(a,";base64,");for(var s=0,c=t.length;s<c;s+=3){var l=t[s]&255;var u=t[s+1]&255;var f=t[s+2]&255;var h=l>>2,d=(l&3)<<4|u>>4;var v=s+1<c?(u&15)<<2|f>>6:64;var g=s+2<c?f&63:64;o+=r[h]+r[d]+r[v]+r[g]}return o}}();r.createObjectURL=Oe},function(e,r,t){"use strict";function a(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function e(r){return typeof r}}else{a=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return a(e)}var n=t(7);if(!n._pdfjsCompatibilityChecked){n._pdfjsCompatibilityChecked=true;var i=t(8);var o=(typeof window==="undefined"?"undefined":a(window))==="object"&&(typeof document==="undefined"?"undefined":a(document))==="object";(function e(){if(n.btoa||!i()){return}n.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}})();(function e(){if(n.atob||!i()){return}n.atob=function(e){return Buffer.from(e,"base64").toString("binary")}})();(function e(){if(!o){return}if(typeof Element.prototype.remove!=="undefined"){return}Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}})();(function e(){if(!o||i()){return}var r=document.createElement("div");r.classList.add("testOne","testTwo");if(r.classList.contains("testOne")===true&&r.classList.contains("testTwo")===true){return}var t=DOMTokenList.prototype.add;var a=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++){r[a]=arguments[a]}for(var n=0,i=r;n<i.length;n++){var o=i[n];t.call(this,o)}};DOMTokenList.prototype.remove=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++){r[t]=arguments[t]}for(var n=0,i=r;n<i.length;n++){var o=i[n];a.call(this,o)}}})();(function e(){if(!o||i()){return}var r=document.createElement("div");if(r.classList.toggle("test",0)===false){return}DOMTokenList.prototype.toggle=function(e){var r=arguments.length>1?!!arguments[1]:!this.contains(e);return this[r?"add":"remove"](e),r}})();(function e(){if(String.prototype.startsWith){return}t(9)})();(function e(){if(String.prototype.endsWith){return}t(61)})();(function e(){if(String.prototype.includes){return}t(63)})();(function e(){if(Array.prototype.includes){return}t(65)})();(function e(){if(Array.from){return}t(72)})();(function e(){if(Object.assign){return}t(93)})();(function e(){if(Math.log2){return}Math.log2=t(96)})();(function e(){if(Number.isNaN){return}Number.isNaN=t(98)})();(function e(){if(Number.isInteger){return}Number.isInteger=t(100)})();(function e(){if(n.Promise&&n.Promise.prototype&&n.Promise.prototype["finally"]){return}n.Promise=t(103)})();(function e(){n.URL=t(125)})();(function e(){if(n.WeakMap){return}n.WeakMap=t(132)})();(function e(){if(n.WeakSet){return}n.WeakSet=t(142)})();(function e(){if(String.prototype.codePointAt){return}t(144)})();(function e(){if(String.fromCodePoint){return}String.fromCodePoint=t(146)})();(function e(){if(n.Symbol){return}t(148)})();(function e(){if(String.prototype.padStart){return}t(171)})();(function e(){if(String.prototype.padEnd){return}t(176)})();(function e(){if(Object.values){return}Object.values=t(178)})()}},function(e,r,t){"use strict";e.exports=typeof window!=="undefined"&&window.Math===Math?window:typeof global!=="undefined"&&global.Math===Math?global:typeof self!=="undefined"&&self.Math===Math?self:{}},function(e,r,t){"use strict";function a(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function e(r){return typeof r}}else{a=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return a(e)}e.exports=function e(){return(typeof process==="undefined"?"undefined":a(process))==="object"&&process+""==="[object process]"&&!process.versions["nw"]&&!process.versions["electron"]}},function(e,r,t){t(10);var a=t(58);e.exports=a("String","startsWith")},function(e,r,t){"use strict";var a=t(11);var n=t(47);var i=t(53);var o=t(21);var s=t(57);var c="".startsWith;var l=Math.min;a({target:"String",proto:true,forced:!s("startsWith")},{startsWith:function e(r){var t=String(o(this));i(r);var a=n(l(arguments.length>1?arguments[1]:undefined,t.length));var s=String(r);return c?c.call(t,s,a):t.slice(a,a+s.length)===s}})},function(e,r,t){var a=t(12);var n=t(13).f;var i=t(27);var o=t(30);var s=t(32);var c=t(40);var l=t(52);e.exports=function(e,r){var t=e.target;var u=e.global;var f=e.stat;var h,d,v,g,p,m;if(u){d=a}else if(f){d=a[t]||s(t,{})}else{d=(a[t]||{}).prototype}if(d)for(v in r){p=r[v];if(e.noTargetGet){m=n(d,v);g=m&&m.value}else g=d[v];h=l(u?v:t+(f?".":"#")+v,e.forced);if(!h&&g!==undefined){if(typeof p===typeof g)continue;c(p,g)}if(e.sham||g&&g.sham){i(p,"sham",true)}o(d,v,p,e)}}},function(e,r){var t="object";var a=function(e){return e&&e.Math==Math&&e};e.exports=a(typeof globalThis==t&&globalThis)||a(typeof window==t&&window)||a(typeof self==t&&self)||a(typeof global==t&&global)||Function("return this")()},function(e,r,t){var a=t(14);var n=t(16);var i=t(17);var o=t(18);var s=t(22);var c=t(24);var l=t(25);var u=Object.getOwnPropertyDescriptor;r.f=a?u:function e(r,t){r=o(r);t=s(t,true);if(l)try{return u(r,t)}catch(e){}if(c(r,t))return i(!n.f.call(r,t),r[t])}},function(e,r,t){var a=t(15);e.exports=!a(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,r){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,r,t){"use strict";var a={}.propertyIsEnumerable;var n=Object.getOwnPropertyDescriptor;var i=n&&!a.call({1:2},1);r.f=i?function e(r){var t=n(this,r);return!!t&&t.enumerable}:a},function(e,r){e.exports=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}},function(e,r,t){var a=t(19);var n=t(21);e.exports=function(e){return a(n(e))}},function(e,r,t){var a=t(15);var n=t(20);var i="".split;e.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return n(e)=="String"?i.call(e,""):Object(e)}:Object},function(e,r){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,r){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on "+e);return e}},function(e,r,t){var a=t(23);e.exports=function(e,r){if(!a(e))return e;var t,n;if(r&&typeof(t=e.toString)=="function"&&!a(n=t.call(e)))return n;if(typeof(t=e.valueOf)=="function"&&!a(n=t.call(e)))return n;if(!r&&typeof(t=e.toString)=="function"&&!a(n=t.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,r){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,r){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e,r,t){var a=t(14);var n=t(15);var i=t(26);e.exports=!a&&!n(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},function(e,r,t){var a=t(12);var n=t(23);var i=a.document;var o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,r,t){var a=t(14);var n=t(28);var i=t(17);e.exports=a?function(e,r,t){return n.f(e,r,i(1,t))}:function(e,r,t){e[r]=t;return e}},function(e,r,t){var a=t(14);var n=t(25);var i=t(29);var o=t(22);var s=Object.defineProperty;r.f=a?s:function e(r,t,a){i(r);t=o(t,true);i(a);if(n)try{return s(r,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");if("value"in a)r[t]=a.value;return r}},function(e,r,t){var a=t(23);e.exports=function(e){if(!a(e)){throw TypeError(String(e)+" is not an object")}return e}},function(e,r,t){var a=t(12);var n=t(31);var i=t(27);var o=t(24);var s=t(32);var c=t(34);var l=t(35);var u=l.get;var f=l.enforce;var h=String(c).split("toString");n("inspectSource",function(e){return c.call(e)});(e.exports=function(e,r,t,n){var c=n?!!n.unsafe:false;var l=n?!!n.enumerable:false;var u=n?!!n.noTargetGet:false;if(typeof t=="function"){if(typeof r=="string"&&!o(t,"name"))i(t,"name",r);f(t).source=h.join(typeof r=="string"?r:"")}if(e===a){if(l)e[r]=t;else s(r,t);return}else if(!c){delete e[r]}else if(!u&&e[r]){l=true}if(l)e[r]=t;else i(e,r,t)})(Function.prototype,"toString",function e(){return typeof this=="function"&&u(this).source||c.call(this)})},function(e,r,t){var a=t(12);var n=t(32);var i=t(33);var o="__core-js_shared__";var s=a[o]||n(o,{});(e.exports=function(e,r){return s[e]||(s[e]=r!==undefined?r:{})})("versions",[]).push({version:"3.2.1",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,r,t){var a=t(12);var n=t(27);e.exports=function(e,r){try{n(a,e,r)}catch(t){a[e]=r}return r}},function(e,r){e.exports=false},function(e,r,t){var a=t(31);e.exports=a("native-function-to-string",Function.toString)},function(e,r,t){var a=t(36);var n=t(12);var i=t(23);var o=t(27);var s=t(24);var c=t(37);var l=t(39);var u=n.WeakMap;var f,h,d;var v=function(e){return d(e)?h(e):f(e,{})};var g=function(e){return function(r){var t;if(!i(r)||(t=h(r)).type!==e){throw TypeError("Incompatible receiver, "+e+" required")}return t}};if(a){var p=new u;var m=p.get;var b=p.has;var y=p.set;f=function(e,r){y.call(p,e,r);return r};h=function(e){return m.call(p,e)||{}};d=function(e){return b.call(p,e)}}else{var w=c("state");l[w]=true;f=function(e,r){o(e,w,r);return r};h=function(e){return s(e,w)?e[w]:{}};d=function(e){return s(e,w)}}e.exports={set:f,get:h,has:d,enforce:v,getterFor:g}},function(e,r,t){var a=t(12);var n=t(34);var i=a.WeakMap;e.exports=typeof i==="function"&&/native code/.test(n.call(i))},function(e,r,t){var a=t(31);var n=t(38);var i=a("keys");e.exports=function(e){return i[e]||(i[e]=n(e))}},function(e,r){var t=0;var a=Math.random();e.exports=function(e){return"Symbol("+String(e===undefined?"":e)+")_"+(++t+a).toString(36)}},function(e,r){e.exports={}},function(e,r,t){var a=t(24);var n=t(41);var i=t(13);var o=t(28);e.exports=function(e,r){var t=n(r);var s=o.f;var c=i.f;for(var l=0;l<t.length;l++){var u=t[l];if(!a(e,u))s(e,u,c(r,u))}}},function(e,r,t){var a=t(42);var n=t(44);var i=t(51);var o=t(29);e.exports=a("Reflect","ownKeys")||function e(r){var t=n.f(o(r));var a=i.f;return a?t.concat(a(r)):t}},function(e,r,t){var a=t(43);var n=t(12);var i=function(e){return typeof e=="function"?e:undefined};e.exports=function(e,r){return arguments.length<2?i(a[e])||i(n[e]):a[e]&&a[e][r]||n[e]&&n[e][r]}},function(e,r,t){e.exports=t(12)},function(e,r,t){var a=t(45);var n=t(50);var i=n.concat("length","prototype");r.f=Object.getOwnPropertyNames||function e(r){return a(r,i)}},function(e,r,t){var a=t(24);var n=t(18);var i=t(46).indexOf;var o=t(39);e.exports=function(e,r){var t=n(e);var s=0;var c=[];var l;for(l in t)!a(o,l)&&a(t,l)&&c.push(l);while(r.length>s)if(a(t,l=r[s++])){~i(c,l)||c.push(l)}return c}},function(e,r,t){var a=t(18);var n=t(47);var i=t(49);var o=function(e){return function(r,t,o){var s=a(r);var c=n(s.length);var l=i(o,c);var u;if(e&&t!=t)while(c>l){u=s[l++];if(u!=u)return true}else for(;c>l;l++){if((e||l in s)&&s[l]===t)return e||l||0}return!e&&-1}};e.exports={includes:o(true),indexOf:o(false)}},function(e,r,t){var a=t(48);var n=Math.min;e.exports=function(e){return e>0?n(a(e),9007199254740991):0}},function(e,r){var t=Math.ceil;var a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:t)(e)}},function(e,r,t){var a=t(48);var n=Math.max;var i=Math.min;e.exports=function(e,r){var t=a(e);return t<0?n(t+r,0):i(t,r)}},function(e,r){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,r){r.f=Object.getOwnPropertySymbols},function(e,r,t){var a=t(15);var n=/#|\.prototype\./;var i=function(e,r){var t=s[o(e)];return t==l?true:t==c?false:typeof r=="function"?a(r):!!r};var o=i.normalize=function(e){return String(e).replace(n,".").toLowerCase()};var s=i.data={};var c=i.NATIVE="N";var l=i.POLYFILL="P";e.exports=i},function(e,r,t){var a=t(54);e.exports=function(e){if(a(e)){throw TypeError("The method doesn't accept regular expressions")}return e}},function(e,r,t){var a=t(23);var n=t(20);var i=t(55);var o=i("match");e.exports=function(e){var r;return a(e)&&((r=e[o])!==undefined?!!r:n(e)=="RegExp")}},function(e,r,t){var a=t(12);var n=t(31);var i=t(38);var o=t(56);var s=a.Symbol;var c=n("wks");e.exports=function(e){return c[e]||(c[e]=o&&s[e]||(o?s:i)("Symbol."+e))}},function(e,r,t){var a=t(15);e.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},function(e,r,t){var a=t(55);var n=a("match");e.exports=function(e){var r=/./;try{"/./"[e](r)}catch(t){try{r[n]=false;return"/./"[e](r)}catch(e){}}return false}},function(e,r,t){var a=t(12);var n=t(59);var i=Function.call;e.exports=function(e,r,t){return n(i,a[e].prototype[r],t)}},function(e,r,t){var a=t(60);e.exports=function(e,r,t){a(e);if(r===undefined)return e;switch(t){case 0:return function(){return e.call(r)};case 1:return function(t){return e.call(r,t)};case 2:return function(t,a){return e.call(r,t,a)};case 3:return function(t,a,n){return e.call(r,t,a,n)}}return function(){return e.apply(r,arguments)}}},function(e,r){e.exports=function(e){if(typeof e!="function"){throw TypeError(String(e)+" is not a function")}return e}},function(e,r,t){t(62);var a=t(58);e.exports=a("String","endsWith")},function(e,r,t){"use strict";var a=t(11);var n=t(47);var i=t(53);var o=t(21);var s=t(57);var c="".endsWith;var l=Math.min;a({target:"String",proto:true,forced:!s("endsWith")},{endsWith:function e(r){var t=String(o(this));i(r);var a=arguments.length>1?arguments[1]:undefined;var s=n(t.length);var u=a===undefined?s:l(n(a),s);var f=String(r);return c?c.call(t,f,u):t.slice(u-f.length,u)===f}})},function(e,r,t){t(64);var a=t(58);e.exports=a("String","includes")},function(e,r,t){"use strict";var a=t(11);var n=t(53);var i=t(21);var o=t(57);a({target:"String",proto:true,forced:!o("includes")},{includes:function e(r){return!!~String(i(this)).indexOf(n(r),arguments.length>1?arguments[1]:undefined)}})},function(e,r,t){t(66);var a=t(58);e.exports=a("Array","includes")},function(e,r,t){"use strict";var a=t(11);var n=t(46).includes;var i=t(67);a({target:"Array",proto:true},{includes:function e(r){return n(this,r,arguments.length>1?arguments[1]:undefined)}});i("includes")},function(e,r,t){var a=t(55);var n=t(68);var i=t(27);var o=a("unscopables");var s=Array.prototype;if(s[o]==undefined){i(s,o,n(null))}e.exports=function(e){s[o][e]=true}},function(e,r,t){var a=t(29);var n=t(69);var i=t(50);var o=t(39);var s=t(71);var c=t(26);var l=t(37);var u=l("IE_PROTO");var f="prototype";var h=function(){};var d=function(){var e=c("iframe");var r=i.length;var t="<";var a="script";var n=">";var o="java"+a+":";var l;e.style.display="none";s.appendChild(e);e.src=String(o);l=e.contentWindow.document;l.open();l.write(t+a+n+"document.F=Object"+t+"/"+a+n);l.close();d=l.F;while(r--)delete d[f][i[r]];return d()};e.exports=Object.create||function e(r,t){var i;if(r!==null){h[f]=a(r);i=new h;h[f]=null;i[u]=r}else i=d();return t===undefined?i:n(i,t)};o[u]=true},function(e,r,t){var a=t(14);var n=t(28);var i=t(29);var o=t(70);e.exports=a?Object.defineProperties:function e(r,t){i(r);var a=o(t);var s=a.length;var c=0;var l;while(s>c)n.f(r,l=a[c++],t[l]);return r}},function(e,r,t){var a=t(45);var n=t(50);e.exports=Object.keys||function e(r){return a(r,n)}},function(e,r,t){var a=t(42);e.exports=a("document","documentElement")},function(e,r,t){t(73);t(85);var a=t(43);e.exports=a.Array.from},function(e,r,t){"use strict";var a=t(74).charAt;var n=t(35);var i=t(75);var o="String Iterator";var s=n.set;var c=n.getterFor(o);i(String,"String",function(e){s(this,{type:o,string:String(e),index:0})},function e(){var r=c(this);var t=r.string;var n=r.index;var i;if(n>=t.length)return{value:undefined,done:true};i=a(t,n);r.index+=i.length;return{value:i,done:false}})},function(e,r,t){var a=t(48);var n=t(21);var i=function(e){return function(r,t){var i=String(n(r));var o=a(t);var s=i.length;var c,l;if(o<0||o>=s)return e?"":undefined;c=i.charCodeAt(o);return c<55296||c>56319||o+1===s||(l=i.charCodeAt(o+1))<56320||l>57343?e?i.charAt(o):c:e?i.slice(o,o+2):(c-55296<<10)+(l-56320)+65536}};e.exports={codeAt:i(false),charAt:i(true)}},function(e,r,t){"use strict";var a=t(11);var n=t(76);var i=t(78);var o=t(83);var s=t(81);var c=t(27);var l=t(30);var u=t(55);var f=t(33);var h=t(82);var d=t(77);var v=d.IteratorPrototype;var g=d.BUGGY_SAFARI_ITERATORS;var p=u("iterator");var m="keys";var b="values";var y="entries";var w=function(){return this};e.exports=function(e,r,t,u,d,k,S){n(t,r,u);var x=function(e){if(e===d&&I)return I;if(!g&&e in O)return O[e];switch(e){case m:return function r(){return new t(this,e)};case b:return function r(){return new t(this,e)};case y:return function r(){return new t(this,e)}}return function(){return new t(this)}};var C=r+" Iterator";var A=false;var O=e.prototype;var P=O[p]||O["@@iterator"]||d&&O[d];var I=!g&&P||x(d);var T=r=="Array"?O.entries||P:P;var E,F,B;if(T){E=i(T.call(new e));if(v!==Object.prototype&&E.next){if(!f&&i(E)!==v){if(o){o(E,v)}else if(typeof E[p]!="function"){c(E,p,w)}}s(E,C,true,true);if(f)h[C]=w}}if(d==b&&P&&P.name!==b){A=true;I=function e(){return P.call(this)}}if((!f||S)&&O[p]!==I){c(O,p,I)}h[r]=I;if(d){F={values:x(b),keys:k?I:x(m),entries:x(y)};if(S)for(B in F){if(g||A||!(B in O)){l(O,B,F[B])}}else a({target:r,proto:true,forced:g||A},F)}return F}},function(e,r,t){"use strict";var a=t(77).IteratorPrototype;var n=t(68);var i=t(17);var o=t(81);var s=t(82);var c=function(){return this};e.exports=function(e,r,t){var l=r+" Iterator";e.prototype=n(a,{next:i(1,t)});o(e,l,false,true);s[l]=c;return e}},function(e,r,t){"use strict";var a=t(78);var n=t(27);var i=t(24);var o=t(55);var s=t(33);var c=o("iterator");var l=false;var u=function(){return this};var f,h,d;if([].keys){d=[].keys();if(!("next"in d))l=true;else{h=a(a(d));if(h!==Object.prototype)f=h}}if(f==undefined)f={};if(!s&&!i(f,c))n(f,c,u);e.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:l}},function(e,r,t){var a=t(24);var n=t(79);var i=t(37);var o=t(80);var s=i("IE_PROTO");var c=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){e=n(e);if(a(e,s))return e[s];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?c:null}},function(e,r,t){var a=t(21);e.exports=function(e){return Object(a(e))}},function(e,r,t){var a=t(15);e.exports=!a(function(){function e(){}e.prototype.constructor=null;return Object.getPrototypeOf(new e)!==e.prototype})},function(e,r,t){var a=t(28).f;var n=t(24);var i=t(55);var o=i("toStringTag");e.exports=function(e,r,t){if(e&&!n(e=t?e:e.prototype,o)){a(e,o,{configurable:true,value:r})}}},function(e,r){e.exports={}},function(e,r,t){var a=t(29);var n=t(84);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=false;var r={};var t;try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;t.call(r,[]);e=r instanceof Array}catch(e){}return function r(i,o){a(i);n(o);if(e)t.call(i,o);else i.__proto__=o;return i}}():undefined)},function(e,r,t){var a=t(23);e.exports=function(e){if(!a(e)&&e!==null){throw TypeError("Can't set "+String(e)+" as a prototype")}return e}},function(e,r,t){var a=t(11);var n=t(86);var i=t(92);var o=!i(function(e){Array.from(e)});a({target:"Array",stat:true,forced:o},{from:n})},function(e,r,t){"use strict";var a=t(59);var n=t(79);var i=t(87);var o=t(88);var s=t(47);var c=t(89);var l=t(90);e.exports=function e(r){var t=n(r);var u=typeof this=="function"?this:Array;var f=arguments.length;var h=f>1?arguments[1]:undefined;var d=h!==undefined;var v=0;var g=l(t);var p,m,b,y;if(d)h=a(h,f>2?arguments[2]:undefined,2);if(g!=undefined&&!(u==Array&&o(g))){y=g.call(t);m=new u;for(;!(b=y.next()).done;v++){c(m,v,d?i(y,h,[b.value,v],true):b.value)}}else{p=s(t.length);m=new u(p);for(;p>v;v++){c(m,v,d?h(t[v],v):t[v])}}m.length=v;return m}},function(e,r,t){var a=t(29);e.exports=function(e,r,t,n){try{return n?r(a(t)[0],t[1]):r(t)}catch(r){var i=e["return"];if(i!==undefined)a(i.call(e));throw r}}},function(e,r,t){var a=t(55);var n=t(82);var i=a("iterator");var o=Array.prototype;e.exports=function(e){return e!==undefined&&(n.Array===e||o[i]===e)}},function(e,r,t){"use strict";var a=t(22);var n=t(28);var i=t(17);e.exports=function(e,r,t){var o=a(r);if(o in e)n.f(e,o,i(0,t));else e[o]=t}},function(e,r,t){var a=t(91);var n=t(82);var i=t(55);var o=i("iterator");e.exports=function(e){if(e!=undefined)return e[o]||e["@@iterator"]||n[a(e)]}},function(e,r,t){var a=t(20);var n=t(55);var i=n("toStringTag");var o=a(function(){return arguments}())=="Arguments";var s=function(e,r){try{return e[r]}catch(e){}};e.exports=function(e){var r,t,n;return e===undefined?"Undefined":e===null?"Null":typeof(t=s(r=Object(e),i))=="string"?t:o?a(r):(n=a(r))=="Object"&&typeof r.callee=="function"?"Arguments":n}},function(e,r,t){var a=t(55);var n=a("iterator");var i=false;try{var o=0;var s={next:function(){return{done:!!o++}},return:function(){i=true}};s[n]=function(){return this};Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,r){if(!r&&!i)return false;var t=false;try{var a={};a[n]=function(){return{next:function(){return{done:t=true}}}};e(a)}catch(e){}return t}},function(e,r,t){t(94);var a=t(43);e.exports=a.Object.assign},function(e,r,t){var a=t(11);var n=t(95);a({target:"Object",stat:true,forced:Object.assign!==n},{assign:n})},function(e,r,t){"use strict";var a=t(14);var n=t(15);var i=t(70);var o=t(51);var s=t(16);var c=t(79);var l=t(19);var u=Object.assign;e.exports=!u||n(function(){var e={};var r={};var t=Symbol();var a="abcdefghijklmnopqrst";e[t]=7;a.split("").forEach(function(e){r[e]=e});return u({},e)[t]!=7||i(u({},r)).join("")!=a})?function e(r,t){var n=c(r);var u=arguments.length;var f=1;var h=o.f;var d=s.f;while(u>f){var v=l(arguments[f++]);var g=h?i(v).concat(h(v)):i(v);var p=g.length;var m=0;var b;while(p>m){b=g[m++];if(!a||d.call(v,b))n[b]=v[b]}}return n}:u},function(e,r,t){t(97);var a=t(43);e.exports=a.Math.log2},function(e,r,t){var a=t(11);var n=Math.log;var i=Math.LN2;a({target:"Math",stat:true},{log2:function e(r){return n(r)/i}})},function(e,r,t){t(99);var a=t(43);e.exports=a.Number.isNaN},function(e,r,t){var a=t(11);a({target:"Number",stat:true},{isNaN:function e(r){return r!=r}})},function(e,r,t){t(101);var a=t(43);e.exports=a.Number.isInteger},function(e,r,t){var a=t(11);var n=t(102);a({target:"Number",stat:true},{isInteger:n})},function(e,r,t){var a=t(23);var n=Math.floor;e.exports=function e(r){return!a(r)&&isFinite(r)&&n(r)===r}},function(e,r,t){t(104);t(73);t(106);t(109);t(123);t(124);var a=t(43);e.exports=a.Promise},function(e,r,t){var a=t(30);var n=t(105);var i=Object.prototype;if(n!==i.toString){a(i,"toString",n,{unsafe:true})}},function(e,r,t){"use strict";var a=t(91);var n=t(55);var i=n("toStringTag");var o={};o[i]="z";e.exports=String(o)!=="[object z]"?function e(){return"[object "+a(this)+"]"}:o.toString},function(e,r,t){var a=t(12);var n=t(107);var i=t(108);var o=t(27);var s=t(55);var c=s("iterator");var l=s("toStringTag");var u=i.values;for(var f in n){var h=a[f];var d=h&&h.prototype;if(d){if(d[c]!==u)try{o(d,c,u)}catch(e){d[c]=u}if(!d[l])o(d,l,f);if(n[f])for(var v in i){if(d[v]!==i[v])try{o(d,v,i[v])}catch(e){d[v]=i[v]}}}}},function(e,r){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,r,t){"use strict";var a=t(18);var n=t(67);var i=t(82);var o=t(35);var s=t(75);var c="Array Iterator";var l=o.set;var u=o.getterFor(c);e.exports=s(Array,"Array",function(e,r){l(this,{type:c,target:a(e),index:0,kind:r})},function(){var e=u(this);var r=e.target;var t=e.kind;var a=e.index++;if(!r||a>=r.length){e.target=undefined;return{value:undefined,done:true}}if(t=="keys")return{value:a,done:false};if(t=="values")return{value:r[a],done:false};return{value:[a,r[a]],done:false}},"values");i.Arguments=i.Array;n("keys");n("values");n("entries")},function(e,r,t){"use strict";var a=t(11);var n=t(33);var i=t(12);var o=t(43);var s=t(110);var c=t(30);var l=t(111);var u=t(81);var f=t(112);var h=t(23);var d=t(60);var v=t(113);var g=t(20);var p=t(114);var m=t(92);var b=t(115);var y=t(116).set;var w=t(117);var k=t(119);var S=t(121);var x=t(120);var C=t(122);var A=t(118);var O=t(35);var P=t(52);var I=t(55);var T=I("species");var E="Promise";var F=O.get;var B=O.set;var _=O.getterFor(E);var R=s;var L=i.TypeError;var M=i.document;var D=i.process;var N=i.fetch;var U=D&&D.versions;var j=U&&U.v8||"";var q=x.f;var z=q;var H=g(D)=="process";var G=!!(M&&M.createEvent&&i.dispatchEvent);var W="unhandledrejection";var X="rejectionhandled";var V=0;var K=1;var Y=2;var J=1;var Z=2;var Q,$,ee,re;var te=P(E,function(){var e=R.resolve(1);var r=function(){};var t=(e.constructor={})[T]=function(e){e(r,r)};return!((H||typeof PromiseRejectionEvent=="function")&&(!n||e["finally"])&&e.then(r)instanceof t&&j.indexOf("6.6")!==0&&A.indexOf("Chrome/66")===-1)});var ae=te||!m(function(e){R.all(e)["catch"](function(){})});var ne=function(e){var r;return h(e)&&typeof(r=e.then)=="function"?r:false};var ie=function(e,r,t){if(r.notified)return;r.notified=true;var a=r.reactions;w(function(){var n=r.value;var i=r.state==K;var o=0;while(a.length>o){var s=a[o++];var c=i?s.ok:s.fail;var l=s.resolve;var u=s.reject;var f=s.domain;var h,d,v;try{if(c){if(!i){if(r.rejection===Z)le(e,r);r.rejection=J}if(c===true)h=n;else{if(f)f.enter();h=c(n);if(f){f.exit();v=true}}if(h===s.promise){u(L("Promise-chain cycle"))}else if(d=ne(h)){d.call(h,l,u)}else l(h)}else u(n)}catch(e){if(f&&!v)f.exit();u(e)}}r.reactions=[];r.notified=false;if(t&&!r.rejection)se(e,r)})};var oe=function(e,r,t){var a,n;if(G){a=M.createEvent("Event");a.promise=r;a.reason=t;a.initEvent(e,false,true);i.dispatchEvent(a)}else a={promise:r,reason:t};if(n=i["on"+e])n(a);else if(e===W)S("Unhandled promise rejection",t)};var se=function(e,r){y.call(i,function(){var t=r.value;var a=ce(r);var n;if(a){n=C(function(){if(H){D.emit("unhandledRejection",t,e)}else oe(W,e,t)});r.rejection=H||ce(r)?Z:J;if(n.error)throw n.value}})};var ce=function(e){return e.rejection!==J&&!e.parent};var le=function(e,r){y.call(i,function(){if(H){D.emit("rejectionHandled",e)}else oe(X,e,r.value)})};var ue=function(e,r,t,a){return function(n){e(r,t,n,a)}};var fe=function(e,r,t,a){if(r.done)return;r.done=true;if(a)r=a;r.value=t;r.state=Y;ie(e,r,true)};var he=function(e,r,t,a){if(r.done)return;r.done=true;if(a)r=a;try{if(e===t)throw L("Promise can't be resolved itself");var n=ne(t);if(n){w(function(){var a={done:false};try{n.call(t,ue(he,e,a,r),ue(fe,e,a,r))}catch(t){fe(e,a,t,r)}})}else{r.value=t;r.state=K;ie(e,r,false)}}catch(t){fe(e,{done:false},t,r)}};if(te){R=function e(r){v(this,R,E);d(r);Q.call(this);var t=F(this);try{r(ue(he,this,t),ue(fe,this,t))}catch(e){fe(this,t,e)}};Q=function e(r){B(this,{type:E,done:false,notified:false,parent:false,reactions:[],rejection:false,state:V,value:undefined})};Q.prototype=l(R.prototype,{then:function e(r,t){var a=_(this);var n=q(b(this,R));n.ok=typeof r=="function"?r:true;n.fail=typeof t=="function"&&t;n.domain=H?D.domain:undefined;a.parent=true;a.reactions.push(n);if(a.state!=V)ie(this,a,false);return n.promise},catch:function(e){return this.then(undefined,e)}});$=function(){var e=new Q;var r=F(e);this.promise=e;this.resolve=ue(he,e,r);this.reject=ue(fe,e,r)};x.f=q=function(e){return e===R||e===ee?new $(e):z(e)};if(!n&&typeof s=="function"){re=s.prototype.then;c(s.prototype,"then",function e(r,t){var a=this;return new R(function(e,r){re.call(a,e,r)}).then(r,t)});if(typeof N=="function")a({global:true,enumerable:true,forced:true},{fetch:function e(r){return k(R,N.apply(i,arguments))}})}}a({global:true,wrap:true,forced:te},{Promise:R});u(R,E,false,true);f(E);ee=o[E];a({target:E,stat:true,forced:te},{reject:function e(r){var t=q(this);t.reject.call(undefined,r);return t.promise}});a({target:E,stat:true,forced:n||te},{resolve:function e(r){return k(n&&this===ee?R:this,r)}});a({target:E,stat:true,forced:ae},{all:function e(r){var t=this;var a=q(t);var n=a.resolve;var i=a.reject;var o=C(function(){var e=d(t.resolve);var a=[];var o=0;var s=1;p(r,function(r){var c=o++;var l=false;a.push(undefined);s++;e.call(t,r).then(function(e){if(l)return;l=true;a[c]=e;--s||n(a)},i)});--s||n(a)});if(o.error)i(o.value);return a.promise},race:function e(r){var t=this;var a=q(t);var n=a.reject;var i=C(function(){var e=d(t.resolve);p(r,function(r){e.call(t,r).then(a.resolve,n)})});if(i.error)n(i.value);return a.promise}})},function(e,r,t){var a=t(12);e.exports=a.Promise},function(e,r,t){var a=t(30);e.exports=function(e,r,t){for(var n in r)a(e,n,r[n],t);return e}},function(e,r,t){"use strict";var a=t(42);var n=t(28);var i=t(55);var o=t(14);var s=i("species");e.exports=function(e){var r=a(e);var t=n.f;if(o&&r&&!r[s]){t(r,s,{configurable:true,get:function(){return this}})}}},function(e,r){e.exports=function(e,r,t){if(!(e instanceof r)){throw TypeError("Incorrect "+(t?t+" ":"")+"invocation")}return e}},function(e,r,t){var a=t(29);var n=t(88);var i=t(47);var o=t(59);var s=t(90);var c=t(87);var l=function(e,r){this.stopped=e;this.result=r};var u=e.exports=function(e,r,t,u,f){var h=o(r,t,u?2:1);var d,v,g,p,m,b;if(f){d=e}else{v=s(e);if(typeof v!="function")throw TypeError("Target is not iterable");if(n(v)){for(g=0,p=i(e.length);p>g;g++){m=u?h(a(b=e[g])[0],b[1]):h(e[g]);if(m&&m instanceof l)return m}return new l(false)}d=v.call(e)}while(!(b=d.next()).done){m=c(d,h,b.value,u);if(m&&m instanceof l)return m}return new l(false)};u.stop=function(e){return new l(true,e)}},function(e,r,t){var a=t(29);var n=t(60);var i=t(55);var o=i("species");e.exports=function(e,r){var t=a(e).constructor;var i;return t===undefined||(i=a(t)[o])==undefined?r:n(i)}},function(e,r,t){var a=t(12);var n=t(15);var i=t(20);var o=t(59);var s=t(71);var c=t(26);var l=a.location;var u=a.setImmediate;var f=a.clearImmediate;var h=a.process;var d=a.MessageChannel;var v=a.Dispatch;var g=0;var p={};var m="onreadystatechange";var b,y,w;var k=function(e){if(p.hasOwnProperty(e)){var r=p[e];delete p[e];r()}};var S=function(e){return function(){k(e)}};var x=function(e){k(e.data)};var C=function(e){a.postMessage(e+"",l.protocol+"//"+l.host)};if(!u||!f){u=function e(r){var t=[];var a=1;while(arguments.length>a)t.push(arguments[a++]);p[++g]=function(){(typeof r=="function"?r:Function(r)).apply(undefined,t)};b(g);return g};f=function e(r){delete p[r]};if(i(h)=="process"){b=function(e){h.nextTick(S(e))}}else if(v&&v.now){b=function(e){v.now(S(e))}}else if(d){y=new d;w=y.port2;y.port1.onmessage=x;b=o(w.postMessage,w,1)}else if(a.addEventListener&&typeof postMessage=="function"&&!a.importScripts&&!n(C)){b=C;a.addEventListener("message",x,false)}else if(m in c("script")){b=function(e){s.appendChild(c("script"))[m]=function(){s.removeChild(this);k(e)}}}else{b=function(e){setTimeout(S(e),0)}}}e.exports={set:u,clear:f}},function(e,r,t){var a=t(12);var n=t(13).f;var i=t(20);var o=t(116).set;var s=t(118);var c=a.MutationObserver||a.WebKitMutationObserver;var l=a.process;var u=a.Promise;var f=i(l)=="process";var h=n(a,"queueMicrotask");var d=h&&h.value;var v,g,p,m,b,y,w,k;if(!d){v=function(){var e,r;if(f&&(e=l.domain))e.exit();while(g){r=g.fn;g=g.next;try{r()}catch(e){if(g)m();else p=undefined;throw e}}p=undefined;if(e)e.enter()};if(f){m=function(){l.nextTick(v)}}else if(c&&!/(iphone|ipod|ipad).*applewebkit/i.test(s)){b=true;y=document.createTextNode("");new c(v).observe(y,{characterData:true});m=function(){y.data=b=!b}}else if(u&&u.resolve){w=u.resolve(undefined);k=w.then;m=function(){k.call(w,v)}}else{m=function(){o.call(a,v)}}}e.exports=d||function(e){var r={fn:e,next:undefined};if(p)p.next=r;if(!g){g=r;m()}p=r}},function(e,r,t){var a=t(42);e.exports=a("navigator","userAgent")||""},function(e,r,t){var a=t(29);var n=t(23);var i=t(120);e.exports=function(e,r){a(e);if(n(r)&&r.constructor===e)return r;var t=i.f(e);var o=t.resolve;o(r);return t.promise}},function(e,r,t){"use strict";var a=t(60);var n=function(e){var r,t;this.promise=new e(function(e,a){if(r!==undefined||t!==undefined)throw TypeError("Bad Promise constructor");r=e;t=a});this.resolve=a(r);this.reject=a(t)};e.exports.f=function(e){return new n(e)}},function(e,r,t){var a=t(12);e.exports=function(e,r){var t=a.console;if(t&&t.error){arguments.length===1?t.error(e):t.error(e,r)}}},function(e,r){e.exports=function(e){try{return{error:false,value:e()}}catch(e){return{error:true,value:e}}}},function(e,r,t){"use strict";var a=t(11);var n=t(60);var i=t(120);var o=t(122);var s=t(114);a({target:"Promise",stat:true},{allSettled:function e(r){var t=this;var a=i.f(t);var c=a.resolve;var l=a.reject;var u=o(function(){var e=n(t.resolve);var a=[];var i=0;var o=1;s(r,function(r){var n=i++;var s=false;a.push(undefined);o++;e.call(t,r).then(function(e){if(s)return;s=true;a[n]={status:"fulfilled",value:e};--o||c(a)},function(e){if(s)return;s=true;a[n]={status:"rejected",reason:e};--o||c(a)})});--o||c(a)});if(u.error)l(u.value);return a.promise}})},function(e,r,t){"use strict";var a=t(11);var n=t(33);var i=t(110);var o=t(42);var s=t(115);var c=t(119);var l=t(30);a({target:"Promise",proto:true,real:true},{finally:function(e){var r=s(this,o("Promise"));var t=typeof e=="function";return this.then(t?function(t){return c(r,e()).then(function(){return t})}:e,t?function(t){return c(r,e()).then(function(){throw t})}:e)}});if(!n&&typeof i=="function"&&!i.prototype["finally"]){l(i.prototype,"finally",o("Promise").prototype["finally"])}},function(e,r,t){t(126);t(131);t(129);var a=t(43);e.exports=a.URL},function(e,r,t){"use strict";t(73);var a=t(11);var n=t(14);var i=t(127);var o=t(12);var s=t(69);var c=t(30);var l=t(113);var u=t(24);var f=t(95);var h=t(86);var d=t(74).codeAt;var v=t(128);var g=t(81);var p=t(129);var m=t(35);var b=o.URL;var y=p.URLSearchParams;var w=p.getState;var k=m.set;var S=m.getterFor("URL");var x=Math.floor;var C=Math.pow;var A="Invalid authority";var O="Invalid scheme";var P="Invalid host";var I="Invalid port";var T=/[A-Za-z]/;var E=/[\d+\-.A-Za-z]/;var F=/\d/;var B=/^(0x|0X)/;var _=/^[0-7]+$/;var R=/^\d+$/;var L=/^[\dA-Fa-f]+$/;var M=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/;var D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/;var N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;var U=/[\u0009\u000A\u000D]/g;var j;var q=function(e,r){var t,a,n;if(r.charAt(0)=="["){if(r.charAt(r.length-1)!="]")return P;t=H(r.slice(1,-1));if(!t)return P;e.host=t}else if(!Q(e)){if(D.test(r))return P;t="";a=h(r);for(n=0;n<a.length;n++){t+=J(a[n],X)}e.host=t}else{r=v(r);if(M.test(r))return P;t=z(r);if(t===null)return P;e.host=t}};var z=function(e){var r=e.split(".");var t,a,n,i,o,s,c;if(r.length&&r[r.length-1]==""){r.pop()}t=r.length;if(t>4)return e;a=[];for(n=0;n<t;n++){i=r[n];if(i=="")return e;o=10;if(i.length>1&&i.charAt(0)=="0"){o=B.test(i)?16:8;i=i.slice(o==8?1:2)}if(i===""){s=0}else{if(!(o==10?R:o==8?_:L).test(i))return e;s=parseInt(i,o)}a.push(s)}for(n=0;n<t;n++){s=a[n];if(n==t-1){if(s>=C(256,5-t))return null}else if(s>255)return null}c=a.pop();for(n=0;n<a.length;n++){c+=a[n]*C(256,3-n)}return c};var H=function(e){var r=[0,0,0,0,0,0,0,0];var t=0;var a=null;var n=0;var i,o,s,c,l,u,f;var h=function(){return e.charAt(n)};if(h()==":"){if(e.charAt(1)!=":")return;n+=2;t++;a=t}while(h()){if(t==8)return;if(h()==":"){if(a!==null)return;n++;t++;a=t;continue}i=o=0;while(o<4&&L.test(h())){i=i*16+parseInt(h(),16);n++;o++}if(h()=="."){if(o==0)return;n-=o;if(t>6)return;s=0;while(h()){c=null;if(s>0){if(h()=="."&&s<4)n++;else return}if(!F.test(h()))return;while(F.test(h())){l=parseInt(h(),10);if(c===null)c=l;else if(c==0)return;else c=c*10+l;if(c>255)return;n++}r[t]=r[t]*256+c;s++;if(s==2||s==4)t++}if(s!=4)return;break}else if(h()==":"){n++;if(!h())return}else if(h())return;r[t++]=i}if(a!==null){u=t-a;t=7;while(t!=0&&u>0){f=r[t];r[t--]=r[a+u-1];r[a+--u]=f}}else if(t!=8)return;return r};var G=function(e){var r=null;var t=1;var a=null;var n=0;var i=0;for(;i<8;i++){if(e[i]!==0){if(n>t){r=a;t=n}a=null;n=0}else{if(a===null)a=i;++n}}if(n>t){r=a;t=n}return r};var W=function(e){var r,t,a,n;if(typeof e=="number"){r=[];for(t=0;t<4;t++){r.unshift(e%256);e=x(e/256)}return r.join(".")}else if(typeof e=="object"){r="";a=G(e);for(t=0;t<8;t++){if(n&&e[t]===0)continue;if(n)n=false;if(a===t){r+=t?":":"::";n=true}else{r+=e[t].toString(16);if(t<7)r+=":"}}return"["+r+"]"}return e};var X={};var V=f({},X,{" ":1,'"':1,"<":1,">":1,"`":1});var K=f({},V,{"#":1,"?":1,"{":1,"}":1});var Y=f({},K,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1});var J=function(e,r){var t=d(e,0);return t>32&&t<127&&!u(r,e)?e:encodeURIComponent(e)};var Z={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443};var Q=function(e){return u(Z,e.scheme)};var $=function(e){return e.username!=""||e.password!=""};var ee=function(e){return!e.host||e.cannotBeABaseURL||e.scheme=="file"};var re=function(e,r){var t;return e.length==2&&T.test(e.charAt(0))&&((t=e.charAt(1))==":"||!r&&t=="|")};var te=function(e){var r;return e.length>1&&re(e.slice(0,2))&&(e.length==2||((r=e.charAt(2))==="/"||r==="\\"||r==="?"||r==="#"))};var ae=function(e){var r=e.path;var t=r.length;if(t&&(e.scheme!="file"||t!=1||!re(r[0],true))){r.pop()}};var ne=function(e){return e==="."||e.toLowerCase()==="%2e"};var ie=function(e){e=e.toLowerCase();return e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"};var oe={};var se={};var ce={};var le={};var ue={};var fe={};var he={};var de={};var ve={};var ge={};var pe={};var me={};var be={};var ye={};var we={};var ke={};var Se={};var xe={};var Ce={};var Ae={};var Oe={};var Pe=function(e,r,t,a){var n=t||oe;var i=0;var o="";var s=false;var c=false;var l=false;var f,d,v,g;if(!t){e.scheme="";e.username="";e.password="";e.host=null;e.port=null;e.path=[];e.query=null;e.fragment=null;e.cannotBeABaseURL=false;r=r.replace(N,"")}r=r.replace(U,"");f=h(r);while(i<=f.length){d=f[i];switch(n){case oe:if(d&&T.test(d)){o+=d.toLowerCase();n=se}else if(!t){n=ce;continue}else return O;break;case se:if(d&&(E.test(d)||d=="+"||d=="-"||d==".")){o+=d.toLowerCase()}else if(d==":"){if(t&&(Q(e)!=u(Z,o)||o=="file"&&($(e)||e.port!==null)||e.scheme=="file"&&!e.host))return;e.scheme=o;if(t){if(Q(e)&&Z[e.scheme]==e.port)e.port=null;return}o="";if(e.scheme=="file"){n=ye}else if(Q(e)&&a&&a.scheme==e.scheme){n=le}else if(Q(e)){n=de}else if(f[i+1]=="/"){n=ue;i++}else{e.cannotBeABaseURL=true;e.path.push("");n=Ce}}else if(!t){o="";n=ce;i=0;continue}else return O;break;case ce:if(!a||a.cannotBeABaseURL&&d!="#")return O;if(a.cannotBeABaseURL&&d=="#"){e.scheme=a.scheme;e.path=a.path.slice();e.query=a.query;e.fragment="";e.cannotBeABaseURL=true;n=Oe;break}n=a.scheme=="file"?ye:fe;continue;case le:if(d=="/"&&f[i+1]=="/"){n=ve;i++}else{n=fe;continue}break;case ue:if(d=="/"){n=ge;break}else{n=xe;continue}case fe:e.scheme=a.scheme;if(d==j){e.username=a.username;e.password=a.password;e.host=a.host;e.port=a.port;e.path=a.path.slice();e.query=a.query}else if(d=="/"||d=="\\"&&Q(e)){n=he}else if(d=="?"){e.username=a.username;e.password=a.password;e.host=a.host;e.port=a.port;e.path=a.path.slice();e.query="";n=Ae}else if(d=="#"){e.username=a.username;e.password=a.password;e.host=a.host;e.port=a.port;e.path=a.path.slice();e.query=a.query;e.fragment="";n=Oe}else{e.username=a.username;e.password=a.password;e.host=a.host;e.port=a.port;e.path=a.path.slice();e.path.pop();n=xe;continue}break;case he:if(Q(e)&&(d=="/"||d=="\\")){n=ve}else if(d=="/"){n=ge}else{e.username=a.username;e.password=a.password;e.host=a.host;e.port=a.port;n=xe;continue}break;case de:n=ve;if(d!="/"||o.charAt(i+1)!="/")continue;i++;break;case ve:if(d!="/"&&d!="\\"){n=ge;continue}break;case ge:if(d=="@"){if(s)o="%40"+o;s=true;v=h(o);for(var p=0;p<v.length;p++){var m=v[p];if(m==":"&&!l){l=true;continue}var b=J(m,Y);if(l)e.password+=b;else e.username+=b}o=""}else if(d==j||d=="/"||d=="?"||d=="#"||d=="\\"&&Q(e)){if(s&&o=="")return A;i-=h(o).length+1;o="";n=pe}else o+=d;break;case pe:case me:if(t&&e.scheme=="file"){n=ke;continue}else if(d==":"&&!c){if(o=="")return P;g=q(e,o);if(g)return g;o="";n=be;if(t==me)return}else if(d==j||d=="/"||d=="?"||d=="#"||d=="\\"&&Q(e)){if(Q(e)&&o=="")return P;if(t&&o==""&&($(e)||e.port!==null))return;g=q(e,o);if(g)return g;o="";n=Se;if(t)return;continue}else{if(d=="[")c=true;else if(d=="]")c=false;o+=d}break;case be:if(F.test(d)){o+=d}else if(d==j||d=="/"||d=="?"||d=="#"||d=="\\"&&Q(e)||t){if(o!=""){var y=parseInt(o,10);if(y>65535)return I;e.port=Q(e)&&y===Z[e.scheme]?null:y;o=""}if(t)return;n=Se;continue}else return I;break;case ye:e.scheme="file";if(d=="/"||d=="\\")n=we;else if(a&&a.scheme=="file"){if(d==j){e.host=a.host;e.path=a.path.slice();e.query=a.query}else if(d=="?"){e.host=a.host;e.path=a.path.slice();e.query="";n=Ae}else if(d=="#"){e.host=a.host;e.path=a.path.slice();e.query=a.query;e.fragment="";n=Oe}else{if(!te(f.slice(i).join(""))){e.host=a.host;e.path=a.path.slice();ae(e)}n=xe;continue}}else{n=xe;continue}break;case we:if(d=="/"||d=="\\"){n=ke;break}if(a&&a.scheme=="file"&&!te(f.slice(i).join(""))){if(re(a.path[0],true))e.path.push(a.path[0]);else e.host=a.host}n=xe;continue;case ke:if(d==j||d=="/"||d=="\\"||d=="?"||d=="#"){if(!t&&re(o)){n=xe}else if(o==""){e.host="";if(t)return;n=Se}else{g=q(e,o);if(g)return g;if(e.host=="localhost")e.host="";if(t)return;o="";n=Se}continue}else o+=d;break;case Se:if(Q(e)){n=xe;if(d!="/"&&d!="\\")continue}else if(!t&&d=="?"){e.query="";n=Ae}else if(!t&&d=="#"){e.fragment="";n=Oe}else if(d!=j){n=xe;if(d!="/")continue}break;case xe:if(d==j||d=="/"||d=="\\"&&Q(e)||!t&&(d=="?"||d=="#")){if(ie(o)){ae(e);if(d!="/"&&!(d=="\\"&&Q(e))){e.path.push("")}}else if(ne(o)){if(d!="/"&&!(d=="\\"&&Q(e))){e.path.push("")}}else{if(e.scheme=="file"&&!e.path.length&&re(o)){if(e.host)e.host="";o=o.charAt(0)+":"}e.path.push(o)}o="";if(e.scheme=="file"&&(d==j||d=="?"||d=="#")){while(e.path.length>1&&e.path[0]===""){e.path.shift()}}if(d=="?"){e.query="";n=Ae}else if(d=="#"){e.fragment="";n=Oe}}else{o+=J(d,K)}break;case Ce:if(d=="?"){e.query="";n=Ae}else if(d=="#"){e.fragment="";n=Oe}else if(d!=j){e.path[0]+=J(d,X)}break;case Ae:if(!t&&d=="#"){e.fragment="";n=Oe}else if(d!=j){if(d=="'"&&Q(e))e.query+="%27";else if(d=="#")e.query+="%23";else e.query+=J(d,X)}break;case Oe:if(d!=j)e.fragment+=J(d,V);break}i++}};var Ie=function e(r){var t=l(this,Ie,"URL");var a=arguments.length>1?arguments[1]:undefined;var i=String(r);var o=k(t,{type:"URL"});var s,c;if(a!==undefined){if(a instanceof Ie)s=S(a);else{c=Pe(s={},String(a));if(c)throw TypeError(c)}}c=Pe(o,i,null,s);if(c)throw TypeError(c);var u=o.searchParams=new y;var f=w(u);f.updateSearchParams(o.query);f.updateURL=function(){o.query=String(u)||null};if(!n){t.href=Ee.call(t);t.origin=Fe.call(t);t.protocol=Be.call(t);t.username=_e.call(t);t.password=Re.call(t);t.host=Le.call(t);t.hostname=Me.call(t);t.port=De.call(t);t.pathname=Ne.call(t);t.search=Ue.call(t);t.searchParams=je.call(t);t.hash=qe.call(t)}};var Te=Ie.prototype;var Ee=function(){var e=S(this);var r=e.scheme;var t=e.username;var a=e.password;var n=e.host;var i=e.port;var o=e.path;var s=e.query;var c=e.fragment;var l=r+":";if(n!==null){l+="//";if($(e)){l+=t+(a?":"+a:"")+"@"}l+=W(n);if(i!==null)l+=":"+i}else if(r=="file")l+="//";l+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"";if(s!==null)l+="?"+s;if(c!==null)l+="#"+c;return l};var Fe=function(){var e=S(this);var r=e.scheme;var t=e.port;if(r=="blob")try{return new URL(r.path[0]).origin}catch(e){return"null"}if(r=="file"||!Q(e))return"null";return r+"://"+W(e.host)+(t!==null?":"+t:"")};var Be=function(){return S(this).scheme+":"};var _e=function(){return S(this).username};var Re=function(){return S(this).password};var Le=function(){var e=S(this);var r=e.host;var t=e.port;return r===null?"":t===null?W(r):W(r)+":"+t};var Me=function(){var e=S(this).host;return e===null?"":W(e)};var De=function(){var e=S(this).port;return e===null?"":String(e)};var Ne=function(){var e=S(this);var r=e.path;return e.cannotBeABaseURL?r[0]:r.length?"/"+r.join("/"):""};var Ue=function(){var e=S(this).query;return e?"?"+e:""};var je=function(){return S(this).searchParams};var qe=function(){var e=S(this).fragment;return e?"#"+e:""};var ze=function(e,r){return{get:e,set:r,configurable:true,enumerable:true}};if(n){s(Te,{href:ze(Ee,function(e){var r=S(this);var t=String(e);var a=Pe(r,t);if(a)throw TypeError(a);w(r.searchParams).updateSearchParams(r.query)}),origin:ze(Fe),protocol:ze(Be,function(e){var r=S(this);Pe(r,String(e)+":",oe)}),username:ze(_e,function(e){var r=S(this);var t=h(String(e));if(ee(r))return;r.username="";for(var a=0;a<t.length;a++){r.username+=J(t[a],Y)}}),password:ze(Re,function(e){var r=S(this);var t=h(String(e));if(ee(r))return;r.password="";for(var a=0;a<t.length;a++){r.password+=J(t[a],Y)}}),host:ze(Le,function(e){var r=S(this);if(r.cannotBeABaseURL)return;Pe(r,String(e),pe)}),hostname:ze(Me,function(e){var r=S(this);if(r.cannotBeABaseURL)return;Pe(r,String(e),me)}),port:ze(De,function(e){var r=S(this);if(ee(r))return;e=String(e);if(e=="")r.port=null;else Pe(r,e,be)}),pathname:ze(Ne,function(e){var r=S(this);if(r.cannotBeABaseURL)return;r.path=[];Pe(r,e+"",Se)}),search:ze(Ue,function(e){var r=S(this);e=String(e);if(e==""){r.query=null}else{if("?"==e.charAt(0))e=e.slice(1);r.query="";Pe(r,e,Ae)}w(r.searchParams).updateSearchParams(r.query)}),searchParams:ze(je),hash:ze(qe,function(e){var r=S(this);e=String(e);if(e==""){r.fragment=null;return}if("#"==e.charAt(0))e=e.slice(1);r.fragment="";Pe(r,e,Oe)})})}c(Te,"toJSON",function e(){return Ee.call(this)},{enumerable:true});c(Te,"toString",function e(){return Ee.call(this)},{enumerable:true});if(b){var He=b.createObjectURL;var Ge=b.revokeObjectURL;if(He)c(Ie,"createObjectURL",function e(r){return He.apply(b,arguments)});if(Ge)c(Ie,"revokeObjectURL",function e(r){return Ge.apply(b,arguments)})}g(Ie,"URL");a({global:true,forced:!i,sham:!n},{URL:Ie})},function(e,r,t){var a=t(15);var n=t(55);var i=t(33);var o=n("iterator");e.exports=!a(function(){var e=new URL("b?e=1","http://a");var r=e.searchParams;e.pathname="c%20d";return i&&!e.toJSON||!r.sort||e.href!=="http://a/c%20d?e=1"||r.get("e")!=="1"||String(new URLSearchParams("?a=1"))!=="a=1"||!r[o]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"})},function(e,r,t){"use strict";var a=2147483647;var n=36;var i=1;var o=26;var s=38;var c=700;var l=72;var u=128;var f="-";var h=/[^\0-\u007E]/;var d=/[.\u3002\uFF0E\uFF61]/g;var v="Overflow: input needs wider integers to process";var g=n-i;var p=Math.floor;var m=String.fromCharCode;var b=function(e){var r=[];var t=0;var a=e.length;while(t<a){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<a){var i=e.charCodeAt(t++);if((i&64512)==56320){r.push(((n&1023)<<10)+(i&1023)+65536)}else{r.push(n);t--}}else{r.push(n)}}return r};var y=function(e){return e+22+75*(e<26)};var w=function(e,r,t){var a=0;e=t?p(e/c):e>>1;e+=p(e/r);for(;e>g*o>>1;a+=n){e=p(e/g)}return p(a+(g+1)*e/(e+s))};var k=function(e){var r=[];e=b(e);var t=e.length;var s=u;var c=0;var h=l;var d,g;for(d=0;d<e.length;d++){g=e[d];if(g<128){r.push(m(g))}}var k=r.length;var S=k;if(k){r.push(f)}while(S<t){var x=a;for(d=0;d<e.length;d++){g=e[d];if(g>=s&&g<x){x=g}}var C=S+1;if(x-s>p((a-c)/C)){throw RangeError(v)}c+=(x-s)*C;s=x;for(d=0;d<e.length;d++){g=e[d];if(g<s&&++c>a){throw RangeError(v)}if(g==s){var A=c;for(var O=n;;O+=n){var P=O<=h?i:O>=h+o?o:O-h;if(A<P)break;var I=A-P;var T=n-P;r.push(m(y(P+I%T)));A=p(I/T)}r.push(m(y(A)));h=w(c,C,S==k);c=0;++S}}++c;++s}return r.join("")};e.exports=function(e){var r=[];var t=e.toLowerCase().replace(d,".").split(".");var a,n;for(a=0;a<t.length;a++){n=t[a];r.push(h.test(n)?"xn--"+k(n):n)}return r.join(".")}},function(e,r,t){"use strict";t(108);var a=t(11);var n=t(127);var i=t(30);var o=t(111);var s=t(81);var c=t(76);var l=t(35);var u=t(113);var f=t(24);var h=t(59);var d=t(29);var v=t(23);var g=t(130);var p=t(90);var m=t(55);var b=m("iterator");var y="URLSearchParams";var w=y+"Iterator";var k=l.set;var S=l.getterFor(y);var x=l.getterFor(w);var C=/\+/g;var A=Array(4);var O=function(e){return A[e-1]||(A[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))};var P=function(e){try{return decodeURIComponent(e)}catch(r){return e}};var I=function(e){var r=e.replace(C," ");var t=4;try{return decodeURIComponent(r)}catch(e){while(t){r=r.replace(O(t--),P)}return r}};var T=/[!'()~]|%20/g;var E={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"};var F=function(e){return E[e]};var B=function(e){return encodeURIComponent(e).replace(T,F)};var _=function(e,r){if(r){var t=r.split("&");var a=0;var n,i;while(a<t.length){n=t[a++];if(n.length){i=n.split("=");e.push({key:I(i.shift()),value:I(i.join("="))})}}}};var R=function(e){this.entries.length=0;_(this.entries,e)};var L=function(e,r){if(e<r)throw TypeError("Not enough arguments")};var M=c(function e(r,t){k(this,{type:w,iterator:g(S(r).entries),kind:t})},"Iterator",function e(){var r=x(this);var t=r.kind;var a=r.iterator.next();var n=a.value;if(!a.done){a.value=t==="keys"?n.key:t==="values"?n.value:[n.key,n.value]}return a});var D=function e(){u(this,D,y);var r=arguments.length>0?arguments[0]:undefined;var t=this;var a=[];var n,i,o,s,c,l,h;k(t,{type:y,entries:a,updateURL:function(){},updateSearchParams:R});if(r!==undefined){if(v(r)){n=p(r);if(typeof n==="function"){i=n.call(r);while(!(o=i.next()).done){s=g(d(o.value));if((c=s.next()).done||(l=s.next()).done||!s.next().done)throw TypeError("Expected sequence with length 2");a.push({key:c.value+"",value:l.value+""})}}else for(h in r)if(f(r,h))a.push({key:h,value:r[h]+""})}else{_(a,typeof r==="string"?r.charAt(0)==="?"?r.slice(1):r:r+"")}}};var N=D.prototype;o(N,{append:function e(r,t){L(arguments.length,2);var a=S(this);a.entries.push({key:r+"",value:t+""});a.updateURL()},delete:function(e){L(arguments.length,1);var r=S(this);var t=r.entries;var a=e+"";var n=0;while(n<t.length){if(t[n].key===a)t.splice(n,1);else n++}r.updateURL()},get:function e(r){L(arguments.length,1);var t=S(this).entries;var a=r+"";var n=0;for(;n<t.length;n++){if(t[n].key===a)return t[n].value}return null},getAll:function e(r){L(arguments.length,1);var t=S(this).entries;var a=r+"";var n=[];var i=0;for(;i<t.length;i++){if(t[i].key===a)n.push(t[i].value)}return n},has:function e(r){L(arguments.length,1);var t=S(this).entries;var a=r+"";var n=0;while(n<t.length){if(t[n++].key===a)return true}return false},set:function e(r,t){L(arguments.length,1);var a=S(this);var n=a.entries;var i=false;var o=r+"";var s=t+"";var c=0;var l;for(;c<n.length;c++){l=n[c];if(l.key===o){if(i)n.splice(c--,1);else{i=true;l.value=s}}}if(!i)n.push({key:o,value:s});a.updateURL()},sort:function e(){var r=S(this);var t=r.entries;var a=t.slice();var n,i,o;t.length=0;for(o=0;o<a.length;o++){n=a[o];for(i=0;i<o;i++){if(t[i].key>n.key){t.splice(i,0,n);break}}if(i===o)t.push(n)}r.updateURL()},forEach:function e(r){var t=S(this).entries;var a=h(r,arguments.length>1?arguments[1]:undefined,3);var n=0;var i;while(n<t.length){i=t[n++];a(i.value,i.key,this)}},keys:function e(){return new M(this,"keys")},values:function e(){return new M(this,"values")},entries:function e(){return new M(this,"entries")}},{enumerable:true});i(N,b,N.entries);i(N,"toString",function e(){var r=S(this).entries;var t=[];var a=0;var n;while(a<r.length){n=r[a++];t.push(B(n.key)+"="+B(n.value))}return t.join("&")},{enumerable:true});s(D,y);a({global:true,forced:!n},{URLSearchParams:D});e.exports={URLSearchParams:D,getState:S}},function(e,r,t){var a=t(29);var n=t(90);e.exports=function(e){var r=n(e);if(typeof r!="function"){throw TypeError(String(e)+" is not iterable")}return a(r.call(e))}},function(e,r,t){"use strict";var a=t(11);a({target:"URL",proto:true,enumerable:true},{toJSON:function e(){return URL.prototype.toString.call(this)}})},function(e,r,t){t(104);t(133);t(106);var a=t(43);e.exports=a.WeakMap},function(e,r,t){"use strict";var a=t(12);var n=t(111);var i=t(134);var o=t(136);var s=t(138);var c=t(23);var l=t(35).enforce;var u=t(36);var f=!a.ActiveXObject&&"ActiveXObject"in a;var h=Object.isExtensible;var d;var v=function(e){return function r(){return e(this,arguments.length?arguments[0]:undefined)}};var g=e.exports=o("WeakMap",v,s,true,true);if(u&&f){d=s.getConstructor(v,"WeakMap",true);i.REQUIRED=true;var p=g.prototype;var m=p["delete"];var b=p.has;var y=p.get;var w=p.set;n(p,{delete:function(e){if(c(e)&&!h(e)){var r=l(this);if(!r.frozen)r.frozen=new d;return m.call(this,e)||r.frozen["delete"](e)}return m.call(this,e)},has:function e(r){if(c(r)&&!h(r)){var t=l(this);if(!t.frozen)t.frozen=new d;return b.call(this,r)||t.frozen.has(r)}return b.call(this,r)},get:function e(r){if(c(r)&&!h(r)){var t=l(this);if(!t.frozen)t.frozen=new d;return b.call(this,r)?y.call(this,r):t.frozen.get(r)}return y.call(this,r)},set:function e(r,t){if(c(r)&&!h(r)){var a=l(this);if(!a.frozen)a.frozen=new d;b.call(this,r)?w.call(this,r,t):a.frozen.set(r,t)}else w.call(this,r,t);return this}})}},function(e,r,t){var a=t(39);var n=t(23);var i=t(24);var o=t(28).f;var s=t(38);var c=t(135);var l=s("meta");var u=0;var f=Object.isExtensible||function(){return true};var h=function(e){o(e,l,{value:{objectID:"O"+ ++u,weakData:{}}})};var d=function(e,r){if(!n(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!i(e,l)){if(!f(e))return"F";if(!r)return"E";h(e)}return e[l].objectID};var v=function(e,r){if(!i(e,l)){if(!f(e))return true;if(!r)return false;h(e)}return e[l].weakData};var g=function(e){if(c&&p.REQUIRED&&f(e)&&!i(e,l))h(e);return e};var p=e.exports={REQUIRED:false,fastKey:d,getWeakData:v,onFreeze:g};a[l]=true},function(e,r,t){var a=t(15);e.exports=!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,r,t){"use strict";var a=t(11);var n=t(12);var i=t(52);var o=t(30);var s=t(134);var c=t(114);var l=t(113);var u=t(23);var f=t(15);var h=t(92);var d=t(81);var v=t(137);e.exports=function(e,r,t,g,p){var m=n[e];var b=m&&m.prototype;var y=m;var w=g?"set":"add";var k={};var S=function(e){var r=b[e];o(b,e,e=="add"?function e(t){r.call(this,t===0?0:t);return this}:e=="delete"?function(e){return p&&!u(e)?false:r.call(this,e===0?0:e)}:e=="get"?function e(t){return p&&!u(t)?undefined:r.call(this,t===0?0:t)}:e=="has"?function e(t){return p&&!u(t)?false:r.call(this,t===0?0:t)}:function e(t,a){r.call(this,t===0?0:t,a);return this})};if(i(e,typeof m!="function"||!(p||b.forEach&&!f(function(){(new m).entries().next()})))){y=t.getConstructor(r,e,g,w);s.REQUIRED=true}else if(i(e,true)){var x=new y;var C=x[w](p?{}:-0,1)!=x;var A=f(function(){x.has(1)});var O=h(function(e){new m(e)});var P=!p&&f(function(){var e=new m;var r=5;while(r--)e[w](r,r);return!e.has(-0)});if(!O){y=r(function(r,t){l(r,y,e);var a=v(new m,r,y);if(t!=undefined)c(t,a[w],a,g);return a});y.prototype=b;b.constructor=y}if(A||P){S("delete");S("has");g&&S("get")}if(P||C)S(w);if(p&&b.clear)delete b.clear}k[e]=y;a({global:true,forced:y!=m},k);d(y,e);if(!p)t.setStrong(y,e,g);return y}},function(e,r,t){var a=t(23);var n=t(83);e.exports=function(e,r,t){var i,o;if(n&&typeof(i=r.constructor)=="function"&&i!==t&&a(o=i.prototype)&&o!==t.prototype)n(e,o);return e}},function(e,r,t){"use strict";var a=t(111);var n=t(134).getWeakData;var i=t(29);var o=t(23);var s=t(113);var c=t(114);var l=t(139);var u=t(24);var f=t(35);var h=f.set;var d=f.getterFor;var v=l.find;var g=l.findIndex;var p=0;var m=function(e){return e.frozen||(e.frozen=new b)};var b=function(){this.entries=[]};var y=function(e,r){return v(e.entries,function(e){return e[0]===r})};b.prototype={get:function(e){var r=y(this,e);if(r)return r[1]},has:function(e){return!!y(this,e)},set:function(e,r){var t=y(this,e);if(t)t[1]=r;else this.entries.push([e,r])},delete:function(e){var r=g(this.entries,function(r){return r[0]===e});if(~r)this.entries.splice(r,1);return!!~r}};e.exports={getConstructor:function(e,r,t,l){var f=e(function(e,a){s(e,f,r);h(e,{type:r,id:p++,frozen:undefined});if(a!=undefined)c(a,e[l],e,t)});var v=d(r);var g=function(e,r,t){var a=v(e);var o=n(i(r),true);if(o===true)m(a).set(r,t);else o[a.id]=t;return e};a(f.prototype,{delete:function(e){var r=v(this);if(!o(e))return false;var t=n(e);if(t===true)return m(r)["delete"](e);return t&&u(t,r.id)&&delete t[r.id]},has:function e(r){var t=v(this);if(!o(r))return false;var a=n(r);if(a===true)return m(t).has(r);return a&&u(a,t.id)}});a(f.prototype,t?{get:function e(r){var t=v(this);if(o(r)){var a=n(r);if(a===true)return m(t).get(r);return a?a[t.id]:undefined}},set:function e(r,t){return g(this,r,t)}}:{add:function e(r){return g(this,r,true)}});return f}}},function(e,r,t){var a=t(59);var n=t(19);var i=t(79);var o=t(47);var s=t(140);var c=[].push;var l=function(e){var r=e==1;var t=e==2;var l=e==3;var u=e==4;var f=e==6;var h=e==5||f;return function(d,v,g,p){var m=i(d);var b=n(m);var y=a(v,g,3);var w=o(b.length);var k=0;var S=p||s;var x=r?S(d,w):t?S(d,0):undefined;var C,A;for(;w>k;k++)if(h||k in b){C=b[k];A=y(C,k,m);if(e){if(r)x[k]=A;else if(A)switch(e){case 3:return true;case 5:return C;case 6:return k;case 2:c.call(x,C)}else if(u)return false}}return f?-1:l||u?u:x}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(e,r,t){var a=t(23);var n=t(141);var i=t(55);var o=i("species");e.exports=function(e,r){var t;if(n(e)){t=e.constructor;if(typeof t=="function"&&(t===Array||n(t.prototype)))t=undefined;else if(a(t)){t=t[o];if(t===null)t=undefined}}return new(t===undefined?Array:t)(r===0?0:r)}},function(e,r,t){var a=t(20);e.exports=Array.isArray||function e(r){return a(r)=="Array"}},function(e,r,t){t(104);t(143);t(106);var a=t(43);e.exports=a.WeakSet},function(e,r,t){"use strict";var a=t(136);var n=t(138);a("WeakSet",function(e){return function r(){return e(this,arguments.length?arguments[0]:undefined)}},n,false,true)},function(e,r,t){t(145);var a=t(58);e.exports=a("String","codePointAt")},function(e,r,t){"use strict";var a=t(11);var n=t(74).codeAt;a({target:"String",proto:true},{codePointAt:function e(r){return n(this,r)}})},function(e,r,t){t(147);var a=t(43);e.exports=a.String.fromCodePoint},function(e,r,t){var a=t(11);var n=t(49);var i=String.fromCharCode;var o=String.fromCodePoint;var s=!!o&&o.length!=1;a({target:"String",stat:true,forced:s},{fromCodePoint:function e(r){var t=[];var a=arguments.length;var o=0;var s;while(a>o){s=+arguments[o++];if(n(s,1114111)!==s)throw RangeError(s+" is not a valid code point");t.push(s<65536?i(s):i(((s-=65536)>>10)+55296,s%1024+56320))}return t.join("")}})},function(e,r,t){t(149);t(104);t(151);t(155);t(156);t(157);t(158);t(159);t(160);t(161);t(162);t(163);t(164);t(165);t(166);t(167);t(168);t(169);t(170);var a=t(43);e.exports=a.Symbol},function(e,r,t){"use strict";var a=t(11);var n=t(15);var i=t(141);var o=t(23);var s=t(79);var c=t(47);var l=t(89);var u=t(140);var f=t(150);var h=t(55);var d=h("isConcatSpreadable");var v=9007199254740991;var g="Maximum allowed index exceeded";var p=!n(function(){var e=[];e[d]=false;return e.concat()[0]!==e});var m=f("concat");var b=function(e){if(!o(e))return false;var r=e[d];return r!==undefined?!!r:i(e)};var y=!p||!m;a({target:"Array",proto:true,forced:y},{concat:function e(r){var t=s(this);var a=u(t,0);var n=0;var i,o,f,h,d;for(i=-1,f=arguments.length;i<f;i++){d=i===-1?t:arguments[i];if(b(d)){h=c(d.length);if(n+h>v)throw TypeError(g);for(o=0;o<h;o++,n++)if(o in d)l(a,n,d[o])}else{if(n>=v)throw TypeError(g);l(a,n++,d)}}a.length=n;return a}})},function(e,r,t){var a=t(15);var n=t(55);var i=n("species");e.exports=function(e){return!a(function(){var r=[];var t=r.constructor={};t[i]=function(){return{foo:1}};return r[e](Boolean).foo!==1})}},function(e,r,t){"use strict";var a=t(11);var n=t(12);var i=t(33);var o=t(14);var s=t(56);var c=t(15);var l=t(24);var u=t(141);var f=t(23);var h=t(29);var d=t(79);var v=t(18);var g=t(22);var p=t(17);var m=t(68);var b=t(70);var y=t(44);var w=t(152);var k=t(51);var S=t(13);var x=t(28);var C=t(16);var A=t(27);var O=t(30);var P=t(31);var I=t(37);var T=t(39);var E=t(38);var F=t(55);var B=t(153);var _=t(154);var R=t(81);var L=t(35);var M=t(139).forEach;var D=I("hidden");var N="Symbol";var U="prototype";var j=F("toPrimitive");var q=L.set;var z=L.getterFor(N);var H=Object[U];var G=n.Symbol;var W=n.JSON;var X=W&&W.stringify;var V=S.f;var K=x.f;var Y=w.f;var J=C.f;var Z=P("symbols");var Q=P("op-symbols");var $=P("string-to-symbol-registry");var ee=P("symbol-to-string-registry");var re=P("wks");var te=n.QObject;var ae=!te||!te[U]||!te[U].findChild;var ne=o&&c(function(){return m(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a!=7})?function(e,r,t){var a=V(H,r);if(a)delete H[r];K(e,r,t);if(a&&e!==H){K(H,r,a)}}:K;var ie=function(e,r){var t=Z[e]=m(G[U]);q(t,{type:N,tag:e,description:r});if(!o)t.description=r;return t};var oe=s&&typeof G.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return Object(e)instanceof G};var se=function e(r,t,a){if(r===H)se(Q,t,a);h(r);var n=g(t,true);h(a);if(l(Z,n)){if(!a.enumerable){if(!l(r,D))K(r,D,p(1,{}));r[D][n]=true}else{if(l(r,D)&&r[D][n])r[D][n]=false;a=m(a,{enumerable:p(0,false)})}return ne(r,n,a)}return K(r,n,a)};var ce=function e(r,t){h(r);var a=v(t);var n=b(a).concat(de(a));M(n,function(e){if(!o||ue.call(a,e))se(r,e,a[e])});return r};var le=function e(r,t){return t===undefined?m(r):ce(m(r),t)};var ue=function e(r){var t=g(r,true);var a=J.call(this,t);if(this===H&&l(Z,t)&&!l(Q,t))return false;return a||!l(this,t)||!l(Z,t)||l(this,D)&&this[D][t]?a:true};var fe=function e(r,t){var a=v(r);var n=g(t,true);if(a===H&&l(Z,n)&&!l(Q,n))return;var i=V(a,n);if(i&&l(Z,n)&&!(l(a,D)&&a[D][n])){i.enumerable=true}return i};var he=function e(r){var t=Y(v(r));var a=[];M(t,function(e){if(!l(Z,e)&&!l(T,e))a.push(e)});return a};var de=function e(r){var t=r===H;var a=Y(t?Q:v(r));var n=[];M(a,function(e){if(l(Z,e)&&(!t||l(H,e))){n.push(Z[e])}});return n};if(!s){G=function e(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var r=!arguments.length||arguments[0]===undefined?undefined:String(arguments[0]);var t=E(r);var a=function(e){if(this===H)a.call(Q,e);if(l(this,D)&&l(this[D],t))this[D][t]=false;ne(this,t,p(1,e))};if(o&&ae)ne(H,t,{configurable:true,set:a});return ie(t,r)};O(G[U],"toString",function e(){return z(this).tag});C.f=ue;x.f=se;S.f=fe;y.f=w.f=he;k.f=de;if(o){K(G[U],"description",{configurable:true,get:function e(){return z(this).description}});if(!i){O(H,"propertyIsEnumerable",ue,{unsafe:true})}}B.f=function(e){return ie(F(e),e)}}a({global:true,wrap:true,forced:!s,sham:!s},{Symbol:G});M(b(re),function(e){_(e)});a({target:N,stat:true,forced:!s},{for:function(e){var r=String(e);if(l($,r))return $[r];var t=G(r);$[r]=t;ee[t]=r;return t},keyFor:function e(r){if(!oe(r))throw TypeError(r+" is not a symbol");if(l(ee,r))return ee[r]},useSetter:function(){ae=true},useSimple:function(){ae=false}});a({target:"Object",stat:true,forced:!s,sham:!o},{create:le,defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:fe});a({target:"Object",stat:true,forced:!s},{getOwnPropertyNames:he,getOwnPropertySymbols:de});a({target:"Object",stat:true,forced:c(function(){k.f(1)})},{getOwnPropertySymbols:function e(r){return k.f(d(r))}});W&&a({target:"JSON",stat:true,forced:!s||c(function(){var e=G();return X([e])!="[null]"||X({a:e})!="{}"||X(Object(e))!="{}"})},{stringify:function e(r){var t=[r];var a=1;var n,i;while(arguments.length>a)t.push(arguments[a++]);i=n=t[1];if(!f(n)&&r===undefined||oe(r))return;if(!u(n))n=function(e,r){if(typeof i=="function")r=i.call(this,e,r);if(!oe(r))return r};t[1]=n;return X.apply(W,t)}});if(!G[U][j])A(G[U],j,G[U].valueOf);R(G,N);T[D]=true},function(e,r,t){var a=t(18);var n=t(44).f;var i={}.toString;var o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return n(e)}catch(e){return o.slice()}};e.exports.f=function e(r){return o&&i.call(r)=="[object Window]"?s(r):n(a(r))}},function(e,r,t){r.f=t(55)},function(e,r,t){var a=t(43);var n=t(24);var i=t(153);var o=t(28).f;e.exports=function(e){var r=a.Symbol||(a.Symbol={});if(!n(r,e))o(r,e,{value:i.f(e)})}},function(e,r,t){var a=t(154);a("asyncIterator")},function(e,r,t){"use strict";var a=t(11);var n=t(14);var i=t(12);var o=t(24);var s=t(23);var c=t(28).f;var l=t(40);var u=i.Symbol;if(n&&typeof u=="function"&&(!("description"in u.prototype)||u().description!==undefined)){var f={};var h=function e(){var r=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]);var t=this instanceof h?new u(r):r===undefined?u():u(r);if(r==="")f[t]=true;return t};l(h,u);var d=h.prototype=u.prototype;d.constructor=h;var v=d.toString;var g=String(u("test"))=="Symbol(test)";var p=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:true,get:function e(){var r=s(this)?this.valueOf():this;var t=v.call(r);if(o(f,r))return"";var a=g?t.slice(7,-1):t.replace(p,"$1");return a===""?undefined:a}});a({global:true,forced:true},{Symbol:h})}},function(e,r,t){var a=t(154);a("hasInstance")},function(e,r,t){var a=t(154);a("isConcatSpreadable")},function(e,r,t){var a=t(154);a("iterator")},function(e,r,t){var a=t(154);a("match")},function(e,r,t){var a=t(154);a("matchAll")},function(e,r,t){var a=t(154);a("replace")},function(e,r,t){var a=t(154);a("search")},function(e,r,t){var a=t(154);a("species")},function(e,r,t){var a=t(154);a("split")},function(e,r,t){var a=t(154);a("toPrimitive")},function(e,r,t){var a=t(154);a("toStringTag")},function(e,r,t){var a=t(154);a("unscopables")},function(e,r,t){var a=t(81);a(Math,"Math",true)},function(e,r,t){var a=t(12);var n=t(81);n(a.JSON,"JSON",true)},function(e,r,t){t(172);var a=t(58);e.exports=a("String","padStart")},function(e,r,t){"use strict";var a=t(11);var n=t(173).start;var i=t(175);a({target:"String",proto:true,forced:i},{padStart:function e(r){return n(this,r,arguments.length>1?arguments[1]:undefined)}})},function(e,r,t){var a=t(47);var n=t(174);var i=t(21);var o=Math.ceil;var s=function(e){return function(r,t,s){var c=String(i(r));var l=c.length;var u=s===undefined?" ":String(s);var f=a(t);var h,d;if(f<=l||u=="")return c;h=f-l;d=n.call(u,o(h/u.length));if(d.length>h)d=d.slice(0,h);return e?c+d:d+c}};e.exports={start:s(false),end:s(true)}},function(e,r,t){"use strict";var a=t(48);var n=t(21);e.exports="".repeat||function e(r){var t=String(n(this));var i="";var o=a(r);if(o<0||o==Infinity)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))if(o&1)i+=t;return i}},function(e,r,t){var a=t(118);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},function(e,r,t){t(177);var a=t(58);e.exports=a("String","padEnd")},function(e,r,t){"use strict";var a=t(11);var n=t(173).end;var i=t(175);a({target:"String",proto:true,forced:i},{padEnd:function e(r){return n(this,r,arguments.length>1?arguments[1]:undefined)}})},function(e,r,t){t(179);var a=t(43);e.exports=a.Object.values},function(e,r,t){var a=t(11);var n=t(180).values;a({target:"Object",stat:true},{values:function e(r){return n(r)}})},function(e,r,t){var a=t(14);var n=t(70);var i=t(18);var o=t(16).f;var s=function(e){return function(r){var t=i(r);var s=n(t);var c=s.length;var l=0;var u=[];var f;while(c>l){f=s[l++];if(!a||o.call(t,f)){u.push(e?[f,t[f]]:t[f])}}return u}};e.exports={entries:s(true),values:s(false)}},function(e,r,t){"use strict";{var a=false;if(typeof ReadableStream!=="undefined"){try{new ReadableStream({start:function e(r){r.close()}});a=true}catch(e){}}if(a){r.ReadableStream=ReadableStream}else{r.ReadableStream=t(182).ReadableStream}}},function(e,r,t){"use strict";t.r(r);t.d(r,"ByteLengthQueuingStrategy",function(){return Ct});t.d(r,"CountQueuingStrategy",function(){return At});t.d(r,"ReadableStream",function(){return vt});t.d(r,"TransformStream",function(){return Ot});t.d(r,"WritableStream",function(){return te});var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:function(e){return"Symbol("+e+")"};function n(){}var i=Number.isNaN||function(e){return e!==e};function o(e){return typeof e==="object"&&e!==null||typeof e==="function"}function s(e){return e.slice()}function c(e,r,t,a,n){new Uint8Array(e).set(new Uint8Array(t,a,n),r)}function l(e){if(u(e)===false){return false}if(e===Infinity){return false}return true}function u(e){if(typeof e!=="number"){return false}if(i(e)){return false}if(e<0){return false}return true}function f(e,r,t){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,r,t)}function h(e,r,t,a){var n=e[r];if(n!==undefined){if(typeof n!=="function"){throw new TypeError(n+" is not a method")}switch(t){case 0:{return function(){return v(n,e,a)}}case 1:{return function(r){var t=[r].concat(a);return v(n,e,t)}}}}return function(){return Promise.resolve()}}function d(e,r,t){var a=e[r];if(a===undefined){return undefined}return f(a,e,t)}function v(e,r,t){try{return Promise.resolve(f(e,r,t))}catch(e){return Promise.reject(e)}}function g(e){return e}function p(e){return false}function m(e){e=Number(e);if(i(e)||e<0){throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN")}return e}function b(e){if(e===undefined){return function(){return 1}}if(typeof e!=="function"){throw new TypeError("size property of a queuing strategy must be a function")}return function(r){return e(r)}}var y=16384;var w=function(){function e(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:true,configurable:true});e.prototype.push=function(e){var r=this._back;var t=r;if(r._elements.length===y-1){t={_elements:[],_next:undefined}}r._elements.push(e);if(t!==r){this._back=t;r._next=t}++this._size};e.prototype.shift=function(){var e=this._front;var r=e;var t=this._cursor;var a=t+1;var n=e._elements;var i=n[t];if(a===y){r=e._next;a=0}--this._size;this._cursor=a;if(e!==r){this._front=r}n[t]=undefined;return i};e.prototype.forEach=function(e){var r=this._cursor;var t=this._front;var a=t._elements;while(r!==a.length||t._next!==undefined){if(r===a.length){t=t._next;a=t._elements;r=0;if(a.length===0){break}}e(a[r]);++r}};e.prototype.peek=function(){var e=this._front;var r=this._cursor;return e._elements[r]};return e}();function k(e,r,t){var a=null;if(t===true){a=Object.prototype}var n=Object.create(a);n.value=e;n.done=r;return n}function S(e,r){e._forAuthorCode=true;e._ownerReadableStream=r;r._reader=e;if(r._state==="readable"){O(e)}else if(r._state==="closed"){I(e)}else{P(e,r._storedError)}}function x(e,r){var t=e._ownerReadableStream;return yt(t,r)}function C(e){if(e._ownerReadableStream._state==="readable"){T(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}else{E(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function A(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function O(e){e._closedPromise=new Promise(function(r,t){e._closedPromise_resolve=r;e._closedPromise_reject=t})}function P(e,r){O(e);T(e,r)}function I(e){O(e);F(e)}function T(e,r){e._closedPromise.catch(n);e._closedPromise_reject(r);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function E(e,r){P(e,r)}function F(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}var B=a("[[CancelSteps]]");var _=a("[[PullSteps]]");function R(e,r){if(r===void 0){r=false}var t=new U(e);t._forAuthorCode=r;return t}function L(e){var r=new Promise(function(r,t){var a={_resolve:r,_reject:t};e._reader._readRequests.push(a)});return r}function M(e,r,t){var a=e._reader;var n=a._readRequests.shift();n._resolve(k(r,t,a._forAuthorCode))}function D(e){return e._reader._readRequests.length}function N(e){var r=e._reader;if(r===undefined){return false}if(!j(r)){return false}return true}var U=function(){function e(e){if(mt(e)===false){throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance")}if(bt(e)===true){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}S(this,e);this._readRequests=new w}Object.defineProperty(e.prototype,"closed",{get:function(){if(!j(this)){return Promise.reject(z("closed"))}return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!j(this)){return Promise.reject(z("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(A("cancel"))}return x(this,e)};e.prototype.read=function(){if(!j(this)){return Promise.reject(z("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(A("read from"))}return q(this)};e.prototype.releaseLock=function(){if(!j(this)){throw z("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}C(this)};return e}();function j(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return true}function q(e){var r=e._ownerReadableStream;r._disturbed=true;if(r._state==="closed"){return Promise.resolve(k(undefined,true,e._forAuthorCode))}if(r._state==="errored"){return Promise.reject(r._storedError)}return r._readableStreamController[_]()}function z(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}var H;var G;if(typeof a.asyncIterator==="symbol"){G=(H={},H[a.asyncIterator]=function(){return this},H);Object.defineProperty(G,a.asyncIterator,{enumerable:false})}var W={next:function(){if(V(this)===false){return Promise.reject(K("next"))}var e=this._asyncIteratorReader;if(e._ownerReadableStream===undefined){return Promise.reject(A("iterate"))}return q(e).then(function(r){var t=r.done;if(t){C(e)}var a=r.value;return k(a,t,true)})},return:function(e){if(V(this)===false){return Promise.reject(K("next"))}var r=this._asyncIteratorReader;if(r._ownerReadableStream===undefined){return Promise.reject(A("finish iterating"))}if(r._readRequests.length>0){return Promise.reject(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"))}if(this._preventCancel===false){var t=x(r,e);C(r);return t.then(function(){return k(e,true,true)})}C(r);return Promise.resolve(k(e,true,true))}};if(G!==undefined){Object.setPrototypeOf(W,G)}Object.defineProperty(W,"next",{enumerable:false});Object.defineProperty(W,"return",{enumerable:false});function X(e,r){if(r===void 0){r=false}var t=R(e);var a=Object.create(W);a._asyncIteratorReader=t;a._preventCancel=Boolean(r);return a}function V(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")){return false}return true}function K(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}var Y=n;function J(e){var r=e._queue.shift();e._queueTotalSize-=r.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return r.value}function Z(e,r,t){t=Number(t);if(!l(t)){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:r,size:t});e._queueTotalSize+=t}function Q(e){var r=e._queue.peek();return r.value}function $(e){e._queue=new w;e._queueTotalSize=0}var ee=a("[[AbortSteps]]");var re=a("[[ErrorSteps]]");var te=function(){function e(e,r){if(e===void 0){e={}}if(r===void 0){r={}}ie(this);var t=r.size;var a=r.highWaterMark;var n=e.type;if(n!==undefined){throw new RangeError("Invalid type is specified")}var i=b(t);if(a===undefined){a=1}a=m(a);Me(this,e,a,i)}Object.defineProperty(e.prototype,"locked",{get:function(){if(oe(this)===false){throw Ke("locked")}return se(this)},enumerable:true,configurable:true});e.prototype.abort=function(e){if(oe(this)===false){return Promise.reject(Ke("abort"))}if(se(this)===true){return Promise.reject(new TypeError("Cannot abort a stream that already has a writer"))}return ce(this,e)};e.prototype.getWriter=function(){if(oe(this)===false){throw Ke("getWriter")}return ae(this)};return e}();function ae(e){return new xe(e)}function ne(e,r,t,a,n,i){if(n===void 0){n=1}if(i===void 0){i=function(){return 1}}var o=Object.create(te.prototype);ie(o);var s=Object.create(_e.prototype);Le(o,s,e,r,t,a,n,i);return o}function ie(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new w;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function oe(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return true}function se(e){if(e._writer===undefined){return false}return true}function ce(e,r){var t=e._state;if(t==="closed"||t==="errored"){return Promise.resolve(undefined)}if(e._pendingAbortRequest!==undefined){return e._pendingAbortRequest._promise}var a=false;if(t==="erroring"){a=true;r=undefined}var n=new Promise(function(t,n){e._pendingAbortRequest={_promise:undefined,_resolve:t,_reject:n,_reason:r,_wasAlreadyErroring:a}});e._pendingAbortRequest._promise=n;if(a===false){fe(e,r)}return n}function le(e){var r=new Promise(function(r,t){var a={_resolve:r,_reject:t};e._writeRequests.push(a)});return r}function ue(e,r){var t=e._state;if(t==="writable"){fe(e,r);return}he(e)}function fe(e,r){var t=e._writableStreamController;e._state="erroring";e._storedError=r;var a=e._writer;if(a!==undefined){Te(a,r)}if(be(e)===false&&t._started===true){he(e)}}function he(e){e._state="errored";e._writableStreamController[re]();var r=e._storedError;e._writeRequests.forEach(function(e){e._reject(r)});e._writeRequests=new w;if(e._pendingAbortRequest===undefined){ke(e);return}var t=e._pendingAbortRequest;e._pendingAbortRequest=undefined;if(t._wasAlreadyErroring===true){t._reject(r);ke(e);return}var a=e._writableStreamController[ee](t._reason);a.then(function(){t._resolve();ke(e)},function(r){t._reject(r);ke(e)})}function de(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function ve(e,r){e._inFlightWriteRequest._reject(r);e._inFlightWriteRequest=undefined;ue(e,r)}function ge(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;var r=e._state;if(r==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";var t=e._writer;if(t!==undefined){tr(t)}}function pe(e,r){e._inFlightCloseRequest._reject(r);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(r);e._pendingAbortRequest=undefined}ue(e,r)}function me(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function be(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function ye(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function we(e){e._inFlightWriteRequest=e._writeRequests.shift()}function ke(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}var r=e._writer;if(r!==undefined){er(r,e._storedError)}}function Se(e,r){var t=e._writer;if(t!==undefined&&r!==e._backpressure){if(r===true){sr(t)}else{lr(t)}}e._backpressure=r}var xe=function(){function e(e){if(oe(e)===false){throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance")}if(se(e)===true){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;var r=e._state;if(r==="writable"){if(me(e)===false&&e._backpressure===true){ar(this)}else{ir(this)}Ze(this)}else if(r==="erroring"){nr(this,e._storedError);Ze(this)}else if(r==="closed"){ir(this);$e(this)}else{var t=e._storedError;nr(this,t);Qe(this,t)}}Object.defineProperty(e.prototype,"closed",{get:function(){if(Ce(this)===false){return Promise.reject(Ye("closed"))}return this._closedPromise},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Ce(this)===false){throw Ye("desiredSize")}if(this._ownerWritableStream===undefined){throw Je("desiredSize")}return Ee(this)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ready",{get:function(){if(Ce(this)===false){return Promise.reject(Ye("ready"))}return this._readyPromise},enumerable:true,configurable:true});e.prototype.abort=function(e){if(Ce(this)===false){return Promise.reject(Ye("abort"))}if(this._ownerWritableStream===undefined){return Promise.reject(Je("abort"))}return Ae(this,e)};e.prototype.close=function(){if(Ce(this)===false){return Promise.reject(Ye("close"))}var e=this._ownerWritableStream;if(e===undefined){return Promise.reject(Je("close"))}if(me(e)===true){return Promise.reject(new TypeError("cannot close an already-closing stream"))}return Oe(this)};e.prototype.releaseLock=function(){if(Ce(this)===false){throw Ye("releaseLock")}var e=this._ownerWritableStream;if(e===undefined){return}Fe(this)};e.prototype.write=function(e){if(Ce(this)===false){return Promise.reject(Ye("write"))}if(this._ownerWritableStream===undefined){return Promise.reject(Je("write to"))}return Be(this,e)};return e}();function Ce(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return true}function Ae(e,r){var t=e._ownerWritableStream;return ce(t,r)}function Oe(e){var r=e._ownerWritableStream;var t=r._state;if(t==="closed"||t==="errored"){return Promise.reject(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"))}var a=new Promise(function(e,t){var a={_resolve:e,_reject:t};r._closeRequest=a});if(r._backpressure===true&&t==="writable"){lr(e)}Ne(r._writableStreamController);return a}function Pe(e){var r=e._ownerWritableStream;var t=r._state;if(me(r)===true||t==="closed"){return Promise.resolve()}if(t==="errored"){return Promise.reject(r._storedError)}return Oe(e)}function Ie(e,r){if(e._closedPromiseState==="pending"){er(e,r)}else{rr(e,r)}}function Te(e,r){if(e._readyPromiseState==="pending"){or(e,r)}else{cr(e,r)}}function Ee(e){var r=e._ownerWritableStream;var t=r._state;if(t==="errored"||t==="erroring"){return null}if(t==="closed"){return 0}return je(r._writableStreamController)}function Fe(e){var r=e._ownerWritableStream;var t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Te(e,t);Ie(e,t);r._writer=undefined;e._ownerWritableStream=undefined}function Be(e,r){var t=e._ownerWritableStream;var a=t._writableStreamController;var n=Ue(a,r);if(t!==e._ownerWritableStream){return Promise.reject(Je("write to"))}var i=t._state;if(i==="errored"){return Promise.reject(t._storedError)}if(me(t)===true||i==="closed"){return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"))}if(i==="erroring"){return Promise.reject(t._storedError)}var o=le(t);qe(a,r,n);return o}var _e=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}e.prototype.error=function(e){if(Re(this)===false){throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController")}var r=this._controlledWritableStream._state;if(r!=="writable"){return}Ve(this,e)};e.prototype[ee]=function(e){var r=this._abortAlgorithm(e);De(this);return r};e.prototype[re]=function(){$(this)};return e}();function Re(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")){return false}return true}function Le(e,r,t,a,n,i,o,s){r._controlledWritableStream=e;e._writableStreamController=r;r._queue=undefined;r._queueTotalSize=undefined;$(r);r._started=false;r._strategySizeAlgorithm=s;r._strategyHWM=o;r._writeAlgorithm=a;r._closeAlgorithm=n;r._abortAlgorithm=i;var c=Xe(r);Se(e,c);var l=t();var u=Promise.resolve(l);u.then(function(){r._started=true;ze(r)},function(t){r._started=true;ue(e,t)}).catch(Y)}function Me(e,r,t,a){var n=Object.create(_e.prototype);function i(){return d(r,"start",[n])}var o=h(r,"write",1,[n]);var s=h(r,"close",0,[]);var c=h(r,"abort",1,[]);Le(e,n,i,o,s,c,t,a)}function De(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function Ne(e){Z(e,"close",0);ze(e)}function Ue(e,r){try{return e._strategySizeAlgorithm(r)}catch(r){He(e,r);return 1}}function je(e){return e._strategyHWM-e._queueTotalSize}function qe(e,r,t){var a={chunk:r};try{Z(e,a,t)}catch(r){He(e,r);return}var n=e._controlledWritableStream;if(me(n)===false&&n._state==="writable"){var i=Xe(e);Se(n,i)}ze(e)}function ze(e){var r=e._controlledWritableStream;if(e._started===false){return}if(r._inFlightWriteRequest!==undefined){return}var t=r._state;if(t==="erroring"){he(r);return}if(e._queue.length===0){return}var a=Q(e);if(a==="close"){Ge(e)}else{We(e,a.chunk)}}function He(e,r){if(e._controlledWritableStream._state==="writable"){Ve(e,r)}}function Ge(e){var r=e._controlledWritableStream;ye(r);J(e);var t=e._closeAlgorithm();De(e);t.then(function(){ge(r)},function(e){pe(r,e)}).catch(Y)}function We(e,r){var t=e._controlledWritableStream;we(t);var a=e._writeAlgorithm(r);a.then(function(){de(t);var r=t._state;J(e);if(me(t)===false&&r==="writable"){var a=Xe(e);Se(t,a)}ze(e)},function(r){if(t._state==="writable"){De(e)}ve(t,r)}).catch(Y)}function Xe(e){var r=je(e);return r<=0}function Ve(e,r){var t=e._controlledWritableStream;De(e);fe(t,r)}function Ke(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Ye(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function Je(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Ze(e){e._closedPromise=new Promise(function(r,t){e._closedPromise_resolve=r;e._closedPromise_reject=t;e._closedPromiseState="pending"})}function Qe(e,r){Ze(e);er(e,r)}function $e(e){Ze(e);tr(e)}function er(e,r){e._closedPromise.catch(n);e._closedPromise_reject(r);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function rr(e,r){Qe(e,r)}function tr(e){e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function ar(e){e._readyPromise=new Promise(function(r,t){e._readyPromise_resolve=r;e._readyPromise_reject=t});e._readyPromiseState="pending"}function nr(e,r){ar(e);or(e,r)}function ir(e){ar(e);lr(e)}function or(e,r){e._readyPromise.catch(n);e._readyPromise_reject(r);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function sr(e){ar(e)}function cr(e,r){nr(e,r)}function lr(e){e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}function ur(e,r,t,a,i,o){var s=R(e);var c=ae(r);var l=false;var u=Promise.resolve();return new Promise(function(f,h){var d;if(o!==undefined){d=function(){var t=new DOMException("Aborted","AbortError");var n=[];if(a===false){n.push(function(){if(r._state==="writable"){return ce(r,t)}return Promise.resolve()})}if(i===false){n.push(function(){if(e._state==="readable"){return yt(e,t)}return Promise.resolve()})}w(function(){return Promise.all(n.map(function(e){return e()}))},true,t)};if(o.aborted===true){d();return}o.addEventListener("abort",d)}function v(){return new Promise(function(e,r){function t(a){if(a){e()}else{g().then(t,r)}}t(false)})}function g(){if(l===true){return Promise.resolve(true)}return c._readyPromise.then(function(){return q(s).then(function(e){var r=e.value,t=e.done;if(t===true){return true}u=Be(c,r).catch(n);return false})})}b(e,s._closedPromise,function(e){if(a===false){w(function(){return ce(r,e)},true,e)}else{k(true,e)}});b(r,c._closedPromise,function(r){if(i===false){w(function(){return yt(e,r)},true,r)}else{k(true,r)}});y(e,s._closedPromise,function(){if(t===false){w(function(){return Pe(c)})}else{k()}});if(me(r)===true||r._state==="closed"){var p=new TypeError("the destination writable stream closed before all data could be piped to it");if(i===false){w(function(){return yt(e,p)},true,p)}else{k(true,p)}}v().catch(Y);function m(){var e=u;return u.then(function(){return e!==u?m():undefined})}function b(e,r,t){if(e._state==="errored"){t(e._storedError)}else{r.catch(t).catch(Y)}}function y(e,r,t){if(e._state==="closed"){t()}else{r.then(t).catch(Y)}}function w(e,t,a){if(l===true){return}l=true;if(r._state==="writable"&&me(r)===false){m().then(n)}else{n()}function n(){e().then(function(){return S(t,a)},function(e){return S(true,e)}).catch(Y)}}function k(e,t){if(l===true){return}l=true;if(r._state==="writable"&&me(r)===false){m().then(function(){return S(e,t)}).catch(Y)}else{S(e,t)}}function S(e,r){Fe(c);C(s);if(o!==undefined){o.removeEventListener("abort",d)}if(e){h(r)}else{f(undefined)}}})}var fr=function(){function e(){throw new TypeError}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(hr(this)===false){throw Cr("desiredSize")}return yr(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(hr(this)===false){throw Cr("close")}if(kr(this)===false){throw new TypeError("The stream is not in a state that permits close")}pr(this)};e.prototype.enqueue=function(e){if(hr(this)===false){throw Cr("enqueue")}if(kr(this)===false){throw new TypeError("The stream is not in a state that permits enqueue")}return mr(this,e)};e.prototype.error=function(e){if(hr(this)===false){throw Cr("error")}br(this,e)};e.prototype[B]=function(e){$(this);var r=this._cancelAlgorithm(e);gr(this);return r};e.prototype[_]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var r=J(this);if(this._closeRequested===true&&this._queue.length===0){gr(this);wt(e)}else{dr(this)}return Promise.resolve(k(r,false,e._reader._forAuthorCode))}var t=L(e);dr(this);return t};return e}();function hr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")){return false}return true}function dr(e){var r=vr(e);if(r===false){return}if(e._pulling===true){e._pullAgain=true;return}e._pulling=true;var t=e._pullAlgorithm();t.then(function(){e._pulling=false;if(e._pullAgain===true){e._pullAgain=false;dr(e)}},function(r){br(e,r)}).catch(Y)}function vr(e){var r=e._controlledReadableStream;if(kr(e)===false){return false}if(e._started===false){return false}if(bt(r)===true&&D(r)>0){return true}var t=yr(e);if(t>0){return true}return false}function gr(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function pr(e){var r=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){gr(e);wt(r)}}function mr(e,r){var t=e._controlledReadableStream;if(bt(t)===true&&D(t)>0){M(t,r,false)}else{var a=void 0;try{a=e._strategySizeAlgorithm(r)}catch(r){br(e,r);throw r}try{Z(e,r,a)}catch(r){br(e,r);throw r}}dr(e)}function br(e,r){var t=e._controlledReadableStream;if(t._state!=="readable"){return}$(e);gr(e);kt(t,r)}function yr(e){var r=e._controlledReadableStream;var t=r._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function wr(e){if(vr(e)===true){return false}return true}function kr(e){var r=e._controlledReadableStream._state;if(e._closeRequested===false&&r==="readable"){return true}return false}function Sr(e,r,t,a,n,i,o){r._controlledReadableStream=e;r._queue=undefined;r._queueTotalSize=undefined;$(r);r._started=false;r._closeRequested=false;r._pullAgain=false;r._pulling=false;r._strategySizeAlgorithm=o;r._strategyHWM=i;r._pullAlgorithm=a;r._cancelAlgorithm=n;e._readableStreamController=r;var s=t();Promise.resolve(s).then(function(){r._started=true;dr(r)},function(e){br(r,e)}).catch(Y)}function xr(e,r,t,a){var n=Object.create(fr.prototype);function i(){return d(r,"start",[n])}var o=h(r,"pull",0,[n]);var s=h(r,"cancel",1,[]);Sr(e,n,i,o,s,t,a)}function Cr(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function Ar(e,r){var t=R(e);var a=false;var n=false;var i=false;var o;var c;var l;var u;var f;var h=new Promise(function(e){f=e});function d(){if(a===true){return Promise.resolve()}a=true;var e=q(t).then(function(e){a=false;var r=e.done;if(r===true){if(n===false){pr(l._readableStreamController)}if(i===false){pr(u._readableStreamController)}return}var t=e.value;var o=t;var s=t;if(n===false){mr(l._readableStreamController,o)}if(i===false){mr(u._readableStreamController,s)}});e.catch(Y);return Promise.resolve()}function v(r){n=true;o=r;if(i===true){var t=s([o,c]);var a=yt(e,t);f(a)}return h}function g(r){i=true;c=r;if(n===true){var t=s([o,c]);var a=yt(e,t);f(a)}return h}function p(){}l=gt(p,d,v);u=gt(p,d,g);t._closedPromise.catch(function(e){br(l._readableStreamController,e);br(u._readableStreamController,e)});return[l,u]}var Or=Number.isInteger||function(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e};var Pr=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}Object.defineProperty(e.prototype,"view",{get:function(){if(Er(this)===false){throw at("view")}return this._view},enumerable:true,configurable:true});e.prototype.respond=function(e){if(Er(this)===false){throw at("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(p(this._view.buffer)===true);Qr(this._associatedReadableByteStreamController,e)};e.prototype.respondWithNewView=function(e){if(Er(this)===false){throw at("respond")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(!ArrayBuffer.isView(e)){throw new TypeError("You can only respond with array buffer views")}if(p(e.buffer)===true);$r(this._associatedReadableByteStreamController,e)};return e}();var Ir=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(Tr(this)===false){throw nt("byobRequest")}if(this._byobRequest===undefined&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();var r=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled);var t=Object.create(Pr.prototype);tt(t,this,r);this._byobRequest=t}return this._byobRequest},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(Tr(this)===false){throw nt("desiredSize")}return Zr(this)},enumerable:true,configurable:true});e.prototype.close=function(){if(Tr(this)===false){throw nt("close")}if(this._closeRequested===true){throw new TypeError("The stream has already been closed; do not close it again!")}var e=this._controlledReadableByteStream._state;if(e!=="readable"){throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed")}Kr(this)};e.prototype.enqueue=function(e){if(Tr(this)===false){throw nt("enqueue")}if(this._closeRequested===true){throw new TypeError("stream is closed or draining")}var r=this._controlledReadableByteStream._state;if(r!=="readable"){throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to")}if(!ArrayBuffer.isView(e)){throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController")}if(p(e.buffer)===true);Yr(this,e)};e.prototype.error=function(e){if(Tr(this)===false){throw nt("error")}Jr(this,e)};e.prototype[B]=function(e){if(this._pendingPullIntos.length>0){var r=this._pendingPullIntos.peek();r.bytesFilled=0}$(this);var t=this._cancelAlgorithm(e);Vr(this);return t};e.prototype[_]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var r=this._queue.shift();this._queueTotalSize-=r.byteLength;Nr(this);var t=void 0;try{t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(e){return Promise.reject(e)}return Promise.resolve(k(t,false,e._reader._forAuthorCode))}var a=this._autoAllocateChunkSize;if(a!==undefined){var n=void 0;try{n=new ArrayBuffer(a)}catch(e){return Promise.reject(e)}var i={buffer:n,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}var o=L(e);Fr(this);return o};return e}();function Tr(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")){return false}return true}function Er(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return true}function Fr(e){var r=Xr(e);if(r===false){return}if(e._pulling===true){e._pullAgain=true;return}e._pulling=true;var t=e._pullAlgorithm();t.then(function(){e._pulling=false;if(e._pullAgain===true){e._pullAgain=false;Fr(e)}},function(r){Jr(e,r)}).catch(Y)}function Br(e){Ur(e);e._pendingPullIntos=new w}function _r(e,r){var t=false;if(e._state==="closed"){t=true}var a=Rr(r);if(r.readerType==="default"){M(e,a,t)}else{st(e,a,t)}}function Rr(e){var r=e.bytesFilled;var t=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,r/t)}function Lr(e,r,t,a){e._queue.push({buffer:r,byteOffset:t,byteLength:a});e._queueTotalSize+=a}function Mr(e,r){var t=r.elementSize;var a=r.bytesFilled-r.bytesFilled%t;var n=Math.min(e._queueTotalSize,r.byteLength-r.bytesFilled);var i=r.bytesFilled+n;var o=i-i%t;var s=n;var l=false;if(o>a){s=o-r.bytesFilled;l=true}var u=e._queue;while(s>0){var f=u.peek();var h=Math.min(s,f.byteLength);var d=r.byteOffset+r.bytesFilled;c(r.buffer,d,f.buffer,f.byteOffset,h);if(f.byteLength===h){u.shift()}else{f.byteOffset+=h;f.byteLength-=h}e._queueTotalSize-=h;Dr(e,h,r);s-=h}return l}function Dr(e,r,t){Ur(e);t.bytesFilled+=r}function Nr(e){if(e._queueTotalSize===0&&e._closeRequested===true){Vr(e);wt(e._controlledReadableByteStream)}else{Fr(e)}}function Ur(e){if(e._byobRequest===undefined){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=undefined;e._byobRequest=undefined}function jr(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}var r=e._pendingPullIntos.peek();if(Mr(e,r)===true){Wr(e);_r(e._controlledReadableByteStream,r)}}}function qr(e,r){var t=e._controlledReadableByteStream;var a=1;if(r.constructor!==DataView){a=r.constructor.BYTES_PER_ELEMENT}var n=r.constructor;var i=g(r.buffer);var o={buffer:i,byteOffset:r.byteOffset,byteLength:r.byteLength,bytesFilled:0,elementSize:a,ctor:n,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(o);return ot(t)}if(t._state==="closed"){var s=new n(o.buffer,o.byteOffset,0);return Promise.resolve(k(s,true,t._reader._forAuthorCode))}if(e._queueTotalSize>0){if(Mr(e,o)===true){var c=Rr(o);Nr(e);return Promise.resolve(k(c,false,t._reader._forAuthorCode))}if(e._closeRequested===true){var l=new TypeError("Insufficient bytes to fill elements in the given buffer");Jr(e,l);return Promise.reject(l)}}e._pendingPullIntos.push(o);var u=ot(t);Fr(e);return u}function zr(e,r){r.buffer=g(r.buffer);var t=e._controlledReadableByteStream;if(lt(t)===true){while(ct(t)>0){var a=Wr(e);_r(t,a)}}}function Hr(e,r,t){if(t.bytesFilled+r>t.byteLength){throw new RangeError("bytesWritten out of range")}Dr(e,r,t);if(t.bytesFilled<t.elementSize){return}Wr(e);var a=t.bytesFilled%t.elementSize;if(a>0){var n=t.byteOffset+t.bytesFilled;var i=t.buffer.slice(n-a,n);Lr(e,i,0,i.byteLength)}t.buffer=g(t.buffer);t.bytesFilled-=a;_r(e._controlledReadableByteStream,t);jr(e)}function Gr(e,r){var t=e._pendingPullIntos.peek();var a=e._controlledReadableByteStream;if(a._state==="closed"){if(r!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}zr(e,t)}else{Hr(e,r,t)}Fr(e)}function Wr(e){var r=e._pendingPullIntos.shift();Ur(e);return r}function Xr(e){var r=e._controlledReadableByteStream;if(r._state!=="readable"){return false}if(e._closeRequested===true){return false}if(e._started===false){return false}if(N(r)===true&&D(r)>0){return true}if(lt(r)===true&&ct(r)>0){return true}var t=Zr(e);if(t>0){return true}return false}function Vr(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function Kr(e){var r=e._controlledReadableByteStream;if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek();if(t.bytesFilled>0){var a=new TypeError("Insufficient bytes to fill elements in the given buffer");Jr(e,a);throw a}}Vr(e);wt(r)}function Yr(e,r){var t=e._controlledReadableByteStream;var a=r.buffer;var n=r.byteOffset;var i=r.byteLength;var o=g(a);if(N(t)===true){if(D(t)===0){Lr(e,o,n,i)}else{var s=new Uint8Array(o,n,i);M(t,s,false)}}else if(lt(t)===true){Lr(e,o,n,i);jr(e)}else{Lr(e,o,n,i)}Fr(e)}function Jr(e,r){var t=e._controlledReadableByteStream;if(t._state!=="readable"){return}Br(e);$(e);Vr(e);kt(t,r)}function Zr(e){var r=e._controlledReadableByteStream;var t=r._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function Qr(e,r){r=Number(r);if(l(r)===false){throw new RangeError("bytesWritten must be a finite")}Gr(e,r)}function $r(e,r){var t=e._pendingPullIntos.peek();if(t.byteOffset+t.bytesFilled!==r.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(t.byteLength!==r.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}t.buffer=r.buffer;Gr(e,r.byteLength)}function et(e,r,t,a,n,i,o){r._controlledReadableByteStream=e;r._pullAgain=false;r._pulling=false;r._byobRequest=undefined;r._queue=r._queueTotalSize=undefined;$(r);r._closeRequested=false;r._started=false;r._strategyHWM=m(i);r._pullAlgorithm=a;r._cancelAlgorithm=n;r._autoAllocateChunkSize=o;r._pendingPullIntos=new w;e._readableStreamController=r;var s=t();Promise.resolve(s).then(function(){r._started=true;Fr(r)},function(e){Jr(r,e)}).catch(Y)}function rt(e,r,t){var a=Object.create(Ir.prototype);function n(){return d(r,"start",[a])}var i=h(r,"pull",0,[a]);var o=h(r,"cancel",1,[]);var s=r.autoAllocateChunkSize;if(s!==undefined){s=Number(s);if(Or(s)===false||s<=0){throw new RangeError("autoAllocateChunkSize must be a positive integer")}}et(e,a,n,i,o,t,s)}function tt(e,r,t){e._associatedReadableByteStreamController=r;e._view=t}function at(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function nt(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function it(e,r){if(r===void 0){r=false}var t=new ut(e);t._forAuthorCode=r;return t}function ot(e){var r=new Promise(function(r,t){var a={_resolve:r,_reject:t};e._reader._readIntoRequests.push(a)});return r}function st(e,r,t){var a=e._reader;var n=a._readIntoRequests.shift();n._resolve(k(r,t,a._forAuthorCode))}function ct(e){return e._reader._readIntoRequests.length}function lt(e){var r=e._reader;if(r===undefined){return false}if(!ft(r)){return false}return true}var ut=function(){function e(e){if(!mt(e)){throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a "+"byte source")}if(Tr(e._readableStreamController)===false){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}if(bt(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}S(this,e);this._readIntoRequests=new w}Object.defineProperty(e.prototype,"closed",{get:function(){if(!ft(this)){return Promise.reject(dt("closed"))}return this._closedPromise},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(!ft(this)){return Promise.reject(dt("cancel"))}if(this._ownerReadableStream===undefined){return Promise.reject(A("cancel"))}return x(this,e)};e.prototype.read=function(e){if(!ft(this)){return Promise.reject(dt("read"))}if(this._ownerReadableStream===undefined){return Promise.reject(A("read from"))}if(!ArrayBuffer.isView(e)){return Promise.reject(new TypeError("view must be an array buffer view"))}if(p(e.buffer)===true);if(e.byteLength===0){return Promise.reject(new TypeError("view must have non-zero byteLength"))}return ht(this,e)};e.prototype.releaseLock=function(){if(!ft(this)){throw dt("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}C(this)};return e}();function ft(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return true}function ht(e,r){var t=e._ownerReadableStream;t._disturbed=true;if(t._state==="errored"){return Promise.reject(t._storedError)}return qr(t._readableStreamController,r)}function dt(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var vt=function(){function e(e,r){if(e===void 0){e={}}if(r===void 0){r={}}pt(this);var t=r.size;var a=r.highWaterMark;var n=e.type;var i=String(n);if(i==="bytes"){if(t!==undefined){throw new RangeError("The strategy for a byte stream cannot have a size function")}if(a===undefined){a=0}a=m(a);rt(this,e,a)}else if(n===undefined){var o=b(t);if(a===undefined){a=1}a=m(a);xr(this,e,a,o)}else{throw new RangeError("Invalid type is specified")}}Object.defineProperty(e.prototype,"locked",{get:function(){if(mt(this)===false){throw xt("locked")}return bt(this)},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(mt(this)===false){return Promise.reject(xt("cancel"))}if(bt(this)===true){return Promise.reject(new TypeError("Cannot cancel a stream that already has a reader"))}return yt(this,e)};e.prototype.getReader=function(e){var r=(e===void 0?{}:e).mode;if(mt(this)===false){throw xt("getReader")}if(r===undefined){return R(this,true)}r=String(r);if(r==="byob"){return it(this,true)}throw new RangeError("Invalid mode is specified")};e.prototype.pipeThrough=function(e,r){var t=e.writable,a=e.readable;var i=r===void 0?{}:r,o=i.preventClose,s=i.preventAbort,c=i.preventCancel,l=i.signal;if(mt(this)===false){throw xt("pipeThrough")}if(oe(t)===false){throw new TypeError("writable argument to pipeThrough must be a WritableStream")}if(mt(a)===false){throw new TypeError("readable argument to pipeThrough must be a ReadableStream")}o=Boolean(o);s=Boolean(s);c=Boolean(c);if(l!==undefined&&!St(l)){throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal")}if(bt(this)===true){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream")}if(se(t)===true){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream")}var u=ur(this,t,o,s,c,l);u.catch(n);return a};e.prototype.pipeTo=function(e,r){var t=r===void 0?{}:r,a=t.preventClose,n=t.preventAbort,i=t.preventCancel,o=t.signal;if(mt(this)===false){return Promise.reject(xt("pipeTo"))}if(oe(e)===false){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"))}a=Boolean(a);n=Boolean(n);i=Boolean(i);if(o!==undefined&&!St(o)){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal"))}if(bt(this)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(se(e)===true){return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}return ur(this,e,a,n,i,o)};e.prototype.tee=function(){if(mt(this)===false){throw xt("tee")}var e=Ar(this);return s(e)};e.prototype.getIterator=function(e){var r=(e===void 0?{}:e).preventCancel,t=r===void 0?false:r;if(mt(this)===false){throw xt("getIterator")}return X(this,t)};return e}();if(typeof a.asyncIterator==="symbol"){Object.defineProperty(vt.prototype,a.asyncIterator,{value:vt.prototype.getIterator,enumerable:false,writable:true,configurable:true})}function gt(e,r,t,a,n){if(a===void 0){a=1}if(n===void 0){n=function(){return 1}}var i=Object.create(vt.prototype);pt(i);var o=Object.create(fr.prototype);Sr(i,o,e,r,t,a,n);return i}function pt(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function mt(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return true}function bt(e){if(e._reader===undefined){return false}return true}function yt(e,r){e._disturbed=true;if(e._state==="closed"){return Promise.resolve(undefined)}if(e._state==="errored"){return Promise.reject(e._storedError)}wt(e);var t=e._readableStreamController[B](r);return t.then(function(){return undefined})}function wt(e){e._state="closed";var r=e._reader;if(r===undefined){return}if(j(r)){r._readRequests.forEach(function(e){e._resolve(k(undefined,true,r._forAuthorCode))});r._readRequests=new w}F(r)}function kt(e,r){e._state="errored";e._storedError=r;var t=e._reader;if(t===undefined){return}if(j(t)){t._readRequests.forEach(function(e){e._reject(r)});t._readRequests=new w}else{t._readIntoRequests.forEach(function(e){e._reject(r)});t._readIntoRequests=new w}T(t,r)}function St(e){if(typeof e!=="object"||e===null){return false}var r=Object.getOwnPropertyDescriptor(AbortSignal.prototype,"aborted").get;try{r.call(e);return true}catch(e){return false}}function xt(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}var Ct=function(){function e(e){var r=e.highWaterMark;this.highWaterMark=r}e.prototype.size=function(e){return e.byteLength};return e}();var At=function(){function e(e){var r=e.highWaterMark;this.highWaterMark=r}e.prototype.size=function(){return 1};return e}();var Ot=function(){function e(e,r,t){if(e===void 0){e={}}if(r===void 0){r={}}if(t===void 0){t={}}var a=r.size;var n=r.highWaterMark;var i=t.size;var o=t.highWaterMark;var s=e.writableType;if(s!==undefined){throw new RangeError("Invalid writable type specified")}var c=b(a);if(n===undefined){n=1}n=m(n);var l=e.readableType;if(l!==undefined){throw new RangeError("Invalid readable type specified")}var u=b(i);if(o===undefined){o=0}o=m(o);var f;var h=new Promise(function(e){f=e});Pt(this,h,n,c,o,u);Lt(this,e);var v=d(e,"start",[this._transformStreamController]);f(v)}Object.defineProperty(e.prototype,"readable",{get:function(){if(It(this)===false){throw Xt("readable")}return this._readable},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"writable",{get:function(){if(It(this)===false){throw Xt("writable")}return this._writable},enumerable:true,configurable:true});return e}();function Pt(e,r,t,a,n,i){function o(){return r}function s(r){return qt(e,r)}function c(r){return zt(e,r)}function l(){return Ht(e)}e._writable=ne(o,s,l,c,t,a);function u(){return Gt(e)}function f(r){Et(e,r);return Promise.resolve()}e._readable=gt(o,u,f,n,i);e._backpressure=undefined;e._backpressureChangePromise=undefined;e._backpressureChangePromise_resolve=undefined;Ft(e,true);e._transformStreamController=undefined}function It(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return true}function Tt(e,r){br(e._readable._readableStreamController,r);Et(e,r)}function Et(e,r){Mt(e._transformStreamController);He(e._writable._writableStreamController,r);if(e._backpressure===true){Ft(e,false)}}function Ft(e,r){if(e._backpressureChangePromise!==undefined){e._backpressureChangePromise_resolve()}e._backpressureChangePromise=new Promise(function(r){e._backpressureChangePromise_resolve=r});e._backpressure=r}var Bt=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(_t(this)===false){throw Wt("desiredSize")}var e=this._controlledTransformStream._readable._readableStreamController;return yr(e)},enumerable:true,configurable:true});e.prototype.enqueue=function(e){if(_t(this)===false){throw Wt("enqueue")}Dt(this,e)};e.prototype.error=function(e){if(_t(this)===false){throw Wt("error")}Nt(this,e)};e.prototype.terminate=function(){if(_t(this)===false){throw Wt("terminate")}jt(this)};return e}();function _t(e){if(!o(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return true}function Rt(e,r,t,a){r._controlledTransformStream=e;e._transformStreamController=r;r._transformAlgorithm=t;r._flushAlgorithm=a}function Lt(e,r){var t=Object.create(Bt.prototype);var a=function(e){try{Dt(t,e);return Promise.resolve()}catch(e){return Promise.reject(e)}};var n=r.transform;if(n!==undefined){if(typeof n!=="function"){throw new TypeError("transform is not a method")}a=function(e){return v(n,r,[e,t])}}var i=h(r,"flush",0,[t]);Rt(e,t,a,i)}function Mt(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function Dt(e,r){var t=e._controlledTransformStream;var a=t._readable._readableStreamController;if(kr(a)===false){throw new TypeError("Readable side is not in a state that permits enqueue")}try{mr(a,r)}catch(e){Et(t,e);throw t._readable._storedError}var n=wr(a);if(n!==t._backpressure){Ft(t,true)}}function Nt(e,r){Tt(e._controlledTransformStream,r)}function Ut(e,r){var t=e._transformAlgorithm(r);return t.catch(function(r){Tt(e._controlledTransformStream,r);throw r})}function jt(e){var r=e._controlledTransformStream;var t=r._readable._readableStreamController;if(kr(t)===true){pr(t)}var a=new TypeError("TransformStream terminated");Et(r,a)}function qt(e,r){var t=e._transformStreamController;if(e._backpressure===true){var a=e._backpressureChangePromise;return a.then(function(){var a=e._writable;var n=a._state;if(n==="erroring"){throw a._storedError}return Ut(t,r)})}return Ut(t,r)}function zt(e,r){Tt(e,r);return Promise.resolve()}function Ht(e){var r=e._readable;var t=e._transformStreamController;var a=t._flushAlgorithm();Mt(t);return a.then(function(){if(r._state==="errored"){throw r._storedError}var e=r._readableStreamController;if(kr(e)===true){pr(e)}}).catch(function(t){Tt(e,t);throw r._storedError})}function Gt(e){Ft(e,false);return e._backpressureChangePromise}function Wt(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function Xt(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.clearPrimitiveCaches=x;r.isEOF=p;r.isCmd=b;r.isDict=y;r.isName=m;r.isRef=w;r.isRefsEqual=k;r.isStream=S;r.RefSetCache=r.RefSet=r.Ref=r.Name=r.Dict=r.Cmd=r.EOF=void 0;var a=i(t(2));var n=t(5);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(r){return typeof r}}else{o=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return o(e)}function s(e,r,t,a,n,i,o){try{var s=e[i](o);var c=s.value}catch(e){t(e);return}if(s.done){r(c)}else{Promise.resolve(c).then(a,n)}}function c(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=e.apply(r,t);function o(e){s(i,a,n,o,c,"next",e)}function c(e){s(i,a,n,o,c,"throw",e)}o(undefined)})}}var l={};r.EOF=l;var u=function e(){var r=Object.create(null);function t(e){this.name=e}t.prototype={};t.get=function e(a){var n=r[a];return n?n:r[a]=new t(a)};t._clearCache=function(){r=Object.create(null)};return t}();r.Name=u;var f=function e(){var r=Object.create(null);function t(e){this.cmd=e}t.prototype={};t.get=function e(a){var n=r[a];return n?n:r[a]=new t(a)};t._clearCache=function(){r=Object.create(null)};return t}();r.Cmd=f;var h=function e(){var r=function e(){return r};function t(e){this._map=Object.create(null);this.xref=e;this.objId=null;this.suppressEncryption=false;this.__nonSerializable__=r}t.prototype={assignXref:function e(r){this.xref=r},get:function e(r,t,a){var n=this._map[r];if(n===undefined&&!(r in this._map)&&t!==undefined){n=this._map[t];if(n===undefined&&!(t in this._map)&&a!==undefined){n=this._map[a]}}if(n instanceof d&&this.xref){return this.xref.fetch(n,this.suppressEncryption)}return n},getAsync:function(){var e=c(a["default"].mark(function e(r,t,n){var i;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:i=this._map[r];if(i===undefined&&!(r in this._map)&&t!==undefined){i=this._map[t];if(i===undefined&&!(t in this._map)&&n!==undefined){i=this._map[n]}}if(!(i instanceof d&&this.xref)){a.next=4;break}return a.abrupt("return",this.xref.fetchAsync(i,this.suppressEncryption));case 4:return a.abrupt("return",i);case 5:case"end":return a.stop()}}},e,this)}));function r(r,t,a){return e.apply(this,arguments)}return r}(),getArray:function e(r,t,a){var n=this.get(r,t,a);if(!Array.isArray(n)||!this.xref){return n}n=n.slice();for(var i=0,o=n.length;i<o;i++){if(!(n[i]instanceof d)){continue}n[i]=this.xref.fetch(n[i],this.suppressEncryption)}return n},getRaw:function e(r){return this._map[r]},getKeys:function e(){return Object.keys(this._map)},set:function e(r,t){this._map[r]=t},has:function e(r){return r in this._map},forEach:function e(r){for(var t in this._map){r(t,this.get(t))}}};t.empty=new t(null);t.merge=function(e,r){var a=new t(e);for(var n=0,i=r.length;n<i;n++){var o=r[n];if(!y(o)){continue}for(var s in o._map){if(a._map[s]!==undefined){continue}a._map[s]=o._map[s]}}return a};return t}();r.Dict=h;var d=function e(){var r=Object.create(null);function t(e,r){this.num=e;this.gen=r}t.prototype={toString:function e(){if(this.gen===0){return"".concat(this.num,"R")}return"".concat(this.num,"R").concat(this.gen)}};t.get=function(e,a){var n=a===0?"".concat(e,"R"):"".concat(e,"R").concat(a);var i=r[n];return i?i:r[n]=new t(e,a)};t._clearCache=function(){r=Object.create(null)};return t}();r.Ref=d;var v=function e(){function r(){this.dict=Object.create(null)}r.prototype={has:function e(r){return r.toString()in this.dict},put:function e(r){this.dict[r.toString()]=true},remove:function e(r){delete this.dict[r.toString()]}};return r}();r.RefSet=v;var g=function e(){function r(){this.dict=Object.create(null)}r.prototype={get:function e(r){return this.dict[r.toString()]},has:function e(r){return r.toString()in this.dict},put:function e(r,t){this.dict[r.toString()]=t},putAlias:function e(r,t){this.dict[r.toString()]=this.get(t)},forEach:function e(r,t){for(var a in this.dict){r.call(t,this.dict[a])}},clear:function e(){this.dict=Object.create(null)}};return r}();r.RefSetCache=g;function p(e){return e===l}function m(e,r){return e instanceof u&&(r===undefined||e.name===r)}function b(e,r){return e instanceof f&&(r===undefined||e.cmd===r)}function y(e,r){return e instanceof h&&(r===undefined||m(e.get("Type"),r))}function w(e){return e instanceof d}function k(e,r){return e.num===r.num&&e.gen===r.gen}function S(e){return o(e)==="object"&&e!==null&&e.getBytes!==undefined}function x(){f._clearCache();u._clearCache();d._clearCache()}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NetworkPdfManager=r.LocalPdfManager=void 0;var a=l(t(2));var n=t(5);var i=t(185);var o=t(186);var s=t(187);var c=t(190);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){u=function e(r){return typeof r}}else{u=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return u(e)}function f(e,r){if(r&&(u(r)==="object"||typeof r==="function")){return r}return d(e)}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return h(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)g(e,r)}function g(e,r){g=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return g(e,r)}function p(e,r,t,a,n,i,o){try{var s=e[i](o);var c=s.value}catch(e){t(e);return}if(s.done){r(c)}else{Promise.resolve(c).then(a,n)}}function m(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=e.apply(r,t);function o(e){p(i,a,n,o,s,"next",e)}function s(e){p(i,a,n,o,s,"throw",e)}o(undefined)})}}function b(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function y(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function w(e,r,t){if(r)y(e.prototype,r);if(t)y(e,t);return e}var k=function(){function e(){b(this,e);if(this.constructor===e){(0,n.unreachable)("Cannot initialize BasePdfManager.")}}w(e,[{key:"onLoadedStream",value:function e(){(0,n.unreachable)("Abstract method `onLoadedStream` called")}},{key:"ensureDoc",value:function e(r,t){return this.ensure(this.pdfDocument,r,t)}},{key:"ensureXRef",value:function e(r,t){return this.ensure(this.pdfDocument.xref,r,t)}},{key:"ensureCatalog",value:function e(r,t){return this.ensure(this.pdfDocument.catalog,r,t)}},{key:"getPage",value:function e(r){return this.pdfDocument.getPage(r)}},{key:"fontFallback",value:function e(r,t){return this.pdfDocument.fontFallback(r,t)}},{key:"cleanup",value:function e(){return this.pdfDocument.cleanup()}},{key:"ensure",value:function(){var e=m(a["default"].mark(function e(r,t,i){return a["default"].wrap(function e(r){while(1){switch(r.prev=r.next){case 0:(0,n.unreachable)("Abstract method `ensure` called");case 1:case"end":return r.stop()}}},e)}));function r(r,t,a){return e.apply(this,arguments)}return r}()},{key:"requestRange",value:function e(r,t){(0,n.unreachable)("Abstract method `requestRange` called")}},{key:"requestLoadedStream",value:function e(){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}},{key:"sendProgressiveData",value:function e(r){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}},{key:"updatePassword",value:function e(r){this._password=r}},{key:"terminate",value:function e(r){(0,n.unreachable)("Abstract method `terminate` called")}},{key:"docId",get:function e(){return this._docId}},{key:"password",get:function e(){return this._password}},{key:"docBaseUrl",get:function e(){var r=null;if(this._docBaseUrl){var t=(0,n.createValidAbsoluteUrl)(this._docBaseUrl);if(t){r=t.href}else{(0,n.warn)('Invalid absolute docBaseUrl: "'.concat(this._docBaseUrl,'".'))}}return(0,n.shadow)(this,"docBaseUrl",r)}}]);return e}();var S=function(e){v(r,e);function r(e,t,a,n,i){var o;b(this,r);o=f(this,h(r).call(this));o._docId=e;o._password=a;o._docBaseUrl=i;o.evaluatorOptions=n;var l=new c.Stream(t);o.pdfDocument=new s.PDFDocument(d(o),l);o._loadedStreamPromise=Promise.resolve(l);return o}w(r,[{key:"ensure",value:function(){var e=m(a["default"].mark(function e(r,t,n){var i;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:i=r[t];if(!(typeof i==="function")){a.next=3;break}return a.abrupt("return",i.apply(r,n));case 3:return a.abrupt("return",i);case 4:case"end":return a.stop()}}},e)}));function r(r,t,a){return e.apply(this,arguments)}return r}()},{key:"requestRange",value:function e(r,t){return Promise.resolve()}},{key:"requestLoadedStream",value:function e(){}},{key:"onLoadedStream",value:function e(){return this._loadedStreamPromise}},{key:"terminate",value:function e(r){}}]);return r}(k);r.LocalPdfManager=S;var x=function(e){v(r,e);function r(e,t,a,n,o){var c;b(this,r);c=f(this,h(r).call(this));c._docId=e;c._password=a.password;c._docBaseUrl=o;c.msgHandler=a.msgHandler;c.evaluatorOptions=n;c.streamManager=new i.ChunkedStreamManager(t,{msgHandler:a.msgHandler,length:a.length,disableAutoFetch:a.disableAutoFetch,rangeChunkSize:a.rangeChunkSize});c.pdfDocument=new s.PDFDocument(d(c),c.streamManager.getStream());return c}w(r,[{key:"ensure",value:function(){var e=m(a["default"].mark(function e(r,t,n){var i;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:a.prev=0;i=r[t];if(!(typeof i==="function")){a.next=4;break}return a.abrupt("return",i.apply(r,n));case 4:return a.abrupt("return",i);case 7:a.prev=7;a.t0=a["catch"](0);if(a.t0 instanceof o.MissingDataException){a.next=11;break}throw a.t0;case 11:a.next=13;return this.requestRange(a.t0.begin,a.t0.end);case 13:return a.abrupt("return",this.ensure(r,t,n));case 14:case"end":return a.stop()}}},e,this,[[0,7]])}));function r(r,t,a){return e.apply(this,arguments)}return r}()},{key:"requestRange",value:function e(r,t){return this.streamManager.requestRange(r,t)}},{key:"requestLoadedStream",value:function e(){this.streamManager.requestAllChunks()}},{key:"sendProgressiveData",value:function e(r){this.streamManager.onReceiveData({chunk:r})}},{key:"onLoadedStream",value:function e(){return this.streamManager.onLoadedStream()}},{key:"terminate",value:function e(r){this.streamManager.abort(r)}}]);return r}(k);r.NetworkPdfManager=x},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ChunkedStreamManager=r.ChunkedStream=void 0;var a=t(5);var n=t(186);function i(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function o(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function s(e,r,t){if(r)o(e.prototype,r);if(t)o(e,t);return e}var c=function(){function e(r,t,a){i(this,e);this.bytes=new Uint8Array(r);this.start=0;this.pos=0;this.end=r;this.chunkSize=t;this.loadedChunks=[];this.numChunksLoaded=0;this.numChunks=Math.ceil(r/t);this.manager=a;this.progressiveDataLength=0;this.lastSuccessfulEnsureByteChunk=-1}s(e,[{key:"getMissingChunks",value:function e(){var r=[];for(var t=0,a=this.numChunks;t<a;++t){if(!this.loadedChunks[t]){r.push(t)}}return r}},{key:"getBaseStreams",value:function e(){return[this]}},{key:"allChunksLoaded",value:function e(){return this.numChunksLoaded===this.numChunks}},{key:"onReceiveData",value:function e(r,t){var a=this.chunkSize;if(r%a!==0){throw new Error("Bad begin offset: ".concat(r))}var n=r+t.byteLength;if(n%a!==0&&n!==this.bytes.length){throw new Error("Bad end offset: ".concat(n))}this.bytes.set(new Uint8Array(t),r);var i=Math.floor(r/a);var o=Math.floor((n-1)/a)+1;for(var s=i;s<o;++s){if(!this.loadedChunks[s]){this.loadedChunks[s]=true;++this.numChunksLoaded}}}},{key:"onReceiveProgressiveData",value:function e(r){var t=this.progressiveDataLength;var a=Math.floor(t/this.chunkSize);this.bytes.set(new Uint8Array(r),t);t+=r.byteLength;this.progressiveDataLength=t;var n=t>=this.end?this.numChunks:Math.floor(t/this.chunkSize);for(var i=a;i<n;++i){if(!this.loadedChunks[i]){this.loadedChunks[i]=true;++this.numChunksLoaded}}}},{key:"ensureByte",value:function e(r){if(r<this.progressiveDataLength){return}var t=Math.floor(r/this.chunkSize);if(t===this.lastSuccessfulEnsureByteChunk){return}if(!this.loadedChunks[t]){throw new n.MissingDataException(r,r+1)}this.lastSuccessfulEnsureByteChunk=t}},{key:"ensureRange",value:function e(r,t){if(r>=t){return}if(t<=this.progressiveDataLength){return}var a=this.chunkSize;var i=Math.floor(r/a);var o=Math.floor((t-1)/a)+1;for(var s=i;s<o;++s){if(!this.loadedChunks[s]){throw new n.MissingDataException(r,t)}}}},{key:"nextEmptyChunk",value:function e(r){var t=this.numChunks;for(var a=0;a<t;++a){var n=(r+a)%t;if(!this.loadedChunks[n]){return n}}return null}},{key:"hasChunk",value:function e(r){return!!this.loadedChunks[r]}},{key:"getByte",value:function e(){var r=this.pos;if(r>=this.end){return-1}if(r>=this.progressiveDataLength){this.ensureByte(r)}return this.bytes[this.pos++]}},{key:"getUint16",value:function e(){var r=this.getByte();var t=this.getByte();if(r===-1||t===-1){return-1}return(r<<8)+t}},{key:"getInt32",value:function e(){var r=this.getByte();var t=this.getByte();var a=this.getByte();var n=this.getByte();return(r<<24)+(t<<16)+(a<<8)+n}},{key:"getBytes",value:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=this.bytes;var n=this.pos;var i=this.end;if(!r){if(i>this.progressiveDataLength){this.ensureRange(n,i)}var o=a.subarray(n,i);return t?new Uint8ClampedArray(o):o}var s=n+r;if(s>i){s=i}if(s>this.progressiveDataLength){this.ensureRange(n,s)}this.pos=s;var c=a.subarray(n,s);return t?new Uint8ClampedArray(c):c}},{key:"peekByte",value:function e(){var r=this.getByte();this.pos--;return r}},{key:"peekBytes",value:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=this.getBytes(r,t);this.pos-=a.length;return a}},{key:"getByteRange",value:function e(r,t){if(r<0){r=0}if(t>this.end){t=this.end}if(t>this.progressiveDataLength){this.ensureRange(r,t)}return this.bytes.subarray(r,t)}},{key:"skip",value:function e(r){if(!r){r=1}this.pos+=r}},{key:"reset",value:function e(){this.pos=this.start}},{key:"moveStart",value:function e(){this.start=this.pos}},{key:"makeSubStream",value:function e(r,t,a){if(t){if(r+t>this.progressiveDataLength){this.ensureRange(r,r+t)}}else{if(r>=this.progressiveDataLength){this.ensureByte(r)}}function n(){}n.prototype=Object.create(this);n.prototype.getMissingChunks=function(){var e=this.chunkSize;var r=Math.floor(this.start/e);var t=Math.floor((this.end-1)/e)+1;var a=[];for(var n=r;n<t;++n){if(!this.loadedChunks[n]){a.push(n)}}return a};var i=new n;i.pos=i.start=r;i.end=r+t||this.end;i.dict=a;return i}},{key:"length",get:function e(){return this.end-this.start}},{key:"isEmpty",get:function e(){return this.length===0}}]);return e}();r.ChunkedStream=c;var l=function(){function e(r,t){i(this,e);this.length=t.length;this.chunkSize=t.rangeChunkSize;this.stream=new c(this.length,this.chunkSize,this);this.pdfNetworkStream=r;this.disableAutoFetch=t.disableAutoFetch;this.msgHandler=t.msgHandler;this.currRequestId=0;this.chunksNeededByRequest=Object.create(null);this.requestsByChunk=Object.create(null);this.promisesByRequest=Object.create(null);this.progressiveDataLength=0;this.aborted=false;this._loadedStreamCapability=(0,a.createPromiseCapability)()}s(e,[{key:"onLoadedStream",value:function e(){return this._loadedStreamCapability.promise}},{key:"sendRequest",value:function e(r,t){var n=this;var i=this.pdfNetworkStream.getRangeReader(r,t);if(!i.isStreamingSupported){i.onProgress=this.onProgress.bind(this)}var o=[],s=0;var c=new Promise(function(e,r){var t=function t(c){try{if(!c.done){var l=c.value;o.push(l);s+=(0,a.arrayByteLength)(l);if(i.isStreamingSupported){n.onProgress({loaded:s})}i.read().then(t,r);return}var u=(0,a.arraysToBytes)(o);o=null;e(u)}catch(e){r(e)}};i.read().then(t,r)});c.then(function(e){if(n.aborted){return}n.onReceiveData({chunk:e,begin:r})})}},{key:"requestAllChunks",value:function e(){var r=this.stream.getMissingChunks();this._requestChunks(r);return this._loadedStreamCapability.promise}},{key:"_requestChunks",value:function e(r){var t=this.currRequestId++;var n=Object.create(null);this.chunksNeededByRequest[t]=n;var i=true;var o=false;var s=undefined;try{for(var c=r[Symbol.iterator](),l;!(i=(l=c.next()).done);i=true){var u=l.value;if(!this.stream.hasChunk(u)){n[u]=true}}}catch(e){o=true;s=e}finally{try{if(!i&&c["return"]!=null){c["return"]()}}finally{if(o){throw s}}}if((0,a.isEmptyObj)(n)){return Promise.resolve()}var f=(0,a.createPromiseCapability)();this.promisesByRequest[t]=f;var h=[];for(var d in n){d=d|0;if(!(d in this.requestsByChunk)){this.requestsByChunk[d]=[];h.push(d)}this.requestsByChunk[d].push(t)}if(!h.length){return f.promise}var v=this.groupChunks(h);var g=true;var p=false;var m=undefined;try{for(var b=v[Symbol.iterator](),y;!(g=(y=b.next()).done);g=true){var w=y.value;var k=w.beginChunk*this.chunkSize;var S=Math.min(w.endChunk*this.chunkSize,this.length);this.sendRequest(k,S)}}catch(e){p=true;m=e}finally{try{if(!g&&b["return"]!=null){b["return"]()}}finally{if(p){throw m}}}return f.promise}},{key:"getStream",value:function e(){return this.stream}},{key:"requestRange",value:function e(r,t){t=Math.min(t,this.length);var a=this.getBeginChunk(r);var n=this.getEndChunk(t);var i=[];for(var o=a;o<n;++o){i.push(o)}return this._requestChunks(i)}},{key:"requestRanges",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var t=[];var a=true;var n=false;var i=undefined;try{for(var o=r[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){var c=s.value;var l=this.getBeginChunk(c.begin);var u=this.getEndChunk(c.end);for(var f=l;f<u;++f){if(!t.includes(f)){t.push(f)}}}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null){o["return"]()}}finally{if(n){throw i}}}t.sort(function(e,r){return e-r});return this._requestChunks(t)}},{key:"groupChunks",value:function e(r){var t=[];var a=-1;var n=-1;for(var i=0,o=r.length;i<o;++i){var s=r[i];if(a<0){a=s}if(n>=0&&n+1!==s){t.push({beginChunk:a,endChunk:n+1});a=s}if(i+1===r.length){t.push({beginChunk:a,endChunk:s+1})}n=s}return t}},{key:"onProgress",value:function e(r){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+r.loaded,total:this.length})}},{key:"onReceiveData",value:function e(r){var t=r.chunk;var n=r.begin===undefined;var i=n?this.progressiveDataLength:r.begin;var o=i+t.byteLength;var s=Math.floor(i/this.chunkSize);var c=o<this.length?Math.floor(o/this.chunkSize):Math.ceil(o/this.chunkSize);if(n){this.stream.onReceiveProgressiveData(t);this.progressiveDataLength=o}else{this.stream.onReceiveData(i,t)}if(this.stream.allChunksLoaded()){this._loadedStreamCapability.resolve(this.stream)}var l=[];for(var u=s;u<c;++u){var f=this.requestsByChunk[u]||[];delete this.requestsByChunk[u];var h=true;var d=false;var v=undefined;try{for(var g=f[Symbol.iterator](),p;!(h=(p=g.next()).done);h=true){var m=p.value;var b=this.chunksNeededByRequest[m];if(u in b){delete b[u]}if(!(0,a.isEmptyObj)(b)){continue}l.push(m)}}catch(e){d=true;v=e}finally{try{if(!h&&g["return"]!=null){g["return"]()}}finally{if(d){throw v}}}}if(!this.disableAutoFetch&&(0,a.isEmptyObj)(this.requestsByChunk)){var y;if(this.stream.numChunksLoaded===1){var w=this.stream.numChunks-1;if(!this.stream.hasChunk(w)){y=w}}else{y=this.stream.nextEmptyChunk(c)}if(Number.isInteger(y)){this._requestChunks([y])}}for(var k=0,S=l;k<S.length;k++){var x=S[k];var C=this.promisesByRequest[x];delete this.promisesByRequest[x];C.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}},{key:"onError",value:function e(r){this._loadedStreamCapability.reject(r)}},{key:"getBeginChunk",value:function e(r){return Math.floor(r/this.chunkSize)}},{key:"getEndChunk",value:function e(r){return Math.floor((r-1)/this.chunkSize)+1}},{key:"abort",value:function e(r){this.aborted=true;if(this.pdfNetworkStream){this.pdfNetworkStream.cancelAllRequests(r)}for(var t in this.promisesByRequest){this.promisesByRequest[t].reject(r)}}}]);return e}();r.ChunkedStreamManager=l},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getLookupTableFactory=f;r.getInheritableProperty=g;r.toRomanNumerals=m;r.XRefParseException=r.XRefEntryException=r.MissingDataException=void 0;var a=t(5);function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(r){return typeof r}}else{n=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return n(e)}function i(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function o(e,r){if(r&&(n(r)==="object"||typeof r==="function")){return r}return s(e)}function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return c(e)}function l(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)u(e,r)}function u(e,r){u=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return u(e,r)}function f(e){var r;return function(){if(e){r=Object.create(null);e(r);e=null}return r}}var h=function(e){l(r,e);function r(e,t){var a;i(this,r);a=o(this,c(r).call(this,"Missing data [".concat(e,", ").concat(t,")")));a.begin=e;a.end=t;return a}return r}(a.BaseException);r.MissingDataException=h;var d=function(e){l(r,e);function r(){i(this,r);return o(this,c(r).apply(this,arguments))}return r}(a.BaseException);r.XRefEntryException=d;var v=function(e){l(r,e);function r(){i(this,r);return o(this,c(r).apply(this,arguments))}return r}(a.BaseException);r.XRefParseException=v;function g(e){var r=e.dict,t=e.key,n=e.getArray,i=n===void 0?false:n,o=e.stopWhenFound,s=o===void 0?true:o;var c=100;var l=0;var u;while(r){var f=i?r.getArray(t):r.get(t);if(f!==undefined){if(s){return f}if(!u){u=[]}u.push(f)}if(++l>c){(0,a.warn)('getInheritableProperty: maximum loop count exceeded for "'.concat(t,'"'));break}r=r.get("Parent")}return u}var p=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function m(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;(0,a.assert)(Number.isInteger(e)&&e>0,"The number should be a positive integer.");var t,n=[];while(e>=1e3){e-=1e3;n.push("M")}t=e/100|0;e%=100;n.push(p[t]);t=e/10|0;e%=10;n.push(p[10+t]);n.push(p[20+e]);var i=n.join("");return r?i.toLowerCase():i}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PDFDocument=r.Page=void 0;var a=t(5);var n=t(188);var i=t(183);var o=t(186);var s=t(190);var c=t(202);var l=t(200);var u=t(189);var f=t(203);var h=t(204);var d=t(218);function v(e,r){return m(e)||p(e,r)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p(e,r){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var t=[];var a=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){t.push(s.value);if(r&&t.length===r)break}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(n)throw i}}return t}function m(e){if(Array.isArray(e))return e}function b(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function y(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function w(e,r,t){if(r)y(e.prototype,r);if(t)y(e,t);return e}var k=1;var S=[0,0,612,792];function x(e,r){return r==="display"&&e.viewable||r==="print"&&e.printable}var C=function(){function e(r){var t=r.pdfManager,a=r.xref,n=r.pageIndex,i=r.pageDict,o=r.ref,s=r.fontCache,c=r.builtInCMapCache,l=r.pdfFunctionFactory;b(this,e);this.pdfManager=t;this.pageIndex=n;this.pageDict=i;this.xref=a;this.ref=o;this.fontCache=s;this.builtInCMapCache=c;this.pdfFunctionFactory=l;this.evaluatorOptions=t.evaluatorOptions;this.resourcesPromise=null;var u={obj:0};this.idFactory={createObjId:function e(){return"p".concat(n,"_").concat(++u.obj)},getDocId:function e(){return"g_".concat(t.docId)}}}w(e,[{key:"_getInheritableProperty",value:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=(0,o.getInheritableProperty)({dict:this.pageDict,key:r,getArray:t,stopWhenFound:false});if(!Array.isArray(a)){return a}if(a.length===1||!(0,i.isDict)(a[0])){return a[0]}return i.Dict.merge(this.xref,a)}},{key:"_getBoundingBox",value:function e(r){var t=this._getInheritableProperty(r,true);if(Array.isArray(t)&&t.length===4){if(t[2]-t[0]!==0&&t[3]-t[1]!==0){return t}(0,a.warn)("Empty /".concat(r," entry."))}return null}},{key:"getContentStream",value:function e(){var r=this.content;var t;if(Array.isArray(r)){var a=this.xref;var n=[];var o=true;var c=false;var l=undefined;try{for(var u=r[Symbol.iterator](),f;!(o=(f=u.next()).done);o=true){var h=f.value;n.push(a.fetchIfRef(h))}}catch(e){c=true;l=e}finally{try{if(!o&&u["return"]!=null){u["return"]()}}finally{if(c){throw l}}}t=new s.StreamsSequenceStream(n)}else if((0,i.isStream)(r)){t=r}else{t=new s.NullStream}return t}},{key:"loadResources",value:function e(r){var t=this;if(!this.resourcesPromise){this.resourcesPromise=this.pdfManager.ensure(this,"resources")}return this.resourcesPromise.then(function(){var e=new n.ObjectLoader(t.resources,r,t.xref);return e.load()})}},{key:"getOperatorList",value:function e(r){var t=this;var n=r.handler,i=r.sink,o=r.task,s=r.intent,c=r.renderInteractiveForms;var l=this.pdfManager.ensure(this,"getContentStream");var u=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]);var d=new h.PartialEvaluator({xref:this.xref,handler:n,pageIndex:this.pageIndex,idFactory:this.idFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,options:this.evaluatorOptions,pdfFunctionFactory:this.pdfFunctionFactory});var g=Promise.all([l,u]);var p=g.then(function(e){var r=v(e,1),a=r[0];var c=new f.OperatorList(s,i,t.pageIndex);n.send("StartRenderPage",{transparency:d.hasBlendModes(t.resources),pageIndex:t.pageIndex,intent:s});return d.getOperatorList({stream:a,task:o,resources:t.resources,operatorList:c}).then(function(){return c})});return Promise.all([p,this._parsedAnnotations]).then(function(e){var r=v(e,2),t=r[0],n=r[1];if(n.length===0){t.flush(true);return{length:t.totalLength}}var i=[];var l=true;var u=false;var f=undefined;try{for(var h=n[Symbol.iterator](),g;!(l=(g=h.next()).done);l=true){var p=g.value;if(x(p,s)){i.push(p.getOperatorList(d,o,c))}}}catch(e){u=true;f=e}finally{try{if(!l&&h["return"]!=null){h["return"]()}}finally{if(u){throw f}}}return Promise.all(i).then(function(e){t.addOp(a.OPS.beginAnnotations,[]);var r=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done);r=true){var c=s.value;t.addOpList(c)}}catch(e){n=true;i=e}finally{try{if(!r&&o["return"]!=null){o["return"]()}}finally{if(n){throw i}}}t.addOp(a.OPS.endAnnotations,[]);t.flush(true);return{length:t.totalLength}})})}},{key:"extractTextContent",value:function e(r){var t=this;var a=r.handler,n=r.task,i=r.normalizeWhitespace,o=r.sink,s=r.combineTextItems;var c=this.pdfManager.ensure(this,"getContentStream");var l=this.loadResources(["ExtGState","XObject","Font"]);var u=Promise.all([c,l]);return u.then(function(e){var r=v(e,1),c=r[0];var l=new h.PartialEvaluator({xref:t.xref,handler:a,pageIndex:t.pageIndex,idFactory:t.idFactory,fontCache:t.fontCache,builtInCMapCache:t.builtInCMapCache,options:t.evaluatorOptions,pdfFunctionFactory:t.pdfFunctionFactory});return l.getTextContent({stream:c,task:n,resources:t.resources,normalizeWhitespace:i,combineTextItems:s,sink:o})})}},{key:"getAnnotationsData",value:function e(r){return this._parsedAnnotations.then(function(e){var t=[];for(var a=0,n=e.length;a<n;a++){if(!r||x(e[a],r)){t.push(e[a].data)}}return t})}},{key:"content",get:function e(){return this.pageDict.get("Contents")}},{key:"resources",get:function e(){return(0,a.shadow)(this,"resources",this._getInheritableProperty("Resources")||i.Dict.empty)}},{key:"mediaBox",get:function e(){return(0,a.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||S)}},{key:"cropBox",get:function e(){return(0,a.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}},{key:"userUnit",get:function e(){var r=this.pageDict.get("UserUnit");if(!(0,a.isNum)(r)||r<=0){r=k}return(0,a.shadow)(this,"userUnit",r)}},{key:"view",get:function e(){var r=this.cropBox,t=this.mediaBox;var n;if(r===t||(0,a.isArrayEqual)(r,t)){n=t}else{var i=a.Util.intersect(r,t);if(i&&i[2]-i[0]!==0&&i[3]-i[1]!==0){n=i}else{(0,a.warn)("Empty /CropBox and /MediaBox intersection.")}}return(0,a.shadow)(this,"view",n||t)}},{key:"rotate",get:function e(){var r=this._getInheritableProperty("Rotate")||0;if(r%90!==0){r=0}else if(r>=360){r=r%360}else if(r<0){r=(r%360+360)%360}return(0,a.shadow)(this,"rotate",r)}},{key:"annotations",get:function e(){return(0,a.shadow)(this,"annotations",this._getInheritableProperty("Annots")||[])}},{key:"_parsedAnnotations",get:function e(){var r=this;var t=this.pdfManager.ensure(this,"annotations").then(function(){var e=r.annotations;var t=[];for(var n=0,i=e.length;n<i;n++){t.push(c.AnnotationFactory.create(r.xref,e[n],r.pdfManager,r.idFactory))}return Promise.all(t).then(function(e){return e.filter(function e(r){return!!r})},function(e){(0,a.warn)('_parsedAnnotations: "'.concat(e,'".'));return[]})});return(0,a.shadow)(this,"_parsedAnnotations",t)}}]);return e}();r.Page=C;var A=1024;var O="\0\0\0\0\0\0\0"+"\0\0\0\0\0\0\0\0\0";function P(e,r,t){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;(0,a.assert)(t>0,'The "limit" must be a positive integer.');var i=(0,a.bytesToString)(e.peekBytes(t));var o=n?i.lastIndexOf(r):i.indexOf(r);if(o===-1){return false}e.pos+=o;return true}var I=function(){function e(r,t){b(this,e);var o;if((0,i.isStream)(t)){o=t}else if((0,a.isArrayBuffer)(t)){o=new s.Stream(t)}else{throw new Error("PDFDocument: Unknown argument type")}if(o.length<=0){throw new Error("PDFDocument: Stream must have data")}this.pdfManager=r;this.stream=o;this.xref=new n.XRef(o,r);this.pdfFunctionFactory=new d.PDFFunctionFactory({xref:this.xref,isEvalSupported:r.evaluatorOptions.isEvalSupported});this._pagePromises=[]}w(e,[{key:"parse",value:function e(r){this.setup(r);var t=this.catalog.catDict.get("Version");if((0,i.isName)(t)){this.pdfFormatVersion=t.name}try{this.acroForm=this.catalog.catDict.get("AcroForm");if(this.acroForm){this.xfa=this.acroForm.get("XFA");var n=this.acroForm.get("Fields");if((!Array.isArray(n)||n.length===0)&&!this.xfa){this.acroForm=null}}}catch(e){if(e instanceof o.MissingDataException){throw e}(0,a.info)("Cannot fetch AcroForm entry; assuming no AcroForms are present");this.acroForm=null}try{var s=this.catalog.catDict.get("Collection");if((0,i.isDict)(s)&&s.getKeys().length>0){this.collection=s}}catch(e){if(e instanceof o.MissingDataException){throw e}(0,a.info)("Cannot fetch Collection dictionary.")}}},{key:"checkHeader",value:function e(){var r=this.stream;r.reset();if(!P(r,"%PDF-",1024)){return}r.moveStart();var t=12;var a="",n;while((n=r.getByte())>32){if(a.length>=t){break}a+=String.fromCharCode(n)}if(!this.pdfFormatVersion){this.pdfFormatVersion=a.substring(5)}}},{key:"parseStartXRef",value:function e(){this.xref.setStartXRef(this.startXRef)}},{key:"setup",value:function e(r){this.xref.parse(r);this.catalog=new n.Catalog(this.pdfManager,this.xref)}},{key:"_getLinearizationPage",value:function e(r){var t=this.catalog,n=this.linearization;(0,a.assert)(n&&n.pageFirst===r);var o=i.Ref.get(n.objectNumberFirst,0);return this.xref.fetchAsync(o).then(function(e){if((0,i.isDict)(e,"Page")||(0,i.isDict)(e)&&!e.has("Type")&&e.has("Contents")){if(o&&!t.pageKidsCountCache.has(o)){t.pageKidsCountCache.put(o,1)}return[e,o]}throw new a.FormatError("The Linearization dictionary doesn't point "+"to a valid Page dictionary.")})["catch"](function(e){(0,a.info)(e);return t.getPageDict(r)})}},{key:"getPage",value:function e(r){var t=this;if(this._pagePromises[r]!==undefined){return this._pagePromises[r]}var a=this.catalog,n=this.linearization;var i=n&&n.pageFirst===r?this._getLinearizationPage(r):a.getPageDict(r);return this._pagePromises[r]=i.then(function(e){var n=v(e,2),i=n[0],o=n[1];return new C({pdfManager:t.pdfManager,xref:t.xref,pageIndex:r,pageDict:i,ref:o,fontCache:a.fontCache,builtInCMapCache:a.builtInCMapCache,pdfFunctionFactory:t.pdfFunctionFactory})})}},{key:"checkFirstPage",value:function e(){var r=this;return this.getPage(0)["catch"](function(e){if(e instanceof o.XRefEntryException){r._pagePromises.length=0;r.cleanup();throw new o.XRefParseException}})}},{key:"fontFallback",value:function e(r,t){return this.catalog.fontFallback(r,t)}},{key:"cleanup",value:function e(){return this.catalog.cleanup()}},{key:"linearization",get:function e(){var r=null;try{r=u.Linearization.create(this.stream)}catch(e){if(e instanceof o.MissingDataException){throw e}(0,a.info)(e)}return(0,a.shadow)(this,"linearization",r)}},{key:"startXRef",get:function e(){var r=this.stream;var t=0;if(this.linearization){r.reset();if(P(r,"endobj",1024)){t=r.pos+6}}else{var n=1024;var i="startxref".length;var o=false,s=r.end;while(!o&&s>0){s-=n-i;if(s<0){s=0}r.pos=s;o=P(r,"startxref",n,true)}if(o){r.skip(9);var c;do{c=r.getByte()}while((0,a.isSpace)(c));var l="";while(c>=32&&c<=57){l+=String.fromCharCode(c);c=r.getByte()}t=parseInt(l,10);if(isNaN(t)){t=0}}}return(0,a.shadow)(this,"startXRef",t)}},{key:"numPages",get:function e(){var r=this.linearization;var t=r?r.numPages:this.catalog.numPages;return(0,a.shadow)(this,"numPages",t)}},{key:"documentInfo",get:function e(){var r={Title:a.isString,Author:a.isString,Subject:a.isString,Keywords:a.isString,Creator:a.isString,Producer:a.isString,CreationDate:a.isString,ModDate:a.isString,Trapped:i.isName};var t={PDFFormatVersion:this.pdfFormatVersion,IsLinearized:!!this.linearization,IsAcroFormPresent:!!this.acroForm,IsXFAPresent:!!this.xfa,IsCollectionPresent:!!this.collection};var n;try{n=this.xref.trailer.get("Info")}catch(e){if(e instanceof o.MissingDataException){throw e}(0,a.info)("The document information dictionary is invalid.")}if((0,i.isDict)(n)){var s=true;var c=false;var l=undefined;try{for(var u=n.getKeys()[Symbol.iterator](),f;!(s=(f=u.next()).done);s=true){var h=f.value;var d=n.get(h);if(r[h]){if(r[h](d)){t[h]=typeof d!=="string"?d:(0,a.stringToPDFString)(d)}else{(0,a.info)('Bad value in document info for "'.concat(h,'".'))}}else if(typeof h==="string"){var v=void 0;if((0,a.isString)(d)){v=(0,a.stringToPDFString)(d)}else if((0,i.isName)(d)||(0,a.isNum)(d)||(0,a.isBool)(d)){v=d}else{(0,a.info)('Unsupported value in document info for (custom) "'.concat(h,'".'));continue}if(!t["Custom"]){t["Custom"]=Object.create(null)}t["Custom"][h]=v}}}catch(e){c=true;l=e}finally{try{if(!s&&u["return"]!=null){u["return"]()}}finally{if(c){throw l}}}}return(0,a.shadow)(this,"documentInfo",t)}},{key:"fingerprint",get:function e(){var r;var t=this.xref.trailer.get("ID");if(Array.isArray(t)&&t[0]&&(0,a.isString)(t[0])&&t[0]!==O){r=(0,a.stringToBytes)(t[0])}else{r=(0,l.calculateMD5)(this.stream.getByteRange(0,A),0,A)}var n=[];for(var i=0,o=r.length;i<o;i++){var s=r[i].toString(16);n.push(s.padStart(2,"0"))}return(0,a.shadow)(this,"fingerprint",n.join(""))}}]);return e}();r.PDFDocument=I},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.FileSpec=r.XRef=r.ObjectLoader=r.Catalog=void 0;var a=f(t(2));var n=t(5);var i=t(183);var o=t(189);var s=t(186);var c=t(185);var l=t(200);var u=t(201);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,r){if(r&&(x(r)==="object"||typeof r==="function")){return r}return d(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return v(e)}function g(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)p(e,r)}function p(e,r){p=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return p(e,r)}function m(e,r,t,a,n,i,o){try{var s=e[i](o);var c=s.value}catch(e){t(e);return}if(s.done){r(c)}else{Promise.resolve(c).then(a,n)}}function b(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=e.apply(r,t);function o(e){m(i,a,n,o,s,"next",e)}function s(e){m(i,a,n,o,s,"throw",e)}o(undefined)})}}function y(e,r){return S(e)||k(e,r)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function k(e,r){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var t=[];var a=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){t.push(s.value);if(r&&t.length===r)break}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(n)throw i}}return t}function S(e){if(Array.isArray(e))return e}function x(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){x=function e(r){return typeof r}}else{x=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return x(e)}function C(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function A(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function O(e,r,t){if(r)A(e.prototype,r);if(t)A(e,t);return e}function P(e){return(0,i.isDict)(e)?e.get("D"):e}var I=function(){function e(r,t){C(this,e);this.pdfManager=r;this.xref=t;this.catDict=t.getCatalogObj();if(!(0,i.isDict)(this.catDict)){throw new n.FormatError("Catalog object is not a dictionary.")}this.fontCache=new i.RefSetCache;this.builtInCMapCache=new Map;this.pageKidsCountCache=new i.RefSetCache}O(e,[{key:"_readDocumentOutline",value:function r(){var t=this.catDict.get("Outlines");if(!(0,i.isDict)(t)){return null}t=t.getRaw("First");if(!(0,i.isRef)(t)){return null}var a={items:[]};var o=[{obj:t,parent:a}];var s=new i.RefSet;s.put(t);var c=this.xref,l=new Uint8ClampedArray(3);while(o.length>0){var f=o.shift();var h=c.fetchIfRef(f.obj);if(h===null){continue}if(!h.has("Title")){throw new n.FormatError("Invalid outline item encountered.")}var d={url:null,dest:null};e.parseDestDictionary({destDict:h,resultObj:d,docBaseUrl:this.pdfManager.docBaseUrl});var v=h.get("Title");var g=h.get("F")||0;var p=h.getArray("C");var m=h.get("Count");var b=l;if(Array.isArray(p)&&p.length===3&&(p[0]!==0||p[1]!==0||p[2]!==0)){b=u.ColorSpace.singletons.rgb.getRgb(p,0)}var y={dest:d.dest,url:d.url,unsafeUrl:d.unsafeUrl,newWindow:d.newWindow,title:(0,n.stringToPDFString)(v),color:b,count:Number.isInteger(m)?m:undefined,bold:!!(g&2),italic:!!(g&1),items:[]};f.parent.items.push(y);t=h.getRaw("First");if((0,i.isRef)(t)&&!s.has(t)){o.push({obj:t,parent:y});s.put(t)}t=h.getRaw("Next");if((0,i.isRef)(t)&&!s.has(t)){o.push({obj:t,parent:f.parent});s.put(t)}}return a.items.length>0?a.items:null}},{key:"_readPermissions",value:function e(){var r=this.xref.trailer.get("Encrypt");if(!(0,i.isDict)(r)){return null}var t=r.get("P");if(!(0,n.isNum)(t)){return null}t+=Math.pow(2,32);var a=[];for(var o in n.PermissionFlag){var s=n.PermissionFlag[o];if(t&s){a.push(s)}}return a}},{key:"getDestination",value:function e(r){var t=this._readDests();if(t instanceof F||t instanceof i.Dict){return P(t.get(r)||null)}return null}},{key:"_readDests",value:function e(){var r=this.catDict.get("Names");if(r&&r.has("Dests")){return new F(r.getRaw("Dests"),this.xref)}else if(this.catDict.has("Dests")){return this.catDict.get("Dests")}return undefined}},{key:"_readPageLabels",value:function e(){var r=this.catDict.getRaw("PageLabels");if(!r){return null}var t=new Array(this.numPages);var a=null,o="";var c=new B(r,this.xref);var l=c.getAll();var u="",f=1;for(var h=0,d=this.numPages;h<d;h++){if(h in l){var v=l[h];if(!(0,i.isDict)(v)){throw new n.FormatError("PageLabel is not a dictionary.")}if(v.has("Type")&&!(0,i.isName)(v.get("Type"),"PageLabel")){throw new n.FormatError("Invalid type in PageLabel dictionary.")}if(v.has("S")){var g=v.get("S");if(!(0,i.isName)(g)){throw new n.FormatError("Invalid style in PageLabel dictionary.")}a=g.name}else{a=null}if(v.has("P")){var p=v.get("P");if(!(0,n.isString)(p)){throw new n.FormatError("Invalid prefix in PageLabel dictionary.")}o=(0,n.stringToPDFString)(p)}else{o=""}if(v.has("St")){var m=v.get("St");if(!(Number.isInteger(m)&&m>=1)){throw new n.FormatError("Invalid start in PageLabel dictionary.")}f=m}else{f=1}}switch(a){case"D":u=f;break;case"R":case"r":u=(0,s.toRomanNumerals)(f,a==="r");break;case"A":case"a":var b=26;var y=65,w=97;var k=a==="a"?w:y;var S=f-1;var x=String.fromCharCode(k+S%b);var C=[];for(var A=0,O=S/b|0;A<=O;A++){C.push(x)}u=C.join("");break;default:if(a){throw new n.FormatError('Invalid style "'.concat(a,'" in PageLabel dictionary.'))}u=""}t[h]=o+u;f++}return t}},{key:"fontFallback",value:function e(r,t){var a=[];this.fontCache.forEach(function(e){a.push(e)});return Promise.all(a).then(function(e){var a=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){var c=s.value;if(c.loadedName===r){c.fallback(t);return}}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null){o["return"]()}}finally{if(n){throw i}}}})}},{key:"cleanup",value:function e(){var r=this;(0,i.clearPrimitiveCaches)();this.pageKidsCountCache.clear();var t=[];this.fontCache.forEach(function(e){t.push(e)});return Promise.all(t).then(function(e){for(var t=0,a=e.length;t<a;t++){var n=e[t].dict;delete n.translated}r.fontCache.clear();r.builtInCMapCache.clear()})}},{key:"getPageDict",value:function e(r){var t=(0,n.createPromiseCapability)();var a=[this.catDict.getRaw("Pages")];var o=this.xref,s=this.pageKidsCountCache;var c,l=0;function u(){var e=function e(){var f=a.pop();if((0,i.isRef)(f)){c=s.get(f);if(c>0&&l+c<r){l+=c;return"continue"}o.fetchAsync(f).then(function(e){if((0,i.isDict)(e,"Page")||(0,i.isDict)(e)&&!e.has("Kids")){if(r===l){if(f&&!s.has(f)){s.put(f,1)}t.resolve([e,f])}else{l++;u()}return}a.push(e);u()},t.reject);return{v:void 0}}if(!(0,i.isDict)(f)){t.reject(new n.FormatError("Page dictionary kid reference points to wrong type of object."));return{v:void 0}}c=f.get("Count");if(Number.isInteger(c)&&c>=0){var h=f.objId;if(h&&!s.has(h)){s.put(h,c)}if(l+c<=r){l+=c;return"continue"}}var d=f.get("Kids");if(!Array.isArray(d)){if((0,i.isName)(f.get("Type"),"Page")||!f.has("Type")&&f.has("Contents")){if(l===r){t.resolve([f,null]);return{v:void 0}}l++;return"continue"}t.reject(new n.FormatError("Page dictionary kids object is not an array."));return{v:void 0}}for(var v=d.length-1;v>=0;v--){a.push(d[v])}};while(a.length){var f=e();switch(f){case"continue":continue;default:if(x(f)==="object")return f.v}}t.reject(new Error("Page index ".concat(r," not found.")))}u();return t.promise}},{key:"getPageIndex",value:function e(r){var t=this.xref;function a(e){var a=0,o;return t.fetchAsync(e).then(function(t){if((0,i.isRefsEqual)(e,r)&&!(0,i.isDict)(t,"Page")&&!((0,i.isDict)(t)&&!t.has("Type")&&t.has("Contents"))){throw new n.FormatError("The reference does not point to a /Page dictionary.")}if(!t){return null}if(!(0,i.isDict)(t)){throw new n.FormatError("Node must be a dictionary.")}o=t.getRaw("Parent");return t.getAsync("Parent")}).then(function(e){if(!e){return null}if(!(0,i.isDict)(e)){throw new n.FormatError("Parent must be a dictionary.")}return e.getAsync("Kids")}).then(function(r){if(!r){return null}var s=[];var c=false;for(var l=0,u=r.length;l<u;l++){var f=r[l];if(!(0,i.isRef)(f)){throw new n.FormatError("Kid must be a reference.")}if((0,i.isRefsEqual)(f,e)){c=true;break}s.push(t.fetchAsync(f).then(function(e){if(!(0,i.isDict)(e)){throw new n.FormatError("Kid node must be a dictionary.")}if(e.has("Count")){a+=e.get("Count")}else{a++}}))}if(!c){throw new n.FormatError("Kid reference not found in parent's kids.")}return Promise.all(s).then(function(){return[a,o]})})}var o=0;function s(e){return a(e).then(function(e){if(!e){return o}var r=y(e,2),t=r[0],a=r[1];o+=t;return s(a)})}return s(r)}},{key:"metadata",get:function e(){var r=this.catDict.getRaw("Metadata");if(!(0,i.isRef)(r)){return(0,n.shadow)(this,"metadata",null)}var t=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata);var a=this.xref.fetch(r,t);var o;if(a&&(0,i.isDict)(a.dict)){var c=a.dict.get("Type");var l=a.dict.get("Subtype");if((0,i.isName)(c,"Metadata")&&(0,i.isName)(l,"XML")){try{o=(0,n.stringToUTF8String)((0,n.bytesToString)(a.getBytes()))}catch(e){if(e instanceof s.MissingDataException){throw e}(0,n.info)("Skipping invalid metadata.")}}}return(0,n.shadow)(this,"metadata",o)}},{key:"toplevelPagesDict",get:function e(){var r=this.catDict.get("Pages");if(!(0,i.isDict)(r)){throw new n.FormatError("Invalid top-level pages dictionary.")}return(0,n.shadow)(this,"toplevelPagesDict",r)}},{key:"documentOutline",get:function e(){var r=null;try{r=this._readDocumentOutline()}catch(e){if(e instanceof s.MissingDataException){throw e}(0,n.warn)("Unable to read document outline.")}return(0,n.shadow)(this,"documentOutline",r)}},{key:"permissions",get:function e(){var r=null;try{r=this._readPermissions()}catch(e){if(e instanceof s.MissingDataException){throw e}(0,n.warn)("Unable to read permissions.")}return(0,n.shadow)(this,"permissions",r)}},{key:"numPages",get:function e(){var r=this.toplevelPagesDict.get("Count");if(!Number.isInteger(r)){throw new n.FormatError("Page count in top-level pages dictionary is not an integer.")}return(0,n.shadow)(this,"numPages",r)}},{key:"destinations",get:function e(){var r=this._readDests(),t=Object.create(null);if(r instanceof F){var a=r.getAll();for(var o in a){t[o]=P(a[o])}}else if(r instanceof i.Dict){r.forEach(function(e,r){if(r){t[e]=P(r)}})}return(0,n.shadow)(this,"destinations",t)}},{key:"pageLabels",get:function e(){var r=null;try{r=this._readPageLabels()}catch(e){if(e instanceof s.MissingDataException){throw e}(0,n.warn)("Unable to read page labels.")}return(0,n.shadow)(this,"pageLabels",r)}},{key:"pageLayout",get:function e(){var r=this.catDict.get("PageLayout");var t="";if((0,i.isName)(r)){switch(r.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":t=r.name}}return(0,n.shadow)(this,"pageLayout",t)}},{key:"pageMode",get:function e(){var r=this.catDict.get("PageMode");var t="UseNone";if((0,i.isName)(r)){switch(r.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":t=r.name}}return(0,n.shadow)(this,"pageMode",t)}},{key:"viewerPreferences",get:function e(){var r=this;var t={HideToolbar:n.isBool,HideMenubar:n.isBool,HideWindowUI:n.isBool,FitWindow:n.isBool,CenterWindow:n.isBool,DisplayDocTitle:n.isBool,NonFullScreenPageMode:i.isName,Direction:i.isName,ViewArea:i.isName,ViewClip:i.isName,PrintArea:i.isName,PrintClip:i.isName,PrintScaling:i.isName,Duplex:i.isName,PickTrayByPDFSize:n.isBool,PrintPageRange:Array.isArray,NumCopies:Number.isInteger};var a=this.catDict.get("ViewerPreferences");var o=Object.create(null);if((0,i.isDict)(a)){for(var s in t){if(!a.has(s)){continue}var c=a.get(s);if(!t[s](c)){(0,n.info)('Bad value in ViewerPreferences for "'.concat(s,'".'));continue}var l=void 0;switch(s){case"NonFullScreenPageMode":switch(c.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":l=c.name;break;default:l="UseNone"}break;case"Direction":switch(c.name){case"L2R":case"R2L":l=c.name;break;default:l="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":switch(c.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":l=c.name;break;default:l="CropBox"}break;case"PrintScaling":switch(c.name){case"None":case"AppDefault":l=c.name;break;default:l="AppDefault"}break;case"Duplex":switch(c.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":l=c.name;break;default:l="None"}break;case"PrintPageRange":var u=c.length;if(u%2!==0){break}var f=c.every(function(e,t,a){return Number.isInteger(e)&&e>0&&(t===0||e>=a[t-1])&&e<=r.numPages});if(f){l=c}break;case"NumCopies":if(c>0){l=c}break;default:(0,n.assert)(typeof c==="boolean");l=c}if(l!==undefined){o[s]=l}else{(0,n.info)('Bad value in ViewerPreferences for "'.concat(s,'".'))}}}return(0,n.shadow)(this,"viewerPreferences",o)}},{key:"openActionDestination",get:function r(){var t=this.catDict.get("OpenAction");var a=null;if((0,i.isDict)(t)){var o=new i.Dict(this.xref);o.set("A",t);var s={url:null,dest:null};e.parseDestDictionary({destDict:o,resultObj:s});if(Array.isArray(s.dest)){a=s.dest}}else if(Array.isArray(t)){a=t}return(0,n.shadow)(this,"openActionDestination",a)}},{key:"attachments",get:function e(){var r=this.catDict.get("Names");var t=null;if(r&&r.has("EmbeddedFiles")){var a=new F(r.getRaw("EmbeddedFiles"),this.xref);var i=a.getAll();for(var o in i){var s=new _(i[o],this.xref);if(!t){t=Object.create(null)}t[(0,n.stringToPDFString)(o)]=s.serializable}}return(0,n.shadow)(this,"attachments",t)}},{key:"javaScript",get:function e(){var r=this.catDict.get("Names");var t=null;function a(e){var r=e.get("S");if(!(0,i.isName)(r,"JavaScript")){return}var a=e.get("JS");if((0,i.isStream)(a)){a=(0,n.bytesToString)(a.getBytes())}else if(!(0,n.isString)(a)){return}if(!t){t=[]}t.push((0,n.stringToPDFString)(a))}if(r&&r.has("JavaScript")){var o=new F(r.getRaw("JavaScript"),this.xref);var s=o.getAll();for(var c in s){var l=s[c];if((0,i.isDict)(l)){a(l)}}}var u=this.catDict.get("OpenAction");if((0,i.isDict)(u,"Action")){var f=u.get("S");if((0,i.isName)(f,"Named")){var h=u.get("N");if((0,i.isName)(h,"Print")){if(!t){t=[]}t.push("print({});")}}else{a(u)}}return(0,n.shadow)(this,"javaScript",t)}}],[{key:"parseDestDictionary",value:function e(r){function t(e){return e.startsWith("www.")?"http://".concat(e):e}function a(e){try{return(0,n.stringToUTF8String)(e)}catch(r){return e}}var o=r.destDict;if(!(0,i.isDict)(o)){(0,n.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}var s=r.resultObj;if(x(s)!=="object"){(0,n.warn)("parseDestDictionary: `resultObj` must be an object.");return}var c=r.docBaseUrl||null;var l=o.get("A"),u,f;if(!(0,i.isDict)(l)&&o.has("Dest")){l=o.get("Dest")}if((0,i.isDict)(l)){var h=l.get("S");if(!(0,i.isName)(h)){(0,n.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}var d=h.name;switch(d){case"URI":u=l.get("URI");if((0,i.isName)(u)){u="/"+u.name}else if((0,n.isString)(u)){u=t(u)}break;case"GoTo":f=l.get("D");break;case"Launch":case"GoToR":var v=l.get("F");if((0,i.isDict)(v)){u=v.get("F")||null}else if((0,n.isString)(v)){u=v}var g=l.get("D");if(g){if((0,i.isName)(g)){g=g.name}if((0,n.isString)(u)){var p=u.split("#")[0];if((0,n.isString)(g)){u=p+"#"+g}else if(Array.isArray(g)){u=p+"#"+JSON.stringify(g)}}}var m=l.get("NewWindow");if((0,n.isBool)(m)){s.newWindow=m}break;case"Named":var b=l.get("N");if((0,i.isName)(b)){s.action=b.name}break;case"JavaScript":var y=l.get("JS");var w;if((0,i.isStream)(y)){w=(0,n.bytesToString)(y.getBytes())}else if((0,n.isString)(y)){w=y}if(w){var k=["app.launchURL","window.open"];var S=new RegExp("^\\s*("+k.join("|").split(".").join("\\.")+")\\((?:'|\")([^'\"]*)(?:'|\")(?:,\\s*(\\w+)\\)|\\))","i");var C=S.exec((0,n.stringToPDFString)(w));if(C&&C[2]){u=C[2];if(C[3]==="true"&&C[1]==="app.launchURL"){s.newWindow=true}break}}default:(0,n.warn)('parseDestDictionary: unsupported action type "'.concat(d,'".'));break}}else if(o.has("Dest")){f=o.get("Dest")}if((0,n.isString)(u)){u=a(u);var A=(0,n.createValidAbsoluteUrl)(u,c);if(A){s.url=A.href}s.unsafeUrl=u}if(f){if((0,i.isName)(f)){f=f.name}if((0,n.isString)(f)||Array.isArray(f)){s.dest=f}}}}]);return e}();r.Catalog=I;var T=function e(){function r(e,r){this.stream=e;this.pdfManager=r;this.entries=[];this.xrefstms=Object.create(null);this._cacheMap=new Map;this.stats={streamTypes:Object.create(null),fontTypes:Object.create(null)}}r.prototype={setStartXRef:function e(r){this.startXRefQueue=[r]},parse:function e(r){var t;if(!r){t=this.readXRef()}else{(0,n.warn)("Indexing all PDF objects");t=this.indexObjects()}t.assignXref(this);this.trailer=t;var a;try{a=t.get("Encrypt")}catch(e){if(e instanceof s.MissingDataException){throw e}(0,n.warn)('XRef.parse - Invalid "Encrypt" reference: "'.concat(e,'".'))}if((0,i.isDict)(a)){var o=t.get("ID");var c=o&&o.length?o[0]:"";a.suppressEncryption=true;this.encrypt=new l.CipherTransformFactory(a,c,this.pdfManager.password)}var u;try{u=t.get("Root")}catch(e){if(e instanceof s.MissingDataException){throw e}(0,n.warn)('XRef.parse - Invalid "Root" reference: "'.concat(e,'".'))}if((0,i.isDict)(u)&&u.has("Pages")){this.root=u}else{if(!r){throw new s.XRefParseException}throw new n.FormatError("Invalid root reference")}},processXRefTable:function e(r){if(!("tableState"in this)){this.tableState={entryNum:0,streamPos:r.lexer.stream.pos,parserBuf1:r.buf1,parserBuf2:r.buf2}}var t=this.readXRefTable(r);if(!(0,i.isCmd)(t,"trailer")){throw new n.FormatError("Invalid XRef table: could not find trailer dictionary")}var a=r.getObj();if(!(0,i.isDict)(a)&&a.dict){a=a.dict}if(!(0,i.isDict)(a)){throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary")}delete this.tableState;return a},readXRefTable:function e(r){var t=r.lexer.stream;var a=this.tableState;t.pos=a.streamPos;r.buf1=a.parserBuf1;r.buf2=a.parserBuf2;var o;while(true){if(!("firstEntryNum"in a)||!("entryCount"in a)){if((0,i.isCmd)(o=r.getObj(),"trailer")){break}a.firstEntryNum=o;a.entryCount=r.getObj()}var s=a.firstEntryNum;var c=a.entryCount;if(!Number.isInteger(s)||!Number.isInteger(c)){throw new n.FormatError("Invalid XRef table: wrong types in subsection header")}for(var l=a.entryNum;l<c;l++){a.streamPos=t.pos;a.entryNum=l;a.parserBuf1=r.buf1;a.parserBuf2=r.buf2;var u={};u.offset=r.getObj();u.gen=r.getObj();var f=r.getObj();if(f instanceof i.Cmd){switch(f.cmd){case"f":u.free=true;break;case"n":u.uncompressed=true;break}}if(!Number.isInteger(u.offset)||!Number.isInteger(u.gen)||!(u.free||u.uncompressed)){throw new n.FormatError("Invalid entry in XRef subsection: ".concat(s,", ").concat(c))}if(l===0&&u.free&&s===1){s=0}if(!this.entries[l+s]){this.entries[l+s]=u}}a.entryNum=0;a.streamPos=t.pos;a.parserBuf1=r.buf1;a.parserBuf2=r.buf2;delete a.firstEntryNum;delete a.entryCount}if(this.entries[0]&&!this.entries[0].free){throw new n.FormatError("Invalid XRef table: unexpected first object")}return o},processXRefStream:function e(r){if(!("streamState"in this)){var t=r.dict;var a=t.get("W");var n=t.get("Index");if(!n){n=[0,t.get("Size")]}this.streamState={entryRanges:n,byteWidths:a,entryNum:0,streamPos:r.pos}}this.readXRefStream(r);delete this.streamState;return r.dict},readXRefStream:function e(r){var t,a;var i=this.streamState;r.pos=i.streamPos;var o=i.byteWidths;var s=o[0];var c=o[1];var l=o[2];var u=i.entryRanges;while(u.length>0){var f=u[0];var h=u[1];if(!Number.isInteger(f)||!Number.isInteger(h)){throw new n.FormatError("Invalid XRef range fields: ".concat(f,", ").concat(h))}if(!Number.isInteger(s)||!Number.isInteger(c)||!Number.isInteger(l)){throw new n.FormatError("Invalid XRef entry fields length: ".concat(f,", ").concat(h))}for(t=i.entryNum;t<h;++t){i.entryNum=t;i.streamPos=r.pos;var d=0,v=0,g=0;for(a=0;a<s;++a){d=d<<8|r.getByte()}if(s===0){d=1}for(a=0;a<c;++a){v=v<<8|r.getByte()}for(a=0;a<l;++a){g=g<<8|r.getByte()}var p={};p.offset=v;p.gen=g;switch(d){case 0:p.free=true;break;case 1:p.uncompressed=true;break;case 2:break;default:throw new n.FormatError("Invalid XRef entry type: ".concat(d))}if(!this.entries[f+t]){this.entries[f+t]=p}}i.entryNum=0;i.streamPos=r.pos;u.splice(0,2)}},indexObjects:function e(){var r=9,t=10,a=13,c=32;var l=37,u=60;function f(e,r){var n="",i=e[r];while(i!==t&&i!==a&&i!==u){if(++r>=e.length){break}n+=String.fromCharCode(i);i=e[r]}return n}function h(e,r,t){var a=t.length,n=e.length;var i=0;while(r<n){var o=0;while(o<a&&e[r+o]===t[o]){++o}if(o>=a){break}r++;i++}return i}var d=/^(\d+)\s+(\d+)\s+obj\b/;var v=/\bendobj[\b\s]$/;var g=/\s+(\d+\s+\d+\s+obj[\b\s<])$/;var p=25;var m=new Uint8Array([116,114,97,105,108,101,114]);var b=new Uint8Array([115,116,97,114,116,120,114,101,102]);var y=new Uint8Array([111,98,106]);var w=new Uint8Array([47,88,82,101,102]);this.entries.length=0;var k=this.stream;k.pos=0;var S=k.getBytes();var x=k.start,C=S.length;var A=[],O=[];while(x<C){var P=S[x];if(P===r||P===t||P===a||P===c){++x;continue}if(P===l){do{++x;if(x>=C){break}P=S[x]}while(P!==t&&P!==a);continue}var I=f(S,x);var T;if(I.startsWith("xref")&&(I.length===4||/\s/.test(I[4]))){x+=h(S,x,m);A.push(x);x+=h(S,x,b)}else if(T=d.exec(I)){var E=T[1]|0,F=T[2]|0;if(typeof this.entries[E]==="undefined"){this.entries[E]={offset:x-k.start,gen:F,uncompressed:true}}var B=void 0,_=x+I.length;while(_<S.length){var R=_+h(S,_,y)+4;B=R-x;var L=Math.max(R-p,_);var M=(0,n.bytesToString)(S.subarray(L,R));if(v.test(M)){break}else{var D=g.exec(M);if(D&&D[1]){(0,n.warn)('indexObjects: Found new "obj" inside of another "obj", '+'caused by missing "endobj" -- trying to recover.');B-=D[1].length;break}}_=R}var N=S.subarray(x,x+B);var U=h(N,0,w);if(U<B&&N[U+5]<64){O.push(x-k.start);this.xrefstms[x-k.start]=1}x+=B}else if(I.startsWith("trailer")&&(I.length===7||/\s/.test(I[7]))){A.push(x);x+=h(S,x,b)}else{x+=I.length+1}}var j,q;for(j=0,q=O.length;j<q;++j){this.startXRefQueue.push(O[j]);this.readXRef(true)}var z;for(j=0,q=A.length;j<q;++j){k.pos=A[j];var H=new o.Parser({lexer:new o.Lexer(k),xref:this,allowStreams:true,recoveryMode:true});var G=H.getObj();if(!(0,i.isCmd)(G,"trailer")){continue}var W=H.getObj();if(!(0,i.isDict)(W)){continue}var X=void 0;try{X=W.get("Root")}catch(e){if(e instanceof s.MissingDataException){throw e}continue}if(!(0,i.isDict)(X)||!X.has("Pages")){continue}if(W.has("ID")){return W}z=W}if(z){return z}throw new n.InvalidPDFException("Invalid PDF structure")},readXRef:function e(r){var t=this.stream;var a=Object.create(null);try{while(this.startXRefQueue.length){var c=this.startXRefQueue[0];if(a[c]){(0,n.warn)("readXRef - skipping XRef table since it was already parsed.");this.startXRefQueue.shift();continue}a[c]=true;t.pos=c+t.start;var l=new o.Parser({lexer:new o.Lexer(t),xref:this,allowStreams:true});var u=l.getObj();var f;if((0,i.isCmd)(u,"xref")){f=this.processXRefTable(l);if(!this.topDict){this.topDict=f}u=f.get("XRefStm");if(Number.isInteger(u)){var h=u;if(!(h in this.xrefstms)){this.xrefstms[h]=1;this.startXRefQueue.push(h)}}}else if(Number.isInteger(u)){if(!Number.isInteger(l.getObj())||!(0,i.isCmd)(l.getObj(),"obj")||!(0,i.isStream)(u=l.getObj())){throw new n.FormatError("Invalid XRef stream")}f=this.processXRefStream(u);if(!this.topDict){this.topDict=f}if(!f){throw new n.FormatError("Failed to read XRef stream")}}else{throw new n.FormatError("Invalid XRef stream header")}u=f.get("Prev");if(Number.isInteger(u)){this.startXRefQueue.push(u)}else if((0,i.isRef)(u)){this.startXRefQueue.push(u.num)}this.startXRefQueue.shift()}return this.topDict}catch(e){if(e instanceof s.MissingDataException){throw e}(0,n.info)("(while reading XRef): "+e)}if(r){return undefined}throw new s.XRefParseException},getEntry:function e(r){var t=this.entries[r];if(t&&!t.free&&t.offset){return t}return null},fetchIfRef:function e(r,t){if(r instanceof i.Ref){return this.fetch(r,t)}return r},fetch:function e(r,t){if(!(r instanceof i.Ref)){throw new Error("ref object is not a reference")}var a=r.num;if(this._cacheMap.has(a)){var n=this._cacheMap.get(a);if(n instanceof i.Dict&&!n.objId){n.objId=r.toString()}return n}var o=this.getEntry(a);if(o===null){this._cacheMap.set(a,o);return o}if(o.uncompressed){o=this.fetchUncompressed(r,o,t)}else{o=this.fetchCompressed(r,o,t)}if((0,i.isDict)(o)){o.objId=r.toString()}else if((0,i.isStream)(o)){o.dict.objId=r.toString()}return o},fetchUncompressed:function e(r,t){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=r.gen;var c=r.num;if(t.gen!==n){throw new s.XRefEntryException("Inconsistent generation in XRef: ".concat(r))}var l=this.stream.makeSubStream(t.offset+this.stream.start);var u=new o.Parser({lexer:new o.Lexer(l),xref:this,allowStreams:true});var f=u.getObj();var h=u.getObj();var d=u.getObj();if(!Number.isInteger(f)){f=parseInt(f,10)}if(!Number.isInteger(h)){h=parseInt(h,10)}if(f!==c||h!==n||!(d instanceof i.Cmd)){throw new s.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(r))}if(d.cmd!=="obj"){if(d.cmd.startsWith("obj")){c=parseInt(d.cmd.substring(3),10);if(!Number.isNaN(c)){return c}}throw new s.XRefEntryException("Bad (uncompressed) XRef entry: ".concat(r))}if(this.encrypt&&!a){t=u.getObj(this.encrypt.createCipherTransform(c,n))}else{t=u.getObj()}if(!(0,i.isStream)(t)){this._cacheMap.set(c,t)}return t},fetchCompressed:function e(r,t){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var c=t.offset;var l=this.fetch(i.Ref.get(c,0));if(!(0,i.isStream)(l)){throw new n.FormatError("bad ObjStm stream")}var u=l.dict.get("First");var f=l.dict.get("N");if(!Number.isInteger(u)||!Number.isInteger(f)){throw new n.FormatError("invalid first and n parameters for ObjStm stream")}var h=new o.Parser({lexer:new o.Lexer(l),xref:this,allowStreams:true});var d,v=[],g,p=[];for(d=0;d<f;++d){g=h.getObj();if(!Number.isInteger(g)){throw new n.FormatError("invalid object number in the ObjStm stream: ".concat(g))}p.push(g);var m=h.getObj();if(!Number.isInteger(m)){throw new n.FormatError("invalid object offset in the ObjStm stream: ".concat(m))}}for(d=0;d<f;++d){v.push(h.getObj());if((0,i.isCmd)(h.buf1,"endobj")){h.shift()}g=p[d];var b=this.entries[g];if(b&&b.offset===c&&b.gen===d){this._cacheMap.set(g,v[d])}}t=v[t.gen];if(t===undefined){throw new s.XRefEntryException("Bad (compressed) XRef entry: ".concat(r))}return t},fetchIfRefAsync:function(){var e=b(a["default"].mark(function e(r,t){return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:if(!(r instanceof i.Ref)){a.next=2;break}return a.abrupt("return",this.fetchAsync(r,t));case 2:return a.abrupt("return",r);case 3:case"end":return a.stop()}}},e,this)}));function r(r,t){return e.apply(this,arguments)}return r}(),fetchAsync:function(){var e=b(a["default"].mark(function e(r,t){return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:a.prev=0;return a.abrupt("return",this.fetch(r,t));case 4:a.prev=4;a.t0=a["catch"](0);if(a.t0 instanceof s.MissingDataException){a.next=8;break}throw a.t0;case 8:a.next=10;return this.pdfManager.requestRange(a.t0.begin,a.t0.end);case 10:return a.abrupt("return",this.fetchAsync(r,t));case 11:case"end":return a.stop()}}},e,this,[[0,4]])}));function r(r,t){return e.apply(this,arguments)}return r}(),getCatalogObj:function e(){return this.root}};return r}();r.XRef=T;var E=function(){function e(r,t,a){C(this,e);if(this.constructor===e){(0,n.unreachable)("Cannot initialize NameOrNumberTree.")}this.root=r;this.xref=t;this._type=a}O(e,[{key:"getAll",value:function e(){var r=Object.create(null);if(!this.root){return r}var t=this.xref;var a=new i.RefSet;a.put(this.root);var o=[this.root];while(o.length>0){var s=t.fetchIfRef(o.shift());if(!(0,i.isDict)(s)){continue}if(s.has("Kids")){var c=s.get("Kids");for(var l=0,u=c.length;l<u;l++){var f=c[l];if(a.has(f)){throw new n.FormatError('Duplicate entry in "'.concat(this._type,'" tree.'))}o.push(f);a.put(f)}continue}var h=s.get(this._type);if(Array.isArray(h)){for(var d=0,v=h.length;d<v;d+=2){r[t.fetchIfRef(h[d])]=t.fetchIfRef(h[d+1])}}}return r}},{key:"get",value:function e(r){if(!this.root){return null}var t=this.xref;var a=t.fetchIfRef(this.root);var i=0;var o=10;while(a.has("Kids")){if(++i>o){(0,n.warn)('Search depth limit reached for "'.concat(this._type,'" tree.'));return null}var s=a.get("Kids");if(!Array.isArray(s)){return null}var c=0,l=s.length-1;while(c<=l){var u=c+l>>1;var f=t.fetchIfRef(s[u]);var h=f.get("Limits");if(r<t.fetchIfRef(h[0])){l=u-1}else if(r>t.fetchIfRef(h[1])){c=u+1}else{a=t.fetchIfRef(s[u]);break}}if(c>l){return null}}var d=a.get(this._type);if(Array.isArray(d)){var v=0,g=d.length-2;while(v<=g){var p=v+g>>1,m=p+(p&1);var b=t.fetchIfRef(d[m]);if(r<b){g=m-2}else if(r>b){v=m+2}else{return t.fetchIfRef(d[m+1])}}(0,n.info)('Falling back to an exhaustive search, for key "'.concat(r,'", ')+'in "'.concat(this._type,'" tree.'));for(var y=0,w=d.length;y<w;y+=2){var k=t.fetchIfRef(d[y]);if(k===r){(0,n.warn)('The "'.concat(r,'" key was found at an incorrect, ')+'i.e. out-of-order, position in "'.concat(this._type,'" tree.'));return t.fetchIfRef(d[y+1])}}}return null}}]);return e}();var F=function(e){g(r,e);function r(e,t){C(this,r);return h(this,v(r).call(this,e,t,"Names"))}return r}(E);var B=function(e){g(r,e);function r(e,t){C(this,r);return h(this,v(r).call(this,e,t,"Nums"))}return r}(E);var _=function e(){function r(e,r){if(!e||!(0,i.isDict)(e)){return}this.xref=r;this.root=e;if(e.has("FS")){this.fs=e.get("FS")}this.description=e.has("Desc")?(0,n.stringToPDFString)(e.get("Desc")):"";if(e.has("RF")){(0,n.warn)("Related file specifications are not supported")}this.contentAvailable=true;if(!e.has("EF")){this.contentAvailable=false;(0,n.warn)("Non-embedded file specifications are not supported")}}function t(e){if(e.has("UF")){return e.get("UF")}else if(e.has("F")){return e.get("F")}else if(e.has("Unix")){return e.get("Unix")}else if(e.has("Mac")){return e.get("Mac")}else if(e.has("DOS")){return e.get("DOS")}return null}r.prototype={get filename(){if(!this._filename&&this.root){var e=t(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(e).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename},get content(){if(!this.contentAvailable){return null}if(!this.contentRef&&this.root){this.contentRef=t(this.root.get("EF"))}var e=null;if(this.contentRef){var r=this.xref;var a=r.fetchIfRef(this.contentRef);if(a&&(0,i.isStream)(a)){e=a.getBytes()}else{(0,n.warn)("Embedded file specification points to non-existing/invalid "+"content")}}else{(0,n.warn)("Embedded file specification does not have a content")}return e},get serializable(){return{filename:this.filename,content:this.content}}};return r}();r.FileSpec=_;var R=function(){function e(e){return(0,i.isRef)(e)||(0,i.isDict)(e)||Array.isArray(e)||(0,i.isStream)(e)}function r(r,t){if((0,i.isDict)(r)||(0,i.isStream)(r)){var a=(0,i.isDict)(r)?r:r.dict;var n=a.getKeys();for(var o=0,s=n.length;o<s;o++){var c=a.getRaw(n[o]);if(e(c)){t.push(c)}}}else if(Array.isArray(r)){for(var l=0,u=r.length;l<u;l++){var f=r[l];if(e(f)){t.push(f)}}}}function t(e,r,t){this.dict=e;this.keys=r;this.xref=t;this.refSet=null;this.capability=null}t.prototype={load:function e(){this.capability=(0,n.createPromiseCapability)();if(!(this.xref.stream instanceof c.ChunkedStream)||this.xref.stream.getMissingChunks().length===0){this.capability.resolve();return this.capability.promise}var r=this.keys,t=this.dict;this.refSet=new i.RefSet;var a=[];for(var o=0,s=r.length;o<s;o++){var l=t.getRaw(r[o]);if(l!==undefined){a.push(l)}}this._walk(a);return this.capability.promise},_walk:function e(t){var a=this;var n=[];var o=[];while(t.length){var c=t.pop();if((0,i.isRef)(c)){if(this.refSet.has(c)){continue}try{this.refSet.put(c);c=this.xref.fetch(c)}catch(e){if(!(e instanceof s.MissingDataException)){throw e}n.push(c);o.push({begin:e.begin,end:e.end})}}if(c&&c.getBaseStreams){var l=c.getBaseStreams();var u=false;for(var f=0,h=l.length;f<h;f++){var d=l[f];if(d.getMissingChunks&&d.getMissingChunks().length){u=true;o.push({begin:d.start,end:d.end})}}if(u){n.push(c)}}r(c,t)}if(o.length){this.xref.stream.manager.requestRanges(o).then(function(){for(var e=0,r=n.length;e<r;e++){var t=n[e];if((0,i.isRef)(t)){a.refSet.remove(t)}}a._walk(n)},this.capability.reject);return}this.refSet=null;this.capability.resolve()}};return t}();r.ObjectLoader=R},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Parser=r.Linearization=r.Lexer=void 0;var a=t(190);var n=t(5);var i=t(183);var o=t(191);var s=t(193);var c=t(196);var l=t(198);var u=t(186);function f(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function h(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function d(e,r,t){if(r)h(e.prototype,r);if(t)h(e,t);return e}var v=1e3;var g=5552;function p(e){var r=e.length;var t=1,a=0;for(var n=0;n<r;++n){t+=e[n]&255;a+=t}return a%65521<<16|t%65521}var m=function(){function e(r){var t=r.lexer,a=r.xref,n=r.allowStreams,i=n===void 0?false:n,o=r.recoveryMode,s=o===void 0?false:o;f(this,e);this.lexer=t;this.xref=a;this.allowStreams=i;this.recoveryMode=s;this.imageCache=Object.create(null);this.refill()}d(e,[{key:"refill",value:function e(){this.buf1=this.lexer.getObj();this.buf2=this.lexer.getObj()}},{key:"shift",value:function e(){if(this.buf2 instanceof i.Cmd&&this.buf2.cmd==="ID"){this.buf1=this.buf2;this.buf2=null}else{this.buf1=this.buf2;this.buf2=this.lexer.getObj()}}},{key:"tryShift",value:function e(){try{this.shift();return true}catch(e){if(e instanceof u.MissingDataException){throw e}return false}}},{key:"getObj",value:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var t=this.buf1;this.shift();if(t instanceof i.Cmd){switch(t.cmd){case"BI":return this.makeInlineImage(r);case"[":var a=[];while(!(0,i.isCmd)(this.buf1,"]")&&!(0,i.isEOF)(this.buf1)){a.push(this.getObj(r))}if((0,i.isEOF)(this.buf1)){if(!this.recoveryMode){throw new n.FormatError("End of file inside array")}return a}this.shift();return a;case"<<":var o=new i.Dict(this.xref);while(!(0,i.isCmd)(this.buf1,">>")&&!(0,i.isEOF)(this.buf1)){if(!(0,i.isName)(this.buf1)){(0,n.info)("Malformed dictionary: key must be a name object");this.shift();continue}var s=this.buf1.name;this.shift();if((0,i.isEOF)(this.buf1)){break}o.set(s,this.getObj(r))}if((0,i.isEOF)(this.buf1)){if(!this.recoveryMode){throw new n.FormatError("End of file inside dictionary")}return o}if((0,i.isCmd)(this.buf2,"stream")){return this.allowStreams?this.makeStream(o,r):o}this.shift();return o;default:return t}}if(Number.isInteger(t)){if(Number.isInteger(this.buf1)&&(0,i.isCmd)(this.buf2,"R")){var c=i.Ref.get(t,this.buf1);this.shift();this.shift();return c}return t}if(typeof t==="string"){if(r){return r.decryptString(t)}return t}return t}},{key:"findDefaultInlineStreamEnd",value:function e(r){var t=69,a=73,i=32,o=10,s=13;var c=10,l=0;var u=r.pos,f=0,h,d;while((h=r.getByte())!==-1){if(f===0){f=h===t?1:0}else if(f===1){f=h===a?2:0}else{(0,n.assert)(f===2);if(h===i||h===o||h===s){d=r.pos;var v=r.peekBytes(c);for(var g=0,p=v.length;g<p;g++){h=v[g];if(h===l&&v[g+1]!==l){continue}if(h!==o&&h!==s&&(h<i||h>127)){f=0;break}}if(f===2){break}}else{f=0}}}if(h===-1){(0,n.warn)("findDefaultInlineStreamEnd: "+"Reached the end of the stream without finding a valid EI marker");if(d){(0,n.warn)('... trying to recover by using the last "EI" occurrence.');r.skip(-(r.pos-d))}}var m=4;r.skip(-m);h=r.peekByte();r.skip(m);if(!(0,n.isSpace)(h)){m--}return r.pos-m-u}},{key:"findDCTDecodeInlineStreamEnd",value:function e(r){var t=r.pos,a=false,i,o,s;while((i=r.getByte())!==-1){if(i!==255){continue}switch(r.getByte()){case 0:break;case 255:r.skip(-1);break;case 217:a=true;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:o=r.getUint16();if(o>2){r.skip(o-2)}else{r.skip(-2)}break}if(a){break}}s=r.pos-t;if(i===-1){(0,n.warn)("Inline DCTDecode image stream: "+"EOI marker not found, searching for /EI/ instead.");r.skip(-s);return this.findDefaultInlineStreamEnd(r)}this.inlineStreamSkipEI(r);return s}},{key:"findASCII85DecodeInlineStreamEnd",value:function e(r){var t=126,a=62;var i=r.pos,o,s;while((o=r.getByte())!==-1){if(o===t){o=r.peekByte();while((0,n.isSpace)(o)){r.skip();o=r.peekByte()}if(o===a){r.skip();break}}}s=r.pos-i;if(o===-1){(0,n.warn)("Inline ASCII85Decode image stream: "+"EOD marker not found, searching for /EI/ instead.");r.skip(-s);return this.findDefaultInlineStreamEnd(r)}this.inlineStreamSkipEI(r);return s}},{key:"findASCIIHexDecodeInlineStreamEnd",value:function e(r){var t=62;var a=r.pos,i,o;while((i=r.getByte())!==-1){if(i===t){break}}o=r.pos-a;if(i===-1){(0,n.warn)("Inline ASCIIHexDecode image stream: "+"EOD marker not found, searching for /EI/ instead.");r.skip(-o);return this.findDefaultInlineStreamEnd(r)}this.inlineStreamSkipEI(r);return o}},{key:"inlineStreamSkipEI",value:function e(r){var t=69,a=73;var n=0,i;while((i=r.getByte())!==-1){if(n===0){n=i===t?1:0}else if(n===1){n=i===a?2:0}else if(n===2){break}}}},{key:"makeInlineImage",value:function e(r){var t=this.lexer;var a=t.stream;var o=new i.Dict(this.xref);var s;while(!(0,i.isCmd)(this.buf1,"ID")&&!(0,i.isEOF)(this.buf1)){if(!(0,i.isName)(this.buf1)){throw new n.FormatError("Dictionary key must be a name object")}var c=this.buf1.name;this.shift();if((0,i.isEOF)(this.buf1)){break}o.set(c,this.getObj(r))}if(t.beginInlineImagePos!==-1){s=a.pos-t.beginInlineImagePos}var l=o.get("Filter","F");var u;if((0,i.isName)(l)){u=l.name}else if(Array.isArray(l)){var f=this.xref.fetchIfRef(l[0]);if((0,i.isName)(f)){u=f.name}}var h=a.pos;var d;if(u==="DCTDecode"||u==="DCT"){d=this.findDCTDecodeInlineStreamEnd(a)}else if(u==="ASCII85Decode"||u==="A85"){d=this.findASCII85DecodeInlineStreamEnd(a)}else if(u==="ASCIIHexDecode"||u==="AHx"){d=this.findASCIIHexDecodeInlineStreamEnd(a)}else{d=this.findDefaultInlineStreamEnd(a)}var m=a.makeSubStream(h,d,o);var b;if(d<v&&s<g){var y=m.getBytes();m.reset();var w=a.pos;a.pos=t.beginInlineImagePos;var k=a.getBytes(s);a.pos=w;b=p(y)+"_"+p(k);var S=this.imageCache[b];if(S!==undefined){this.buf2=i.Cmd.get("EI");this.shift();S.reset();return S}}if(r){m=r.createStream(m,d)}m=this.filter(m,o,d);m.dict=o;if(b!==undefined){m.cacheKey="inline_".concat(d,"_").concat(b);this.imageCache[b]=m}this.buf2=i.Cmd.get("EI");this.shift();return m}},{key:"_findStreamLength",value:function e(r,t){var a=this.lexer.stream;a.pos=r;var n=2048;var i=t.length;while(a.pos<a.end){var o=a.peekBytes(n);var s=o.length-i;if(s<=0){break}var c=0;while(c<s){var l=0;while(l<i&&o[c+l]===t[l]){l++}if(l>=i){a.pos+=c;return a.pos-r}c++}a.pos+=s}return-1}},{key:"makeStream",value:function e(r,t){var a=this.lexer;var o=a.stream;a.skipToNextLine();var s=o.pos-1;var c=r.get("Length");if(!Number.isInteger(c)){(0,n.info)('Bad length "'.concat(c,'" in stream'));c=0}o.pos=s+c;a.nextChar();if(this.tryShift()&&(0,i.isCmd)(this.buf2,"endstream")){this.shift()}else{var l=new Uint8Array([101,110,100,115,116,114,101,97,109]);var u=this._findStreamLength(s,l);if(u<0){var f=1;for(var h=1;h<=f;h++){var d=l.length-h;var v=l.slice(0,d);var g=this._findStreamLength(s,v);if(g>=0){var p=o.peekBytes(d+1)[d];if(!(0,n.isSpace)(p)){break}(0,n.info)('Found "'.concat((0,n.bytesToString)(v),'" when ')+"searching for endstream command.");u=g;break}}if(u<0){throw new n.FormatError("Missing endstream command.")}}c=u;a.nextChar();this.shift();this.shift()}this.shift();o=o.makeSubStream(s,c,r);if(t){o=t.createStream(o,c)}o=this.filter(o,r,c);o.dict=r;return o}},{key:"filter",value:function e(r,t,a){var e=t.get("Filter","F");var o=t.get("DecodeParms","DP");if((0,i.isName)(e)){if(Array.isArray(o)){(0,n.warn)("/DecodeParms should not contain an Array, "+"when /Filter contains a Name.")}return this.makeFilter(r,e.name,a,o)}var s=a;if(Array.isArray(e)){var c=e;var l=o;for(var u=0,f=c.length;u<f;++u){e=this.xref.fetchIfRef(c[u]);if(!(0,i.isName)(e)){throw new n.FormatError('Bad filter name "'.concat(e,'"'))}o=null;if(Array.isArray(l)&&u in l){o=this.xref.fetchIfRef(l[u])}r=this.makeFilter(r,e.name,s,o);s=null}}return r}},{key:"makeFilter",value:function e(r,t,i,f){if(i===0){(0,n.warn)('Empty "'.concat(t,'" stream.'));return new a.NullStream}try{var h=this.xref.stats.streamTypes;if(t==="FlateDecode"||t==="Fl"){h[n.StreamType.FLATE]=true;if(f){return new a.PredictorStream(new a.FlateStream(r,i),i,f)}return new a.FlateStream(r,i)}if(t==="LZWDecode"||t==="LZW"){h[n.StreamType.LZW]=true;var d=1;if(f){if(f.has("EarlyChange")){d=f.get("EarlyChange")}return new a.PredictorStream(new a.LZWStream(r,i,d),i,f)}return new a.LZWStream(r,i,d)}if(t==="DCTDecode"||t==="DCT"){h[n.StreamType.DCT]=true;return new c.JpegStream(r,i,r.dict,f)}if(t==="JPXDecode"||t==="JPX"){h[n.StreamType.JPX]=true;return new l.JpxStream(r,i,r.dict,f)}if(t==="ASCII85Decode"||t==="A85"){h[n.StreamType.A85]=true;return new a.Ascii85Stream(r,i)}if(t==="ASCIIHexDecode"||t==="AHx"){h[n.StreamType.AHX]=true;return new a.AsciiHexStream(r,i)}if(t==="CCITTFaxDecode"||t==="CCF"){h[n.StreamType.CCF]=true;return new o.CCITTFaxStream(r,i,f)}if(t==="RunLengthDecode"||t==="RL"){h[n.StreamType.RLX]=true;return new a.RunLengthStream(r,i)}if(t==="JBIG2Decode"){h[n.StreamType.JBIG]=true;return new s.Jbig2Stream(r,i,r.dict,f)}(0,n.warn)('Filter "'.concat(t,'" is not supported.'));return r}catch(e){if(e instanceof u.MissingDataException){throw e}(0,n.warn)('Invalid stream: "'.concat(e,'"'));return new a.NullStream}}}]);return e}();r.Parser=m;var b=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function y(e){if(e>=48&&e<=57){return e&15}if(e>=65&&e<=70||e>=97&&e<=102){return(e&15)+9}return-1}var w=function(){function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;f(this,e);this.stream=r;this.nextChar();this.strBuf=[];this.knownCommands=t;this.beginInlineImagePos=-1}d(e,[{key:"nextChar",value:function e(){return this.currentChar=this.stream.getByte()}},{key:"peekChar",value:function e(){return this.stream.peekByte()}},{key:"getNumber",value:function e(){var r=this.currentChar;var t=false;var a=0;var i=0;if(r===45){i=-1;r=this.nextChar();if(r===45){r=this.nextChar()}}else if(r===43){i=1;r=this.nextChar()}if(r===10||r===13){do{r=this.nextChar()}while(r===10||r===13)}if(r===46){a=10;r=this.nextChar()}if(r<48||r>57){if(a===10&&i===0&&((0,n.isSpace)(r)||r===-1)){(0,n.warn)("Lexer.getNumber - treating a single decimal point as zero.");return 0}throw new n.FormatError("Invalid number: ".concat(String.fromCharCode(r)," (charCode ").concat(r,")"))}i=i||1;var o=r-48;var s=0;var c=1;while((r=this.nextChar())>=0){if(48<=r&&r<=57){var l=r-48;if(t){s=s*10+l}else{if(a!==0){a*=10}o=o*10+l}}else if(r===46){if(a===0){a=1}else{break}}else if(r===45){(0,n.warn)("Badly formatted number: minus sign in the middle")}else if(r===69||r===101){r=this.peekChar();if(r===43||r===45){c=r===45?-1:1;this.nextChar()}else if(r<48||r>57){break}t=true}else{break}}if(a!==0){o/=a}if(t){o*=Math.pow(10,c*s)}return i*o}},{key:"getString",value:function e(){var r=1;var t=false;var a=this.strBuf;a.length=0;var i=this.nextChar();while(true){var o=false;switch(i|0){case-1:(0,n.warn)("Unterminated string");t=true;break;case 40:++r;a.push("(");break;case 41:if(--r===0){this.nextChar();t=true}else{a.push(")")}break;case 92:i=this.nextChar();switch(i){case-1:(0,n.warn)("Unterminated string");t=true;break;case 110:a.push("\n");break;case 114:a.push("\r");break;case 116:a.push("\t");break;case 98:a.push("\b");break;case 102:a.push("\f");break;case 92:case 40:case 41:a.push(String.fromCharCode(i));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:var s=i&15;i=this.nextChar();o=true;if(i>=48&&i<=55){s=(s<<3)+(i&15);i=this.nextChar();if(i>=48&&i<=55){o=false;s=(s<<3)+(i&15)}}a.push(String.fromCharCode(s));break;case 13:if(this.peekChar()===10){this.nextChar()}break;case 10:break;default:a.push(String.fromCharCode(i));break}break;default:a.push(String.fromCharCode(i));break}if(t){break}if(!o){i=this.nextChar()}}return a.join("")}},{key:"getName",value:function e(){var r,t;var a=this.strBuf;a.length=0;while((r=this.nextChar())>=0&&!b[r]){if(r===35){r=this.nextChar();if(b[r]){(0,n.warn)("Lexer_getName: "+"NUMBER SIGN (#) should be followed by a hexadecimal number.");a.push("#");break}var o=y(r);if(o!==-1){t=r;r=this.nextChar();var s=y(r);if(s===-1){(0,n.warn)("Lexer_getName: Illegal digit (".concat(String.fromCharCode(r),") ")+"in hexadecimal number.");a.push("#",String.fromCharCode(t));if(b[r]){break}a.push(String.fromCharCode(r));continue}a.push(String.fromCharCode(o<<4|s))}else{a.push("#",String.fromCharCode(r))}}else{a.push(String.fromCharCode(r))}}if(a.length>127){(0,n.warn)("Name token is longer than allowed by the spec: ".concat(a.length))}return i.Name.get(a.join(""))}},{key:"getHexString",value:function e(){var r=this.strBuf;r.length=0;var t=this.currentChar;var a=true;var i,o;while(true){if(t<0){(0,n.warn)("Unterminated hex string");break}else if(t===62){this.nextChar();break}else if(b[t]===1){t=this.nextChar();continue}else{if(a){i=y(t);if(i===-1){(0,n.warn)('Ignoring invalid character "'.concat(t,'" in hex string'));t=this.nextChar();continue}}else{o=y(t);if(o===-1){(0,n.warn)('Ignoring invalid character "'.concat(t,'" in hex string'));t=this.nextChar();continue}r.push(String.fromCharCode(i<<4|o))}a=!a;t=this.nextChar()}}return r.join("")}},{key:"getObj",value:function e(){var r=false;var t=this.currentChar;while(true){if(t<0){return i.EOF}if(r){if(t===10||t===13){r=false}}else if(t===37){r=true}else if(b[t]!==1){break}t=this.nextChar()}switch(t|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:this.nextChar();return i.Cmd.get("[");case 93:this.nextChar();return i.Cmd.get("]");case 60:t=this.nextChar();if(t===60){this.nextChar();return i.Cmd.get("<<")}return this.getHexString();case 62:t=this.nextChar();if(t===62){this.nextChar();return i.Cmd.get(">>")}return i.Cmd.get(">");case 123:this.nextChar();return i.Cmd.get("{");case 125:this.nextChar();return i.Cmd.get("}");case 41:this.nextChar();throw new n.FormatError("Illegal character: ".concat(t))}var a=String.fromCharCode(t);var o=this.knownCommands;var s=o&&o[a]!==undefined;while((t=this.nextChar())>=0&&!b[t]){var c=a+String.fromCharCode(t);if(s&&o[c]===undefined){break}if(a.length===128){throw new n.FormatError("Command token too long: ".concat(a.length))}a=c;s=o&&o[a]!==undefined}if(a==="true"){return true}if(a==="false"){return false}if(a==="null"){return null}if(a==="BI"){this.beginInlineImagePos=this.stream.pos}return i.Cmd.get(a)}},{key:"skipToNextLine",value:function e(){var r=this.currentChar;while(r>=0){if(r===13){r=this.nextChar();if(r===10){this.nextChar()}break}else if(r===10){this.nextChar();break}r=this.nextChar()}}}]);return e}();r.Lexer=w;var k=function(){function e(){f(this,e)}d(e,null,[{key:"create",value:function e(r){function t(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=e.get(r);if(Number.isInteger(a)&&(t?a>=0:a>0)){return a}throw new Error('The "'.concat(r,'" parameter in the linearization ')+"dictionary is invalid.")}function a(e){var r=e.get("H");var t;if(Array.isArray(r)&&((t=r.length)===2||t===4)){for(var a=0;a<t;a++){var n=r[a];if(!(Number.isInteger(n)&&n>0)){throw new Error("Hint (".concat(a,") in the linearization dictionary ")+"is invalid.")}}return r}throw new Error("Hint array in the linearization dictionary is invalid.")}var o=new m({lexer:new w(r),xref:null});var s=o.getObj();var c=o.getObj();var l=o.getObj();var u=o.getObj();var f,h;if(!(Number.isInteger(s)&&Number.isInteger(c)&&(0,i.isCmd)(l,"obj")&&(0,i.isDict)(u)&&(0,n.isNum)(f=u.get("Linearized"))&&f>0)){return null}else if((h=t(u,"L"))!==r.length){throw new Error('The "L" parameter in the linearization dictionary '+"does not equal the stream length.")}return{length:h,hints:a(u),objectNumberFirst:t(u,"O"),endFirst:t(u,"E"),numPages:t(u,"N"),mainXRefEntriesOffset:t(u,"T"),pageFirst:u.has("P")?t(u,"P",true):0}}}]);return e}();r.Linearization=k},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.LZWStream=r.StringStream=r.StreamsSequenceStream=r.Stream=r.RunLengthStream=r.PredictorStream=r.NullStream=r.FlateStream=r.DecodeStream=r.DecryptStream=r.AsciiHexStream=r.Ascii85Stream=void 0;var a=t(5);var n=t(183);function i(e){return c(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function c(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++){t[r]=e[r]}return t}}var l=function e(){function r(e,r,t,a){this.bytes=e instanceof Uint8Array?e:new Uint8Array(e);this.start=r||0;this.pos=this.start;this.end=r+t||this.bytes.length;this.dict=a}r.prototype={get length(){return this.end-this.start},get isEmpty(){return this.length===0},getByte:function e(){if(this.pos>=this.end){return-1}return this.bytes[this.pos++]},getUint16:function e(){var r=this.getByte();var t=this.getByte();if(r===-1||t===-1){return-1}return(r<<8)+t},getInt32:function e(){var r=this.getByte();var t=this.getByte();var a=this.getByte();var n=this.getByte();return(r<<24)+(t<<16)+(a<<8)+n},getBytes:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=this.bytes;var n=this.pos;var i=this.end;if(!r){var o=a.subarray(n,i);return t?new Uint8ClampedArray(o):o}var s=n+r;if(s>i){s=i}this.pos=s;var c=a.subarray(n,s);return t?new Uint8ClampedArray(c):c},peekByte:function e(){var r=this.getByte();this.pos--;return r},peekBytes:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=this.getBytes(r,t);this.pos-=a.length;return a},getByteRange:function e(r,t){if(r<0){r=0}if(t>this.end){t=this.end}return this.bytes.subarray(r,t)},skip:function e(r){if(!r){r=1}this.pos+=r},reset:function e(){this.pos=this.start},moveStart:function e(){this.start=this.pos},makeSubStream:function e(t,a,n){return new r(this.bytes.buffer,t,a,n)}};return r}();r.Stream=l;var u=function e(){function r(e){var r=(0,a.stringToBytes)(e);l.call(this,r)}r.prototype=l.prototype;return r}();r.StringStream=u;var f=function e(){var r=new Uint8Array(0);function t(e){this._rawMinBufferLength=e||0;this.pos=0;this.bufferLength=0;this.eof=false;this.buffer=r;this.minBufferLength=512;if(e){while(this.minBufferLength<e){this.minBufferLength*=2}}}t.prototype={get isEmpty(){while(!this.eof&&this.bufferLength===0){this.readBlock()}return this.bufferLength===0},ensureBuffer:function e(r){var t=this.buffer;if(r<=t.byteLength){return t}var a=this.minBufferLength;while(a<r){a*=2}var n=new Uint8Array(a);n.set(t);return this.buffer=n},getByte:function e(){var r=this.pos;while(this.bufferLength<=r){if(this.eof){return-1}this.readBlock()}return this.buffer[this.pos++]},getUint16:function e(){var r=this.getByte();var t=this.getByte();if(r===-1||t===-1){return-1}return(r<<8)+t},getInt32:function e(){var r=this.getByte();var t=this.getByte();var a=this.getByte();var n=this.getByte();return(r<<24)+(t<<16)+(a<<8)+n},getBytes:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a,n=this.pos;if(r){this.ensureBuffer(n+r);a=n+r;while(!this.eof&&this.bufferLength<a){this.readBlock()}var i=this.bufferLength;if(a>i){a=i}}else{while(!this.eof){this.readBlock()}a=this.bufferLength}this.pos=a;var o=this.buffer.subarray(n,a);return t&&!(o instanceof Uint8ClampedArray)?new Uint8ClampedArray(o):o},peekByte:function e(){var r=this.getByte();this.pos--;return r},peekBytes:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=this.getBytes(r,t);this.pos-=a.length;return a},makeSubStream:function e(r,t,a){var n=r+t;while(this.bufferLength<=n&&!this.eof){this.readBlock()}return new l(this.buffer,r,t,a)},getByteRange:function e(r,t){(0,a.unreachable)("Should not call DecodeStream.getByteRange")},skip:function e(r){if(!r){r=1}this.pos+=r},reset:function e(){this.pos=0},getBaseStreams:function e(){if(this.str&&this.str.getBaseStreams){return this.str.getBaseStreams()}return[]}};return t}();r.DecodeStream=f;var h=function e(){function r(e){this.streams=e;var r=0;for(var t=0,a=e.length;t<a;t++){var n=e[t];if(n instanceof f){r+=n._rawMinBufferLength}else{r+=n.length}}f.call(this,r)}r.prototype=Object.create(f.prototype);r.prototype.readBlock=function e(){var r=this.streams;if(r.length===0){this.eof=true;return}var t=r.shift();var a=t.getBytes();var n=this.bufferLength;var i=n+a.length;var o=this.ensureBuffer(i);o.set(a,n);this.bufferLength=i};r.prototype.getBaseStreams=function e(){var r=[];for(var t=0,a=this.streams.length;t<a;t++){var n=this.streams[t];if(n.getBaseStreams){r.push.apply(r,i(n.getBaseStreams()))}}return r};return r}();r.StreamsSequenceStream=h;var d=function e(){var r=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);var t=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]);var n=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]);var i=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9];var o=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function s(e,r){this.str=e;this.dict=e.dict;var t=e.getByte();var n=e.getByte();if(t===-1||n===-1){throw new a.FormatError("Invalid header in flate stream: ".concat(t,", ").concat(n))}if((t&15)!==8){throw new a.FormatError("Unknown compression method in flate stream: ".concat(t,", ").concat(n))}if(((t<<8)+n)%31!==0){throw new a.FormatError("Bad FCHECK in flate stream: ".concat(t,", ").concat(n))}if(n&32){throw new a.FormatError("FDICT bit set in flate stream: ".concat(t,", ").concat(n))}this.codeSize=0;this.codeBuf=0;f.call(this,r)}s.prototype=Object.create(f.prototype);s.prototype.getBits=function e(r){var t=this.str;var n=this.codeSize;var i=this.codeBuf;var o;while(n<r){if((o=t.getByte())===-1){throw new a.FormatError("Bad encoding in flate stream")}i|=o<<n;n+=8}o=i&(1<<r)-1;this.codeBuf=i>>r;this.codeSize=n-=r;return o};s.prototype.getCode=function e(r){var t=this.str;var n=r[0];var i=r[1];var o=this.codeSize;var s=this.codeBuf;var c;while(o<i){if((c=t.getByte())===-1){break}s|=c<<o;o+=8}var l=n[s&(1<<i)-1];var u=l>>16;var f=l&65535;if(u<1||o<u){throw new a.FormatError("Bad encoding in flate stream")}this.codeBuf=s>>u;this.codeSize=o-u;return f};s.prototype.generateHuffmanTable=function e(r){var t=r.length;var a=0;var n;for(n=0;n<t;++n){if(r[n]>a){a=r[n]}}var i=1<<a;var o=new Int32Array(i);for(var s=1,c=0,l=2;s<=a;++s,c<<=1,l<<=1){for(var u=0;u<t;++u){if(r[u]===s){var f=0;var h=c;for(n=0;n<s;++n){f=f<<1|h&1;h>>=1}for(n=f;n<i;n+=l){o[n]=s<<16|u}++c}}}return[o,a]};s.prototype.readBlock=function e(){var s,c;var l=this.str;var u=this.getBits(3);if(u&1){this.eof=true}u>>=1;if(u===0){var f;if((f=l.getByte())===-1){throw new a.FormatError("Bad block header in flate stream")}var h=f;if((f=l.getByte())===-1){throw new a.FormatError("Bad block header in flate stream")}h|=f<<8;if((f=l.getByte())===-1){throw new a.FormatError("Bad block header in flate stream")}var d=f;if((f=l.getByte())===-1){throw new a.FormatError("Bad block header in flate stream")}d|=f<<8;if(d!==(~h&65535)&&(h!==0||d!==0)){throw new a.FormatError("Bad uncompressed block length in flate stream")}this.codeBuf=0;this.codeSize=0;var v=this.bufferLength;s=this.ensureBuffer(v+h);var g=v+h;this.bufferLength=g;if(h===0){if(l.peekByte()===-1){this.eof=true}}else{for(var p=v;p<g;++p){if((f=l.getByte())===-1){this.eof=true;break}s[p]=f}}return}var m;var b;if(u===1){m=i;b=o}else if(u===2){var y=this.getBits(5)+257;var w=this.getBits(5)+1;var k=this.getBits(4)+4;var S=new Uint8Array(r.length);var x;for(x=0;x<k;++x){S[r[x]]=this.getBits(3)}var C=this.generateHuffmanTable(S);c=0;x=0;var A=y+w;var O=new Uint8Array(A);var P,I,T;while(x<A){var E=this.getCode(C);if(E===16){P=2;I=3;T=c}else if(E===17){P=3;I=3;T=c=0}else if(E===18){P=7;I=11;T=c=0}else{O[x++]=c=E;continue}var F=this.getBits(P)+I;while(F-- >0){O[x++]=T}}m=this.generateHuffmanTable(O.subarray(0,y));b=this.generateHuffmanTable(O.subarray(y,A))}else{throw new a.FormatError("Unknown block type in flate stream")}s=this.buffer;var B=s?s.length:0;var _=this.bufferLength;while(true){var R=this.getCode(m);if(R<256){if(_+1>=B){s=this.ensureBuffer(_+1);B=s.length}s[_++]=R;continue}if(R===256){this.bufferLength=_;return}R-=257;R=t[R];var L=R>>16;if(L>0){L=this.getBits(L)}c=(R&65535)+L;R=this.getCode(b);R=n[R];L=R>>16;if(L>0){L=this.getBits(L)}var M=(R&65535)+L;if(_+c>=B){s=this.ensureBuffer(_+c);B=s.length}for(var D=0;D<c;++D,++_){s[_]=s[_-M]}}};return s}();r.FlateStream=d;var v=function e(){function r(e,r,t){if(!(0,n.isDict)(t)){return e}var i=this.predictor=t.get("Predictor")||1;if(i<=1){return e}if(i!==2&&(i<10||i>15)){throw new a.FormatError("Unsupported predictor: ".concat(i))}if(i===2){this.readBlock=this.readBlockTiff}else{this.readBlock=this.readBlockPng}this.str=e;this.dict=e.dict;var o=this.colors=t.get("Colors")||1;var s=this.bits=t.get("BitsPerComponent")||8;var c=this.columns=t.get("Columns")||1;this.pixBytes=o*s+7>>3;this.rowBytes=c*o*s+7>>3;f.call(this,r);return this}r.prototype=Object.create(f.prototype);r.prototype.readBlockTiff=function e(){var r=this.rowBytes;var t=this.bufferLength;var a=this.ensureBuffer(t+r);var n=this.bits;var i=this.colors;var o=this.str.getBytes(r);this.eof=!o.length;if(this.eof){return}var s=0,c=0;var l=0,u=0;var f=t;var h;if(n===1&&i===1){for(h=0;h<r;++h){var d=o[h]^s;d^=d>>1;d^=d>>2;d^=d>>4;s=(d&1)<<7;a[f++]=d}}else if(n===8){for(h=0;h<i;++h){a[f++]=o[h]}for(;h<r;++h){a[f]=a[f-i]+o[h];f++}}else if(n===16){var v=i*2;for(h=0;h<v;++h){a[f++]=o[h]}for(;h<r;h+=2){var g=((o[h]&255)<<8)+(o[h+1]&255)+((a[f-v]&255)<<8)+(a[f-v+1]&255);a[f++]=g>>8&255;a[f++]=g&255}}else{var p=new Uint8Array(i+1);var m=(1<<n)-1;var b=0,y=t;var w=this.columns;for(h=0;h<w;++h){for(var k=0;k<i;++k){if(l<n){s=s<<8|o[b++]&255;l+=8}p[k]=p[k]+(s>>l-n)&m;l-=n;c=c<<n|p[k];u+=n;if(u>=8){a[y++]=c>>u-8&255;u-=8}}}if(u>0){a[y++]=(c<<8-u)+(s&(1<<8-u)-1)}}this.bufferLength+=r};r.prototype.readBlockPng=function e(){var r=this.rowBytes;var t=this.pixBytes;var n=this.str.getByte();var i=this.str.getBytes(r);this.eof=!i.length;if(this.eof){return}var o=this.bufferLength;var s=this.ensureBuffer(o+r);var c=s.subarray(o-r,o);if(c.length===0){c=new Uint8Array(r)}var l,u=o,f,h;switch(n){case 0:for(l=0;l<r;++l){s[u++]=i[l]}break;case 1:for(l=0;l<t;++l){s[u++]=i[l]}for(;l<r;++l){s[u]=s[u-t]+i[l]&255;u++}break;case 2:for(l=0;l<r;++l){s[u++]=c[l]+i[l]&255}break;case 3:for(l=0;l<t;++l){s[u++]=(c[l]>>1)+i[l]}for(;l<r;++l){s[u]=(c[l]+s[u-t]>>1)+i[l]&255;u++}break;case 4:for(l=0;l<t;++l){f=c[l];h=i[l];s[u++]=f+h}for(;l<r;++l){f=c[l];var d=c[l-t];var v=s[u-t];var g=v+f-d;var p=g-v;if(p<0){p=-p}var m=g-f;if(m<0){m=-m}var b=g-d;if(b<0){b=-b}h=i[l];if(p<=m&&p<=b){s[u++]=v+h}else if(m<=b){s[u++]=f+h}else{s[u++]=d+h}}break;default:throw new a.FormatError("Unsupported predictor: ".concat(n))}this.bufferLength+=r};return r}();r.PredictorStream=v;var g=function e(){function r(e,r,t){this.str=e;this.dict=e.dict;this.decrypt=t;this.nextChunk=null;this.initialized=false;f.call(this,r)}var t=512;r.prototype=Object.create(f.prototype);r.prototype.readBlock=function e(){var r;if(this.initialized){r=this.nextChunk}else{r=this.str.getBytes(t);this.initialized=true}if(!r||r.length===0){this.eof=true;return}this.nextChunk=this.str.getBytes(t);var a=this.nextChunk&&this.nextChunk.length>0;var n=this.decrypt;r=n(r,!a);var i=this.bufferLength;var o,s=r.length;var c=this.ensureBuffer(i+s);for(o=0;o<s;o++){c[i++]=r[o]}this.bufferLength=i};return r}();r.DecryptStream=g;var p=function e(){function r(e,r){this.str=e;this.dict=e.dict;this.input=new Uint8Array(5);if(r){r=.8*r}f.call(this,r)}r.prototype=Object.create(f.prototype);r.prototype.readBlock=function e(){var r=126;var t=122;var n=-1;var i=this.str;var o=i.getByte();while((0,a.isSpace)(o)){o=i.getByte()}if(o===n||o===r){this.eof=true;return}var s=this.bufferLength,c;var l;if(o===t){c=this.ensureBuffer(s+4);for(l=0;l<4;++l){c[s+l]=0}this.bufferLength+=4}else{var u=this.input;u[0]=o;for(l=1;l<5;++l){o=i.getByte();while((0,a.isSpace)(o)){o=i.getByte()}u[l]=o;if(o===n||o===r){break}}c=this.ensureBuffer(s+l-1);this.bufferLength+=l-1;if(l<5){for(;l<5;++l){u[l]=33+84}this.eof=true}var f=0;for(l=0;l<5;++l){f=f*85+(u[l]-33)}for(l=3;l>=0;--l){c[s+l]=f&255;f>>=8}}};return r}();r.Ascii85Stream=p;var m=function e(){function r(e,r){this.str=e;this.dict=e.dict;this.firstDigit=-1;if(r){r=.5*r}f.call(this,r)}r.prototype=Object.create(f.prototype);r.prototype.readBlock=function e(){var r=8e3;var t=this.str.getBytes(r);if(!t.length){this.eof=true;return}var a=t.length+1>>1;var n=this.ensureBuffer(this.bufferLength+a);var i=this.bufferLength;var o=this.firstDigit;for(var s=0,c=t.length;s<c;s++){var l=t[s],u;if(l>=48&&l<=57){u=l&15}else if(l>=65&&l<=70||l>=97&&l<=102){u=(l&15)+9}else if(l===62){this.eof=true;break}else{continue}if(o<0){o=u}else{n[i++]=o<<4|u;o=-1}}if(o>=0&&this.eof){n[i++]=o<<4;o=-1}this.firstDigit=o;this.bufferLength=i};return r}();r.AsciiHexStream=m;var b=function e(){function r(e,r){this.str=e;this.dict=e.dict;f.call(this,r)}r.prototype=Object.create(f.prototype);r.prototype.readBlock=function e(){var r=this.str.getBytes(2);if(!r||r.length<2||r[0]===128){this.eof=true;return}var t;var a=this.bufferLength;var n=r[0];if(n<128){t=this.ensureBuffer(a+n+1);t[a++]=r[1];if(n>0){var i=this.str.getBytes(n);t.set(i,a);a+=n}}else{n=257-n;var o=r[1];t=this.ensureBuffer(a+n+1);for(var s=0;s<n;s++){t[a++]=o}}this.bufferLength=a};return r}();r.RunLengthStream=b;var y=function e(){function r(e,r,t){this.str=e;this.dict=e.dict;this.cachedData=0;this.bitsCached=0;var a=4096;var n={earlyChange:t,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(a),dictionaryLengths:new Uint16Array(a),dictionaryPrevCodes:new Uint16Array(a),currentSequence:new Uint8Array(a),currentSequenceLength:0};for(var i=0;i<256;++i){n.dictionaryValues[i]=i;n.dictionaryLengths[i]=1}this.lzwState=n;f.call(this,r)}r.prototype=Object.create(f.prototype);r.prototype.readBits=function e(r){var t=this.bitsCached;var a=this.cachedData;while(t<r){var n=this.str.getByte();if(n===-1){this.eof=true;return null}a=a<<8|n;t+=8}this.bitsCached=t-=r;this.cachedData=a;this.lastCode=null;return a>>>t&(1<<r)-1};r.prototype.readBlock=function e(){var r=512;var t=r*2,a=r;var n,i,o;var s=this.lzwState;if(!s){return}var c=s.earlyChange;var l=s.nextCode;var u=s.dictionaryValues;var f=s.dictionaryLengths;var h=s.dictionaryPrevCodes;var d=s.codeLength;var v=s.prevCode;var g=s.currentSequence;var p=s.currentSequenceLength;var m=0;var b=this.bufferLength;var y=this.ensureBuffer(this.bufferLength+t);for(n=0;n<r;n++){var w=this.readBits(d);var k=p>0;if(w<256){g[0]=w;p=1}else if(w>=258){if(w<l){p=f[w];for(i=p-1,o=w;i>=0;i--){g[i]=u[o];o=h[o]}}else{g[p++]=g[0]}}else if(w===256){d=9;l=258;p=0;continue}else{this.eof=true;delete this.lzwState;break}if(k){h[l]=v;f[l]=f[v]+1;u[l]=g[0];l++;d=l+c&l+c-1?d:Math.min(Math.log(l+c)/.6931471805599453+1,12)|0}v=w;m+=p;if(t<m){do{t+=a}while(t<m);y=this.ensureBuffer(this.bufferLength+t)}for(i=0;i<p;i++){y[b++]=g[i]}}s.nextCode=l;s.codeLength=d;s.prevCode=v;s.currentSequenceLength=p;this.bufferLength=b};return r}();r.LZWStream=y;var w=function e(){function r(){l.call(this,new Uint8Array(0))}r.prototype=l.prototype;return r}();r.NullStream=w},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.CCITTFaxStream=void 0;var a=t(183);var n=t(192);var i=t(190);var o=function e(){function r(e,r,t){this.str=e;this.dict=e.dict;if(!(0,a.isDict)(t)){t=a.Dict.empty}var o={next:function r(){return e.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(o,{K:t.get("K"),EndOfLine:t.get("EndOfLine"),EncodedByteAlign:t.get("EncodedByteAlign"),Columns:t.get("Columns"),Rows:t.get("Rows"),EndOfBlock:t.get("EndOfBlock"),BlackIs1:t.get("BlackIs1")});i.DecodeStream.call(this,r)}r.prototype=Object.create(i.DecodeStream.prototype);r.prototype.readBlock=function(){while(!this.eof){var e=this.ccittFaxDecoder.readNextChar();if(e===-1){this.eof=true;return}this.ensureBuffer(this.bufferLength+1);this.buffer[this.bufferLength++]=e}};return r}();r.CCITTFaxStream=o},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.CCITTFaxDecoder=void 0;var a=t(5);var n=function e(){var r=-2;var t=-1;var n=0;var i=1;var o=2;var s=3;var c=4;var l=5;var u=6;var f=7;var h=8;var d=[[-1,-1],[-1,-1],[7,h],[7,f],[6,u],[6,u],[6,l],[6,l],[4,n],[4,n],[4,n],[4,n],[4,n],[4,n],[4,n],[4,n],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,i],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,c],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[3,s],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o],[1,o]];var v=[[-1,-1],[12,r],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]];var g=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]];var p=[[-1,-1],[-1,-1],[12,r],[12,r],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]];var m=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]];var b=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];function e(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!e||typeof e.next!=="function"){throw new Error('CCITTFaxDecoder - invalid "source" parameter.')}this.source=e;this.eof=false;this.encoding=r["K"]||0;this.eoline=r["EndOfLine"]||false;this.byteAlign=r["EncodedByteAlign"]||false;this.columns=r["Columns"]||1728;this.rows=r["Rows"]||0;var t=r["EndOfBlock"];if(t===null||t===undefined){t=true}this.eoblock=t;this.black=r["BlackIs1"]||false;this.codingLine=new Uint32Array(this.columns+1);this.refLine=new Uint32Array(this.columns+2);this.codingLine[0]=this.columns;this.codingPos=0;this.row=0;this.nextLine2D=this.encoding<0;this.inputBits=0;this.inputBuf=0;this.outputBits=0;this.rowsDone=false;var a;while((a=this._lookBits(12))===0){this._eatBits(1)}if(a===1){this._eatBits(12)}if(this.encoding>0){this.nextLine2D=!this._lookBits(1);this._eatBits(1)}}e.prototype={readNextChar:function e(){if(this.eof){return-1}var r=this.refLine;var d=this.codingLine;var v=this.columns;var g,p,m,b;if(this.outputBits===0){if(this.rowsDone){this.eof=true}if(this.eof){return-1}this.err=false;var y,w,k;if(this.nextLine2D){for(b=0;d[b]<v;++b){r[b]=d[b]}r[b++]=v;r[b]=v;d[0]=0;this.codingPos=0;g=0;p=0;while(d[this.codingPos]<v){y=this._getTwoDimCode();switch(y){case n:this._addPixels(r[g+1],p);if(r[g+1]<v){g+=2}break;case i:y=w=0;if(p){do{y+=k=this._getBlackCode()}while(k>=64);do{w+=k=this._getWhiteCode()}while(k>=64)}else{do{y+=k=this._getWhiteCode()}while(k>=64);do{w+=k=this._getBlackCode()}while(k>=64)}this._addPixels(d[this.codingPos]+y,p);if(d[this.codingPos]<v){this._addPixels(d[this.codingPos]+w,p^1)}while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}break;case f:this._addPixels(r[g]+3,p);p^=1;if(d[this.codingPos]<v){++g;while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}}break;case l:this._addPixels(r[g]+2,p);p^=1;if(d[this.codingPos]<v){++g;while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}}break;case s:this._addPixels(r[g]+1,p);p^=1;if(d[this.codingPos]<v){++g;while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}}break;case o:this._addPixels(r[g],p);p^=1;if(d[this.codingPos]<v){++g;while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}}break;case h:this._addPixelsNeg(r[g]-3,p);p^=1;if(d[this.codingPos]<v){if(g>0){--g}else{++g}while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}}break;case u:this._addPixelsNeg(r[g]-2,p);p^=1;if(d[this.codingPos]<v){if(g>0){--g}else{++g}while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}}break;case c:this._addPixelsNeg(r[g]-1,p);p^=1;if(d[this.codingPos]<v){if(g>0){--g}else{++g}while(r[g]<=d[this.codingPos]&&r[g]<v){g+=2}}break;case t:this._addPixels(v,0);this.eof=true;break;default:(0,a.info)("bad 2d code");this._addPixels(v,0);this.err=true}}}else{d[0]=0;this.codingPos=0;p=0;while(d[this.codingPos]<v){y=0;if(p){do{y+=k=this._getBlackCode()}while(k>=64)}else{do{y+=k=this._getWhiteCode()}while(k>=64)}this._addPixels(d[this.codingPos]+y,p);p^=1}}var S=false;if(this.byteAlign){this.inputBits&=~7}if(!this.eoblock&&this.row===this.rows-1){this.rowsDone=true}else{y=this._lookBits(12);if(this.eoline){while(y!==t&&y!==1){this._eatBits(1);y=this._lookBits(12)}}else{while(y===0){this._eatBits(1);y=this._lookBits(12)}}if(y===1){this._eatBits(12);S=true}else if(y===t){this.eof=true}}if(!this.eof&&this.encoding>0&&!this.rowsDone){this.nextLine2D=!this._lookBits(1);this._eatBits(1)}if(this.eoblock&&S&&this.byteAlign){y=this._lookBits(12);if(y===1){this._eatBits(12);if(this.encoding>0){this._lookBits(1);this._eatBits(1)}if(this.encoding>=0){for(b=0;b<4;++b){y=this._lookBits(12);if(y!==1){(0,a.info)("bad rtc code: "+y)}this._eatBits(12);if(this.encoding>0){this._lookBits(1);this._eatBits(1)}}}this.eof=true}}else if(this.err&&this.eoline){while(true){y=this._lookBits(13);if(y===t){this.eof=true;return-1}if(y>>1===1){break}this._eatBits(1)}this._eatBits(12);if(this.encoding>0){this._eatBits(1);this.nextLine2D=!(y&1)}}if(d[0]>0){this.outputBits=d[this.codingPos=0]}else{this.outputBits=d[this.codingPos=1]}this.row++}var x;if(this.outputBits>=8){x=this.codingPos&1?0:255;this.outputBits-=8;if(this.outputBits===0&&d[this.codingPos]<v){this.codingPos++;this.outputBits=d[this.codingPos]-d[this.codingPos-1]}}else{m=8;x=0;do{if(this.outputBits>m){x<<=m;if(!(this.codingPos&1)){x|=255>>8-m}this.outputBits-=m;m=0}else{x<<=this.outputBits;if(!(this.codingPos&1)){x|=255>>8-this.outputBits}m-=this.outputBits;this.outputBits=0;if(d[this.codingPos]<v){this.codingPos++;this.outputBits=d[this.codingPos]-d[this.codingPos-1]}else if(m>0){x<<=m;m=0}}}while(m)}if(this.black){x^=255}return x},_addPixels:function e(r,t){var n=this.codingLine;var i=this.codingPos;if(r>n[i]){if(r>this.columns){(0,a.info)("row is wrong length");this.err=true;r=this.columns}if(i&1^t){++i}n[i]=r}this.codingPos=i},_addPixelsNeg:function e(r,t){var n=this.codingLine;var i=this.codingPos;if(r>n[i]){if(r>this.columns){(0,a.info)("row is wrong length");this.err=true;r=this.columns}if(i&1^t){++i}n[i]=r}else if(r<n[i]){if(r<0){(0,a.info)("invalid code");this.err=true;r=0}while(i>0&&r<n[i-1]){--i}n[i]=r}this.codingPos=i},_findTableCode:function e(r,a,n,i){var o=i||0;for(var s=r;s<=a;++s){var c=this._lookBits(s);if(c===t){return[true,1,false]}if(s<a){c<<=a-s}if(!o||c>=o){var l=n[c-o];if(l[0]===s){this._eatBits(s);return[true,l[1],true]}}}return[false,0,false]},_getTwoDimCode:function e(){var r=0;var n;if(this.eoblock){r=this._lookBits(7);n=d[r];if(n&&n[0]>0){this._eatBits(n[0]);return n[1]}}else{var i=this._findTableCode(1,7,d);if(i[0]&&i[2]){return i[1]}}(0,a.info)("Bad two dim code");return t},_getWhiteCode:function e(){var r=0;var n;if(this.eoblock){r=this._lookBits(12);if(r===t){return 1}if(r>>5===0){n=v[r]}else{n=g[r>>3]}if(n[0]>0){this._eatBits(n[0]);return n[1]}}else{var i=this._findTableCode(1,9,g);if(i[0]){return i[1]}i=this._findTableCode(11,12,v);if(i[0]){return i[1]}}(0,a.info)("bad white code");this._eatBits(1);return 1},_getBlackCode:function e(){var r,n;if(this.eoblock){r=this._lookBits(13);if(r===t){return 1}if(r>>7===0){n=p[r]}else if(r>>9===0&&r>>7!==0){n=m[(r>>1)-64]}else{n=b[r>>7]}if(n[0]>0){this._eatBits(n[0]);return n[1]}}else{var i=this._findTableCode(2,6,b);if(i[0]){return i[1]}i=this._findTableCode(7,12,m,64);if(i[0]){return i[1]}i=this._findTableCode(10,13,p);if(i[0]){return i[1]}}(0,a.info)("bad black code");this._eatBits(1);return 1},_lookBits:function e(r){var a;while(this.inputBits<r){if((a=this.source.next())===-1){if(this.inputBits===0){return t}return this.inputBuf<<r-this.inputBits&65535>>16-r}this.inputBuf=this.inputBuf<<8|a;this.inputBits+=8}return this.inputBuf>>this.inputBits-r&65535>>16-r},_eatBits:function e(r){if((this.inputBits-=r)<0){this.inputBits=0}}};return e}();r.CCITTFaxDecoder=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Jbig2Stream=void 0;var a=t(183);var n=t(190);var i=t(194);var o=t(5);var s=function e(){function r(e,r,t,a){this.stream=e;this.maybeLength=r;this.dict=t;this.params=a;n.DecodeStream.call(this,r)}r.prototype=Object.create(n.DecodeStream.prototype);Object.defineProperty(r.prototype,"bytes",{get:function e(){return(0,o.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:true});r.prototype.ensureBuffer=function(e){};r.prototype.readBlock=function(){if(this.eof){return}var e=new i.Jbig2Image;var r=[];if((0,a.isDict)(this.params)){var t=this.params.get("JBIG2Globals");if((0,a.isStream)(t)){var n=t.getBytes();r.push({data:n,start:0,end:n.length})}}r.push({data:this.bytes,start:0,end:this.bytes.length});var o=e.parseChunks(r);var s=o.length;for(var c=0;c<s;c++){o[c]^=255}this.buffer=o;this.bufferLength=s;this.eof=true};return r}();r.Jbig2Stream=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Jbig2Image=void 0;var a=t(5);var n=t(195);var i=t(192);function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(r){return typeof r}}else{o=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return o(e)}function s(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function c(e,r){if(r&&(o(r)==="object"||typeof r==="function")){return r}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function u(e){u=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return u(e)}function f(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)h(e,r)}function h(e,r){h=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return h(e,r)}var d=function(e){f(r,e);function r(e){s(this,r);return c(this,u(r).call(this,"JBIG2 error: ".concat(e)))}return r}(a.BaseException);var v=function e(){function r(){}r.prototype={getContexts:function e(r){if(r in this){return this[r]}return this[r]=new Int8Array(1<<16)}};function t(e,r,t){this.data=e;this.start=r;this.end=t}t.prototype={get decoder(){var e=new n.ArithmeticDecoder(this.data,this.start,this.end);return(0,a.shadow)(this,"decoder",e)},get contextCache(){var e=new r;return(0,a.shadow)(this,"contextCache",e)}};function o(e,r,t){var a=e.getContexts(r);var n=1;function i(e){var r=0;for(var i=0;i<e;i++){var o=t.readBit(a,n);n=n<256?n<<1|o:(n<<1|o)&511|256;r=r<<1|o}return r>>>0}var o=i(1);var s=i(1)?i(1)?i(1)?i(1)?i(1)?i(32)+4436:i(12)+340:i(8)+84:i(6)+20:i(4)+4:i(2);return o===0?s:s>0?-s:null}function s(e,r,t){var a=e.getContexts("IAID");var n=1;for(var i=0;i<t;i++){var o=r.readBit(a,n);n=n<<1|o}if(t<31){return n&(1<<t)-1}return n&2147483647}var c=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"];var l=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]];var u=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}];var f=[39717,1941,229,405];var h=[32,8];function v(e,r,t){var a=t.decoder;var n=t.contextCache.getContexts("GB");var i,o,s,c,l,u,f,h=[];var d=31735;for(o=0;o<r;o++){l=h[o]=new Uint8Array(e);u=o<1?l:h[o-1];f=o<2?l:h[o-2];i=f[0]<<13|f[1]<<12|f[2]<<11|u[0]<<7|u[1]<<6|u[2]<<5|u[3]<<4;for(s=0;s<e;s++){l[s]=c=a.readBit(n,i);i=(i&d)<<1|(s+3<e?f[s+3]<<11:0)|(s+4<e?u[s+4]<<4:0)|c}}return h}function g(e,r,t,a,n,i,o,s){if(e){var c=new M(s.data,s.start,s.end);return q(c,r,t,false)}if(a===0&&!i&&!n&&o.length===4&&o[0].x===3&&o[0].y===-1&&o[1].x===-3&&o[1].y===-1&&o[2].x===2&&o[2].y===-2&&o[3].x===-2&&o[3].y===-2){return v(r,t,s)}var u=!!i;var h=l[a].concat(o);h.sort(function(e,r){return e.y-r.y||e.x-r.x});var d=h.length;var g=new Int8Array(d);var p=new Int8Array(d);var m=[];var b=0,y=0,w=0,k=0;var S,x;for(x=0;x<d;x++){g[x]=h[x].x;p[x]=h[x].y;y=Math.min(y,h[x].x);w=Math.max(w,h[x].x);k=Math.min(k,h[x].y);if(x<d-1&&h[x].y===h[x+1].y&&h[x].x===h[x+1].x-1){b|=1<<d-1-x}else{m.push(x)}}var C=m.length;var A=new Int8Array(C);var O=new Int8Array(C);var P=new Uint16Array(C);for(S=0;S<C;S++){x=m[S];A[S]=h[x].x;O[S]=h[x].y;P[S]=1<<d-1-x}var I=-y;var T=-k;var E=r-w;var F=f[a];var B=new Uint8Array(r);var _=[];var R=s.decoder;var L=s.contextCache.getContexts("GB");var D=0,N,U,j,z=0,H,G;for(var W=0;W<t;W++){if(n){var X=R.readBit(L,F);D^=X;if(D){_.push(B);continue}}B=new Uint8Array(B);_.push(B);for(N=0;N<r;N++){if(u&&i[W][N]){B[N]=0;continue}if(N>=I&&N<E&&W>=T){z=z<<1&b;for(x=0;x<C;x++){U=W+O[x];j=N+A[x];H=_[U][j];if(H){H=P[x];z|=H}}}else{z=0;G=d-1;for(x=0;x<d;x++,G--){j=N+g[x];if(j>=0&&j<r){U=W+p[x];if(U>=0){H=_[U][j];if(H){z|=H<<G}}}}}var V=R.readBit(L,z);B[N]=V}}return _}function p(e,r,t,a,n,i,o,s,c){var l=u[t].coding;if(t===0){l=l.concat([s[0]])}var f=l.length;var v=new Int32Array(f);var g=new Int32Array(f);var p;for(p=0;p<f;p++){v[p]=l[p].x;g[p]=l[p].y}var m=u[t].reference;if(t===0){m=m.concat([s[1]])}var b=m.length;var y=new Int32Array(b);var w=new Int32Array(b);for(p=0;p<b;p++){y[p]=m[p].x;w[p]=m[p].y}var k=a[0].length;var S=a.length;var x=h[t];var C=[];var A=c.decoder;var O=c.contextCache.getContexts("GR");var P=0;for(var I=0;I<r;I++){if(o){var T=A.readBit(O,x);P^=T;if(P){throw new d("prediction is not supported")}}var E=new Uint8Array(e);C.push(E);for(var F=0;F<e;F++){var B,_;var R=0;for(p=0;p<f;p++){B=I+g[p];_=F+v[p];if(B<0||_<0||_>=e){R<<=1}else{R=R<<1|C[B][_]}}for(p=0;p<b;p++){B=I+w[p]-i;_=F+y[p]-n;if(B<0||B>=S||_<0||_>=k){R<<=1}else{R=R<<1|a[B][_]}}var L=A.readBit(O,R);E[F]=L}}return C}function m(e,r,t,n,i,c,l,u,f,h,v,m){if(e&&r){throw new d("symbol refinement with Huffman is not supported")}var y=[];var w=0;var k=(0,a.log2)(t.length+n);var S=v.decoder;var x=v.contextCache;var C,A;if(e){C=L(1);A=[];k=Math.max(k,1)}while(y.length<n){var O=e?c.tableDeltaHeight.decode(m):o(x,"IADH",S);w+=O;var P=0,I=0;var T=e?A.length:0;while(true){var E=e?c.tableDeltaWidth.decode(m):o(x,"IADW",S);if(E===null){break}P+=E;I+=P;var F;if(r){var B=o(x,"IAAI",S);if(B>1){F=b(e,r,P,w,0,B,1,t.concat(y),k,0,0,1,0,c,f,h,v,0,m)}else{var _=s(x,S,k);var R=o(x,"IARDX",S);var M=o(x,"IARDY",S);var D=_<t.length?t[_]:y[_-t.length];F=p(P,w,f,D,R,M,false,h,v)}y.push(F)}else if(e){A.push(P)}else{F=g(false,P,w,l,false,null,u,v);y.push(F)}}if(e&&!r){var N=c.tableBitmapSize.decode(m);m.byteAlign();var U=void 0;if(N===0){U=j(m,I,w)}else{var z=m.end;var H=m.position+N;m.end=H;U=q(m,I,w,false);m.end=z;m.position=H}var G=A.length;if(T===G-1){y.push(U)}else{var W=void 0,X=void 0,V=0,K=void 0,Y=void 0,J=void 0;for(W=T;W<G;W++){Y=A[W];K=V+Y;J=[];for(X=0;X<w;X++){J.push(U[X].subarray(V,K))}y.push(J);V=K}}}}var Z=[];var Q=[],$=false;var ee=t.length+n;while(Q.length<ee){var re=e?C.decode(m):o(x,"IAEX",S);while(re--){Q.push($)}$=!$}for(var te=0,ae=t.length;te<ae;te++){if(Q[te]){Z.push(t[te])}}for(var ne=0;ne<n;te++,ne++){if(Q[te]){Z.push(y[ne])}}return Z}function b(e,r,t,a,n,i,c,l,u,f,h,v,g,m,b,y,w,k,S){if(e&&r){throw new d("refinement with Huffman is not supported")}var x=[];var C,A;for(C=0;C<a;C++){A=new Uint8Array(t);if(n){for(var O=0;O<t;O++){A[O]=n}}x.push(A)}var P=w.decoder;var I=w.contextCache;var T=e?-m.tableDeltaT.decode(S):-o(I,"IADT",P);var E=0;C=0;while(C<i){var F=e?m.tableDeltaT.decode(S):o(I,"IADT",P);T+=F;var B=e?m.tableFirstS.decode(S):o(I,"IAFS",P);E+=B;var _=E;do{var R=0;if(c>1){R=e?S.readBits(k):o(I,"IAIT",P)}var L=c*T+R;var M=e?m.symbolIDTable.decode(S):s(I,P,u);var D=r&&(e?S.readBit():o(I,"IARI",P));var N=l[M];var U=N[0].length;var j=N.length;if(D){var q=o(I,"IARDW",P);var z=o(I,"IARDH",P);var H=o(I,"IARDX",P);var G=o(I,"IARDY",P);U+=q;j+=z;N=p(U,j,b,N,(q>>1)+H,(z>>1)+G,false,y,w)}var W=L-(v&1?0:j-1);var X=_-(v&2?U-1:0);var V,K,Y;if(f){for(V=0;V<j;V++){A=x[X+V];if(!A){continue}Y=N[V];var J=Math.min(t-W,U);switch(g){case 0:for(K=0;K<J;K++){A[W+K]|=Y[K]}break;case 2:for(K=0;K<J;K++){A[W+K]^=Y[K]}break;default:throw new d("operator ".concat(g," is not supported"))}}_+=j-1}else{for(K=0;K<j;K++){A=x[W+K];if(!A){continue}Y=N[K];switch(g){case 0:for(V=0;V<U;V++){A[X+V]|=Y[V]}break;case 2:for(V=0;V<U;V++){A[X+V]^=Y[V]}break;default:throw new d("operator ".concat(g," is not supported"))}}_+=U-1}C++;var Z=e?m.tableDeltaS.decode(S):o(I,"IADS",P);if(Z===null){break}_+=Z+h}while(true)}return x}function y(e,r,t,a,n,i){var o=[];if(!e){o.push({x:-r,y:0});if(n===0){o.push({x:-3,y:-1});o.push({x:2,y:-2});o.push({x:-2,y:-2})}}var s=(a+1)*r;var c=g(e,s,t,n,false,null,o,i);var l=[],u=0,f,h,d,v;while(u<=a){f=[];h=r*u;d=h+r;for(v=0;v<t;v++){f.push(c[v].subarray(h,d))}l.push(f);u++}return l}function w(e,r,t,n,i,o,s,c,l,u,f,h,v,p,m){var b=null;if(s){throw new d("skip is not supported")}if(c!==0){throw new d("operator "+c+" is not supported in halftone region")}var y=[];var w,k,S;for(w=0;w<i;w++){S=new Uint8Array(n);if(o){for(k=0;k<n;k++){S[k]=o}}y.push(S)}var x=r.length;var C=r[0];var A=C[0].length,O=C.length;var P=(0,a.log2)(x);var I=[];if(!e){I.push({x:t<=1?3:2,y:-1});if(t===0){I.push({x:-3,y:-1});I.push({x:2,y:-2});I.push({x:-2,y:-2})}}var T=[],E,F;if(e){E=new M(m.data,m.start,m.end)}for(w=P-1;w>=0;w--){if(e){F=q(E,l,u,true)}else{F=g(false,l,u,t,false,b,I,m)}T[w]=F}var B,_,R,L,D,N,U,j,z;for(B=0;B<u;B++){for(_=0;_<l;_++){R=0;L=0;for(k=P-1;k>=0;k--){R=T[k][B][_]^R;L|=R<<k}D=r[L];N=f+B*p+_*v>>8;U=h+B*v-_*p>>8;if(N>=0&&N+A<=n&&U>=0&&U+O<=i){for(w=0;w<O;w++){z=y[U+w];j=D[w];for(k=0;k<A;k++){z[N+k]|=j[k]}}}else{var H=void 0,G=void 0;for(w=0;w<O;w++){G=U+w;if(G<0||G>=i){continue}z=y[G];j=D[w];for(k=0;k<A;k++){H=N+k;if(H>=0&&H<n){z[H]|=j[k]}}}}}}return y}function k(e,r){var t={};t.number=(0,a.readUint32)(e,r);var n=e[r+4];var i=n&63;if(!c[i]){throw new d("invalid segment type: "+i)}t.type=i;t.typeName=c[i];t.deferredNonRetain=!!(n&128);var o=!!(n&64);var s=e[r+5];var l=s>>5&7;var u=[s&31];var f=r+6;if(s===7){l=(0,a.readUint32)(e,f-1)&536870911;f+=3;var h=l+7>>3;u[0]=e[f++];while(--h>0){u.push(e[f++])}}else if(s===5||s===6){throw new d("invalid referred-to flags")}t.retainBits=u;var v=t.number<=256?1:t.number<=65536?2:4;var g=[];var p,m;for(p=0;p<l;p++){var b=v===1?e[f]:v===2?(0,a.readUint16)(e,f):(0,a.readUint32)(e,f);g.push(b);f+=v}t.referredTo=g;if(!o){t.pageAssociation=e[f++]}else{t.pageAssociation=(0,a.readUint32)(e,f);f+=4}t.length=(0,a.readUint32)(e,f);f+=4;if(t.length===4294967295){if(i===38){var y=x(e,f);var w=e[f+C];var k=!!(w&1);var S=6;var A=new Uint8Array(S);if(!k){A[0]=255;A[1]=172}A[2]=y.height>>>24&255;A[3]=y.height>>16&255;A[4]=y.height>>8&255;A[5]=y.height&255;for(p=f,m=e.length;p<m;p++){var O=0;while(O<S&&A[O]===e[p+O]){O++}if(O===S){t.length=p+S;break}}if(t.length===4294967295){throw new d("segment end was not found")}}else{throw new d("invalid unknown segment length")}}t.headerEnd=f;return t}function S(e,r,t,a){var n=[];var i=t;while(i<a){var o=k(r,i);i=o.headerEnd;var s={header:o,data:r};if(!e.randomAccess){s.start=i;i+=o.length;s.end=i}n.push(s);if(o.type===51){break}}if(e.randomAccess){for(var c=0,l=n.length;c<l;c++){n[c].start=i;i+=n[c].header.length;n[c].end=i}}return n}function x(e,r){return{width:(0,a.readUint32)(e,r),height:(0,a.readUint32)(e,r+4),x:(0,a.readUint32)(e,r+8),y:(0,a.readUint32)(e,r+12),combinationOperator:e[r+16]&7}}var C=17;function A(e,r){var t=e.header;var n=e.data,i=e.start,o=e.end;var s,c,l,u;switch(t.type){case 0:var f={};var h=(0,a.readUint16)(n,i);f.huffman=!!(h&1);f.refinement=!!(h&2);f.huffmanDHSelector=h>>2&3;f.huffmanDWSelector=h>>4&3;f.bitmapSizeSelector=h>>6&1;f.aggregationInstancesSelector=h>>7&1;f.bitmapCodingContextUsed=!!(h&256);f.bitmapCodingContextRetained=!!(h&512);f.template=h>>10&3;f.refinementTemplate=h>>12&1;i+=2;if(!f.huffman){u=f.template===0?4:1;c=[];for(l=0;l<u;l++){c.push({x:(0,a.readInt8)(n,i),y:(0,a.readInt8)(n,i+1)});i+=2}f.at=c}if(f.refinement&&!f.refinementTemplate){c=[];for(l=0;l<2;l++){c.push({x:(0,a.readInt8)(n,i),y:(0,a.readInt8)(n,i+1)});i+=2}f.refinementAt=c}f.numberOfExportedSymbols=(0,a.readUint32)(n,i);i+=4;f.numberOfNewSymbols=(0,a.readUint32)(n,i);i+=4;s=[f,t.number,t.referredTo,n,i,o];break;case 6:case 7:var v={};v.info=x(n,i);i+=C;var g=(0,a.readUint16)(n,i);i+=2;v.huffman=!!(g&1);v.refinement=!!(g&2);v.logStripSize=g>>2&3;v.stripSize=1<<v.logStripSize;v.referenceCorner=g>>4&3;v.transposed=!!(g&64);v.combinationOperator=g>>7&3;v.defaultPixelValue=g>>9&1;v.dsOffset=g<<17>>27;v.refinementTemplate=g>>15&1;if(v.huffman){var p=(0,a.readUint16)(n,i);i+=2;v.huffmanFS=p&3;v.huffmanDS=p>>2&3;v.huffmanDT=p>>4&3;v.huffmanRefinementDW=p>>6&3;v.huffmanRefinementDH=p>>8&3;v.huffmanRefinementDX=p>>10&3;v.huffmanRefinementDY=p>>12&3;v.huffmanRefinementSizeSelector=!!(p&16384)}if(v.refinement&&!v.refinementTemplate){c=[];for(l=0;l<2;l++){c.push({x:(0,a.readInt8)(n,i),y:(0,a.readInt8)(n,i+1)});i+=2}v.refinementAt=c}v.numberOfSymbolInstances=(0,a.readUint32)(n,i);i+=4;s=[v,t.referredTo,n,i,o];break;case 16:var m={};var b=n[i++];m.mmr=!!(b&1);m.template=b>>1&3;m.patternWidth=n[i++];m.patternHeight=n[i++];m.maxPatternIndex=(0,a.readUint32)(n,i);i+=4;s=[m,t.number,n,i,o];break;case 22:case 23:var y={};y.info=x(n,i);i+=C;var w=n[i++];y.mmr=!!(w&1);y.template=w>>1&3;y.enableSkip=!!(w&8);y.combinationOperator=w>>4&7;y.defaultPixelValue=w>>7&1;y.gridWidth=(0,a.readUint32)(n,i);i+=4;y.gridHeight=(0,a.readUint32)(n,i);i+=4;y.gridOffsetX=(0,a.readUint32)(n,i)&4294967295;i+=4;y.gridOffsetY=(0,a.readUint32)(n,i)&4294967295;i+=4;y.gridVectorX=(0,a.readUint16)(n,i);i+=2;y.gridVectorY=(0,a.readUint16)(n,i);i+=2;s=[y,t.referredTo,n,i,o];break;case 38:case 39:var k={};k.info=x(n,i);i+=C;var S=n[i++];k.mmr=!!(S&1);k.template=S>>1&3;k.prediction=!!(S&8);if(!k.mmr){u=k.template===0?4:1;c=[];for(l=0;l<u;l++){c.push({x:(0,a.readInt8)(n,i),y:(0,a.readInt8)(n,i+1)});i+=2}k.at=c}s=[k,n,i,o];break;case 48:var A={width:(0,a.readUint32)(n,i),height:(0,a.readUint32)(n,i+4),resolutionX:(0,a.readUint32)(n,i+8),resolutionY:(0,a.readUint32)(n,i+12)};if(A.height===4294967295){delete A.height}var O=n[i+16];(0,a.readUint16)(n,i+17);A.lossless=!!(O&1);A.refinement=!!(O&2);A.defaultPixelValue=O>>2&1;A.combinationOperator=O>>3&3;A.requiresBuffer=!!(O&32);A.combinationOperatorOverride=!!(O&64);s=[A];break;case 49:break;case 50:break;case 51:break;case 53:s=[t.number,n,i,o];break;case 62:break;default:throw new d("segment type ".concat(t.typeName,"(").concat(t.type,")")+" is not implemented")}var P="on"+t.typeName;if(P in r){r[P].apply(r,s)}}function O(e,r){for(var t=0,a=e.length;t<a;t++){A(e[t],r)}}function P(e){var r=new T;for(var t=0,a=e.length;t<a;t++){var n=e[t];var i=S({},n.data,n.start,n.end);O(i,r)}return r.buffer}function I(e){var r=0,t=e.length;if(e[r]!==151||e[r+1]!==74||e[r+2]!==66||e[r+3]!==50||e[r+4]!==13||e[r+5]!==10||e[r+6]!==26||e[r+7]!==10){throw new d("parseJbig2 - invalid header.")}var n=Object.create(null);r+=8;var i=e[r++];n.randomAccess=!(i&1);if(!(i&2)){n.numberOfPages=(0,a.readUint32)(e,r);r+=4}var o=S(n,e,r,t);var s=new T;O(o,s);var c=s.currentPageInfo,l=c.width,u=c.height;var f=s.buffer;var h=new Uint8ClampedArray(l*u);var v=0,g=0;for(var p=0;p<u;p++){var m=0,b=void 0;for(var y=0;y<l;y++){if(!m){m=128;b=f[g++]}h[v++]=b&m?0:255;m>>=1}}return{imgData:h,width:l,height:u}}function T(){}T.prototype={onPageInformation:function e(r){this.currentPageInfo=r;var t=r.width+7>>3;var a=new Uint8ClampedArray(t*r.height);if(r.defaultPixelValue){for(var n=0,i=a.length;n<i;n++){a[n]=255}}this.buffer=a},drawBitmap:function e(r,t){var a=this.currentPageInfo;var n=r.width,i=r.height;var o=a.width+7>>3;var s=a.combinationOperatorOverride?r.combinationOperator:a.combinationOperator;var c=this.buffer;var l=128>>(r.x&7);var u=r.y*o+(r.x>>3);var f,h,v,g;switch(s){case 0:for(f=0;f<i;f++){v=l;g=u;for(h=0;h<n;h++){if(t[f][h]){c[g]|=v}v>>=1;if(!v){v=128;g++}}u+=o}break;case 2:for(f=0;f<i;f++){v=l;g=u;for(h=0;h<n;h++){if(t[f][h]){c[g]^=v}v>>=1;if(!v){v=128;g++}}u+=o}break;default:throw new d("operator ".concat(s," is not supported"))}},onImmediateGenericRegion:function e(r,a,n,i){var o=r.info;var s=new t(a,n,i);var c=g(r.mmr,o.width,o.height,r.template,r.prediction,null,r.at,s);this.drawBitmap(o,c)},onImmediateLosslessGenericRegion:function e(){this.onImmediateGenericRegion.apply(this,arguments)},onSymbolDictionary:function e(r,a,n,i,o,s){var c,l;if(r.huffman){c=U(r,n,this.customTables);l=new M(i,o,s)}var u=this.symbols;if(!u){this.symbols=u={}}var f=[];for(var h=0,d=n.length;h<d;h++){var v=u[n[h]];if(v){f=f.concat(v)}}var g=new t(i,o,s);u[a]=m(r.huffman,r.refinement,f,r.numberOfNewSymbols,r.numberOfExportedSymbols,c,r.template,r.at,r.refinementTemplate,r.refinementAt,g,l)},onImmediateTextRegion:function e(r,n,i,o,s){var c=r.info;var l,u;var f=this.symbols;var h=[];for(var d=0,v=n.length;d<v;d++){var g=f[n[d]];if(g){h=h.concat(g)}}var p=(0,a.log2)(h.length);if(r.huffman){u=new M(i,o,s);l=N(r,n,this.customTables,h.length,u)}var m=new t(i,o,s);var y=b(r.huffman,r.refinement,c.width,c.height,r.defaultPixelValue,r.numberOfSymbolInstances,r.stripSize,h,p,r.transposed,r.dsOffset,r.referenceCorner,r.combinationOperator,l,r.refinementTemplate,r.refinementAt,m,r.logStripSize,u);this.drawBitmap(c,y)},onImmediateLosslessTextRegion:function e(){this.onImmediateTextRegion.apply(this,arguments)},onPatternDictionary:function e(r,a,n,i,o){var s=this.patterns;if(!s){this.patterns=s={}}var c=new t(n,i,o);s[a]=y(r.mmr,r.patternWidth,r.patternHeight,r.maxPatternIndex,r.template,c)},onImmediateHalftoneRegion:function e(r,a,n,i,o){var s=this.patterns[a[0]];var c=r.info;var l=new t(n,i,o);var u=w(r.mmr,s,r.template,c.width,c.height,r.defaultPixelValue,r.enableSkip,r.combinationOperator,r.gridWidth,r.gridHeight,r.gridOffsetX,r.gridOffsetY,r.gridVectorX,r.gridVectorY,l);this.drawBitmap(c,u)},onImmediateLosslessHalftoneRegion:function e(){this.onImmediateHalftoneRegion.apply(this,arguments)},onTables:function e(r,t,a,n){var i=this.customTables;if(!i){this.customTables=i={}}i[r]=_(t,a,n)}};function E(e){if(e.length===2){this.isOOB=true;this.rangeLow=0;this.prefixLength=e[0];this.rangeLength=0;this.prefixCode=e[1];this.isLowerRange=false}else{this.isOOB=false;this.rangeLow=e[0];this.prefixLength=e[1];this.rangeLength=e[2];this.prefixCode=e[3];this.isLowerRange=e[4]==="lower"}}function F(e){this.children=[];if(e){this.isLeaf=true;this.rangeLength=e.rangeLength;this.rangeLow=e.rangeLow;this.isLowerRange=e.isLowerRange;this.isOOB=e.isOOB}else{this.isLeaf=false}}F.prototype={buildTree:function e(r,t){var a=r.prefixCode>>t&1;if(t<=0){this.children[a]=new F(r)}else{var n=this.children[a];if(!n){this.children[a]=n=new F(null)}n.buildTree(r,t-1)}},decodeNode:function e(r){if(this.isLeaf){if(this.isOOB){return null}var t=r.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-t:t)}var a=this.children[r.readBit()];if(!a){throw new d("invalid Huffman data")}return a.decodeNode(r)}};function B(e,r){if(!r){this.assignPrefixCodes(e)}this.rootNode=new F(null);var t,a=e.length,n;for(t=0;t<a;t++){n=e[t];if(n.prefixLength>0){this.rootNode.buildTree(n,n.prefixLength-1)}}}B.prototype={decode:function e(r){return this.rootNode.decodeNode(r)},assignPrefixCodes:function e(r){var t=r.length,a=0,n;for(n=0;n<t;n++){a=Math.max(a,r[n].prefixLength)}var i=new Uint32Array(a+1);for(n=0;n<t;n++){i[r[n].prefixLength]++}var o=1,s=0,c,l,u;i[0]=0;while(o<=a){s=s+i[o-1]<<1;c=s;l=0;while(l<t){u=r[l];if(u.prefixLength===o){u.prefixCode=c;c++}l++}o++}}};function _(e,r,t){var n=e[r];var i=(0,a.readUint32)(e,r+1)&4294967295;var o=(0,a.readUint32)(e,r+5)&4294967295;var s=new M(e,r+9,t);var c=(n>>1&7)+1;var l=(n>>4&7)+1;var u=[];var f,h,d=i;do{f=s.readBits(c);h=s.readBits(l);u.push(new E([d,f,h,0]));d+=1<<h}while(d<o);f=s.readBits(c);u.push(new E([i-1,f,32,0,"lower"]));f=s.readBits(c);u.push(new E([o,f,32,0]));if(n&1){f=s.readBits(c);u.push(new E([f,0]))}return new B(u,false)}var R={};function L(e){var r=R[e];if(r){return r}var t;switch(e){case 1:t=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:t=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:t=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:t=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:t=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:t=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:t=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:t=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:t=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:t=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:t=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:t=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:t=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:t=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:t=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new d("standard table B.".concat(e," does not exist"))}var a=t.length,n;for(n=0;n<a;n++){t[n]=new E(t[n])}r=new B(t,true);R[e]=r;return r}function M(e,r,t){this.data=e;this.start=r;this.end=t;this.position=r;this.shift=-1;this.currentByte=0}M.prototype={readBit:function e(){if(this.shift<0){if(this.position>=this.end){throw new d("end of data while reading bit")}this.currentByte=this.data[this.position++];this.shift=7}var r=this.currentByte>>this.shift&1;this.shift--;return r},readBits:function e(r){var t=0,a;for(a=r-1;a>=0;a--){t|=this.readBit()<<a}return t},byteAlign:function e(){this.shift=-1},next:function e(){if(this.position>=this.end){return-1}return this.data[this.position++]}};function D(e,r,t){var a=0,n,i=r.length,o;for(n=0;n<i;n++){o=t[r[n]];if(o){if(e===a){return o}a++}}throw new d("can't find custom Huffman table")}function N(e,r,t,a,n){var i=[],o,s;for(o=0;o<=34;o++){s=n.readBits(4);i.push(new E([o,s,0,0]))}var c=new B(i,false);i.length=0;for(o=0;o<a;){s=c.decode(n);if(s>=32){var l=void 0,u=void 0,f=void 0;switch(s){case 32:if(o===0){throw new d("no previous value in symbol ID table")}u=n.readBits(2)+3;l=i[o-1].prefixLength;break;case 33:u=n.readBits(3)+3;l=0;break;case 34:u=n.readBits(7)+11;l=0;break;default:throw new d("invalid code length in symbol ID table")}for(f=0;f<u;f++){i.push(new E([o,l,0,0]));o++}}else{i.push(new E([o,s,0,0]));o++}}n.byteAlign();var h=new B(i,false);var v=0,g,p,m;switch(e.huffmanFS){case 0:case 1:g=L(e.huffmanFS+6);break;case 3:g=D(v,r,t);v++;break;default:throw new d("invalid Huffman FS selector")}switch(e.huffmanDS){case 0:case 1:case 2:p=L(e.huffmanDS+8);break;case 3:p=D(v,r,t);v++;break;default:throw new d("invalid Huffman DS selector")}switch(e.huffmanDT){case 0:case 1:case 2:m=L(e.huffmanDT+11);break;case 3:m=D(v,r,t);v++;break;default:throw new d("invalid Huffman DT selector")}if(e.refinement){throw new d("refinement with Huffman is not supported")}return{symbolIDTable:h,tableFirstS:g,tableDeltaS:p,tableDeltaT:m}}function U(e,r,t){var a=0,n,i;switch(e.huffmanDHSelector){case 0:case 1:n=L(e.huffmanDHSelector+4);break;case 3:n=D(a,r,t);a++;break;default:throw new d("invalid Huffman DH selector")}switch(e.huffmanDWSelector){case 0:case 1:i=L(e.huffmanDWSelector+2);break;case 3:i=D(a,r,t);a++;break;default:throw new d("invalid Huffman DW selector")}var o,s;if(e.bitmapSizeSelector){o=D(a,r,t);a++}else{o=L(1)}if(e.aggregationInstancesSelector){s=D(a,r,t)}else{s=L(1)}return{tableDeltaHeight:n,tableDeltaWidth:i,tableBitmapSize:o,tableAggregateInstances:s}}function j(e,r,t){var a=[],n,i,o;for(i=0;i<t;i++){o=new Uint8Array(r);a.push(o);for(n=0;n<r;n++){o[n]=e.readBit()}e.byteAlign()}return a}function q(e,r,t,a){var n={K:-1,Columns:r,Rows:t,BlackIs1:true,EndOfBlock:a};var o=new i.CCITTFaxDecoder(e,n);var s=[],c,l,u,f,h,d=false;for(l=0;l<t;l++){u=new Uint8Array(r);s.push(u);h=-1;for(c=0;c<r;c++){if(h<0){f=o.readNextChar();if(f===-1){f=0;d=true}h=7}u[c]=f>>h&1;h--}}if(a&&!d){var v=5;for(var g=0;g<v;g++){if(o.readNextChar()===-1){break}}}return s}function z(){}z.prototype={parseChunks:function e(r){return P(r)},parse:function e(r){var t=I(r),a=t.imgData,n=t.width,i=t.height;this.width=n;this.height=i;return a}};return z}();r.Jbig2Image=v},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ArithmeticDecoder=void 0;function a(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function n(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function i(e,r,t){if(r)n(e.prototype,r);if(t)n(e,t);return e}var o=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];var s=function(){function e(r,t,n){a(this,e);this.data=r;this.bp=t;this.dataEnd=n;this.chigh=r[t];this.clow=0;this.byteIn();this.chigh=this.chigh<<7&65535|this.clow>>9&127;this.clow=this.clow<<7&65535;this.ct-=7;this.a=32768}i(e,[{key:"byteIn",value:function e(){var r=this.data;var t=this.bp;if(r[t]===255){if(r[t+1]>143){this.clow+=65280;this.ct=8}else{t++;this.clow+=r[t]<<9;this.ct=7;this.bp=t}}else{t++;this.clow+=t<this.dataEnd?r[t]<<8:65280;this.ct=8;this.bp=t}if(this.clow>65535){this.chigh+=this.clow>>16;this.clow&=65535}}},{key:"readBit",value:function e(r,t){var a=r[t]>>1,n=r[t]&1;var i=o[a];var s=i.qe;var c;var l=this.a-s;if(this.chigh<s){if(l<s){l=s;c=n;a=i.nmps}else{l=s;c=1^n;if(i.switchFlag===1){n=c}a=i.nlps}}else{this.chigh-=s;if((l&32768)!==0){this.a=l;return n}if(l<s){c=1^n;if(i.switchFlag===1){n=c}a=i.nlps}else{c=n;a=i.nmps}}do{if(this.ct===0){this.byteIn()}l<<=1;this.chigh=this.chigh<<1&65535|this.clow>>15&1;this.clow=this.clow<<1&65535;this.ct--}while((l&32768)===0);this.a=l;r[t]=a<<1|n;return c}}]);return e}();r.ArithmeticDecoder=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.JpegStream=void 0;var a=t(5);var n=t(190);var i=t(183);var o=t(197);var s=function e(){function r(e,r,t,a){var i;while((i=e.getByte())!==-1){if(i===255){e.skip(-1);break}}this.stream=e;this.maybeLength=r;this.dict=t;this.params=a;n.DecodeStream.call(this,r)}r.prototype=Object.create(n.DecodeStream.prototype);Object.defineProperty(r.prototype,"bytes",{get:function e(){return(0,a.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:true});r.prototype.ensureBuffer=function(e){};r.prototype.readBlock=function(){if(this.eof){return}var e={decodeTransform:undefined,colorTransform:undefined};var r=this.dict.getArray("Decode","D");if(this.forceRGB&&Array.isArray(r)){var t=this.dict.get("BitsPerComponent")||8;var a=r.length;var n=new Int32Array(a);var s=false;var c=(1<<t)-1;for(var l=0;l<a;l+=2){n[l]=(r[l+1]-r[l])*256|0;n[l+1]=r[l]*c|0;if(n[l]!==256||n[l+1]!==0){s=true}}if(s){e.decodeTransform=n}}if((0,i.isDict)(this.params)){var u=this.params.get("ColorTransform");if(Number.isInteger(u)){e.colorTransform=u}}var f=new o.JpegImage(e);f.parse(this.bytes);var h=f.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:true});this.buffer=h;this.bufferLength=h.length;this.eof=true};r.prototype.getIR=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return(0,a.createObjectURL)(this.bytes,"image/jpeg",e)};return r}();r.JpegStream=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.JpegImage=void 0;var a=t(5);function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(r){return typeof r}}else{n=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return n(e)}function i(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function o(e,r){if(r&&(n(r)==="object"||typeof r==="function")){return r}return s(e)}function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return c(e)}function l(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)u(e,r)}function u(e,r){u=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return u(e,r)}var f=function(e){l(r,e);function r(e){i(this,r);return o(this,c(r).call(this,"JPEG error: ".concat(e)))}return r}(a.BaseException);var h=function(e){l(r,e);function r(e,t){var a;i(this,r);a=o(this,c(r).call(this,e));a.scanLines=t;return a}return r}(a.BaseException);var d=function(e){l(r,e);function r(){i(this,r);return o(this,c(r).apply(this,arguments))}return r}(a.BaseException);var v=function e(){var r=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);var t=4017;var i=799;var o=3406;var s=2276;var c=1567;var l=3784;var u=5793;var v=2896;function g(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=e.decodeTransform,t=r===void 0?null:r,a=e.colorTransform,n=a===void 0?-1:a;this._decodeTransform=t;this._colorTransform=n}function p(e,r){var t=0,a=[],n,i,o=16;while(o>0&&!e[o-1]){o--}a.push({children:[],index:0});var s=a[0],c;for(n=0;n<o;n++){for(i=0;i<e[n];i++){s=a.pop();s.children[s.index]=r[t];while(s.index>0){s=a.pop()}s.index++;a.push(s);while(a.length<=n){a.push(c={children:[],index:0});s.children[s.index]=c.children;s=c}t++}if(n+1<o){a.push(c={children:[],index:0});s.children[s.index]=c.children;s=c}}return a[0].children}function m(e,r,t){return 64*((e.blocksPerLine+1)*r+t)}function b(e,t,i,o,s,c,l,u,v){var g=arguments.length>9&&arguments[9]!==undefined?arguments[9]:false;var p=i.mcusPerLine;var b=i.progressive;var y=t,w=0,S=0;function x(){if(S>0){S--;return w>>S&1}w=e[t++];if(w===255){var r=e[t++];if(r){if(r===220&&g){t+=2;var a=e[t++]<<8|e[t++];if(a>0&&a!==i.scanLines){throw new h("Found DNL marker (0xFFDC) while parsing scan data",a)}}else if(r===217){throw new d("Found EOI marker (0xFFD9) while parsing scan data")}throw new f("unexpected marker ".concat((w<<8|r).toString(16)))}}S=7;return w>>>7}function C(e){var r=e;while(true){r=r[x()];if(typeof r==="number"){return r}if(n(r)!=="object"){throw new f("invalid huffman sequence")}}}function A(e){var r=0;while(e>0){r=r<<1|x();e--}return r}function O(e){if(e===1){return x()===1?1:-1}var r=A(e);if(r>=1<<e-1){return r}return r+(-1<<e)+1}function P(e,t){var a=C(e.huffmanTableDC);var n=a===0?0:O(a);e.blockData[t]=e.pred+=n;var i=1;while(i<64){var o=C(e.huffmanTableAC);var s=o&15,c=o>>4;if(s===0){if(c<15){break}i+=16;continue}i+=c;var l=r[i];e.blockData[t+l]=O(s);i++}}function I(e,r){var t=C(e.huffmanTableDC);var a=t===0?0:O(t)<<v;e.blockData[r]=e.pred+=a}function T(e,r){e.blockData[r]|=x()<<v}var E=0;function F(e,t){if(E>0){E--;return}var a=c,n=l;while(a<=n){var i=C(e.huffmanTableAC);var o=i&15,s=i>>4;if(o===0){if(s<15){E=A(s)+(1<<s)-1;break}a+=16;continue}a+=s;var u=r[a];e.blockData[t+u]=O(o)*(1<<v);a++}}var B=0,_;function R(e,t){var a=c;var n=l;var i=0;var o;var s;while(a<=n){var u=t+r[a];var h=e.blockData[u]<0?-1:1;switch(B){case 0:s=C(e.huffmanTableAC);o=s&15;i=s>>4;if(o===0){if(i<15){E=A(i)+(1<<i);B=4}else{i=16;B=1}}else{if(o!==1){throw new f("invalid ACn encoding")}_=O(o);B=i?2:3}continue;case 1:case 2:if(e.blockData[u]){e.blockData[u]+=h*(x()<<v)}else{i--;if(i===0){B=B===2?3:0}}break;case 3:if(e.blockData[u]){e.blockData[u]+=h*(x()<<v)}else{e.blockData[u]=_<<v;B=0}break;case 4:if(e.blockData[u]){e.blockData[u]+=h*(x()<<v)}break}a++}if(B===4){E--;if(E===0){B=0}}}function L(e,r,t,a,n){var i=t/p|0;var o=t%p;var s=i*e.v+a;var c=o*e.h+n;var l=m(e,s,c);r(e,l)}function M(e,r,t){var a=t/e.blocksPerLine|0;var n=t%e.blocksPerLine;var i=m(e,a,n);r(e,i)}var D=o.length;var N,U,j,q,z;var H;if(b){if(c===0){H=u===0?I:T}else{H=u===0?F:R}}else{H=P}var G=0,W;var X;if(D===1){X=o[0].blocksPerLine*o[0].blocksPerColumn}else{X=p*i.mcusPerColumn}var V,K;while(G<X){var Y=s?Math.min(X-G,s):X;for(U=0;U<D;U++){o[U].pred=0}E=0;if(D===1){N=o[0];for(z=0;z<Y;z++){M(N,H,G);G++}}else{for(z=0;z<Y;z++){for(U=0;U<D;U++){N=o[U];V=N.h;K=N.v;for(j=0;j<K;j++){for(q=0;q<V;q++){L(N,H,G,j,q)}}}G++}}S=0;W=k(e,t);if(!W){break}else if(W.invalid){(0,a.warn)("decodeScan - unexpected MCU data, current marker is: "+W.invalid);t=W.offset}var J=W&&W.marker;if(!J||J<=65280){throw new f("decodeScan - a valid marker was not found.")}if(J>=65488&&J<=65495){t+=2}else{break}}W=k(e,t);if(W&&W.invalid){(0,a.warn)("decodeScan - unexpected Scan data, current marker is: "+W.invalid);t=W.offset}return t-y}function y(e,r,a){var n=e.quantizationTable,h=e.blockData;var d,g,p,m,b,y,w,k;var S,x,C,A,O,P,I,T;var E;if(!n){throw new f("missing required Quantization Table.")}for(var F=0;F<64;F+=8){S=h[r+F];x=h[r+F+1];C=h[r+F+2];A=h[r+F+3];O=h[r+F+4];P=h[r+F+5];I=h[r+F+6];T=h[r+F+7];S*=n[F];if((x|C|A|O|P|I|T)===0){E=u*S+512>>10;a[F]=E;a[F+1]=E;a[F+2]=E;a[F+3]=E;a[F+4]=E;a[F+5]=E;a[F+6]=E;a[F+7]=E;continue}x*=n[F+1];C*=n[F+2];A*=n[F+3];O*=n[F+4];P*=n[F+5];I*=n[F+6];T*=n[F+7];d=u*S+128>>8;g=u*O+128>>8;p=C;m=I;b=v*(x-T)+128>>8;k=v*(x+T)+128>>8;y=A<<4;w=P<<4;d=d+g+1>>1;g=d-g;E=p*l+m*c+128>>8;p=p*c-m*l+128>>8;m=E;b=b+w+1>>1;w=b-w;k=k+y+1>>1;y=k-y;d=d+m+1>>1;m=d-m;g=g+p+1>>1;p=g-p;E=b*s+k*o+2048>>12;b=b*o-k*s+2048>>12;k=E;E=y*i+w*t+2048>>12;y=y*t-w*i+2048>>12;w=E;a[F]=d+k;a[F+7]=d-k;a[F+1]=g+w;a[F+6]=g-w;a[F+2]=p+y;a[F+5]=p-y;a[F+3]=m+b;a[F+4]=m-b}for(var B=0;B<8;++B){S=a[B];x=a[B+8];C=a[B+16];A=a[B+24];O=a[B+32];P=a[B+40];I=a[B+48];T=a[B+56];if((x|C|A|O|P|I|T)===0){E=u*S+8192>>14;E=E<-2040?0:E>=2024?255:E+2056>>4;h[r+B]=E;h[r+B+8]=E;h[r+B+16]=E;h[r+B+24]=E;h[r+B+32]=E;h[r+B+40]=E;h[r+B+48]=E;h[r+B+56]=E;continue}d=u*S+2048>>12;g=u*O+2048>>12;p=C;m=I;b=v*(x-T)+2048>>12;k=v*(x+T)+2048>>12;y=A;w=P;d=(d+g+1>>1)+4112;g=d-g;E=p*l+m*c+2048>>12;p=p*c-m*l+2048>>12;m=E;b=b+w+1>>1;w=b-w;k=k+y+1>>1;y=k-y;d=d+m+1>>1;m=d-m;g=g+p+1>>1;p=g-p;E=b*s+k*o+2048>>12;b=b*o-k*s+2048>>12;k=E;E=y*i+w*t+2048>>12;y=y*t-w*i+2048>>12;w=E;S=d+k;T=d-k;x=g+w;I=g-w;C=p+y;P=p-y;A=m+b;O=m-b;S=S<16?0:S>=4080?255:S>>4;x=x<16?0:x>=4080?255:x>>4;C=C<16?0:C>=4080?255:C>>4;A=A<16?0:A>=4080?255:A>>4;O=O<16?0:O>=4080?255:O>>4;P=P<16?0:P>=4080?255:P>>4;I=I<16?0:I>=4080?255:I>>4;T=T<16?0:T>=4080?255:T>>4;h[r+B]=S;h[r+B+8]=x;h[r+B+16]=C;h[r+B+24]=A;h[r+B+32]=O;h[r+B+40]=P;h[r+B+48]=I;h[r+B+56]=T}}function w(e,r){var t=r.blocksPerLine;var a=r.blocksPerColumn;var n=new Int16Array(64);for(var i=0;i<a;i++){for(var o=0;o<t;o++){var s=m(r,i,o);y(r,s,n)}}return r.blockData}function k(e,r){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:r;function a(r){return e[r]<<8|e[r+1]}var n=e.length-1;var i=t<r?t:r;if(r>=n){return null}var o=a(r);if(o>=65472&&o<=65534){return{invalid:null,marker:o,offset:r}}var s=a(i);while(!(s>=65472&&s<=65534)){if(++i>=n){return null}s=a(i)}return{invalid:o.toString(16),marker:s,offset:i}}g.prototype={parse:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=n.dnlScanLines,o=i===void 0?null:i;function s(){var e=t[u]<<8|t[u+1];u+=2;return e}function c(){var e=s();var r=u+e-2;var n=k(t,r,u);if(n&&n.invalid){(0,a.warn)("readDataBlock - incorrect length, current marker is: "+n.invalid);r=n.offset}var i=t.subarray(u,r);u+=i.length;return i}function l(e){var r=Math.ceil(e.samplesPerLine/8/e.maxH);var t=Math.ceil(e.scanLines/8/e.maxV);for(var a=0;a<e.components.length;a++){Q=e.components[a];var n=Math.ceil(Math.ceil(e.samplesPerLine/8)*Q.h/e.maxH);var i=Math.ceil(Math.ceil(e.scanLines/8)*Q.v/e.maxV);var o=r*Q.h;var s=t*Q.v;var c=64*s*(o+1);Q.blockData=new Int16Array(c);Q.blocksPerLine=n;Q.blocksPerColumn=i}e.mcusPerLine=r;e.mcusPerColumn=t}var u=0;var v=null;var g=null;var m,y;var S=0;var x=[];var C=[],A=[];var O=s();if(O!==65496){throw new f("SOI not found")}O=s();e:while(O!==65497){var P,I,T;switch(O){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var E=c();if(O===65504){if(E[0]===74&&E[1]===70&&E[2]===73&&E[3]===70&&E[4]===0){v={version:{major:E[5],minor:E[6]},densityUnits:E[7],xDensity:E[8]<<8|E[9],yDensity:E[10]<<8|E[11],thumbWidth:E[12],thumbHeight:E[13],thumbData:E.subarray(14,14+3*E[12]*E[13])}}}if(O===65518){if(E[0]===65&&E[1]===100&&E[2]===111&&E[3]===98&&E[4]===101){g={version:E[5]<<8|E[6],flags0:E[7]<<8|E[8],flags1:E[9]<<8|E[10],transformCode:E[11]}}}break;case 65499:var F=s();var B=F+u-2;var _;while(u<B){var R=t[u++];var L=new Uint16Array(64);if(R>>4===0){for(I=0;I<64;I++){_=r[I];L[_]=t[u++]}}else if(R>>4===1){for(I=0;I<64;I++){_=r[I];L[_]=s()}}else{throw new f("DQT - invalid table spec")}x[R&15]=L}break;case 65472:case 65473:case 65474:if(m){throw new f("Only single frame JPEGs supported")}s();m={};m.extended=O===65473;m.progressive=O===65474;m.precision=t[u++];var M=s();m.scanLines=o||M;m.samplesPerLine=s();m.components=[];m.componentIds={};var D=t[u++],N;var U=0,j=0;for(P=0;P<D;P++){N=t[u];var q=t[u+1]>>4;var z=t[u+1]&15;if(U<q){U=q}if(j<z){j=z}var H=t[u+2];T=m.components.push({h:q,v:z,quantizationId:H,quantizationTable:null});m.componentIds[N]=T-1;u+=3}m.maxH=U;m.maxV=j;l(m);break;case 65476:var G=s();for(P=2;P<G;){var W=t[u++];var X=new Uint8Array(16);var V=0;for(I=0;I<16;I++,u++){V+=X[I]=t[u]}var K=new Uint8Array(V);for(I=0;I<V;I++,u++){K[I]=t[u]}P+=17+V;(W>>4===0?A:C)[W&15]=p(X,K)}break;case 65501:s();y=s();break;case 65498:var Y=++S===1&&!o;s();var J=t[u++];var Z=[],Q;for(P=0;P<J;P++){var $=m.componentIds[t[u++]];Q=m.components[$];var ee=t[u++];Q.huffmanTableDC=A[ee>>4];Q.huffmanTableAC=C[ee&15];Z.push(Q)}var re=t[u++];var te=t[u++];var ae=t[u++];try{var ne=b(t,u,m,Z,y,re,te,ae>>4,ae&15,Y);u+=ne}catch(e){if(e instanceof h){(0,a.warn)("".concat(e.message," -- attempting to re-parse the JPEG image."));return this.parse(t,{dnlScanLines:e.scanLines})}else if(e instanceof d){(0,a.warn)("".concat(e.message," -- ignoring the rest of the image data."));break e}throw e}break;case 65500:u+=4;break;case 65535:if(t[u]!==255){u--}break;default:if(t[u-3]===255&&t[u-2]>=192&&t[u-2]<=254){u-=3;break}var ie=k(t,u-2);if(ie&&ie.invalid){(0,a.warn)("JpegImage.parse - unexpected data, current marker is: "+ie.invalid);u=ie.offset;break}if(u>t.length-2){(0,a.warn)("JpegImage.parse - reached the end of the image data "+"without finding an EOI marker (0xFFD9).");break e}throw new f("JpegImage.parse - unknown marker: "+O.toString(16))}O=s()}this.width=m.samplesPerLine;this.height=m.scanLines;this.jfif=v;this.adobe=g;this.components=[];for(P=0;P<m.components.length;P++){Q=m.components[P];var oe=x[Q.quantizationId];if(oe){Q.quantizationTable=oe}this.components.push({output:w(m,Q),scaleX:Q.h/m.maxH,scaleY:Q.v/m.maxV,blocksPerLine:Q.blocksPerLine,blocksPerColumn:Q.blocksPerColumn})}this.numComponents=this.components.length;return undefined},_getLinearizedBlockData:function e(r,t){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=this.width/r,i=this.height/t;var o,s,c,l;var u,f,h,d,v;var g;var p=0;var m;var b=this.components.length;var y=r*t*b;var w=new Uint8ClampedArray(y);var k=new Uint32Array(r);var S=4294967288;for(h=0;h<b;h++){o=this.components[h];s=o.scaleX*n;c=o.scaleY*i;p=h;m=o.output;l=o.blocksPerLine+1<<3;for(u=0;u<r;u++){d=0|u*s;k[u]=(d&S)<<3|d&7}for(f=0;f<t;f++){d=0|f*c;g=l*(d&S)|(d&7)<<3;for(u=0;u<r;u++){w[p]=m[g+k[u]];p+=b}}}var x=this._decodeTransform;if(!a&&b===4&&!x){x=new Int32Array([-256,255,-256,255,-256,255,-256,255])}if(x){for(h=0;h<y;){for(d=0,v=0;d<b;d++,h++,v+=2){w[h]=(w[h]*x[v]>>8)+x[v+1]}}}return w},get _isColorConversionNeeded(){if(this.adobe){return!!this.adobe.transformCode}if(this.numComponents===3){if(this._colorTransform===0){return false}return true}if(this._colorTransform===1){return true}return false},_convertYccToRgb:function e(r){var t,a,n;for(var i=0,o=r.length;i<o;i+=3){t=r[i];a=r[i+1];n=r[i+2];r[i]=t-179.456+1.402*n;r[i+1]=t+135.459-.344*a-.714*n;r[i+2]=t-226.816+1.772*a}return r},_convertYcckToRgb:function e(r){var t,a,n,i;var o=0;for(var s=0,c=r.length;s<c;s+=4){t=r[s];a=r[s+1];n=r[s+2];i=r[s+3];r[o++]=-122.67195406894+a*(-660635669420364e-19*a+.000437130475926232*n-54080610064599e-18*t+.00048449797120281*i-.154362151871126)+n*(-.000957964378445773*n+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776);r[o++]=107.268039397724+a*(219927104525741e-19*a-.000640992018297945*n+.000659397001245577*t+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665);r[o++]=-20.810012546947+a*(-.000570115196973677*a-263409051004589e-19*n+.0020741088115012*t-.00288260236853442*i+.814272968359295)+n*(-153496057440975e-19*n-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407)}return r.subarray(0,o)},_convertYcckToCmyk:function e(r){var t,a,n;for(var i=0,o=r.length;i<o;i+=4){t=r[i];a=r[i+1];n=r[i+2];r[i]=434.456-t-1.402*n;r[i+1]=119.541-t+.344*a+.714*n;r[i+2]=481.816-t-1.772*a}return r},_convertCmykToRgb:function e(r){var t,a,n,i;var o=0;var s=1/255;for(var c=0,l=r.length;c<l;c+=4){t=r[c]*s;a=r[c+1]*s;n=r[c+2]*s;i=r[c+3]*s;r[o++]=255+t*(-4.387332384609988*t+54.48615194189176*a+18.82290502165302*n+212.25662451639585*i-285.2331026137004)+a*(1.7149763477362134*a-5.6096736904047315*n-17.873870861415444*i-5.497006427196366)+n*(-2.5217340131683033*n-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747);r[o++]=255+t*(8.841041422036149*t+60.118027045597366*a+6.871425592049007*n+31.159100130055922*i-79.2970844816548)+a*(-15.310361306967817*a+17.575251261109482*n+131.35250912493976*i-190.9453302588951)+n*(4.444339102852739*n+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578);r[o++]=255+t*(.8842522430003296*t+8.078677503112928*a+30.89978309703729*n-.23883238689178934*i-14.183576799673286)+a*(10.49593273432072*a+63.02378494754052*n+50.606957656360734*i-112.23884253719248)+n*(.03296041114873217*n+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367)}return r.subarray(0,o)},getData:function e(r){var t=r.width,a=r.height,n=r.forceRGB,i=n===void 0?false:n,o=r.isSourcePDF,s=o===void 0?false:o;if(this.numComponents>4){throw new f("Unsupported color mode")}var c=this._getLinearizedBlockData(t,a,s);if(this.numComponents===1&&i){var l=c.length;var u=new Uint8ClampedArray(l*3);var h=0;for(var d=0;d<l;d++){var v=c[d];u[h++]=v;u[h++]=v;u[h++]=v}return u}else if(this.numComponents===3&&this._isColorConversionNeeded){return this._convertYccToRgb(c)}else if(this.numComponents===4){if(this._isColorConversionNeeded){if(i){return this._convertYcckToRgb(c)}return this._convertYcckToCmyk(c)}else if(i){return this._convertCmykToRgb(c)}}return c}};return g}();r.JpegImage=v},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.JpxStream=void 0;var a=t(190);var n=t(199);var i=t(5);var o=function e(){function r(e,r,t,n){this.stream=e;this.maybeLength=r;this.dict=t;this.params=n;a.DecodeStream.call(this,r)}r.prototype=Object.create(a.DecodeStream.prototype);Object.defineProperty(r.prototype,"bytes",{get:function e(){return(0,i.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))},configurable:true});r.prototype.ensureBuffer=function(e){};r.prototype.readBlock=function(){if(this.eof){return}var e=new n.JpxImage;e.parse(this.bytes);var r=e.width;var t=e.height;var a=e.componentsCount;var i=e.tiles.length;if(i===1){this.buffer=e.tiles[0].items}else{var o=new Uint8ClampedArray(r*t*a);for(var s=0;s<i;s++){var c=e.tiles[s];var l=c.width;var u=c.height;var f=c.left;var h=c.top;var d=c.items;var v=0;var g=(r*h+f)*a;var p=r*a;var m=l*a;for(var b=0;b<u;b++){var y=d.subarray(v,v+m);o.set(y,g);v+=m;g+=p}}this.buffer=o}this.bufferLength=this.buffer.length;this.eof=true};return r}();r.JpxStream=o},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.JpxImage=void 0;var a=t(5);var n=t(195);function i(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){i=function e(r){return typeof r}}else{i=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return i(e)}function o(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function s(e,r){if(r&&(i(r)==="object"||typeof r==="function")){return r}return c(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return l(e)}function u(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)f(e,r)}function f(e,r){f=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return f(e,r)}var h=function(e){u(r,e);function r(e){o(this,r);return s(this,l(r).call(this,"JPX error: ".concat(e)))}return r}(a.BaseException);var d=function e(){var r={LL:0,LH:1,HL:1,HH:2};function t(){this.failOnCorruptedImage=false}t.prototype={parse:function e(r){var t=(0,a.readUint16)(r,0);if(t===65359){this.parseCodestream(r,0,r.length);return}var n=0,i=r.length;while(n<i){var o=8;var s=(0,a.readUint32)(r,n);var c=(0,a.readUint32)(r,n+4);n+=o;if(s===1){s=(0,a.readUint32)(r,n)*4294967296+(0,a.readUint32)(r,n+4);n+=8;o+=8}if(s===0){s=i-n+o}if(s<o){throw new h("Invalid box field size")}var l=s-o;var u=true;switch(c){case 1785737832:u=false;break;case 1668246642:var f=r[n];if(f===1){var d=(0,a.readUint32)(r,n+3);switch(d){case 16:case 17:case 18:break;default:(0,a.warn)("Unknown colorspace "+d);break}}else if(f===2){(0,a.info)("ICC profile not supported")}break;case 1785737827:this.parseCodestream(r,n,n+l);break;case 1783636e3:if((0,a.readUint32)(r,n)!==218793738){(0,a.warn)("Invalid JP2 signature")}break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:var v=String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255);(0,a.warn)("Unsupported header type "+c+" ("+v+")");break}if(u){n+=l}}},parseImageProperties:function e(r){var t=r.getByte();while(t>=0){var a=t;t=r.getByte();var n=a<<8|t;if(n===65361){r.skip(4);var i=r.getInt32()>>>0;var o=r.getInt32()>>>0;var s=r.getInt32()>>>0;var c=r.getInt32()>>>0;r.skip(16);var l=r.getUint16();this.width=i-s;this.height=o-c;this.componentsCount=l;this.bitsPerComponent=8;return}}throw new h("No size marker found in JPX stream")},parseCodestream:function e(r,t,n){var s={};var c=false;try{var l=t;while(l+1<n){var u=(0,a.readUint16)(r,l);l+=2;var f=0,d,v,g,p,m,b;switch(u){case 65359:s.mainHeader=true;break;case 65497:break;case 65361:f=(0,a.readUint16)(r,l);var k={};k.Xsiz=(0,a.readUint32)(r,l+4);k.Ysiz=(0,a.readUint32)(r,l+8);k.XOsiz=(0,a.readUint32)(r,l+12);k.YOsiz=(0,a.readUint32)(r,l+16);k.XTsiz=(0,a.readUint32)(r,l+20);k.YTsiz=(0,a.readUint32)(r,l+24);k.XTOsiz=(0,a.readUint32)(r,l+28);k.YTOsiz=(0,a.readUint32)(r,l+32);var S=(0,a.readUint16)(r,l+36);k.Csiz=S;var A=[];d=l+38;for(var O=0;O<S;O++){var P={precision:(r[d]&127)+1,isSigned:!!(r[d]&128),XRsiz:r[d+1],YRsiz:r[d+2]};d+=3;i(P,k);A.push(P)}s.SIZ=k;s.components=A;o(s,A);s.QCC=[];s.COC=[];break;case 65372:f=(0,a.readUint16)(r,l);var I={};d=l+2;v=r[d++];switch(v&31){case 0:p=8;m=true;break;case 1:p=16;m=false;break;case 2:p=16;m=true;break;default:throw new Error("Invalid SQcd value "+v)}I.noQuantization=p===8;I.scalarExpounded=m;I.guardBits=v>>5;g=[];while(d<f+l){var T={};if(p===8){T.epsilon=r[d++]>>3;T.mu=0}else{T.epsilon=r[d]>>3;T.mu=(r[d]&7)<<8|r[d+1];d+=2}g.push(T)}I.SPqcds=g;if(s.mainHeader){s.QCD=I}else{s.currentTile.QCD=I;s.currentTile.QCC=[]}break;case 65373:f=(0,a.readUint16)(r,l);var E={};d=l+2;var F;if(s.SIZ.Csiz<257){F=r[d++]}else{F=(0,a.readUint16)(r,d);d+=2}v=r[d++];switch(v&31){case 0:p=8;m=true;break;case 1:p=16;m=false;break;case 2:p=16;m=true;break;default:throw new Error("Invalid SQcd value "+v)}E.noQuantization=p===8;E.scalarExpounded=m;E.guardBits=v>>5;g=[];while(d<f+l){T={};if(p===8){T.epsilon=r[d++]>>3;T.mu=0}else{T.epsilon=r[d]>>3;T.mu=(r[d]&7)<<8|r[d+1];d+=2}g.push(T)}E.SPqcds=g;if(s.mainHeader){s.QCC[F]=E}else{s.currentTile.QCC[F]=E}break;case 65362:f=(0,a.readUint16)(r,l);var B={};d=l+2;var _=r[d++];B.entropyCoderWithCustomPrecincts=!!(_&1);B.sopMarkerUsed=!!(_&2);B.ephMarkerUsed=!!(_&4);B.progressionOrder=r[d++];B.layersCount=(0,a.readUint16)(r,d);d+=2;B.multipleComponentTransform=r[d++];B.decompositionLevelsCount=r[d++];B.xcb=(r[d++]&15)+2;B.ycb=(r[d++]&15)+2;var R=r[d++];B.selectiveArithmeticCodingBypass=!!(R&1);B.resetContextProbabilities=!!(R&2);B.terminationOnEachCodingPass=!!(R&4);B.verticallyStripe=!!(R&8);B.predictableTermination=!!(R&16);B.segmentationSymbolUsed=!!(R&32);B.reversibleTransformation=r[d++];if(B.entropyCoderWithCustomPrecincts){var L=[];while(d<f+l){var M=r[d++];L.push({PPx:M&15,PPy:M>>4})}B.precinctsSizes=L}var D=[];if(B.selectiveArithmeticCodingBypass){D.push("selectiveArithmeticCodingBypass")}if(B.resetContextProbabilities){D.push("resetContextProbabilities")}if(B.terminationOnEachCodingPass){D.push("terminationOnEachCodingPass")}if(B.verticallyStripe){D.push("verticallyStripe")}if(B.predictableTermination){D.push("predictableTermination")}if(D.length>0){c=true;throw new Error("Unsupported COD options ("+D.join(", ")+")")}if(s.mainHeader){s.COD=B}else{s.currentTile.COD=B;s.currentTile.COC=[]}break;case 65424:f=(0,a.readUint16)(r,l);b={};b.index=(0,a.readUint16)(r,l+2);b.length=(0,a.readUint32)(r,l+4);b.dataEnd=b.length+l-2;b.partIndex=r[l+8];b.partsCount=r[l+9];s.mainHeader=false;if(b.partIndex===0){b.COD=s.COD;b.COC=s.COC.slice(0);b.QCD=s.QCD;b.QCC=s.QCC.slice(0)}s.currentTile=b;break;case 65427:b=s.currentTile;if(b.partIndex===0){C(s,b.index);y(s)}f=b.dataEnd-l;w(s,r,l,f);break;case 65365:case 65367:case 65368:case 65380:f=(0,a.readUint16)(r,l);break;case 65363:throw new Error("Codestream code 0xFF53 (COC) is "+"not implemented");default:throw new Error("Unknown codestream code: "+u.toString(16))}l+=f}}catch(e){if(c||this.failOnCorruptedImage){throw new h(e.message)}else{(0,a.warn)("JPX: Trying to recover from: "+e.message)}}this.tiles=x(s);this.width=s.SIZ.Xsiz-s.SIZ.XOsiz;this.height=s.SIZ.Ysiz-s.SIZ.YOsiz;this.componentsCount=s.SIZ.Csiz}};function i(e,r){e.x0=Math.ceil(r.XOsiz/e.XRsiz);e.x1=Math.ceil(r.Xsiz/e.XRsiz);e.y0=Math.ceil(r.YOsiz/e.YRsiz);e.y1=Math.ceil(r.Ysiz/e.YRsiz);e.width=e.x1-e.x0;e.height=e.y1-e.y0}function o(e,r){var t=e.SIZ;var a,n=[];var i=Math.ceil((t.Xsiz-t.XTOsiz)/t.XTsiz);var o=Math.ceil((t.Ysiz-t.YTOsiz)/t.YTsiz);for(var s=0;s<o;s++){for(var c=0;c<i;c++){a={};a.tx0=Math.max(t.XTOsiz+c*t.XTsiz,t.XOsiz);a.ty0=Math.max(t.YTOsiz+s*t.YTsiz,t.YOsiz);a.tx1=Math.min(t.XTOsiz+(c+1)*t.XTsiz,t.Xsiz);a.ty1=Math.min(t.YTOsiz+(s+1)*t.YTsiz,t.Ysiz);a.width=a.tx1-a.tx0;a.height=a.ty1-a.ty0;a.components=[];n.push(a)}}e.tiles=n;var l=t.Csiz;for(var u=0,f=l;u<f;u++){var h=r[u];for(var d=0,v=n.length;d<v;d++){var g={};a=n[d];g.tcx0=Math.ceil(a.tx0/h.XRsiz);g.tcy0=Math.ceil(a.ty0/h.YRsiz);g.tcx1=Math.ceil(a.tx1/h.XRsiz);g.tcy1=Math.ceil(a.ty1/h.YRsiz);g.width=g.tcx1-g.tcx0;g.height=g.tcy1-g.tcy0;a.components[u]=g}}}function s(e,r,t){var a=r.codingStyleParameters;var n={};if(!a.entropyCoderWithCustomPrecincts){n.PPx=15;n.PPy=15}else{n.PPx=a.precinctsSizes[t].PPx;n.PPy=a.precinctsSizes[t].PPy}n.xcb_=t>0?Math.min(a.xcb,n.PPx-1):Math.min(a.xcb,n.PPx);n.ycb_=t>0?Math.min(a.ycb,n.PPy-1):Math.min(a.ycb,n.PPy);return n}function c(e,r,t){var a=1<<t.PPx;var n=1<<t.PPy;var i=r.resLevel===0;var o=1<<t.PPx+(i?0:-1);var s=1<<t.PPy+(i?0:-1);var c=r.trx1>r.trx0?Math.ceil(r.trx1/a)-Math.floor(r.trx0/a):0;var l=r.try1>r.try0?Math.ceil(r.try1/n)-Math.floor(r.try0/n):0;var u=c*l;r.precinctParameters={precinctWidth:a,precinctHeight:n,numprecinctswide:c,numprecinctshigh:l,numprecincts:u,precinctWidthInSubband:o,precinctHeightInSubband:s}}function l(e,r,t){var a=t.xcb_;var n=t.ycb_;var i=1<<a;var o=1<<n;var s=r.tbx0>>a;var c=r.tby0>>n;var l=r.tbx1+i-1>>a;var u=r.tby1+o-1>>n;var f=r.resolution.precinctParameters;var h=[];var d=[];var v,g,p,m;for(g=c;g<u;g++){for(v=s;v<l;v++){p={cbx:v,cby:g,tbx0:i*v,tby0:o*g,tbx1:i*(v+1),tby1:o*(g+1)};p.tbx0_=Math.max(r.tbx0,p.tbx0);p.tby0_=Math.max(r.tby0,p.tby0);p.tbx1_=Math.min(r.tbx1,p.tbx1);p.tby1_=Math.min(r.tby1,p.tby1);var b=Math.floor((p.tbx0_-r.tbx0)/f.precinctWidthInSubband);var y=Math.floor((p.tby0_-r.tby0)/f.precinctHeightInSubband);m=b+y*f.numprecinctswide;p.precinctNumber=m;p.subbandType=r.type;p.Lblock=3;if(p.tbx1_<=p.tbx0_||p.tby1_<=p.tby0_){continue}h.push(p);var w=d[m];if(w!==undefined){if(v<w.cbxMin){w.cbxMin=v}else if(v>w.cbxMax){w.cbxMax=v}if(g<w.cbyMin){w.cbxMin=g}else if(g>w.cbyMax){w.cbyMax=g}}else{d[m]=w={cbxMin:v,cbyMin:g,cbxMax:v,cbyMax:g}}p.precinct=w}}r.codeblockParameters={codeblockWidth:a,codeblockHeight:n,numcodeblockwide:l-s+1,numcodeblockhigh:u-c+1};r.codeblocks=h;r.precincts=d}function u(e,r,t){var a=[];var n=e.subbands;for(var i=0,o=n.length;i<o;i++){var s=n[i];var c=s.codeblocks;for(var l=0,u=c.length;l<u;l++){var f=c[l];if(f.precinctNumber!==r){continue}a.push(f)}}return{layerNumber:t,codeblocks:a}}function f(e){var r=e.SIZ;var t=e.currentTile.index;var a=e.tiles[t];var n=a.codingStyleDefaultParameters.layersCount;var i=r.Csiz;var o=0;for(var s=0;s<i;s++){o=Math.max(o,a.components[s].codingStyleParameters.decompositionLevelsCount)}var c=0,l=0,f=0,d=0;this.nextPacket=function e(){for(;c<n;c++){for(;l<=o;l++){for(;f<i;f++){var r=a.components[f];if(l>r.codingStyleParameters.decompositionLevelsCount){continue}var t=r.resolutions[l];var s=t.precinctParameters.numprecincts;for(;d<s;){var v=u(t,d,c);d++;return v}d=0}f=0}l=0}throw new h("Out of packets")}}function d(e){var r=e.SIZ;var t=e.currentTile.index;var a=e.tiles[t];var n=a.codingStyleDefaultParameters.layersCount;var i=r.Csiz;var o=0;for(var s=0;s<i;s++){o=Math.max(o,a.components[s].codingStyleParameters.decompositionLevelsCount)}var c=0,l=0,f=0,d=0;this.nextPacket=function e(){for(;c<=o;c++){for(;l<n;l++){for(;f<i;f++){var r=a.components[f];if(c>r.codingStyleParameters.decompositionLevelsCount){continue}var t=r.resolutions[c];var s=t.precinctParameters.numprecincts;for(;d<s;){var v=u(t,d,l);d++;return v}d=0}f=0}l=0}throw new h("Out of packets")}}function v(e){var r=e.SIZ;var t=e.currentTile.index;var a=e.tiles[t];var n=a.codingStyleDefaultParameters.layersCount;var i=r.Csiz;var o,s,c,l;var f=0;for(c=0;c<i;c++){var d=a.components[c];f=Math.max(f,d.codingStyleParameters.decompositionLevelsCount)}var v=new Int32Array(f+1);for(s=0;s<=f;++s){var g=0;for(c=0;c<i;++c){var p=a.components[c].resolutions;if(s<p.length){g=Math.max(g,p[s].precinctParameters.numprecincts)}}v[s]=g}o=0;s=0;c=0;l=0;this.nextPacket=function e(){for(;s<=f;s++){for(;l<v[s];l++){for(;c<i;c++){var r=a.components[c];if(s>r.codingStyleParameters.decompositionLevelsCount){continue}var t=r.resolutions[s];var d=t.precinctParameters.numprecincts;if(l>=d){continue}for(;o<n;){var g=u(t,l,o);o++;return g}o=0}c=0}l=0}throw new h("Out of packets")}}function g(e){var r=e.SIZ;var t=e.currentTile.index;var a=e.tiles[t];var n=a.codingStyleDefaultParameters.layersCount;var i=r.Csiz;var o=b(a);var s=o;var c=0,l=0,f=0,d=0,v=0;this.nextPacket=function e(){for(;v<s.maxNumHigh;v++){for(;d<s.maxNumWide;d++){for(;f<i;f++){var r=a.components[f];var t=r.codingStyleParameters.decompositionLevelsCount;for(;l<=t;l++){var g=r.resolutions[l];var p=o.components[f].resolutions[l];var b=m(d,v,p,s,g);if(b===null){continue}for(;c<n;){var y=u(g,b,c);c++;return y}c=0}l=0}f=0}d=0}throw new h("Out of packets")}}function p(e){var r=e.SIZ;var t=e.currentTile.index;var a=e.tiles[t];var n=a.codingStyleDefaultParameters.layersCount;var i=r.Csiz;var o=b(a);var s=0,c=0,l=0,f=0,d=0;this.nextPacket=function e(){for(;l<i;++l){var r=a.components[l];var t=o.components[l];var v=r.codingStyleParameters.decompositionLevelsCount;for(;d<t.maxNumHigh;d++){for(;f<t.maxNumWide;f++){for(;c<=v;c++){var g=r.resolutions[c];var p=t.resolutions[c];var b=m(f,d,p,t,g);if(b===null){continue}for(;s<n;){var y=u(g,b,s);s++;return y}s=0}c=0}f=0}d=0}throw new h("Out of packets")}}function m(e,r,t,a,n){var i=e*a.minWidth;var o=r*a.minHeight;if(i%t.width!==0||o%t.height!==0){return null}var s=o/t.width*n.precinctParameters.numprecinctswide;return i/t.height+s}function b(e){var r=e.components.length;var t=Number.MAX_VALUE;var a=Number.MAX_VALUE;var n=0;var i=0;var o=new Array(r);for(var s=0;s<r;s++){var c=e.components[s];var l=c.codingStyleParameters.decompositionLevelsCount;var u=new Array(l+1);var f=Number.MAX_VALUE;var h=Number.MAX_VALUE;var d=0;var v=0;var g=1;for(var p=l;p>=0;--p){var m=c.resolutions[p];var b=g*m.precinctParameters.precinctWidth;var y=g*m.precinctParameters.precinctHeight;f=Math.min(f,b);h=Math.min(h,y);d=Math.max(d,m.precinctParameters.numprecinctswide);v=Math.max(v,m.precinctParameters.numprecinctshigh);u[p]={width:b,height:y};g<<=1}t=Math.min(t,f);a=Math.min(a,h);n=Math.max(n,d);i=Math.max(i,v);o[s]={resolutions:u,minWidth:f,minHeight:h,maxNumWide:d,maxNumHigh:v}}return{components:o,minWidth:t,minHeight:a,maxNumWide:n,maxNumHigh:i}}function y(e){var r=e.SIZ;var t=e.currentTile.index;var a=e.tiles[t];var n=r.Csiz;for(var i=0;i<n;i++){var o=a.components[i];var u=o.codingStyleParameters.decompositionLevelsCount;var m=[];var b=[];for(var y=0;y<=u;y++){var w=s(e,o,y);var k={};var S=1<<u-y;k.trx0=Math.ceil(o.tcx0/S);k.try0=Math.ceil(o.tcy0/S);k.trx1=Math.ceil(o.tcx1/S);k.try1=Math.ceil(o.tcy1/S);k.resLevel=y;c(e,k,w);m.push(k);var x;if(y===0){x={};x.type="LL";x.tbx0=Math.ceil(o.tcx0/S);x.tby0=Math.ceil(o.tcy0/S);x.tbx1=Math.ceil(o.tcx1/S);x.tby1=Math.ceil(o.tcy1/S);x.resolution=k;l(e,x,w);b.push(x);k.subbands=[x]}else{var C=1<<u-y+1;var A=[];x={};x.type="HL";x.tbx0=Math.ceil(o.tcx0/C-.5);x.tby0=Math.ceil(o.tcy0/C);x.tbx1=Math.ceil(o.tcx1/C-.5);x.tby1=Math.ceil(o.tcy1/C);x.resolution=k;l(e,x,w);b.push(x);A.push(x);x={};x.type="LH";x.tbx0=Math.ceil(o.tcx0/C);x.tby0=Math.ceil(o.tcy0/C-.5);x.tbx1=Math.ceil(o.tcx1/C);x.tby1=Math.ceil(o.tcy1/C-.5);x.resolution=k;l(e,x,w);b.push(x);A.push(x);x={};x.type="HH";x.tbx0=Math.ceil(o.tcx0/C-.5);x.tby0=Math.ceil(o.tcy0/C-.5);x.tbx1=Math.ceil(o.tcx1/C-.5);x.tby1=Math.ceil(o.tcy1/C-.5);x.resolution=k;l(e,x,w);b.push(x);A.push(x);k.subbands=A}}o.resolutions=m;o.subbands=b}var O=a.codingStyleDefaultParameters.progressionOrder;switch(O){case 0:a.packetsIterator=new f(e);break;case 1:a.packetsIterator=new d(e);break;case 2:a.packetsIterator=new v(e);break;case 3:a.packetsIterator=new g(e);break;case 4:a.packetsIterator=new p(e);break;default:throw new h("Unsupported progression order ".concat(O))}}function w(e,r,t,n){var i=0;var o,s=0,c=false;function l(e){while(s<e){var a=r[t+i];i++;if(c){o=o<<7|a;s+=7;c=false}else{o=o<<8|a;s+=8}if(a===255){c=true}}s-=e;return o>>>s&(1<<e)-1}function u(e){if(r[t+i-1]===255&&r[t+i]===e){f(1);return true}else if(r[t+i]===255&&r[t+i+1]===e){f(2);return true}return false}function f(e){i+=e}function h(){s=0;if(c){i++;c=false}}function d(){if(l(1)===0){return 1}if(l(1)===0){return 2}var e=l(2);if(e<3){return e+3}e=l(5);if(e<31){return e+6}e=l(7);return e+37}var v=e.currentTile.index;var g=e.tiles[v];var p=e.COD.sopMarkerUsed;var m=e.COD.ephMarkerUsed;var b=g.packetsIterator;while(i<n){h();if(p&&u(145)){f(4)}var y=b.nextPacket();if(!l(1)){continue}var w=y.layerNumber;var k=[],S;for(var x=0,C=y.codeblocks.length;x<C;x++){S=y.codeblocks[x];var P=S.precinct;var I=S.cbx-P.cbxMin;var T=S.cby-P.cbyMin;var E=false;var F=false;var B;if(S["included"]!==undefined){E=!!l(1)}else{P=S.precinct;var _,R;if(P["inclusionTree"]!==undefined){_=P.inclusionTree}else{var L=P.cbxMax-P.cbxMin+1;var M=P.cbyMax-P.cbyMin+1;_=new O(L,M,w);R=new A(L,M);P.inclusionTree=_;P.zeroBitPlanesTree=R}if(_.reset(I,T,w)){while(true){if(l(1)){B=!_.nextLevel();if(B){S.included=true;E=F=true;break}}else{_.incrementValue(w);break}}}}if(!E){continue}if(F){R=P.zeroBitPlanesTree;R.reset(I,T);while(true){if(l(1)){B=!R.nextLevel();if(B){break}}else{R.incrementValue()}}S.zeroBitPlanes=R.value}var D=d();while(l(1)){S.Lblock++}var N=(0,a.log2)(D);var U=(D<1<<N?N-1:N)+S.Lblock;var j=l(U);k.push({codeblock:S,codingpasses:D,dataLength:j})}h();if(m){u(146)}while(k.length>0){var q=k.shift();S=q.codeblock;if(S["data"]===undefined){S.data=[]}S.data.push({data:r,start:t+i,end:t+i+q.dataLength,codingpasses:q.codingpasses});i+=q.dataLength}}return i}function k(e,r,t,a,i,o,s,c){var l=a.tbx0;var u=a.tby0;var f=a.tbx1-a.tbx0;var h=a.codeblocks;var d=a.type.charAt(0)==="H"?1:0;var v=a.type.charAt(1)==="H"?r:0;for(var g=0,p=h.length;g<p;++g){var m=h[g];var b=m.tbx1_-m.tbx0_;var y=m.tby1_-m.tby0_;if(b===0||y===0){continue}if(m["data"]===undefined){continue}var w,k;w=new P(b,y,m.subbandType,m.zeroBitPlanes,o);k=2;var S=m.data,x=0,C=0;var A,O,I;for(A=0,O=S.length;A<O;A++){I=S[A];x+=I.end-I.start;C+=I.codingpasses}var T=new Uint8Array(x);var E=0;for(A=0,O=S.length;A<O;A++){I=S[A];var F=I.data.subarray(I.start,I.end);T.set(F,E);E+=F.length}var B=new n.ArithmeticDecoder(T,0,x);w.setDecoder(B);for(A=0;A<C;A++){switch(k){case 0:w.runSignificancePropagationPass();break;case 1:w.runMagnitudeRefinementPass();break;case 2:w.runCleanupPass();if(c){w.checkSegmentationSymbol()}break}k=(k+1)%3}var _=m.tbx0_-l+(m.tby0_-u)*f;var R=w.coefficentsSign;var L=w.coefficentsMagnitude;var M=w.bitsDecoded;var D=s?0:.5;var N,U,j;E=0;var q=a.type!=="LL";for(A=0;A<y;A++){var z=_/f|0;var H=2*z*(r-f)+d+v;for(N=0;N<b;N++){U=L[E];if(U!==0){U=(U+D)*i;if(R[E]!==0){U=-U}j=M[E];var G=q?H+(_<<1):_;if(s&&j>=o){e[G]=U}else{e[G]=U*(1<<o-j)}}_++;E++}_+=f-b}}}function S(e,t,a){var n=t.components[a];var i=n.codingStyleParameters;var o=n.quantizationParameters;var s=i.decompositionLevelsCount;var c=o.SPqcds;var l=o.scalarExpounded;var u=o.guardBits;var f=i.segmentationSymbolUsed;var h=e.components[a].precision;var d=i.reversibleTransformation;var v=d?new E:new T;var g=[];var p=0;for(var m=0;m<=s;m++){var b=n.resolutions[m];var y=b.trx1-b.trx0;var w=b.try1-b.try0;var S=new Float32Array(y*w);for(var x=0,C=b.subbands.length;x<C;x++){var A,O;if(!l){A=c[0].mu;O=c[0].epsilon+(m>0?1-m:0)}else{A=c[p].mu;O=c[p].epsilon;p++}var P=b.subbands[x];var I=r[P.type];var F=d?1:Math.pow(2,h+I-O)*(1+A/2048);var B=u+O-1;k(S,y,w,P,F,B,d,f)}g.push({width:y,height:w,items:S})}var _=v.calculate(g,n.tcx0,n.tcy0);return{left:n.tcx0,top:n.tcy0,width:_.width,height:_.height,items:_.items}}function x(e){var r=e.SIZ;var t=e.components;var a=r.Csiz;var n=[];for(var i=0,o=e.tiles.length;i<o;i++){var s=e.tiles[i];var c=[];var l;for(l=0;l<a;l++){c[l]=S(e,s,l)}var u=c[0];var f=new Uint8ClampedArray(u.items.length*a);var h={left:u.left,top:u.top,width:u.width,height:u.height,items:f};var d,v;var g=0,p,m,b,y,w;if(s.codingStyleDefaultParameters.multipleComponentTransform){var k=a===4;var x=c[0].items;var C=c[1].items;var A=c[2].items;var O=k?c[3].items:null;d=t[0].precision-8;v=(128<<d)+.5;var P=s.components[0];var I=a-3;m=x.length;if(!P.codingStyleParameters.reversibleTransformation){for(p=0;p<m;p++,g+=I){b=x[p]+v;y=C[p];w=A[p];f[g++]=b+1.402*w>>d;f[g++]=b-.34413*y-.71414*w>>d;f[g++]=b+1.772*y>>d}}else{for(p=0;p<m;p++,g+=I){b=x[p]+v;y=C[p];w=A[p];var T=b-(w+y>>2);f[g++]=T+w>>d;f[g++]=T>>d;f[g++]=T+y>>d}}if(k){for(p=0,g=3;p<m;p++,g+=4){f[g]=O[p]+v>>d}}}else{for(l=0;l<a;l++){var E=c[l].items;d=t[l].precision-8;v=(128<<d)+.5;for(g=l,p=0,m=E.length;p<m;p++){f[g]=E[p]+v>>d;g+=a}}}n.push(h)}return n}function C(e,r){var t=e.SIZ;var a=t.Csiz;var n=e.tiles[r];for(var i=0;i<a;i++){var o=n.components[i];var s=e.currentTile.QCC[i]!==undefined?e.currentTile.QCC[i]:e.currentTile.QCD;o.quantizationParameters=s;var c=e.currentTile.COC[i]!==undefined?e.currentTile.COC[i]:e.currentTile.COD;o.codingStyleParameters=c}n.codingStyleDefaultParameters=e.currentTile.COD}var A=function e(){function r(e,r){var t=(0,a.log2)(Math.max(e,r))+1;this.levels=[];for(var n=0;n<t;n++){var i={width:e,height:r,items:[]};this.levels.push(i);e=Math.ceil(e/2);r=Math.ceil(r/2)}}r.prototype={reset:function e(r,t){var a=0,n=0,i;while(a<this.levels.length){i=this.levels[a];var o=r+t*i.width;if(i.items[o]!==undefined){n=i.items[o];break}i.index=o;r>>=1;t>>=1;a++}a--;i=this.levels[a];i.items[i.index]=n;this.currentLevel=a;delete this.value},incrementValue:function e(){var r=this.levels[this.currentLevel];r.items[r.index]++},nextLevel:function e(){var r=this.currentLevel;var t=this.levels[r];var a=t.items[t.index];r--;if(r<0){this.value=a;return false}this.currentLevel=r;t=this.levels[r];t.items[t.index]=a;return true}};return r}();var O=function e(){function r(e,r,t){var n=(0,a.log2)(Math.max(e,r))+1;this.levels=[];for(var i=0;i<n;i++){var o=new Uint8Array(e*r);for(var s=0,c=o.length;s<c;s++){o[s]=t}var l={width:e,height:r,items:o};this.levels.push(l);e=Math.ceil(e/2);r=Math.ceil(r/2)}}r.prototype={reset:function e(r,t,a){var n=0;while(n<this.levels.length){var i=this.levels[n];var o=r+t*i.width;i.index=o;var s=i.items[o];if(s===255){break}if(s>a){this.currentLevel=n;this.propagateValues();return false}r>>=1;t>>=1;n++}this.currentLevel=n-1;return true},incrementValue:function e(r){var t=this.levels[this.currentLevel];t.items[t.index]=r+1;this.propagateValues()},propagateValues:function e(){var r=this.currentLevel;var t=this.levels[r];var a=t.items[t.index];while(--r>=0){t=this.levels[r];t.items[t.index]=a}},nextLevel:function e(){var r=this.currentLevel;var t=this.levels[r];var a=t.items[t.index];t.items[t.index]=255;r--;if(r<0){return false}this.currentLevel=r;t=this.levels[r];t.items[t.index]=a;return true}};return r}();var P=function e(){var r=17;var t=18;var a=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]);var n=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]);var i=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);function o(e,r,t,o,s){this.width=e;this.height=r;this.contextLabelTable=t==="HH"?i:t==="HL"?n:a;var c=e*r;this.neighborsSignificance=new Uint8Array(c);this.coefficentsSign=new Uint8Array(c);this.coefficentsMagnitude=s>14?new Uint32Array(c):s>6?new Uint16Array(c):new Uint8Array(c);this.processingFlags=new Uint8Array(c);var l=new Uint8Array(c);if(o!==0){for(var u=0;u<c;u++){l[u]=o}}this.bitsDecoded=l;this.reset()}o.prototype={setDecoder:function e(r){this.decoder=r},reset:function e(){this.contexts=new Int8Array(19);this.contexts[0]=4<<1|0;this.contexts[r]=46<<1|0;this.contexts[t]=3<<1|0},setNeighborsSignificance:function e(r,t,a){var n=this.neighborsSignificance;var i=this.width,o=this.height;var s=t>0;var c=t+1<i;var l;if(r>0){l=a-i;if(s){n[l-1]+=16}if(c){n[l+1]+=16}n[l]+=4}if(r+1<o){l=a+i;if(s){n[l-1]+=16}if(c){n[l+1]+=16}n[l]+=4}if(s){n[a-1]+=1}if(c){n[a+1]+=1}n[a]|=128},runSignificancePropagationPass:function e(){var r=this.decoder;var t=this.width,a=this.height;var n=this.coefficentsMagnitude;var i=this.coefficentsSign;var o=this.neighborsSignificance;var s=this.processingFlags;var c=this.contexts;var l=this.contextLabelTable;var u=this.bitsDecoded;var f=~1;var h=1;var d=2;for(var v=0;v<a;v+=4){for(var g=0;g<t;g++){var p=v*t+g;for(var m=0;m<4;m++,p+=t){var b=v+m;if(b>=a){break}s[p]&=f;if(n[p]||!o[p]){continue}var y=l[o[p]];var w=r.readBit(c,y);if(w){var k=this.decodeSignBit(b,g,p);i[p]=k;n[p]=1;this.setNeighborsSignificance(b,g,p);s[p]|=d}u[p]++;s[p]|=h}}}},decodeSignBit:function e(r,t,a){var n=this.width,i=this.height;var o=this.coefficentsMagnitude;var s=this.coefficentsSign;var c,l,u,f;var h,d;f=t>0&&o[a-1]!==0;if(t+1<n&&o[a+1]!==0){u=s[a+1];if(f){l=s[a-1];c=1-u-l}else{c=1-u-u}}else if(f){l=s[a-1];c=1-l-l}else{c=0}var v=3*c;f=r>0&&o[a-n]!==0;if(r+1<i&&o[a+n]!==0){u=s[a+n];if(f){l=s[a-n];c=1-u-l+v}else{c=1-u-u+v}}else if(f){l=s[a-n];c=1-l-l+v}else{c=v}if(c>=0){h=9+c;d=this.decoder.readBit(this.contexts,h)}else{h=9-c;d=this.decoder.readBit(this.contexts,h)^1}return d},runMagnitudeRefinementPass:function e(){var r=this.decoder;var t=this.width,a=this.height;var n=this.coefficentsMagnitude;var i=this.neighborsSignificance;var o=this.contexts;var s=this.bitsDecoded;var c=this.processingFlags;var l=1;var u=2;var f=t*a;var h=t*4;for(var d=0,v;d<f;d=v){v=Math.min(f,d+h);for(var g=0;g<t;g++){for(var p=d+g;p<v;p+=t){if(!n[p]||(c[p]&l)!==0){continue}var m=16;if((c[p]&u)!==0){c[p]^=u;var b=i[p]&127;m=b===0?15:14}var y=r.readBit(o,m);n[p]=n[p]<<1|y;s[p]++;c[p]|=l}}}},runCleanupPass:function e(){var a=this.decoder;var n=this.width,i=this.height;var o=this.neighborsSignificance;var s=this.coefficentsMagnitude;var c=this.coefficentsSign;var l=this.contexts;var u=this.contextLabelTable;var f=this.bitsDecoded;var h=this.processingFlags;var d=1;var v=2;var g=n;var p=n*2;var m=n*3;var b;for(var y=0;y<i;y=b){b=Math.min(y+4,i);var w=y*n;var k=y+3<i;for(var S=0;S<n;S++){var x=w+S;var C=k&&h[x]===0&&h[x+g]===0&&h[x+p]===0&&h[x+m]===0&&o[x]===0&&o[x+g]===0&&o[x+p]===0&&o[x+m]===0;var A=0,O=x;var P=y,I;if(C){var T=a.readBit(l,t);if(!T){f[x]++;f[x+g]++;f[x+p]++;f[x+m]++;continue}A=a.readBit(l,r)<<1|a.readBit(l,r);if(A!==0){P=y+A;O+=A*n}I=this.decodeSignBit(P,S,O);c[O]=I;s[O]=1;this.setNeighborsSignificance(P,S,O);h[O]|=v;O=x;for(var E=y;E<=P;E++,O+=n){f[O]++}A++}for(P=y+A;P<b;P++,O+=n){if(s[O]||(h[O]&d)!==0){continue}var F=u[o[O]];var B=a.readBit(l,F);if(B===1){I=this.decodeSignBit(P,S,O);c[O]=I;s[O]=1;this.setNeighborsSignificance(P,S,O);h[O]|=v}f[O]++}}}},checkSegmentationSymbol:function e(){var t=this.decoder;var a=this.contexts;var n=t.readBit(a,r)<<3|t.readBit(a,r)<<2|t.readBit(a,r)<<1|t.readBit(a,r);if(n!==10){throw new h("Invalid segmentation symbol")}}};return o}();var I=function e(){function r(){}r.prototype.calculate=function e(r,t,a){var n=r[0];for(var i=1,o=r.length;i<o;i++){n=this.iterate(n,r[i],t,a)}return n};r.prototype.extend=function e(r,t,a){var n=t-1,i=t+1;var o=t+a-2,s=t+a;r[n--]=r[i++];r[s++]=r[o--];r[n--]=r[i++];r[s++]=r[o--];r[n--]=r[i++];r[s++]=r[o--];r[n]=r[i];r[s]=r[o]};r.prototype.iterate=function e(r,t,a,n){var i=r.width,o=r.height,s=r.items;var c=t.width;var l=t.height;var u=t.items;var f,h,d,v,g,p;for(d=0,f=0;f<o;f++){v=f*2*c;for(h=0;h<i;h++,d++,v+=2){u[v]=s[d]}}s=r.items=null;var m=4;var b=new Float32Array(c+2*m);if(c===1){if((a&1)!==0){for(p=0,d=0;p<l;p++,d+=c){u[d]*=.5}}}else{for(p=0,d=0;p<l;p++,d+=c){b.set(u.subarray(d,d+c),m);this.extend(b,m,c);this.filter(b,m,c);u.set(b.subarray(m,m+c),d)}}var y=16;var w=[];for(f=0;f<y;f++){w.push(new Float32Array(l+2*m))}var k,S=0;r=m+l;if(l===1){if((n&1)!==0){for(g=0;g<c;g++){u[g]*=.5}}}else{for(g=0;g<c;g++){if(S===0){y=Math.min(c-g,y);for(d=g,v=m;v<r;d+=c,v++){for(k=0;k<y;k++){w[k][v]=u[d+k]}}S=y}S--;var x=w[S];this.extend(x,m,l);this.filter(x,m,l);if(S===0){d=g-y+1;for(v=m;v<r;d+=c,v++){for(k=0;k<y;k++){u[d+k]=w[k][v]}}}}}return{width:c,height:l,items:u}};return r}();var T=function e(){function r(){I.call(this)}r.prototype=Object.create(I.prototype);r.prototype.filter=function e(r,t,a){var n=a>>1;t=t|0;var i,o,s,c;var l=-1.586134342059924;var u=-.052980118572961;var f=.882911075530934;var h=.443506852043971;var d=1.230174104914001;var v=1/d;i=t-3;for(o=n+4;o--;i+=2){r[i]*=v}i=t-2;s=h*r[i-1];for(o=n+3;o--;i+=2){c=h*r[i+1];r[i]=d*r[i]-s-c;if(o--){i+=2;s=h*r[i+1];r[i]=d*r[i]-s-c}else{break}}i=t-1;s=f*r[i-1];for(o=n+2;o--;i+=2){c=f*r[i+1];r[i]-=s+c;if(o--){i+=2;s=f*r[i+1];r[i]-=s+c}else{break}}i=t;s=u*r[i-1];for(o=n+1;o--;i+=2){c=u*r[i+1];r[i]-=s+c;if(o--){i+=2;s=u*r[i+1];r[i]-=s+c}else{break}}if(n!==0){i=t+1;s=l*r[i-1];for(o=n;o--;i+=2){c=l*r[i+1];r[i]-=s+c;if(o--){i+=2;s=l*r[i+1];r[i]-=s+c}else{break}}}};return r}();var E=function e(){function r(){I.call(this)}r.prototype=Object.create(I.prototype);r.prototype.filter=function e(r,t,a){var n=a>>1;t=t|0;var i,o;for(i=t,o=n+1;o--;i+=2){r[i]-=r[i-1]+r[i+1]+2>>2}for(i=t+1,o=n;o--;i+=2){r[i]+=r[i-1]+r[i+1]>>1}};return r}();return t}();r.JpxImage=d},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.calculateSHA512=r.calculateSHA384=r.calculateSHA256=r.calculateMD5=r.PDF20=r.PDF17=r.CipherTransformFactory=r.ARCFourCipher=r.AES256Cipher=r.AES128Cipher=void 0;var a=t(5);var n=t(183);var i=t(190);function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(r){return typeof r}}else{o=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return o(e)}function s(e,r){if(r&&(o(r)==="object"||typeof r==="function")){return r}return c(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return l(e)}function u(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)f(e,r)}function f(e,r){f=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return f(e,r)}function h(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function d(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function v(e,r,t){if(r)d(e.prototype,r);if(t)d(e,t);return e}var g=function e(){function r(e){this.a=0;this.b=0;var r=new Uint8Array(256);var t,a=0,n,i=e.length;for(t=0;t<256;++t){r[t]=t}for(t=0;t<256;++t){n=r[t];a=a+n+e[t%i]&255;r[t]=r[a];r[a]=n}this.s=r}r.prototype={encryptBlock:function e(r){var t,a=r.length,n,i;var o=this.a,s=this.b,c=this.s;var l=new Uint8Array(a);for(t=0;t<a;++t){o=o+1&255;n=c[o];s=s+n&255;i=c[s];c[o]=i;c[s]=n;l[t]=r[t]^c[n+i&255]}this.a=o;this.b=s;return l}};r.prototype.decryptBlock=r.prototype.encryptBlock;return r}();r.ARCFourCipher=g;var p=function e(){var r=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]);var t=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function a(e,a,n){var i=1732584193,o=-271733879,s=-1732584194,c=271733878;var l=n+72&~63;var u=new Uint8Array(l);var f,h,d;for(f=0;f<n;++f){u[f]=e[a++]}u[f++]=128;d=l-8;while(f<d){u[f++]=0}u[f++]=n<<3&255;u[f++]=n>>5&255;u[f++]=n>>13&255;u[f++]=n>>21&255;u[f++]=n>>>29&255;u[f++]=0;u[f++]=0;u[f++]=0;var v=new Int32Array(16);for(f=0;f<l;){for(h=0;h<16;++h,f+=4){v[h]=u[f]|u[f+1]<<8|u[f+2]<<16|u[f+3]<<24}var g=i,p=o,m=s,b=c,y,w;for(h=0;h<64;++h){if(h<16){y=p&m|~p&b;w=h}else if(h<32){y=b&p|~b&m;w=5*h+1&15}else if(h<48){y=p^m^b;w=3*h+5&15}else{y=m^(p|~b);w=7*h&15}var k=b,S=g+y+t[h]+v[w]|0,x=r[h];b=m;m=p;p=p+(S<<x|S>>>32-x)|0;g=k}i=i+g|0;o=o+p|0;s=s+m|0;c=c+b|0}return new Uint8Array([i&255,i>>8&255,i>>16&255,i>>>24&255,o&255,o>>8&255,o>>16&255,o>>>24&255,s&255,s>>8&255,s>>16&255,s>>>24&255,c&255,c>>8&255,c>>16&255,c>>>24&255])}return a}();r.calculateMD5=p;var m=function e(){function r(e,r){this.high=e|0;this.low=r|0}r.prototype={and:function e(r){this.high&=r.high;this.low&=r.low},xor:function e(r){this.high^=r.high;this.low^=r.low},or:function e(r){this.high|=r.high;this.low|=r.low},shiftRight:function e(r){if(r>=32){this.low=this.high>>>r-32|0;this.high=0}else{this.low=this.low>>>r|this.high<<32-r;this.high=this.high>>>r|0}},shiftLeft:function e(r){if(r>=32){this.high=this.low<<r-32;this.low=0}else{this.high=this.high<<r|this.low>>>32-r;this.low=this.low<<r}},rotateRight:function e(r){var t,a;if(r&32){a=this.low;t=this.high}else{t=this.low;a=this.high}r&=31;this.low=t>>>r|a<<32-r;this.high=a>>>r|t<<32-r},not:function e(){this.high=~this.high;this.low=~this.low},add:function e(r){var t=(this.low>>>0)+(r.low>>>0);var a=(this.high>>>0)+(r.high>>>0);if(t>4294967295){a+=1}this.low=t|0;this.high=a|0},copyTo:function e(r,t){r[t]=this.high>>>24&255;r[t+1]=this.high>>16&255;r[t+2]=this.high>>8&255;r[t+3]=this.high&255;r[t+4]=this.low>>>24&255;r[t+5]=this.low>>16&255;r[t+6]=this.low>>8&255;r[t+7]=this.low&255},assign:function e(r){this.high=r.high;this.low=r.low}};return r}();var b=function e(){function r(e,r){return e>>>r|e<<32-r}function t(e,r,t){return e&r^~e&t}function a(e,r,t){return e&r^e&t^r&t}function n(e){return r(e,2)^r(e,13)^r(e,22)}function i(e){return r(e,6)^r(e,11)^r(e,25)}function o(e){return r(e,7)^r(e,18)^e>>>3}function s(e){return r(e,17)^r(e,19)^e>>>10}var c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function l(e,r,l){var u=1779033703,f=3144134277,h=1013904242,d=2773480762,v=1359893119,g=2600822924,p=528734635,m=1541459225;var b=Math.ceil((l+9)/64)*64;var y=new Uint8Array(b);var w,k,S;for(w=0;w<l;++w){y[w]=e[r++]}y[w++]=128;S=b-8;while(w<S){y[w++]=0}y[w++]=0;y[w++]=0;y[w++]=0;y[w++]=l>>>29&255;y[w++]=l>>21&255;y[w++]=l>>13&255;y[w++]=l>>5&255;y[w++]=l<<3&255;var x=new Uint32Array(64);for(w=0;w<b;){for(k=0;k<16;++k){x[k]=y[w]<<24|y[w+1]<<16|y[w+2]<<8|y[w+3];w+=4}for(k=16;k<64;++k){x[k]=s(x[k-2])+x[k-7]+o(x[k-15])+x[k-16]|0}var C=u,A=f,O=h,P=d,I=v,T=g,E=p,F=m,B,_;for(k=0;k<64;++k){B=F+i(I)+t(I,T,E)+c[k]+x[k];_=n(C)+a(C,A,O);F=E;E=T;T=I;I=P+B|0;P=O;O=A;A=C;C=B+_|0}u=u+C|0;f=f+A|0;h=h+O|0;d=d+P|0;v=v+I|0;g=g+T|0;p=p+E|0;m=m+F|0}return new Uint8Array([u>>24&255,u>>16&255,u>>8&255,u&255,f>>24&255,f>>16&255,f>>8&255,f&255,h>>24&255,h>>16&255,h>>8&255,h&255,d>>24&255,d>>16&255,d>>8&255,d&255,v>>24&255,v>>16&255,v>>8&255,v&255,g>>24&255,g>>16&255,g>>8&255,g&255,p>>24&255,p>>16&255,p>>8&255,p&255,m>>24&255,m>>16&255,m>>8&255,m&255])}return l}();r.calculateSHA256=b;var y=function e(){function r(e,r,t,a,n){e.assign(r);e.and(t);n.assign(r);n.not();n.and(a);e.xor(n)}function t(e,r,t,a,n){e.assign(r);e.and(t);n.assign(r);n.and(a);e.xor(n);n.assign(t);n.and(a);e.xor(n)}function a(e,r,t){e.assign(r);e.rotateRight(28);t.assign(r);t.rotateRight(34);e.xor(t);t.assign(r);t.rotateRight(39);e.xor(t)}function n(e,r,t){e.assign(r);e.rotateRight(14);t.assign(r);t.rotateRight(18);e.xor(t);t.assign(r);t.rotateRight(41);e.xor(t)}function i(e,r,t){e.assign(r);e.rotateRight(1);t.assign(r);t.rotateRight(8);e.xor(t);t.assign(r);t.shiftRight(7);e.xor(t)}function o(e,r,t){e.assign(r);e.rotateRight(19);t.assign(r);t.rotateRight(61);e.xor(t);t.assign(r);t.shiftRight(6);e.xor(t)}var s=[new m(1116352408,3609767458),new m(1899447441,602891725),new m(3049323471,3964484399),new m(3921009573,2173295548),new m(961987163,4081628472),new m(1508970993,3053834265),new m(2453635748,2937671579),new m(2870763221,3664609560),new m(3624381080,2734883394),new m(310598401,1164996542),new m(607225278,1323610764),new m(1426881987,3590304994),new m(1925078388,4068182383),new m(2162078206,991336113),new m(2614888103,633803317),new m(3248222580,3479774868),new m(3835390401,2666613458),new m(4022224774,944711139),new m(264347078,2341262773),new m(604807628,2007800933),new m(770255983,1495990901),new m(1249150122,1856431235),new m(1555081692,3175218132),new m(1996064986,2198950837),new m(2554220882,3999719339),new m(2821834349,766784016),new m(2952996808,2566594879),new m(3210313671,3203337956),new m(3336571891,1034457026),new m(3584528711,2466948901),new m(113926993,3758326383),new m(338241895,168717936),new m(666307205,1188179964),new m(773529912,1546045734),new m(1294757372,1522805485),new m(1396182291,2643833823),new m(1695183700,2343527390),new m(1986661051,1014477480),new m(2177026350,1206759142),new m(2456956037,344077627),new m(2730485921,1290863460),new m(2820302411,3158454273),new m(3259730800,3505952657),new m(3345764771,106217008),new m(3516065817,3606008344),new m(3600352804,1432725776),new m(4094571909,1467031594),new m(275423344,851169720),new m(430227734,3100823752),new m(506948616,1363258195),new m(659060556,3750685593),new m(883997877,3785050280),new m(958139571,3318307427),new m(1322822218,3812723403),new m(1537002063,2003034995),new m(1747873779,3602036899),new m(1955562222,1575990012),new m(2024104815,1125592928),new m(2227730452,2716904306),new m(2361852424,442776044),new m(2428436474,593698344),new m(2756734187,3733110249),new m(3204031479,2999351573),new m(3329325298,3815920427),new m(3391569614,3928383900),new m(3515267271,566280711),new m(3940187606,3454069534),new m(4118630271,4000239992),new m(116418474,1914138554),new m(174292421,2731055270),new m(289380356,3203993006),new m(460393269,320620315),new m(685471733,587496836),new m(852142971,1086792851),new m(1017036298,365543100),new m(1126000580,2618297676),new m(1288033470,3409855158),new m(1501505948,4234509866),new m(1607167915,987167468),new m(1816402316,1246189591)];function c(e,c,l,u){u=!!u;var f,h,d,v,g,p,b,y;if(!u){f=new m(1779033703,4089235720);h=new m(3144134277,2227873595);d=new m(1013904242,4271175723);v=new m(2773480762,1595750129);g=new m(1359893119,2917565137);p=new m(2600822924,725511199);b=new m(528734635,4215389547);y=new m(1541459225,327033209)}else{f=new m(3418070365,3238371032);h=new m(1654270250,914150663);d=new m(2438529370,812702999);v=new m(355462360,4144912697);g=new m(1731405415,4290775857);p=new m(2394180231,1750603025);b=new m(3675008525,1694076839);y=new m(1203062813,3204075428)}var w=Math.ceil((l+17)/128)*128;var k=new Uint8Array(w);var S,x,C;for(S=0;S<l;++S){k[S]=e[c++]}k[S++]=128;C=w-16;while(S<C){k[S++]=0}k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=0;k[S++]=l>>>29&255;k[S++]=l>>21&255;k[S++]=l>>13&255;k[S++]=l>>5&255;k[S++]=l<<3&255;var A=new Array(80);for(S=0;S<80;S++){A[S]=new m(0,0)}var O=new m(0,0),P=new m(0,0),I=new m(0,0);var T=new m(0,0),E=new m(0,0),F=new m(0,0);var B=new m(0,0),_=new m(0,0);var R=new m(0,0),L=new m(0,0);var M=new m(0,0),D=new m(0,0),N;for(S=0;S<w;){for(x=0;x<16;++x){A[x].high=k[S]<<24|k[S+1]<<16|k[S+2]<<8|k[S+3];A[x].low=k[S+4]<<24|k[S+5]<<16|k[S+6]<<8|k[S+7];S+=8}for(x=16;x<80;++x){N=A[x];o(N,A[x-2],D);N.add(A[x-7]);i(M,A[x-15],D);N.add(M);N.add(A[x-16])}O.assign(f);P.assign(h);I.assign(d);T.assign(v);E.assign(g);F.assign(p);B.assign(b);_.assign(y);for(x=0;x<80;++x){R.assign(_);n(M,E,D);R.add(M);r(M,E,F,B,D);R.add(M);R.add(s[x]);R.add(A[x]);a(L,O,D);t(M,O,P,I,D);L.add(M);N=_;_=B;B=F;F=E;T.add(R);E=T;T=I;I=P;P=O;N.assign(R);N.add(L);O=N}f.add(O);h.add(P);d.add(I);v.add(T);g.add(E);p.add(F);b.add(B);y.add(_)}var U;if(!u){U=new Uint8Array(64);f.copyTo(U,0);h.copyTo(U,8);d.copyTo(U,16);v.copyTo(U,24);g.copyTo(U,32);p.copyTo(U,40);b.copyTo(U,48);y.copyTo(U,56)}else{U=new Uint8Array(48);f.copyTo(U,0);h.copyTo(U,8);d.copyTo(U,16);v.copyTo(U,24);g.copyTo(U,32);p.copyTo(U,40)}return U}return c}();r.calculateSHA512=y;var w=function e(){function r(e,r,t){return y(e,r,t,true)}return r}();r.calculateSHA384=w;var k=function e(){function r(){}r.prototype={decryptBlock:function e(r){return r}};return r}();var S=function(){function e(){h(this,e);if(this.constructor===e){(0,a.unreachable)("Cannot initialize AESBaseCipher.")}this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]);this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]);this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]);this._mixCol=new Uint8Array(256);for(var r=0;r<256;r++){if(r<128){this._mixCol[r]=r<<1}else{this._mixCol[r]=r<<1^27}}this.buffer=new Uint8Array(16);this.bufferPosition=0}v(e,[{key:"_expandKey",value:function e(r){(0,a.unreachable)("Cannot call `_expandKey` on the base class")}},{key:"_decrypt",value:function e(r,t){var a,n,i;var o=new Uint8Array(16);o.set(r);for(var s=0,c=this._keySize;s<16;++s,++c){o[s]^=t[c]}for(var l=this._cyclesOfRepetition-1;l>=1;--l){a=o[13];o[13]=o[9];o[9]=o[5];o[5]=o[1];o[1]=a;a=o[14];n=o[10];o[14]=o[6];o[10]=o[2];o[6]=a;o[2]=n;a=o[15];n=o[11];i=o[7];o[15]=o[3];o[11]=a;o[7]=n;o[3]=i;for(var u=0;u<16;++u){o[u]=this._inv_s[o[u]]}for(var f=0,h=l*16;f<16;++f,++h){o[f]^=t[h]}for(var d=0;d<16;d+=4){var v=this._mix[o[d]];var g=this._mix[o[d+1]];var p=this._mix[o[d+2]];var m=this._mix[o[d+3]];a=v^g>>>8^g<<24^p>>>16^p<<16^m>>>24^m<<8;o[d]=a>>>24&255;o[d+1]=a>>16&255;o[d+2]=a>>8&255;o[d+3]=a&255}}a=o[13];o[13]=o[9];o[9]=o[5];o[5]=o[1];o[1]=a;a=o[14];n=o[10];o[14]=o[6];o[10]=o[2];o[6]=a;o[2]=n;a=o[15];n=o[11];i=o[7];o[15]=o[3];o[11]=a;o[7]=n;o[3]=i;for(var b=0;b<16;++b){o[b]=this._inv_s[o[b]];o[b]^=t[b]}return o}},{key:"_encrypt",value:function e(r,t){var a=this._s;var n,i,o;var s=new Uint8Array(16);s.set(r);for(var c=0;c<16;++c){s[c]^=t[c]}for(var l=1;l<this._cyclesOfRepetition;l++){for(var u=0;u<16;++u){s[u]=a[s[u]]}o=s[1];s[1]=s[5];s[5]=s[9];s[9]=s[13];s[13]=o;o=s[2];i=s[6];s[2]=s[10];s[6]=s[14];s[10]=o;s[14]=i;o=s[3];i=s[7];n=s[11];s[3]=s[15];s[7]=o;s[11]=i;s[15]=n;for(var f=0;f<16;f+=4){var h=s[f+0];var d=s[f+1];var v=s[f+2];var g=s[f+3];n=h^d^v^g;s[f+0]^=n^this._mixCol[h^d];s[f+1]^=n^this._mixCol[d^v];s[f+2]^=n^this._mixCol[v^g];s[f+3]^=n^this._mixCol[g^h]}for(var p=0,m=l*16;p<16;++p,++m){s[p]^=t[m]}}for(var b=0;b<16;++b){s[b]=a[s[b]]}o=s[1];s[1]=s[5];s[5]=s[9];s[9]=s[13];s[13]=o;o=s[2];i=s[6];s[2]=s[10];s[6]=s[14];s[10]=o;s[14]=i;o=s[3];i=s[7];n=s[11];s[3]=s[15];s[7]=o;s[11]=i;s[15]=n;for(var y=0,w=this._keySize;y<16;++y,++w){s[y]^=t[w]}return s}},{key:"_decryptBlock2",value:function e(r,t){var a=r.length;var n=this.buffer,i=this.bufferPosition;var o=[],s=this.iv;for(var c=0;c<a;++c){n[i]=r[c];++i;if(i<16){continue}var l=this._decrypt(n,this._key);for(var u=0;u<16;++u){l[u]^=s[u]}s=n;o.push(l);n=new Uint8Array(16);i=0}this.buffer=n;this.bufferLength=i;this.iv=s;if(o.length===0){return new Uint8Array(0)}var f=16*o.length;if(t){var h=o[o.length-1];var d=h[15];if(d<=16){for(var v=15,g=16-d;v>=g;--v){if(h[v]!==d){d=0;break}}f-=d;o[o.length-1]=h.subarray(0,16-d)}}var p=new Uint8Array(f);for(var m=0,b=0,y=o.length;m<y;++m,b+=16){p.set(o[m],b)}return p}},{key:"decryptBlock",value:function e(r,t){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var n=r.length;var i=this.buffer,o=this.bufferPosition;if(a){this.iv=a}else{for(var s=0;o<16&&s<n;++s,++o){i[o]=r[s]}if(o<16){this.bufferLength=o;return new Uint8Array(0)}this.iv=i;r=r.subarray(16)}this.buffer=new Uint8Array(16);this.bufferLength=0;this.decryptBlock=this._decryptBlock2;return this.decryptBlock(r,t)}},{key:"encrypt",value:function e(r,t){var a=r.length;var n=this.buffer,i=this.bufferPosition;var o=[];if(!t){t=new Uint8Array(16)}for(var s=0;s<a;++s){n[i]=r[s];++i;if(i<16){continue}for(var c=0;c<16;++c){n[c]^=t[c]}var l=this._encrypt(n,this._key);t=l;o.push(l);n=new Uint8Array(16);i=0}this.buffer=n;this.bufferLength=i;this.iv=t;if(o.length===0){return new Uint8Array(0)}var u=16*o.length;var f=new Uint8Array(u);for(var h=0,d=0,v=o.length;h<v;++h,d+=16){f.set(o[h],d)}return f}}]);return e}();var x=function(e){u(r,e);function r(e){var t;h(this,r);t=s(this,l(r).call(this));t._cyclesOfRepetition=10;t._keySize=160;t._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]);t._key=t._expandKey(e);return t}v(r,[{key:"_expandKey",value:function e(r){var t=176;var a=this._s;var n=this._rcon;var i=new Uint8Array(t);i.set(r);for(var o=16,s=1;o<t;++s){var c=i[o-3];var l=i[o-2];var u=i[o-1];var f=i[o-4];c=a[c];l=a[l];u=a[u];f=a[f];c=c^n[s];for(var h=0;h<4;++h){i[o]=c^=i[o-16];o++;i[o]=l^=i[o-16];o++;i[o]=u^=i[o-16];o++;i[o]=f^=i[o-16];o++}}return i}}]);return r}(S);r.AES128Cipher=x;var C=function(e){u(r,e);function r(e){var t;h(this,r);t=s(this,l(r).call(this));t._cyclesOfRepetition=14;t._keySize=224;t._key=t._expandKey(e);return t}v(r,[{key:"_expandKey",value:function e(r){var t=240;var a=this._s;var n=new Uint8Array(t);n.set(r);var i=1;var o,s,c,l;for(var u=32,f=1;u<t;++f){if(u%32===16){o=a[o];s=a[s];c=a[c];l=a[l]}else if(u%32===0){o=n[u-3];s=n[u-2];c=n[u-1];l=n[u-4];o=a[o];s=a[s];c=a[c];l=a[l];o=o^i;if((i<<=1)>=256){i=(i^27)&255}}for(var h=0;h<4;++h){n[u]=o^=n[u-32];u++;n[u]=s^=n[u-32];u++;n[u]=c^=n[u-32];u++;n[u]=l^=n[u-32];u++}}return n}}]);return r}(S);r.AES256Cipher=C;var A=function e(){function r(e,r){if(e.length!==r.length){return false}for(var t=0;t<e.length;t++){if(e[t]!==r[t]){return false}}return true}function t(){}t.prototype={checkOwnerPassword:function e(t,a,n,i){var o=new Uint8Array(t.length+56);o.set(t,0);o.set(a,t.length);o.set(n,t.length+a.length);var s=b(o,0,o.length);return r(s,i)},checkUserPassword:function e(t,a,n){var i=new Uint8Array(t.length+8);i.set(t,0);i.set(a,t.length);var o=b(i,0,i.length);return r(o,n)},getOwnerKey:function e(r,t,a,n){var i=new Uint8Array(r.length+56);i.set(r,0);i.set(t,r.length);i.set(a,r.length+t.length);var o=b(i,0,i.length);var s=new C(o);return s.decryptBlock(n,false,new Uint8Array(16))},getUserKey:function e(r,t,a){var n=new Uint8Array(r.length+8);n.set(r,0);n.set(t,r.length);var i=b(n,0,n.length);var o=new C(i);return o.decryptBlock(a,false,new Uint8Array(16))}};return t}();r.PDF17=A;var O=function e(){function r(e,r){var t=new Uint8Array(e.length+r.length);t.set(e,0);t.set(r,e.length);return t}function t(e,t,a){var n=b(t,0,t.length).subarray(0,32);var i=[0];var o=0;while(o<64||i[i.length-1]>o-32){var s=e.length+n.length+a.length;var c=new Uint8Array(s*64);var l=r(e,n);l=r(l,a);for(var u=0,f=0;u<64;u++,f+=s){c.set(l,f)}var h=new x(n.subarray(0,16));i=h.encrypt(c,n.subarray(16,32));var d=0;for(var v=0;v<16;v++){d*=256%3;d%=3;d+=(i[v]>>>0)%3;d%=3}if(d===0){n=b(i,0,i.length)}else if(d===1){n=w(i,0,i.length)}else if(d===2){n=y(i,0,i.length)}o++}return n.subarray(0,32)}function a(){}function n(e,r){if(e.length!==r.length){return false}for(var t=0;t<e.length;t++){if(e[t]!==r[t]){return false}}return true}a.prototype={hash:function e(r,a,n){return t(r,a,n)},checkOwnerPassword:function e(r,a,i,o){var s=new Uint8Array(r.length+56);s.set(r,0);s.set(a,r.length);s.set(i,r.length+a.length);var c=t(r,s,i);return n(c,o)},checkUserPassword:function e(r,a,i){var o=new Uint8Array(r.length+8);o.set(r,0);o.set(a,r.length);var s=t(r,o,[]);return n(s,i)},getOwnerKey:function e(r,a,n,i){var o=new Uint8Array(r.length+56);o.set(r,0);o.set(a,r.length);o.set(n,r.length+a.length);var s=t(r,o,n);var c=new C(s);return c.decryptBlock(i,false,new Uint8Array(16))},getUserKey:function e(r,a,n){var i=new Uint8Array(r.length+8);i.set(r,0);i.set(a,r.length);var o=t(r,i,[]);var s=new C(o);return s.decryptBlock(n,false,new Uint8Array(16))}};return a}();r.PDF20=O;var P=function e(){function r(e,r){this.StringCipherConstructor=e;this.StreamCipherConstructor=r}r.prototype={createStream:function e(r,t){var a=new this.StreamCipherConstructor;return new i.DecryptStream(r,t,function e(r,t){return a.decryptBlock(r,t)})},decryptString:function e(r){var t=new this.StringCipherConstructor;var n=(0,a.stringToBytes)(r);n=t.decryptBlock(n,true);return(0,a.bytesToString)(n)}};return r}();var I=function e(){var r=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function t(e,r,t,a,n,i,o,s,c,l,u,f){if(r){var h=Math.min(127,r.length);r=r.subarray(0,h)}else{r=[]}var d;if(e===6){d=new O}else{d=new A}if(d.checkUserPassword(r,s,o)){return d.getUserKey(r,c,u)}else if(r.length&&d.checkOwnerPassword(r,a,i,t)){return d.getOwnerKey(r,n,i,l)}return null}function i(e,t,a,n,i,o,s,c){var l=40+a.length+e.length;var u=new Uint8Array(l),f=0,h,d;if(t){d=Math.min(32,t.length);for(;f<d;++f){u[f]=t[f]}}h=0;while(f<32){u[f++]=r[h++]}for(h=0,d=a.length;h<d;++h){u[f++]=a[h]}u[f++]=i&255;u[f++]=i>>8&255;u[f++]=i>>16&255;u[f++]=i>>>24&255;for(h=0,d=e.length;h<d;++h){u[f++]=e[h]}if(o>=4&&!c){u[f++]=255;u[f++]=255;u[f++]=255;u[f++]=255}var v=p(u,0,f);var m=s>>3;if(o>=3){for(h=0;h<50;++h){v=p(v,0,m)}}var b=v.subarray(0,m);var y,w;if(o>=3){for(f=0;f<32;++f){u[f]=r[f]}for(h=0,d=e.length;h<d;++h){u[f++]=e[h]}y=new g(b);w=y.encryptBlock(p(u,0,f));d=b.length;var k=new Uint8Array(d),S;for(h=1;h<=19;++h){for(S=0;S<d;++S){k[S]=b[S]^h}y=new g(k);w=y.encryptBlock(w)}for(h=0,d=w.length;h<d;++h){if(n[h]!==w[h]){return null}}}else{y=new g(b);w=y.encryptBlock(r);for(h=0,d=w.length;h<d;++h){if(n[h]!==w[h]){return null}}}return b}function o(e,t,a,n){var i=new Uint8Array(32),o=0,s,c;c=Math.min(32,e.length);for(;o<c;++o){i[o]=e[o]}s=0;while(o<32){i[o++]=r[s++]}var l=p(i,0,o);var u=n>>3;if(a>=3){for(s=0;s<50;++s){l=p(l,0,l.length)}}var f,h;if(a>=3){h=t;var d=new Uint8Array(u),v;for(s=19;s>=0;s--){for(v=0;v<u;++v){d[v]=l[v]^s}f=new g(d);h=f.encryptBlock(h)}}else{f=new g(l.subarray(0,u));h=f.encryptBlock(t)}return h}var s=n.Name.get("Identity");function c(e,r,c){var l=e.get("Filter");if(!(0,n.isName)(l,"Standard")){throw new a.FormatError("unknown encryption method")}this.dict=e;var u=e.get("V");if(!Number.isInteger(u)||u!==1&&u!==2&&u!==4&&u!==5){throw new a.FormatError("unsupported encryption algorithm")}this.algorithm=u;var f=e.get("Length");if(!f){if(u<=3){f=40}else{var h=e.get("CF");var d=e.get("StmF");if((0,n.isDict)(h)&&(0,n.isName)(d)){h.suppressEncryption=true;var v=h.get(d.name);f=v&&v.get("Length")||128;if(f<40){f<<=3}}}}if(!Number.isInteger(f)||f<40||f%8!==0){throw new a.FormatError("invalid key length")}var g=(0,a.stringToBytes)(e.get("O")).subarray(0,32);var p=(0,a.stringToBytes)(e.get("U")).subarray(0,32);var m=e.get("P");var b=e.get("R");var y=(u===4||u===5)&&e.get("EncryptMetadata")!==false;this.encryptMetadata=y;var w=(0,a.stringToBytes)(r);var k;if(c){if(b===6){try{c=(0,a.utf8StringToString)(c)}catch(e){(0,a.warn)("CipherTransformFactory: "+"Unable to convert UTF8 encoded password.")}}k=(0,a.stringToBytes)(c)}var S;if(u!==5){S=i(w,k,g,p,m,b,f,y)}else{var x=(0,a.stringToBytes)(e.get("O")).subarray(32,40);var C=(0,a.stringToBytes)(e.get("O")).subarray(40,48);var A=(0,a.stringToBytes)(e.get("U")).subarray(0,48);var O=(0,a.stringToBytes)(e.get("U")).subarray(32,40);var P=(0,a.stringToBytes)(e.get("U")).subarray(40,48);var I=(0,a.stringToBytes)(e.get("OE"));var T=(0,a.stringToBytes)(e.get("UE"));var E=(0,a.stringToBytes)(e.get("Perms"));S=t(b,k,g,x,C,A,p,O,P,I,T,E)}if(!S&&!c){throw new a.PasswordException("No password given",a.PasswordResponses.NEED_PASSWORD)}else if(!S&&c){var F=o(k,g,b,f);S=i(w,F,g,p,m,b,f,y)}if(!S){throw new a.PasswordException("Incorrect Password",a.PasswordResponses.INCORRECT_PASSWORD)}this.encryptionKey=S;if(u>=4){var B=e.get("CF");if((0,n.isDict)(B)){B.suppressEncryption=true}this.cf=B;this.stmf=e.get("StmF")||s;this.strf=e.get("StrF")||s;this.eff=e.get("EFF")||this.stmf}}function l(e,r,t,a){var n=new Uint8Array(t.length+9),i,o;for(i=0,o=t.length;i<o;++i){n[i]=t[i]}n[i++]=e&255;n[i++]=e>>8&255;n[i++]=e>>16&255;n[i++]=r&255;n[i++]=r>>8&255;if(a){n[i++]=115;n[i++]=65;n[i++]=108;n[i++]=84}var s=p(n,0,i);return s.subarray(0,Math.min(t.length+5,16))}function u(e,r,t,i,o){if(!(0,n.isName)(r)){throw new a.FormatError("Invalid crypt filter name.")}var s=e.get(r.name);var c;if(s!==null&&s!==undefined){c=s.get("CFM")}if(!c||c.name==="None"){return function e(){return new k}}if(c.name==="V2"){return function e(){return new g(l(t,i,o,false))}}if(c.name==="AESV2"){return function e(){return new x(l(t,i,o,true))}}if(c.name==="AESV3"){return function e(){return new C(o)}}throw new a.FormatError("Unknown crypto method")}c.prototype={createCipherTransform:function e(r,t){if(this.algorithm===4||this.algorithm===5){return new P(u(this.cf,this.stmf,r,t,this.encryptionKey),u(this.cf,this.strf,r,t,this.encryptionKey))}var a=l(r,t,this.encryptionKey,false);var n=function e(){return new g(a)};return new P(n,n)}};return c}();r.CipherTransformFactory=I},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ColorSpace=void 0;var a=t(5);var n=t(183);function i(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){i=function e(r){return typeof r}}else{i=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return i(e)}function o(e,r){if(r&&(i(r)==="object"||typeof r==="function")){return r}return s(e)}function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return c(e)}function l(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)u(e,r)}function u(e,r){u=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return u(e,r)}function f(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function h(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function d(e,r,t){if(r)h(e.prototype,r);if(t)h(e,t);return e}function v(e,r,t,a,n,i,o){var s=3;o=o!==1?0:o;var c=t/n;var l=a/i;var u=0,f;var h=new Uint16Array(n);var d=t*s;for(var v=0;v<n;v++){h[v]=Math.floor(v*c)*s}for(var g=0;g<i;g++){var p=Math.floor(g*l)*d;for(var m=0;m<n;m++){f=p+h[m];r[u++]=e[f++];r[u++]=e[f++];r[u++]=e[f++];u+=o}}}var g=function(){function e(r,t){f(this,e);if(this.constructor===e){(0,a.unreachable)("Cannot initialize ColorSpace.")}this.name=r;this.numComps=t}d(e,[{key:"getRgb",value:function e(r,t){var a=new Uint8ClampedArray(3);this.getRgbItem(r,t,a,0);return a}},{key:"getRgbItem",value:function e(r,t,n,i){(0,a.unreachable)("Should not call ColorSpace.getRgbItem")}},{key:"getRgbBuffer",value:function e(r,t,n,i,o,s,c){(0,a.unreachable)("Should not call ColorSpace.getRgbBuffer")}},{key:"getOutputLength",value:function e(r,t){(0,a.unreachable)("Should not call ColorSpace.getOutputLength")}},{key:"isPassthrough",value:function e(r){return false}},{key:"isDefaultDecode",value:function r(t,a){return e.isDefaultDecode(t,this.numComps)}},{key:"fillRgb",value:function e(r,t,a,n,i,o,s,c,l){var u=t*a;var f=null;var h=1<<s;var d=a!==i||t!==n;if(this.isPassthrough(s)){f=c}else if(this.numComps===1&&u>h&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){var g=s<=8?new Uint8Array(h):new Uint16Array(h);for(var p=0;p<h;p++){g[p]=p}var m=new Uint8ClampedArray(h*3);this.getRgbBuffer(g,0,h,m,0,s,0);if(!d){var b=0;for(var y=0;y<u;++y){var w=c[y]*3;r[b++]=m[w];r[b++]=m[w+1];r[b++]=m[w+2];b+=l}}else{f=new Uint8Array(u*3);var k=0;for(var S=0;S<u;++S){var x=c[S]*3;f[k++]=m[x];f[k++]=m[x+1];f[k++]=m[x+2]}}}else{if(!d){this.getRgbBuffer(c,0,n*o,r,0,s,l)}else{f=new Uint8ClampedArray(u*3);this.getRgbBuffer(c,0,u,f,0,s,0)}}if(f){if(d){v(f,r,t,a,n,i,l)}else{var C=0,A=0;for(var O=0,P=n*o;O<P;O++){r[C++]=f[A++];r[C++]=f[A++];r[C++]=f[A++];C+=l}}}}},{key:"usesZeroToOneRange",get:function e(){return(0,a.shadow)(this,"usesZeroToOneRange",true)}}],[{key:"parse",value:function e(r,t,a,n){var i=this.parseToIR(r,t,a,n);return this.fromIR(i)}},{key:"fromIR",value:function e(r){var t=Array.isArray(r)?r[0]:r;var n,i,o;switch(t){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"CalGrayCS":n=r[1];i=r[2];o=r[3];return new S(n,i,o);case"CalRGBCS":n=r[1];i=r[2];o=r[3];var s=r[4];return new x(n,i,o,s);case"PatternCS":var c=r[1];if(c){c=this.fromIR(c)}return new m(c);case"IndexedCS":var l=r[1];var u=r[2];var f=r[3];return new b(this.fromIR(l),u,f);case"AlternateCS":var h=r[1];var d=r[2];var v=r[3];return new p(h,this.fromIR(d),v);case"LabCS":n=r[1];i=r[2];var g=r[3];return new C(n,i,g);default:throw new a.FormatError("Unknown colorspace name: ".concat(t))}}},{key:"parseToIR",value:function e(r,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3?arguments[3]:undefined;r=t.fetchIfRef(r);if((0,n.isName)(r)){switch(r.name){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:if((0,n.isDict)(i)){var s=i.get("ColorSpace");if((0,n.isDict)(s)){var c=s.get(r.name);if(c){if((0,n.isName)(c)){return this.parseToIR(c,t,i,o)}r=c;break}}}throw new a.FormatError("unrecognized colorspace ".concat(r.name))}}if(Array.isArray(r)){var l=t.fetchIfRef(r[0]).name;var u,f,h,d,v,g;switch(l){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":f=t.fetchIfRef(r[1]);d=f.getArray("WhitePoint");v=f.getArray("BlackPoint");g=f.get("Gamma");return["CalGrayCS",d,v,g];case"CalRGB":f=t.fetchIfRef(r[1]);d=f.getArray("WhitePoint");v=f.getArray("BlackPoint");g=f.getArray("Gamma");var p=f.getArray("Matrix");return["CalRGBCS",d,v,g,p];case"ICCBased":var m=t.fetchIfRef(r[1]);var b=m.dict;u=b.get("N");h=b.get("Alternate");if(h){var y=this.parseToIR(h,t,i,o);var w=this.fromIR(y,o);if(w.numComps===u){return y}(0,a.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(u===1){return"DeviceGrayCS"}else if(u===3){return"DeviceRgbCS"}else if(u===4){return"DeviceCmykCS"}break;case"Pattern":var k=r[1]||null;if(k){k=this.parseToIR(k,t,i,o)}return["PatternCS",k];case"Indexed":case"I":var S=this.parseToIR(r[1],t,i,o);var x=t.fetchIfRef(r[2])+1;var C=t.fetchIfRef(r[3]);if((0,n.isStream)(C)){C=C.getBytes()}return["IndexedCS",S,x,C];case"Separation":case"DeviceN":var A=t.fetchIfRef(r[1]);u=Array.isArray(A)?A.length:1;h=this.parseToIR(r[2],t,i,o);var O=o.create(t.fetchIfRef(r[3]));return["AlternateCS",u,h,O];case"Lab":f=t.fetchIfRef(r[1]);d=f.getArray("WhitePoint");v=f.getArray("BlackPoint");var P=f.getArray("Range");return["LabCS",d,v,P];default:throw new a.FormatError('unimplemented color space object "'.concat(l,'"'))}}throw new a.FormatError('unrecognized color space object: "'.concat(r,'"'))}},{key:"isDefaultDecode",value:function e(r,t){if(!Array.isArray(r)){return true}if(t*2!==r.length){(0,a.warn)("The decode map is not the correct length");return true}for(var n=0,i=r.length;n<i;n+=2){if(r[n]!==0||r[n+1]!==1){return false}}return true}},{key:"singletons",get:function e(){return(0,a.shadow)(this,"singletons",{get gray(){return(0,a.shadow)(this,"gray",new y)},get rgb(){return(0,a.shadow)(this,"rgb",new w)},get cmyk(){return(0,a.shadow)(this,"cmyk",new k)}})}}]);return e}();r.ColorSpace=g;var p=function(e){l(r,e);function r(e,t,a){var n;f(this,r);n=o(this,c(r).call(this,"Alternate",e));n.base=t;n.tintFn=a;n.tmpBuf=new Float32Array(t.numComps);return n}d(r,[{key:"getRgbItem",value:function e(r,t,a,n){var i=this.tmpBuf;this.tintFn(r,t,i,0);this.base.getRgbItem(i,0,a,n)}},{key:"getRgbBuffer",value:function e(r,t,a,n,i,o,s){var c=this.tintFn;var l=this.base;var u=1/((1<<o)-1);var f=l.numComps;var h=l.usesZeroToOneRange;var d=(l.isPassthrough(8)||!h)&&s===0;var v=d?i:0;var g=d?n:new Uint8ClampedArray(f*a);var p=this.numComps;var m=new Float32Array(p);var b=new Float32Array(f);var y,w;for(y=0;y<a;y++){for(w=0;w<p;w++){m[w]=r[t++]*u}c(m,0,b,0);if(h){for(w=0;w<f;w++){g[v++]=b[w]*255}}else{l.getRgbItem(b,0,g,v);v+=f}}if(!d){l.getRgbBuffer(g,0,a,n,i,8,s)}}},{key:"getOutputLength",value:function e(r,t){return this.base.getOutputLength(r*this.base.numComps/this.numComps,t)}}]);return r}(g);var m=function(e){l(r,e);function r(e){var t;f(this,r);t=o(this,c(r).call(this,"Pattern",null));t.base=e;return t}d(r,[{key:"isDefaultDecode",value:function e(r,t){(0,a.unreachable)("Should not call PatternCS.isDefaultDecode")}}]);return r}(g);var b=function(e){l(r,e);function r(e,t,i){var s;f(this,r);s=o(this,c(r).call(this,"Indexed",1));s.base=e;s.highVal=t;var l=e.numComps;var u=l*t;if((0,n.isStream)(i)){s.lookup=new Uint8Array(u);var h=i.getBytes(u);s.lookup.set(h)}else if((0,a.isString)(i)){s.lookup=new Uint8Array(u);for(var d=0;d<u;++d){s.lookup[d]=i.charCodeAt(d)}}else if(i instanceof Uint8Array){s.lookup=i}else{throw new a.FormatError("Unrecognized lookup table: ".concat(i))}return s}d(r,[{key:"getRgbItem",value:function e(r,t,a,n){var i=this.base.numComps;var o=r[t]*i;this.base.getRgbBuffer(this.lookup,o,1,a,n,8,0)}},{key:"getRgbBuffer",value:function e(r,t,a,n,i,o,s){var c=this.base;var l=c.numComps;var u=c.getOutputLength(l,s);var f=this.lookup;for(var h=0;h<a;++h){var d=r[t++]*l;c.getRgbBuffer(f,d,1,n,i,8,s);i+=u}}},{key:"getOutputLength",value:function e(r,t){return this.base.getOutputLength(r*this.base.numComps,t)}},{key:"isDefaultDecode",value:function e(r,t){if(!Array.isArray(r)){return true}if(r.length!==2){(0,a.warn)("Decode map length is not correct");return true}if(!Number.isInteger(t)||t<1){(0,a.warn)("Bits per component is not correct");return true}return r[0]===0&&r[1]===(1<<t)-1}}]);return r}(g);var y=function(e){l(r,e);function r(){f(this,r);return o(this,c(r).call(this,"DeviceGray",1))}d(r,[{key:"getRgbItem",value:function e(r,t,a,n){var i=r[t]*255;a[n]=a[n+1]=a[n+2]=i}},{key:"getRgbBuffer",value:function e(r,t,a,n,i,o,s){var c=255/((1<<o)-1);var l=t,u=i;for(var f=0;f<a;++f){var h=c*r[l++];n[u++]=h;n[u++]=h;n[u++]=h;u+=s}}},{key:"getOutputLength",value:function e(r,t){return r*(3+t)}}]);return r}(g);var w=function(e){l(r,e);function r(){f(this,r);return o(this,c(r).call(this,"DeviceRGB",3))}d(r,[{key:"getRgbItem",value:function e(r,t,a,n){a[n]=r[t]*255;a[n+1]=r[t+1]*255;a[n+2]=r[t+2]*255}},{key:"getRgbBuffer",value:function e(r,t,a,n,i,o,s){if(o===8&&s===0){n.set(r.subarray(t,t+a*3),i);return}var c=255/((1<<o)-1);var l=t,u=i;for(var f=0;f<a;++f){n[u++]=c*r[l++];n[u++]=c*r[l++];n[u++]=c*r[l++];u+=s}}},{key:"getOutputLength",value:function e(r,t){return r*(3+t)/3|0}},{key:"isPassthrough",value:function e(r){return r===8}}]);return r}(g);var k=function e(){function r(e,r,t,a,n){var i=e[r]*t;var o=e[r+1]*t;var s=e[r+2]*t;var c=e[r+3]*t;a[n]=255+i*(-4.387332384609988*i+54.48615194189176*o+18.82290502165302*s+212.25662451639585*c+-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*c-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747);a[n+1]=255+i*(8.841041422036149*i+60.118027045597366*o+6.871425592049007*s+31.159100130055922*c+-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*c-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578);a[n+2]=255+i*(.8842522430003296*i+8.078677503112928*o+30.89978309703729*s-.23883238689178934*c+-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*c-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*c+-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)}var t=function(e){l(t,e);function t(){f(this,t);return o(this,c(t).call(this,"DeviceCMYK",4))}d(t,[{key:"getRgbItem",value:function e(t,a,n,i){r(t,a,1,n,i)}},{key:"getRgbBuffer",value:function e(t,a,n,i,o,s,c){var l=1/((1<<s)-1);for(var u=0;u<n;u++){r(t,a,l,i,o);a+=4;o+=3+c}}},{key:"getOutputLength",value:function e(r,t){return r/4*(3+t)|0}}]);return t}(g);return t}();var S=function e(){function r(e,r,t,a,n,i){var o=r[t]*i;var s=Math.pow(o,e.G);var c=e.YW*s;var l=Math.max(295.8*Math.pow(c,.3333333333333333)-40.8,0);a[n]=l;a[n+1]=l;a[n+2]=l}var t=function(e){l(t,e);function t(e,r,n){var i;f(this,t);i=o(this,c(t).call(this,"CalGray",1));if(!e){throw new a.FormatError("WhitePoint missing - required for color space CalGray")}r=r||[0,0,0];n=n||1;i.XW=e[0];i.YW=e[1];i.ZW=e[2];i.XB=r[0];i.YB=r[1];i.ZB=r[2];i.G=n;if(i.XW<0||i.ZW<0||i.YW!==1){throw new a.FormatError("Invalid WhitePoint components for ".concat(i.name)+", no fallback available")}if(i.XB<0||i.YB<0||i.ZB<0){(0,a.info)("Invalid BlackPoint for ".concat(i.name,", falling back to default."));i.XB=i.YB=i.ZB=0}if(i.XB!==0||i.YB!==0||i.ZB!==0){(0,a.warn)("".concat(i.name,", BlackPoint: XB: ").concat(i.XB,", YB: ").concat(i.YB,", ")+"ZB: ".concat(i.ZB,", only default values are supported."))}if(i.G<1){(0,a.info)("Invalid Gamma: ".concat(i.G," for ").concat(i.name,", ")+"falling back to default.");i.G=1}return i}d(t,[{key:"getRgbItem",value:function e(t,a,n,i){r(this,t,a,n,i,1)}},{key:"getRgbBuffer",value:function e(t,a,n,i,o,s,c){var l=1/((1<<s)-1);for(var u=0;u<n;++u){r(this,t,a,i,o,l);a+=1;o+=3+c}}},{key:"getOutputLength",value:function e(r,t){return r*(3+t)}}]);return t}(g);return t}();var x=function e(){var r=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]);var t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]);var n=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]);var i=new Float32Array([1,1,1]);var s=new Float32Array(3);var u=new Float32Array(3);var h=new Float32Array(3);var v=Math.pow((8+16)/116,3)/8;function p(e,r,t){t[0]=e[0]*r[0]+e[1]*r[1]+e[2]*r[2];t[1]=e[3]*r[0]+e[4]*r[1]+e[5]*r[2];t[2]=e[6]*r[0]+e[7]*r[1]+e[8]*r[2]}function m(e,r,t){t[0]=r[0]*1/e[0];t[1]=r[1]*1/e[1];t[2]=r[2]*1/e[2]}function b(e,r,t){var a=.95047;var n=1;var i=1.08883;t[0]=r[0]*a/e[0];t[1]=r[1]*n/e[1];t[2]=r[2]*i/e[2]}function y(e){if(e<=.0031308){return w(0,1,12.92*e)}return w(0,1,(1+.055)*Math.pow(e,1/2.4)-.055)}function w(e,r,t){return Math.max(e,Math.min(r,t))}function k(e){if(e<0){return-k(-e)}if(e>8){return Math.pow((e+16)/116,3)}return e*v}function S(e,r,t){if(e[0]===0&&e[1]===0&&e[2]===0){t[0]=r[0];t[1]=r[1];t[2]=r[2];return}var a=k(0);var n=a;var i=k(e[0]);var o=a;var s=k(e[1]);var c=a;var l=k(e[2]);var u=(1-n)/(1-i);var f=1-u;var h=(1-o)/(1-s);var d=1-h;var v=(1-c)/(1-l);var g=1-v;t[0]=r[0]*u+f;t[1]=r[1]*h+d;t[2]=r[2]*v+g}function x(e,a,n){if(e[0]===1&&e[2]===1){n[0]=a[0];n[1]=a[1];n[2]=a[2];return}var i=n;p(r,a,i);var o=s;m(e,i,o);p(t,o,n)}function C(e,a,n){var i=n;p(r,a,i);var o=s;b(e,i,o);p(t,o,n)}function A(e,r,t,a,o,s){var c=w(0,1,r[t]*s);var l=w(0,1,r[t+1]*s);var f=w(0,1,r[t+2]*s);var d=Math.pow(c,e.GR);var v=Math.pow(l,e.GG);var g=Math.pow(f,e.GB);var m=e.MXA*d+e.MXB*v+e.MXC*g;var b=e.MYA*d+e.MYB*v+e.MYC*g;var k=e.MZA*d+e.MZB*v+e.MZC*g;var A=u;A[0]=m;A[1]=b;A[2]=k;var O=h;x(e.whitePoint,A,O);var P=u;S(e.blackPoint,O,P);var I=h;C(i,P,I);var T=u;p(n,I,T);a[o]=y(T[0])*255;a[o+1]=y(T[1])*255;a[o+2]=y(T[2])*255}var O=function(e){l(r,e);function r(e,t,n,i){var s;f(this,r);s=o(this,c(r).call(this,"CalRGB",3));if(!e){throw new a.FormatError("WhitePoint missing - required for color space CalRGB")}t=t||new Float32Array(3);n=n||new Float32Array([1,1,1]);i=i||new Float32Array([1,0,0,0,1,0,0,0,1]);var l=e[0];var u=e[1];var h=e[2];s.whitePoint=e;var d=t[0];var v=t[1];var g=t[2];s.blackPoint=t;s.GR=n[0];s.GG=n[1];s.GB=n[2];s.MXA=i[0];s.MYA=i[1];s.MZA=i[2];s.MXB=i[3];s.MYB=i[4];s.MZB=i[5];s.MXC=i[6];s.MYC=i[7];s.MZC=i[8];if(l<0||h<0||u!==1){throw new a.FormatError("Invalid WhitePoint components for ".concat(s.name)+", no fallback available")}if(d<0||v<0||g<0){(0,a.info)("Invalid BlackPoint for ".concat(s.name," [").concat(d,", ").concat(v,", ").concat(g,"], ")+"falling back to default.");s.blackPoint=new Float32Array(3)}if(s.GR<0||s.GG<0||s.GB<0){(0,a.info)("Invalid Gamma [".concat(s.GR,", ").concat(s.GG,", ").concat(s.GB,"] for ")+"".concat(s.name,", falling back to default."));s.GR=s.GG=s.GB=1}return s}d(r,[{key:"getRgbItem",value:function e(r,t,a,n){A(this,r,t,a,n,1)}},{key:"getRgbBuffer",value:function e(r,t,a,n,i,o,s){var c=1/((1<<o)-1);for(var l=0;l<a;++l){A(this,r,t,n,i,c);t+=3;i+=3+s}}},{key:"getOutputLength",value:function e(r,t){return r*(3+t)/3|0}}]);return r}(g);return O}();var C=function e(){function r(e){var r;if(e>=6/29){r=e*e*e}else{r=108/841*(e-4/29)}return r}function t(e,r,t,a){return t+e*(a-t)/r}function n(e,a,n,i,o,s){var c=a[n];var l=a[n+1];var u=a[n+2];if(i!==false){c=t(c,i,0,100);l=t(l,i,e.amin,e.amax);u=t(u,i,e.bmin,e.bmax)}l=l>e.amax?e.amax:l<e.amin?e.amin:l;u=u>e.bmax?e.bmax:u<e.bmin?e.bmin:u;var f=(c+16)/116;var h=f+l/500;var d=f-u/200;var v=e.XW*r(h);var g=e.YW*r(f);var p=e.ZW*r(d);var m,b,y;if(e.ZW<1){m=v*3.1339+g*-1.617+p*-.4906;b=v*-.9785+g*1.916+p*.0333;y=v*.072+g*-.229+p*1.4057}else{m=v*3.2406+g*-1.5372+p*-.4986;b=v*-.9689+g*1.8758+p*.0415;y=v*.0557+g*-.204+p*1.057}o[s]=Math.sqrt(m)*255;o[s+1]=Math.sqrt(b)*255;o[s+2]=Math.sqrt(y)*255}var i=function(e){l(r,e);function r(e,t,n){var i;f(this,r);i=o(this,c(r).call(this,"Lab",3));if(!e){throw new a.FormatError("WhitePoint missing - required for color space Lab")}t=t||[0,0,0];n=n||[-100,100,-100,100];i.XW=e[0];i.YW=e[1];i.ZW=e[2];i.amin=n[0];i.amax=n[1];i.bmin=n[2];i.bmax=n[3];i.XB=t[0];i.YB=t[1];i.ZB=t[2];if(i.XW<0||i.ZW<0||i.YW!==1){throw new a.FormatError("Invalid WhitePoint components, no fallback available")}if(i.XB<0||i.YB<0||i.ZB<0){(0,a.info)("Invalid BlackPoint, falling back to default");i.XB=i.YB=i.ZB=0}if(i.amin>i.amax||i.bmin>i.bmax){(0,a.info)("Invalid Range, falling back to defaults");i.amin=-100;i.amax=100;i.bmin=-100;i.bmax=100}return i}d(r,[{key:"getRgbItem",value:function e(r,t,a,i){n(this,r,t,false,a,i)}},{key:"getRgbBuffer",value:function e(r,t,a,i,o,s,c){var l=(1<<s)-1;for(var u=0;u<a;u++){n(this,r,t,l,i,o);t+=3;o+=3+c}}},{key:"getOutputLength",value:function e(r,t){return r*(3+t)/3|0}},{key:"isDefaultDecode",value:function e(r,t){return true}},{key:"usesZeroToOneRange",get:function e(){return(0,a.shadow)(this,"usesZeroToOneRange",false)}}]);return r}(g);return i}()},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getQuadPoints=O;r.MarkupAnnotation=r.AnnotationFactory=r.AnnotationBorderStyle=r.Annotation=void 0;var a=t(5);var n=t(188);var i=t(183);var o=t(201);var s=t(186);var c=t(203);var l=t(190);function u(e,r,t){if(typeof Reflect!=="undefined"&&Reflect.get){u=Reflect.get}else{u=function e(r,t,a){var n=f(r,t);if(!n)return;var i=Object.getOwnPropertyDescriptor(n,t);if(i.get){return i.get.call(a)}return i.value}}return u(e,r,t||e)}function f(e,r){while(!Object.prototype.hasOwnProperty.call(e,r)){e=g(e);if(e===null)break}return e}function h(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){h=function e(r){return typeof r}}else{h=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return h(e)}function d(e,r){if(r&&(h(r)==="object"||typeof r==="function")){return r}return v(e)}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return g(e)}function p(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)m(e,r)}function m(e,r){m=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return m(e,r)}function b(e,r){return k(e)||w(e,r)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function w(e,r){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var t=[];var a=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){t.push(s.value);if(r&&t.length===r)break}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(n)throw i}}return t}function k(e){if(Array.isArray(e))return e}function S(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function x(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function C(e,r,t){if(r)x(e.prototype,r);if(t)x(e,t);return e}var A=function(){function e(){S(this,e)}C(e,null,[{key:"create",value:function e(r,t,a,n){return a.ensure(this,"_create",[r,t,a,n])}},{key:"_create",value:function e(r,t,n,o){var c=r.fetchIfRef(t);if(!(0,i.isDict)(c)){return undefined}var l=(0,i.isRef)(t)?t.toString():"annot_".concat(o.createObjId());var u=c.get("Subtype");u=(0,i.isName)(u)?u.name:null;var f={xref:r,dict:c,subtype:u,id:l,pdfManager:n};switch(u){case"Link":return new M(f);case"Text":return new L(f);case"Widget":var h=(0,s.getInheritableProperty)({dict:c,key:"FT"});h=(0,i.isName)(h)?h.name:null;switch(h){case"Tx":return new B(f);case"Btn":return new _(f);case"Ch":return new R(f)}(0,a.warn)('Unimplemented widget field type "'+h+'", '+"falling back to base field type.");return new F(f);case"Popup":return new D(f);case"FreeText":return new N(f);case"Line":return new U(f);case"Square":return new j(f);case"Circle":return new q(f);case"PolyLine":return new z(f);case"Polygon":return new H(f);case"Caret":return new G(f);case"Ink":return new W(f);case"Highlight":return new X(f);case"Underline":return new V(f);case"Squiggly":return new K(f);case"StrikeOut":return new Y(f);case"Stamp":return new J(f);case"FileAttachment":return new Z(f);default:if(!u){(0,a.warn)("Annotation is missing the required /Subtype.")}else{(0,a.warn)('Unimplemented annotation type "'+u+'", '+"falling back to base annotation.")}return new I(f)}}}]);return e}();r.AnnotationFactory=A;function O(e,r){if(!e.has("QuadPoints")){return null}var t=e.getArray("QuadPoints");if(!Array.isArray(t)||t.length%8>0){return null}var a=[];for(var n=0,i=t.length/8;n<i;n++){a.push([]);for(var o=n*8,s=n*8+8;o<s;o+=2){var c=t[o];var l=t[o+1];if(c<r[0]||c>r[2]||l<r[1]||l>r[3]){return null}a[n].push({x:c,y:l})}}return a}function P(e,r,t){var n=a.Util.getAxialAlignedBoundingBox(r,t),i=b(n,4),o=i[0],s=i[1],c=i[2],l=i[3];if(o===c||s===l){return[1,0,0,1,e[0],e[1]]}var u=(e[2]-e[0])/(c-o);var f=(e[3]-e[1])/(l-s);return[u,0,0,f,e[0]-o*u,e[1]-s*f]}var I=function(){function e(r){S(this,e);var t=r.dict;this.setContents(t.get("Contents"));this.setModificationDate(t.get("M"));this.setFlags(t.get("F"));this.setRectangle(t.getArray("Rect"));this.setColor(t.getArray("C"));this.setBorderStyle(t);this.setAppearance(t);this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,contents:this.contents,hasAppearance:!!this.appearance,id:r.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:r.subtype}}C(e,[{key:"_hasFlag",value:function e(r,t){return!!(r&t)}},{key:"_isViewable",value:function e(r){return!this._hasFlag(r,a.AnnotationFlag.INVISIBLE)&&!this._hasFlag(r,a.AnnotationFlag.HIDDEN)&&!this._hasFlag(r,a.AnnotationFlag.NOVIEW)}},{key:"_isPrintable",value:function e(r){return this._hasFlag(r,a.AnnotationFlag.PRINT)&&!this._hasFlag(r,a.AnnotationFlag.INVISIBLE)&&!this._hasFlag(r,a.AnnotationFlag.HIDDEN)}},{key:"setContents",value:function e(r){this.contents=(0,a.stringToPDFString)(r||"")}},{key:"setModificationDate",value:function e(r){this.modificationDate=(0,a.isString)(r)?r:null}},{key:"setFlags",value:function e(r){this.flags=Number.isInteger(r)&&r>0?r:0}},{key:"hasFlag",value:function e(r){return this._hasFlag(this.flags,r)}},{key:"setRectangle",value:function e(r){if(Array.isArray(r)&&r.length===4){this.rectangle=a.Util.normalizeRect(r)}else{this.rectangle=[0,0,0,0]}}},{key:"setColor",value:function e(r){var t=new Uint8ClampedArray(3);if(!Array.isArray(r)){this.color=t;return}switch(r.length){case 0:this.color=null;break;case 1:o.ColorSpace.singletons.gray.getRgbItem(r,0,t,0);this.color=t;break;case 3:o.ColorSpace.singletons.rgb.getRgbItem(r,0,t,0);this.color=t;break;case 4:o.ColorSpace.singletons.cmyk.getRgbItem(r,0,t,0);this.color=t;break;default:this.color=t;break}}},{key:"setBorderStyle",value:function e(r){this.borderStyle=new T;if(!(0,i.isDict)(r)){return}if(r.has("BS")){var t=r.get("BS");var a=t.get("Type");if(!a||(0,i.isName)(a,"Border")){this.borderStyle.setWidth(t.get("W"),this.rectangle);this.borderStyle.setStyle(t.get("S"));this.borderStyle.setDashArray(t.getArray("D"))}}else if(r.has("Border")){var n=r.getArray("Border");if(Array.isArray(n)&&n.length>=3){this.borderStyle.setHorizontalCornerRadius(n[0]);this.borderStyle.setVerticalCornerRadius(n[1]);this.borderStyle.setWidth(n[2],this.rectangle);if(n.length===4){this.borderStyle.setDashArray(n[3])}}}else{this.borderStyle.setWidth(0)}}},{key:"setAppearance",value:function e(r){this.appearance=null;var t=r.get("AP");if(!(0,i.isDict)(t)){return}var a=t.get("N");if((0,i.isStream)(a)){this.appearance=a;return}if(!(0,i.isDict)(a)){return}var n=r.get("AS");if(!(0,i.isName)(n)||!a.has(n.name)){return}this.appearance=a.get(n.name)}},{key:"loadResources",value:function e(r){return this.appearance.dict.getAsync("Resources").then(function(e){if(!e){return undefined}var t=new n.ObjectLoader(e,r,e.xref);return t.load().then(function(){return e})})}},{key:"getOperatorList",value:function e(r,t,n){var i=this;if(!this.appearance){return Promise.resolve(new c.OperatorList)}var o=this.data;var s=this.appearance.dict;var l=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]);var u=s.getArray("BBox")||[0,0,1,1];var f=s.getArray("Matrix")||[1,0,0,1,0,0];var h=P(o.rect,u,f);return l.then(function(e){var n=new c.OperatorList;n.addOp(a.OPS.beginAnnotation,[o.rect,h,f]);return r.getOperatorList({stream:i.appearance,task:t,resources:e,operatorList:n}).then(function(){n.addOp(a.OPS.endAnnotation,[]);i.appearance.reset();return n})})}},{key:"viewable",get:function e(){if(this.flags===0){return true}return this._isViewable(this.flags)}},{key:"printable",get:function e(){if(this.flags===0){return false}return this._isPrintable(this.flags)}}]);return e}();r.Annotation=I;var T=function(){function e(){S(this,e);this.width=1;this.style=a.AnnotationBorderStyleType.SOLID;this.dashArray=[3];this.horizontalCornerRadius=0;this.verticalCornerRadius=0}C(e,[{key:"setWidth",value:function e(r){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0,0,0,0];if((0,i.isName)(r)){this.width=0;return}if(Number.isInteger(r)){if(r>0){var n=(t[2]-t[0])/2;var o=(t[3]-t[1])/2;if(n>0&&o>0&&(r>n||r>o)){(0,a.warn)("AnnotationBorderStyle.setWidth - ignoring width: ".concat(r));r=1}}this.width=r}}},{key:"setStyle",value:function e(r){if(!(0,i.isName)(r)){return}switch(r.name){case"S":this.style=a.AnnotationBorderStyleType.SOLID;break;case"D":this.style=a.AnnotationBorderStyleType.DASHED;break;case"B":this.style=a.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=a.AnnotationBorderStyleType.INSET;break;case"U":this.style=a.AnnotationBorderStyleType.UNDERLINE;break;default:break}}},{key:"setDashArray",value:function e(r){if(Array.isArray(r)&&r.length>0){var t=true;var a=true;var n=true;var i=false;var o=undefined;try{for(var s=r[Symbol.iterator](),c;!(n=(c=s.next()).done);n=true){var l=c.value;var u=+l>=0;if(!u){t=false;break}else if(l>0){a=false}}}catch(e){i=true;o=e}finally{try{if(!n&&s["return"]!=null){s["return"]()}}finally{if(i){throw o}}}if(t&&!a){this.dashArray=r}else{this.width=0}}else if(r){this.width=0}}},{key:"setHorizontalCornerRadius",value:function e(r){if(Number.isInteger(r)){this.horizontalCornerRadius=r}}},{key:"setVerticalCornerRadius",value:function e(r){if(Number.isInteger(r)){this.verticalCornerRadius=r}}}]);return e}();r.AnnotationBorderStyle=T;var E=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));var n=e.dict;if(n.has("IRT")){var o=n.getRaw("IRT");t.data.inReplyTo=(0,i.isRef)(o)?o.toString():null;var s=n.get("RT");t.data.replyType=(0,i.isName)(s)?s.name:a.AnnotationReplyType.REPLY}if(t.data.replyType===a.AnnotationReplyType.GROUP){var c=n.get("IRT");t.data.title=(0,a.stringToPDFString)(c.get("T")||"");t.setContents(c.get("Contents"));t.data.contents=t.contents;if(!c.has("CreationDate")){t.data.creationDate=null}else{t.setCreationDate(c.get("CreationDate"));t.data.creationDate=t.creationDate}if(!c.has("M")){t.data.modificationDate=null}else{t.setModificationDate(c.get("M"));t.data.modificationDate=t.modificationDate}t.data.hasPopup=c.has("Popup");if(!c.has("C")){t.data.color=null}else{t.setColor(c.getArray("C"));t.data.color=t.color}}else{t.data.title=(0,a.stringToPDFString)(n.get("T")||"");t.setCreationDate(n.get("CreationDate"));t.data.creationDate=t.creationDate;t.data.hasPopup=n.has("Popup");if(!n.has("C")){t.data.color=null}}return t}C(r,[{key:"setCreationDate",value:function e(r){this.creationDate=(0,a.isString)(r)?r:null}}]);return r}(I);r.MarkupAnnotation=E;var F=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));var n=e.dict;var o=t.data;o.annotationType=a.AnnotationType.WIDGET;o.fieldName=t._constructFieldName(n);o.fieldValue=(0,s.getInheritableProperty)({dict:n,key:"V",getArray:true});o.alternativeText=(0,a.stringToPDFString)(n.get("TU")||"");o.defaultAppearance=(0,s.getInheritableProperty)({dict:n,key:"DA"})||"";var c=(0,s.getInheritableProperty)({dict:n,key:"FT"});o.fieldType=(0,i.isName)(c)?c.name:null;t.fieldResources=(0,s.getInheritableProperty)({dict:n,key:"DR"})||i.Dict.empty;o.fieldFlags=(0,s.getInheritableProperty)({dict:n,key:"Ff"});if(!Number.isInteger(o.fieldFlags)||o.fieldFlags<0){o.fieldFlags=0}o.readOnly=t.hasFieldFlag(a.AnnotationFieldFlag.READONLY);if(o.fieldType==="Sig"){o.fieldValue=null;t.setFlags(a.AnnotationFlag.HIDDEN)}return t}C(r,[{key:"_constructFieldName",value:function e(r){if(!r.has("T")&&!r.has("Parent")){(0,a.warn)("Unknown field name, falling back to empty field name.");return""}if(!r.has("Parent")){return(0,a.stringToPDFString)(r.get("T"))}var t=[];if(r.has("T")){t.unshift((0,a.stringToPDFString)(r.get("T")))}var n=r;while(n.has("Parent")){n=n.get("Parent");if(!(0,i.isDict)(n)){break}if(n.has("T")){t.unshift((0,a.stringToPDFString)(n.get("T")))}}return t.join(".")}},{key:"hasFieldFlag",value:function e(r){return!!(this.data.fieldFlags&r)}},{key:"getOperatorList",value:function e(t,a,n){if(n){return Promise.resolve(new c.OperatorList)}return u(g(r.prototype),"getOperatorList",this).call(this,t,a,n)}}]);return r}(I);var B=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));var n=e.dict;t.data.fieldValue=(0,a.stringToPDFString)(t.data.fieldValue||"");var i=(0,s.getInheritableProperty)({dict:n,key:"Q"});if(!Number.isInteger(i)||i<0||i>2){i=null}t.data.textAlignment=i;var o=(0,s.getInheritableProperty)({dict:n,key:"MaxLen"});if(!Number.isInteger(o)||o<0){o=null}t.data.maxLen=o;t.data.multiLine=t.hasFieldFlag(a.AnnotationFieldFlag.MULTILINE);t.data.comb=t.hasFieldFlag(a.AnnotationFieldFlag.COMB)&&!t.hasFieldFlag(a.AnnotationFieldFlag.MULTILINE)&&!t.hasFieldFlag(a.AnnotationFieldFlag.PASSWORD)&&!t.hasFieldFlag(a.AnnotationFieldFlag.FILESELECT)&&t.data.maxLen!==null;return t}C(r,[{key:"getOperatorList",value:function e(t,n,i){if(i||this.appearance){return u(g(r.prototype),"getOperatorList",this).call(this,t,n,i)}var o=new c.OperatorList;if(!this.data.defaultAppearance){return Promise.resolve(o)}var s=new l.Stream((0,a.stringToBytes)(this.data.defaultAppearance));return t.getOperatorList({stream:s,task:n,resources:this.fieldResources,operatorList:o}).then(function(){return o})}}]);return r}(F);var _=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.checkBox=!t.hasFieldFlag(a.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(a.AnnotationFieldFlag.PUSHBUTTON);t.data.radioButton=t.hasFieldFlag(a.AnnotationFieldFlag.RADIO)&&!t.hasFieldFlag(a.AnnotationFieldFlag.PUSHBUTTON);t.data.pushButton=t.hasFieldFlag(a.AnnotationFieldFlag.PUSHBUTTON);if(t.data.checkBox){t._processCheckBox(e)}else if(t.data.radioButton){t._processRadioButton(e)}else if(t.data.pushButton){t._processPushButton(e)}else{(0,a.warn)("Invalid field flags for button widget annotation")}return t}C(r,[{key:"_processCheckBox",value:function e(r){if((0,i.isName)(this.data.fieldValue)){this.data.fieldValue=this.data.fieldValue.name}var t=r.dict.get("AP");if(!(0,i.isDict)(t)){return}var a=t.get("D");if(!(0,i.isDict)(a)){return}var n=a.getKeys();var o=n.length===2;if(!o){return}this.data.exportValue=n[0]==="Off"?n[1]:n[0]}},{key:"_processRadioButton",value:function e(r){this.data.fieldValue=this.data.buttonValue=null;var t=r.dict.get("Parent");if((0,i.isDict)(t)&&t.has("V")){var a=t.get("V");if((0,i.isName)(a)){this.data.fieldValue=a.name}}var n=r.dict.get("AP");if(!(0,i.isDict)(n)){return}var o=n.get("N");if(!(0,i.isDict)(o)){return}var s=true;var c=false;var l=undefined;try{for(var u=o.getKeys()[Symbol.iterator](),f;!(s=(f=u.next()).done);s=true){var h=f.value;if(h!=="Off"){this.data.buttonValue=h;break}}}catch(e){c=true;l=e}finally{try{if(!s&&u["return"]!=null){u["return"]()}}finally{if(c){throw l}}}}},{key:"_processPushButton",value:function e(r){if(!r.dict.has("A")){(0,a.warn)("Push buttons without action dictionaries are not supported");return}n.Catalog.parseDestDictionary({destDict:r.dict,resultObj:this.data,docBaseUrl:r.pdfManager.docBaseUrl})}}]);return r}(F);var R=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.options=[];var n=(0,s.getInheritableProperty)({dict:e.dict,key:"Opt"});if(Array.isArray(n)){var i=e.xref;for(var o=0,c=n.length;o<c;o++){var l=i.fetchIfRef(n[o]);var u=Array.isArray(l);t.data.options[o]={exportValue:u?i.fetchIfRef(l[0]):l,displayValue:(0,a.stringToPDFString)(u?i.fetchIfRef(l[1]):l)}}}if(!Array.isArray(t.data.fieldValue)){t.data.fieldValue=[t.data.fieldValue]}t.data.combo=t.hasFieldFlag(a.AnnotationFieldFlag.COMBO);t.data.multiSelect=t.hasFieldFlag(a.AnnotationFieldFlag.MULTISELECT);return t}return r}(F);var L=function(e){p(r,e);function r(e){var t;S(this,r);var n=22;t=d(this,g(r).call(this,e));var i=e.dict;t.data.annotationType=a.AnnotationType.TEXT;if(t.data.hasAppearance){t.data.name="NoIcon"}else{t.data.rect[1]=t.data.rect[3]-n;t.data.rect[2]=t.data.rect[0]+n;t.data.name=i.has("Name")?i.get("Name").name:"Note"}if(i.has("State")){t.data.state=i.get("State")||null;t.data.stateModel=i.get("StateModel")||null}else{t.data.state=null;t.data.stateModel=null}return t}return r}(E);var M=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.LINK;var i=O(e.dict,t.rectangle);if(i){t.data.quadPoints=i}n.Catalog.parseDestDictionary({destDict:e.dict,resultObj:t.data,docBaseUrl:e.pdfManager.docBaseUrl});return t}return r}(I);var D=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.POPUP;var n=e.dict.get("Parent");if(!n){(0,a.warn)("Popup annotation has a missing or invalid parent annotation.");return d(t)}var o=n.get("Subtype");t.data.parentType=(0,i.isName)(o)?o.name:null;var s=e.dict.getRaw("Parent");t.data.parentId=(0,i.isRef)(s)?s.toString():null;var c=n.get("RT");if((0,i.isName)(c,a.AnnotationReplyType.GROUP)){n=n.get("IRT")}if(!n.has("M")){t.data.modificationDate=null}else{t.setModificationDate(n.get("M"));t.data.modificationDate=t.modificationDate}if(!n.has("C")){t.data.color=null}else{t.setColor(n.getArray("C"));t.data.color=t.color}if(!t.viewable){var l=n.get("F");if(t._isViewable(l)){t.setFlags(l)}}t.data.title=(0,a.stringToPDFString)(n.get("T")||"");t.data.contents=(0,a.stringToPDFString)(n.get("Contents")||"");return t}return r}(I);var N=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.FREETEXT;return t}return r}(E);var U=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.LINE;t.data.lineCoordinates=a.Util.normalizeRect(e.dict.getArray("L"));return t}return r}(E);var j=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.SQUARE;return t}return r}(E);var q=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.CIRCLE;return t}return r}(E);var z=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.POLYLINE;var n=e.dict.getArray("Vertices");t.data.vertices=[];for(var i=0,o=n.length;i<o;i+=2){t.data.vertices.push({x:n[i],y:n[i+1]})}return t}return r}(E);var H=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.POLYGON;return t}return r}(z);var G=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.CARET;return t}return r}(E);var W=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.INK;var n=e.xref;var i=e.dict.getArray("InkList");t.data.inkLists=[];for(var o=0,s=i.length;o<s;++o){t.data.inkLists.push([]);for(var c=0,l=i[o].length;c<l;c+=2){t.data.inkLists[o].push({x:n.fetchIfRef(i[o][c]),y:n.fetchIfRef(i[o][c+1])})}}return t}return r}(E);var X=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.HIGHLIGHT;var n=O(e.dict,t.rectangle);if(n){t.data.quadPoints=n}return t}return r}(E);var V=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.UNDERLINE;var n=O(e.dict,t.rectangle);if(n){t.data.quadPoints=n}return t}return r}(E);var K=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.SQUIGGLY;var n=O(e.dict,t.rectangle);if(n){t.data.quadPoints=n}return t}return r}(E);var Y=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.STRIKEOUT;var n=O(e.dict,t.rectangle);if(n){t.data.quadPoints=n}return t}return r}(E);var J=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));t.data.annotationType=a.AnnotationType.STAMP;return t}return r}(E);var Z=function(e){p(r,e);function r(e){var t;S(this,r);t=d(this,g(r).call(this,e));var i=new n.FileSpec(e.dict.get("FS"),e.xref);t.data.annotationType=a.AnnotationType.FILEATTACHMENT;t.data.file=i.serializable;return t}return r}(E)},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OperatorList=void 0;var a=t(5);var n=function e(){function r(e,r,t,a,n){var i=e;for(var o=0,s=r.length-1;o<s;o++){var c=r[o];i=i[c]||(i[c]=[])}i[r[r.length-1]]={checkFn:t,iterateFn:a,processFn:n}}function t(e,r,t,n){var i=e+2;for(var o=0;o<r;o++){var s=n[i+4*o];var c=s.length===1&&s[0];if(c&&c.width===1&&c.height===1&&(!c.data.length||c.data.length===1&&c.data[0]===0)){t[i+4*o]=a.OPS.paintSolidColorImageMask;continue}break}return r-o}var n=[];r(n,[a.OPS.save,a.OPS.transform,a.OPS.paintInlineImageXObject,a.OPS.restore],null,function e(r,t){var n=r.fnArray;var i=r.iCurr-3;var o=(t-i)%4;switch(o){case 0:return n[t]===a.OPS.save;case 1:return n[t]===a.OPS.transform;case 2:return n[t]===a.OPS.paintInlineImageXObject;case 3:return n[t]===a.OPS.restore}throw new Error("iterateInlineImageGroup - invalid pos: ".concat(o))},function e(r,t){var n=10;var i=200;var o=1e3;var s=1;var c=r.fnArray,l=r.argsArray;var u=r.iCurr;var f=u-3;var h=u-2;var d=u-1;var v=Math.min(Math.floor((t-f)/4),i);if(v<n){return t-(t-f)%4}var g=0;var p=[],m=0;var b=s,y=s;var w;for(w=0;w<v;w++){var k=l[h+(w<<2)];var S=l[d+(w<<2)][0];if(b+S.width>o){g=Math.max(g,b);y+=m+2*s;b=0;m=0}p.push({transform:k,x:b,y:y,w:S.width,h:S.height});b+=S.width+2*s;m=Math.max(m,S.height)}var x=Math.max(g,b)+s;var C=y+m+s;var A=new Uint8ClampedArray(x*C*4);var O=x<<2;for(w=0;w<v;w++){var P=l[d+(w<<2)][0].data;var I=p[w].w<<2;var T=0;var E=p[w].x+p[w].y*x<<2;A.set(P.subarray(0,I),E-O);for(var F=0,B=p[w].h;F<B;F++){A.set(P.subarray(T,T+I),E);T+=I;E+=O}A.set(P.subarray(T-I,T),E);while(E>=0){P[E-4]=P[E];P[E-3]=P[E+1];P[E-2]=P[E+2];P[E-1]=P[E+3];P[E+I]=P[E+I-4];P[E+I+1]=P[E+I-3];P[E+I+2]=P[E+I-2];P[E+I+3]=P[E+I-1];E-=O}}c.splice(f,v*4,a.OPS.paintInlineImageXObjectGroup);l.splice(f,v*4,[{width:x,height:C,kind:a.ImageKind.RGBA_32BPP,data:A},p]);return f+1});r(n,[a.OPS.save,a.OPS.transform,a.OPS.paintImageMaskXObject,a.OPS.restore],null,function e(r,t){var n=r.fnArray;var i=r.iCurr-3;var o=(t-i)%4;switch(o){case 0:return n[t]===a.OPS.save;case 1:return n[t]===a.OPS.transform;case 2:return n[t]===a.OPS.paintImageMaskXObject;case 3:return n[t]===a.OPS.restore}throw new Error("iterateImageMaskGroup - invalid pos: ".concat(o))},function e(r,n){var i=10;var o=100;var s=1e3;var c=r.fnArray,l=r.argsArray;var u=r.iCurr;var f=u-3;var h=u-2;var d=u-1;var v=Math.floor((n-f)/4);v=t(f,v,c,l);if(v<i){return n-(n-f)%4}var g;var p=false;var m,b;var y=l[d][0];if(l[h][1]===0&&l[h][2]===0){p=true;var w=l[h][0];var k=l[h][3];m=h+4;var S=d+4;for(g=1;g<v;g++,m+=4,S+=4){b=l[m];if(l[S][0]!==y||b[0]!==w||b[1]!==0||b[2]!==0||b[3]!==k){if(g<i){p=false}else{v=g}break}}}if(p){v=Math.min(v,s);var x=new Float32Array(v*2);m=h;for(g=0;g<v;g++,m+=4){b=l[m];x[g<<1]=b[4];x[(g<<1)+1]=b[5]}c.splice(f,v*4,a.OPS.paintImageMaskXObjectRepeat);l.splice(f,v*4,[y,w,k,x])}else{v=Math.min(v,o);var C=[];for(g=0;g<v;g++){b=l[h+(g<<2)];var A=l[d+(g<<2)][0];C.push({data:A.data,width:A.width,height:A.height,transform:b})}c.splice(f,v*4,a.OPS.paintImageMaskXObjectGroup);l.splice(f,v*4,[C])}return f+1});r(n,[a.OPS.save,a.OPS.transform,a.OPS.paintImageXObject,a.OPS.restore],function(e){var r=e.argsArray;var t=e.iCurr-2;return r[t][1]===0&&r[t][2]===0},function e(r,t){var n=r.fnArray,i=r.argsArray;var o=r.iCurr-3;var s=(t-o)%4;switch(s){case 0:return n[t]===a.OPS.save;case 1:if(n[t]!==a.OPS.transform){return false}var c=r.iCurr-2;var l=i[c][0];var u=i[c][3];if(i[t][0]!==l||i[t][1]!==0||i[t][2]!==0||i[t][3]!==u){return false}return true;case 2:if(n[t]!==a.OPS.paintImageXObject){return false}var f=r.iCurr-1;var h=i[f][0];if(i[t][0]!==h){return false}return true;case 3:return n[t]===a.OPS.restore}throw new Error("iterateImageGroup - invalid pos: ".concat(s))},function(e,r){var t=3;var n=1e3;var i=e.fnArray,o=e.argsArray;var s=e.iCurr;var c=s-3;var l=s-2;var u=s-1;var f=o[u][0];var h=o[l][0];var d=o[l][3];var v=Math.min(Math.floor((r-c)/4),n);if(v<t){return r-(r-c)%4}var g=new Float32Array(v*2);var p=l;for(var m=0;m<v;m++,p+=4){var b=o[p];g[m<<1]=b[4];g[(m<<1)+1]=b[5]}var y=[f,h,d,g];i.splice(c,v*4,a.OPS.paintImageXObjectRepeat);o.splice(c,v*4,y);return c+1});r(n,[a.OPS.beginText,a.OPS.setFont,a.OPS.setTextMatrix,a.OPS.showText,a.OPS.endText],null,function e(r,t){var n=r.fnArray,i=r.argsArray;var o=r.iCurr-4;var s=(t-o)%5;switch(s){case 0:return n[t]===a.OPS.beginText;case 1:return n[t]===a.OPS.setFont;case 2:return n[t]===a.OPS.setTextMatrix;case 3:if(n[t]!==a.OPS.showText){return false}var c=r.iCurr-3;var l=i[c][0];var u=i[c][1];if(i[t][0]!==l||i[t][1]!==u){return false}return true;case 4:return n[t]===a.OPS.endText}throw new Error("iterateShowTextGroup - invalid pos: ".concat(s))},function(e,r){var t=3;var a=1e3;var n=e.fnArray,i=e.argsArray;var o=e.iCurr;var s=o-4;var c=o-3;var l=o-2;var u=o-1;var f=o;var h=i[c][0];var d=i[c][1];var v=Math.min(Math.floor((r-s)/5),a);if(v<t){return r-(r-s)%5}var g=s;if(s>=4&&n[s-4]===n[c]&&n[s-3]===n[l]&&n[s-2]===n[u]&&n[s-1]===n[f]&&i[s-4][0]===h&&i[s-4][1]===d){v++;g-=5}var p=g+4;for(var m=1;m<v;m++){n.splice(p,3);i.splice(p,3);p+=2}return p+1});function i(e){this.queue=e;this.state=null;this.context={iCurr:0,fnArray:e.fnArray,argsArray:e.argsArray};this.match=null;this.lastProcessed=0}i.prototype={_optimize:function e(){var r=this.queue.fnArray;var t=this.lastProcessed,a=r.length;var i=this.state;var o=this.match;if(!i&&!o&&t+1===a&&!n[r[t]]){this.lastProcessed=a;return}var s=this.context;while(t<a){if(o){var c=(0,o.iterateFn)(s,t);if(c){t++;continue}t=(0,o.processFn)(s,t+1);a=r.length;o=null;i=null;if(t>=a){break}}i=(i||n)[r[t]];if(!i||Array.isArray(i)){t++;continue}s.iCurr=t;t++;if(i.checkFn&&!(0,i.checkFn)(s)){i=null;continue}o=i;i=null}this.state=i;this.match=o;this.lastProcessed=t},push:function e(r,t){this.queue.fnArray.push(r);this.queue.argsArray.push(t);this._optimize()},flush:function e(){while(this.match){var r=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,r);this.match=null;this.state=null;this._optimize()}},reset:function e(){this.state=null;this.match=null;this.lastProcessed=0}};return i}();var i=function e(){function r(e){this.queue=e}r.prototype={push:function e(r,t){this.queue.fnArray.push(r);this.queue.argsArray.push(t)},flush:function e(){},reset:function e(){}};return r}();var o=function e(){var r=1e3;var t=r-5;function o(e,r,t){this._streamSink=r;this.fnArray=[];this.argsArray=[];if(r&&e!=="oplist"){this.optimizer=new n(this)}else{this.optimizer=new i(this)}this.dependencies=Object.create(null);this._totalLength=0;this.pageIndex=t;this.intent=e;this.weight=0;this._resolved=r?null:Promise.resolve()}o.prototype={get length(){return this.argsArray.length},get ready(){return this._resolved||this._streamSink.ready},get totalLength(){return this._totalLength+this.length},addOp:function e(n,i){this.optimizer.push(n,i);this.weight++;if(this._streamSink){if(this.weight>=r){this.flush()}else if(this.weight>=t&&(n===a.OPS.restore||n===a.OPS.endText)){this.flush()}}},addDependency:function e(r){if(r in this.dependencies){return}this.dependencies[r]=true;this.addOp(a.OPS.dependency,[r])},addDependencies:function e(r){for(var t in r){this.addDependency(t)}},addOpList:function e(r){Object.assign(this.dependencies,r.dependencies);for(var t=0,a=r.length;t<a;t++){this.addOp(r.fnArray[t],r.argsArray[t])}},getIR:function e(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}},get _transfers(){var e=[];var r=this.fnArray,t=this.argsArray,n=this.length;for(var i=0;i<n;i++){switch(r[i]){case a.OPS.paintInlineImageXObject:case a.OPS.paintInlineImageXObjectGroup:case a.OPS.paintImageMaskXObject:var o=t[i][0];if(!o.cached){e.push(o.data.buffer)}break}}return e},flush:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.optimizer.flush();var t=this.length;this._totalLength+=t;this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:r,length:t},1,this._transfers);this.dependencies=Object.create(null);this.fnArray.length=0;this.argsArray.length=0;this.weight=0;this.optimizer.reset()}};return o}();r.OperatorList=o},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PartialEvaluator=void 0;var a=A(t(2));var n=t(5);var i=t(205);var o=t(183);var s=t(206);var c=t(209);var l=t(212);var u=t(211);var f=t(215);var h=t(189);var d=t(216);var v=t(201);var g=t(190);var p=t(210);var m=t(186);var b=t(217);var y=t(218);var w=t(196);var k=t(220);var S=t(221);var x=t(203);var C=t(222);function A(e){return e&&e.__esModule?e:{default:e}}function O(e,r,t,a,n,i,o){try{var s=e[i](o);var c=s.value}catch(e){t(e);return}if(s.done){r(c)}else{Promise.resolve(c).then(a,n)}}function P(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=e.apply(r,t);function o(e){O(i,a,n,o,s,"next",e)}function s(e){O(i,a,n,o,s,"throw",e)}o(undefined)})}}var I=function e(){var r={forceDataSchema:false,maxImageSize:-1,disableFontFace:false,nativeImageDecoderSupport:n.NativeImageDecoding.DECODE,ignoreErrors:false,isEvalSupported:true};function t(e){var t=this;var i=e.xref,o=e.handler,s=e.pageIndex,c=e.idFactory,l=e.fontCache,u=e.builtInCMapCache,f=e.options,h=f===void 0?null:f,d=e.pdfFunctionFactory;this.xref=i;this.handler=o;this.pageIndex=s;this.idFactory=c;this.fontCache=l;this.builtInCMapCache=u;this.options=h||r;this.pdfFunctionFactory=d;this.parsingType3Font=false;this.fetchBuiltInCMap=function(){var e=P(a["default"].mark(function e(r){var i,o,s;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:if(!t.builtInCMapCache.has(r)){a.next=2;break}return a.abrupt("return",t.builtInCMapCache.get(r));case 2:i=t.handler.sendWithStream("FetchBuiltInCMap",{name:r});o=i.getReader();a.next=6;return new Promise(function(e,r){function t(){o.read().then(function(r){var a=r.value,n=r.done;if(n){return}e(a);t()},r)}t()});case 6:s=a.sent;if(s.compressionType!==n.CMapCompressionType.NONE){t.builtInCMapCache.set(r,s)}return a.abrupt("return",s);case 9:case"end":return a.stop()}}},e)}));return function(r){return e.apply(this,arguments)}}()}var h=20;var m=100;function A(){this.reset()}A.prototype={check:function e(){if(++this.checked<m){return false}this.checked=0;return this.endTime<=Date.now()},reset:function e(){this.endTime=Date.now()+h;this.checked=0}};function O(e){if(!(0,o.isName)(e)){return"source-over"}switch(e.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}(0,n.warn)("Unsupported blend mode: "+e.name);return"source-over"}var I=Promise.resolve();var R=1,L=2;t.prototype={clone:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:r;var a=Object.create(this);a.options=t;return a},hasBlendModes:function e(r){if(!(0,o.isDict)(r)){return false}var t=Object.create(null);if(r.objId){t[r.objId]=true}var a=[r],n=this.xref;while(a.length){var i,s,c;var l=a.shift();var u=l.get("ExtGState");if((0,o.isDict)(u)){var f=u.getKeys();for(s=0,c=f.length;s<c;s++){i=f[s];var h=u.get(i);var d=h.get("BM");if((0,o.isName)(d)&&d.name!=="Normal"){return true}}}var v=l.get("XObject");if(!(0,o.isDict)(v)){continue}var g=v.getKeys();for(s=0,c=g.length;s<c;s++){i=g[s];var p=v.getRaw(i);if((0,o.isRef)(p)){if(t[p.toString()]){continue}p=n.fetch(p)}if(!(0,o.isStream)(p)){continue}if(p.dict.objId){if(t[p.dict.objId]){continue}t[p.dict.objId]=true}var m=p.dict.get("Resources");if((0,o.isDict)(m)&&(!m.objId||!t[m.objId])){a.push(m);if(m.objId){t[m.objId]=true}}}}return false},buildFormXObject:function e(r,t,a,i,s,c){var l=t.dict;var u=l.getArray("Matrix");var f=l.getArray("BBox");if(Array.isArray(f)&&f.length===4){f=n.Util.normalizeRect(f)}else{f=null}var h=l.get("Group");if(h){var d={matrix:u,bbox:f,smask:a,isolated:false,knockout:false};var g=h.get("S");var p=null;if((0,o.isName)(g,"Transparency")){d.isolated=h.get("I")||false;d.knockout=h.get("K")||false;if(h.has("CS")){p=h.get("CS");if(p){p=v.ColorSpace.parse(p,this.xref,r,this.pdfFunctionFactory)}else{(0,n.warn)("buildFormXObject - invalid/non-existent Group /CS entry: "+h.getRaw("CS"))}}}if(a&&a.backdrop){p=p||v.ColorSpace.singletons.rgb;a.backdrop=p.getRgb(a.backdrop,0)}i.addOp(n.OPS.beginGroup,[d])}i.addOp(n.OPS.paintFormXObjectBegin,[u,f]);return this.getOperatorList({stream:t,task:s,resources:l.get("Resources")||r,operatorList:i,initialState:c}).then(function(){i.addOp(n.OPS.paintFormXObjectEnd,[]);if(h){i.addOp(n.OPS.endGroup,[d])}})},buildPaintImageXObject:function(){var e=P(a["default"].mark(function e(r){var t=this;var i,o,s,c,l,u,f,h,d,v,p,m,b,y,k,x,A,O,P,I,T,E,F,B,_,R,L,M,D;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:i=r.resources,o=r.image,s=r.isInline,c=s===void 0?false:s,l=r.operatorList,u=r.cacheKey,f=r.imageCache,h=r.forceDisableNativeImageDecoder,d=h===void 0?false:h;v=o.dict;p=v.get("Width","W");m=v.get("Height","H");if(!(!(p&&(0,n.isNum)(p))||!(m&&(0,n.isNum)(m)))){a.next=7;break}(0,n.warn)("Image dimensions are missing, or not numbers.");return a.abrupt("return",undefined);case 7:b=this.options.maxImageSize;if(!(b!==-1&&p*m>b)){a.next=11;break}(0,n.warn)("Image exceeded maximum allowed size and was removed.");return a.abrupt("return",undefined);case 11:y=v.get("ImageMask","IM")||false;if(!y){a.next=24;break}A=v.get("Width","W");O=v.get("Height","H");P=A+7>>3;I=o.getBytes(P*O,true);T=v.getArray("Decode","D");k=C.PDFImage.createMask({imgArray:I,width:A,height:O,imageIsFromDecodeStream:o instanceof g.DecodeStream,inverseDecode:!!T&&T[0]>0});k.cached=!!u;x=[k];l.addOp(n.OPS.paintImageMaskXObject,x);if(u){f[u]={fn:n.OPS.paintImageMaskXObject,args:x}}return a.abrupt("return",undefined);case 24:E=v.get("SMask","SM")||false;F=v.get("Mask")||false;B=200;if(!(c&&!E&&!F&&!(o instanceof w.JpegStream)&&p+m<B)){a.next=32;break}_=new C.PDFImage({xref:this.xref,res:i,image:o,isInline:c,pdfFunctionFactory:this.pdfFunctionFactory});k=_.createImageData(true);l.addOp(n.OPS.paintInlineImageXObject,[k]);return a.abrupt("return",undefined);case 32:R=d?n.NativeImageDecoding.NONE:this.options.nativeImageDecoderSupport;L="img_".concat(this.idFactory.createObjId());if(this.parsingType3Font){(0,n.assert)(R===n.NativeImageDecoding.NONE,"Type3 image resources should be completely decoded in the worker.");L="".concat(this.idFactory.getDocId(),"_type3res_").concat(L)}if(!(R!==n.NativeImageDecoding.NONE&&!E&&!F&&o instanceof w.JpegStream&&S.NativeImageDecoder.isSupported(o,this.xref,i,this.pdfFunctionFactory))){a.next=37;break}return a.abrupt("return",this.handler.sendWithPromise("obj",[L,this.pageIndex,"JpegStream",o.getIR(this.options.forceDataSchema)]).then(function(){l.addDependency(L);x=[L,p,m];l.addOp(n.OPS.paintJpegXObject,x);if(u){f[u]={fn:n.OPS.paintJpegXObject,args:x}}},function(e){(0,n.warn)("Native JPEG decoding failed -- trying to recover: "+(e&&e.message));return t.buildPaintImageXObject({resources:i,image:o,isInline:c,operatorList:l,cacheKey:u,imageCache:f,forceDisableNativeImageDecoder:true})}));case 37:M=null;if(R===n.NativeImageDecoding.DECODE&&(o instanceof w.JpegStream||F instanceof w.JpegStream||E instanceof w.JpegStream)){M=new S.NativeImageDecoder({xref:this.xref,resources:i,handler:this.handler,forceDataSchema:this.options.forceDataSchema,pdfFunctionFactory:this.pdfFunctionFactory})}l.addDependency(L);x=[L,p,m];D=C.PDFImage.buildImage({handler:this.handler,xref:this.xref,res:i,image:o,isInline:c,nativeDecoder:M,pdfFunctionFactory:this.pdfFunctionFactory}).then(function(e){var r=e.createImageData(false);if(t.parsingType3Font){return t.handler.sendWithPromise("commonobj",[L,"FontType3Res",r],[r.data.buffer])}t.handler.send("obj",[L,t.pageIndex,"Image",r],[r.data.buffer]);return undefined})["catch"](function(e){(0,n.warn)("Unable to decode image: "+e);if(t.parsingType3Font){return t.handler.sendWithPromise("commonobj",[L,"FontType3Res",null])}t.handler.send("obj",[L,t.pageIndex,"Image",null]);return undefined});if(!this.parsingType3Font){a.next=45;break}a.next=45;return D;case 45:l.addOp(n.OPS.paintImageXObject,x);if(u){f[u]={fn:n.OPS.paintImageXObject,args:x}}return a.abrupt("return",undefined);case 48:case"end":return a.stop()}}},e,this)}));function r(r){return e.apply(this,arguments)}return r}(),handleSMask:function e(r,t,a,n,i){var o=r.get("G");var s={subtype:r.get("S").name,backdrop:r.get("BC")};var c=r.get("TR");if((0,y.isPDFFunction)(c)){var l=this.pdfFunctionFactory.create(c);var u=new Uint8Array(256);var f=new Float32Array(1);for(var h=0;h<256;h++){f[0]=h/255;l(f,0,f,0);u[h]=f[0]*255|0}s.transferMap=u}return this.buildFormXObject(t,o,s,a,n,i.state.clone())},handleTilingType:function e(r,t,a,i,s,c,l){var u=this;var h=new x.OperatorList;var d=[s.get("Resources"),a];var v=o.Dict.merge(this.xref,d);return this.getOperatorList({stream:i,task:l,resources:v,operatorList:h}).then(function(){return(0,f.getTilingPatternIR)({fnArray:h.fnArray,argsArray:h.argsArray},s,t)}).then(function(e){c.addDependencies(h.dependencies);c.addOp(r,e)},function(e){if(e instanceof n.AbortException){return}if(u.options.ignoreErrors){u.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.unknown});(0,n.warn)('handleTilingType - ignoring pattern: "'.concat(e,'".'));return}throw e})},handleSetFont:function e(r,t,a,i,o,c){var l=this;var u;if(t){t=t.slice();u=t[0].name}return this.loadFont(u,a,r).then(function(e){if(!e.font.isType3Font){return e}return e.loadType3Data(l,r,i,o).then(function(){return e})["catch"](function(r){l.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.font});return new T("g_font_error",new s.ErrorFont("Type3 font load error: "+r),e.font)})}).then(function(e){c.font=e.font;e.send(l.handler);return e.loadedName})},handleText:function e(r,a){var i=a.font;var o=i.charsToGlyphs(r);if(i.data){var s=!!(a.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG);if(s||a.fillColorSpace.name==="Pattern"||i.disableFontFace||this.options.disableFontFace){t.buildFontPaths(i,o,this.handler)}}return o},setGState:function e(r,t,a,i,s){var c=this;var l=[];var u=t.getKeys();var f=Promise.resolve();var h=function e(){var h=u[d];var v=t.get(h);switch(h){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":l.push([h,v]);break;case"Font":f=f.then(function(){return c.handleSetFont(r,null,v[0],a,i,s.state).then(function(e){a.addDependency(e);l.push([h,[e,v[1]]])})});break;case"BM":l.push([h,O(v)]);break;case"SMask":if((0,o.isName)(v,"None")){l.push([h,false]);break}if((0,o.isDict)(v)){f=f.then(function(){return c.handleSMask(v,r,a,i,s)});l.push([h,true])}else{(0,n.warn)("Unsupported SMask type")}break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+h);break;default:(0,n.info)("Unknown graphic state operator "+h);break}};for(var d=0,v=u.length;d<v;d++){h()}return f.then(function(){if(l.length>0){a.addOp(n.OPS.setGState,[l])}})},loadFont:function e(r,t,a){var i=this;function c(){return Promise.resolve(new T("g_font_error",new s.ErrorFont("Font "+r+" is not available"),t))}var l,u=this.xref;if(t){if(!(0,o.isRef)(t)){throw new Error('The "font" object should be a reference.')}l=t}else{var f=a.get("Font");if(f){l=f.getRaw(r)}else{(0,n.warn)("fontRes not available");return c()}}if(!l){(0,n.warn)("fontRef not available");return c()}if(this.fontCache.has(l)){return this.fontCache.get(l)}t=u.fetchIfRef(l);if(!(0,o.isDict)(t)){return c()}if(t.translated){return t.translated}var h=(0,n.createPromiseCapability)();var d=this.preEvaluateFont(t);var v=d.descriptor,g=d.hash;var p=(0,o.isRef)(l),m;if(p){m=l.toString()}if(g&&(0,o.isDict)(v)){if(!v.fontAliases){v.fontAliases=Object.create(null)}var b=v.fontAliases;if(b[g]){var y=b[g].aliasRef;if(p&&y&&this.fontCache.has(y)){this.fontCache.putAlias(l,y);return this.fontCache.get(l)}}else{b[g]={fontID:s.Font.getFontID()}}if(p){b[g].aliasRef=l}m=b[g].fontID}if(p){this.fontCache.put(l,h.promise)}else{if(!m){m=this.idFactory.createObjId()}this.fontCache.put("id_".concat(m),h.promise)}(0,n.assert)(m,'The "fontID" must be defined.');t.loadedName="".concat(this.idFactory.getDocId(),"_f").concat(m);t.translated=h.promise;var w;try{w=this.translateFont(d)}catch(e){w=Promise.reject(e)}w.then(function(e){if(e.fontType!==undefined){var r=u.stats.fontTypes;r[e.fontType]=true}h.resolve(new T(t.loadedName,e,t))})["catch"](function(e){i.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.font});try{var r=v&&v.get("FontFile3");var a=r&&r.get("Subtype");var o=(0,s.getFontType)(d.type,a&&a.name);var c=u.stats.fontTypes;c[o]=true}catch(e){}h.resolve(new T(t.loadedName,new s.ErrorFont(e instanceof Error?e.message:e),t))});return h.promise},buildPath:function e(r,t,a){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var o=r.length-1;if(!a){a=[]}if(o<0||r.fnArray[o]!==n.OPS.constructPath){if(i){(0,n.warn)('Encountered path operator "'.concat(t,'" inside of a text object.'));r.addOp(n.OPS.save,null)}r.addOp(n.OPS.constructPath,[[t],a]);if(i){r.addOp(n.OPS.restore,null)}}else{var s=r.argsArray[o];s[0].push(t);Array.prototype.push.apply(s[1],a)}},handleColorN:function(){var e=P(a["default"].mark(function e(r,t,i,s,c,l,u){var h,d,v,g,p,m,b;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:h=i[i.length-1];if(!((0,o.isName)(h)&&(d=c.get(h.name)))){a.next=16;break}v=(0,o.isStream)(d)?d.dict:d;g=v.get("PatternType");if(!(g===R)){a.next=9;break}p=s.base?s.base.getRgb(i,0):null;return a.abrupt("return",this.handleTilingType(t,p,l,d,v,r,u));case 9:if(!(g===L)){a.next=15;break}m=v.get("Shading");b=v.getArray("Matrix");d=f.Pattern.parseShading(m,b,this.xref,l,this.handler,this.pdfFunctionFactory);r.addOp(t,d.getIR());return a.abrupt("return",undefined);case 15:throw new n.FormatError("Unknown PatternType: ".concat(g));case 16:throw new n.FormatError("Unknown PatternName: ".concat(h));case 17:case"end":return a.stop()}}},e,this)}));function r(r,t,a,n,i,o,s){return e.apply(this,arguments)}return r}(),getOperatorList:function e(r){var t=this;var a=r.stream,i=r.task,s=r.resources,c=r.operatorList,l=r.initialState,u=l===void 0?null:l;s=s||o.Dict.empty;u=u||new B;if(!c){throw new Error('getOperatorList: missing "operatorList" parameter')}var h=this;var d=this.xref;var g=false;var p=Object.create(null);var m=s.get("XObject")||o.Dict.empty;var b=s.get("Pattern")||o.Dict.empty;var y=new E(u);var w=new _(a,d,y);var k=new A;function S(e){for(var r=0,t=w.savedStatesDepth;r<t;r++){c.addOp(n.OPS.restore,[])}}return new Promise(function e(r,t){var a=function a(n){Promise.all([n,c.ready]).then(function(){try{e(r,t)}catch(e){t(e)}},t)};i.ensureNotTerminated();k.reset();var l,u={},x,C,A;while(!(l=k.check())){u.args=null;if(!w.read(u)){break}var O=u.args;var P=u.fn;switch(P|0){case n.OPS.paintXObject:var T=O[0].name;if(T&&p[T]!==undefined){c.addOp(p[T].fn,p[T].args);O=null;continue}a(new Promise(function(e,r){if(!T){throw new n.FormatError("XObject must be referred to by name.")}var t=m.get(T);if(!t){c.addOp(P,O);e();return}if(!(0,o.isStream)(t)){throw new n.FormatError("XObject should be a stream")}var a=t.dict.get("Subtype");if(!(0,o.isName)(a)){throw new n.FormatError("XObject should have a Name subtype")}if(a.name==="Form"){y.save();h.buildFormXObject(s,t,null,c,i,y.state.clone()).then(function(){y.restore();e()},r);return}else if(a.name==="Image"){h.buildPaintImageXObject({resources:s,image:t,operatorList:c,cacheKey:T,imageCache:p}).then(e,r);return}else if(a.name==="PS"){(0,n.info)("Ignored XObject subtype PS")}else{throw new n.FormatError("Unhandled XObject subtype ".concat(a.name))}e()})["catch"](function(e){if(e instanceof n.AbortException){return}if(h.options.ignoreErrors){h.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.unknown});(0,n.warn)('getOperatorList - ignoring XObject: "'.concat(e,'".'));return}throw e}));return;case n.OPS.setFont:var E=O[1];a(h.handleSetFont(s,O,null,c,i,y.state).then(function(e){c.addDependency(e);c.addOp(n.OPS.setFont,[e,E])}));return;case n.OPS.beginText:g=true;break;case n.OPS.endText:g=false;break;case n.OPS.endInlineImage:var F=O[0].cacheKey;if(F){var B=p[F];if(B!==undefined){c.addOp(B.fn,B.args);O=null;continue}}a(h.buildPaintImageXObject({resources:s,image:O[0],isInline:true,operatorList:c,cacheKey:F,imageCache:p}));return;case n.OPS.showText:O[0]=h.handleText(O[0],y.state);break;case n.OPS.showSpacedText:var _=O[0];var R=[];var L=_.length;var M=y.state;for(x=0;x<L;++x){var D=_[x];if((0,n.isString)(D)){Array.prototype.push.apply(R,h.handleText(D,M))}else if((0,n.isNum)(D)){R.push(D)}}O[0]=R;P=n.OPS.showText;break;case n.OPS.nextLineShowText:c.addOp(n.OPS.nextLine);O[0]=h.handleText(O[0],y.state);P=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:c.addOp(n.OPS.nextLine);c.addOp(n.OPS.setWordSpacing,[O.shift()]);c.addOp(n.OPS.setCharSpacing,[O.shift()]);O[0]=h.handleText(O[0],y.state);P=n.OPS.showText;break;case n.OPS.setTextRenderingMode:y.state.textRenderingMode=O[0];break;case n.OPS.setFillColorSpace:y.state.fillColorSpace=v.ColorSpace.parse(O[0],d,s,h.pdfFunctionFactory);continue;case n.OPS.setStrokeColorSpace:y.state.strokeColorSpace=v.ColorSpace.parse(O[0],d,s,h.pdfFunctionFactory);continue;case n.OPS.setFillColor:A=y.state.fillColorSpace;O=A.getRgb(O,0);P=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:A=y.state.strokeColorSpace;O=A.getRgb(O,0);P=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:y.state.fillColorSpace=v.ColorSpace.singletons.gray;O=v.ColorSpace.singletons.gray.getRgb(O,0);P=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:y.state.strokeColorSpace=v.ColorSpace.singletons.gray;O=v.ColorSpace.singletons.gray.getRgb(O,0);P=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:y.state.fillColorSpace=v.ColorSpace.singletons.cmyk;O=v.ColorSpace.singletons.cmyk.getRgb(O,0);P=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:y.state.strokeColorSpace=v.ColorSpace.singletons.cmyk;O=v.ColorSpace.singletons.cmyk.getRgb(O,0);P=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:y.state.fillColorSpace=v.ColorSpace.singletons.rgb;O=v.ColorSpace.singletons.rgb.getRgb(O,0);break;case n.OPS.setStrokeRGBColor:y.state.strokeColorSpace=v.ColorSpace.singletons.rgb;O=v.ColorSpace.singletons.rgb.getRgb(O,0);break;case n.OPS.setFillColorN:A=y.state.fillColorSpace;if(A.name==="Pattern"){a(h.handleColorN(c,n.OPS.setFillColorN,O,A,b,s,i));return}O=A.getRgb(O,0);P=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:A=y.state.strokeColorSpace;if(A.name==="Pattern"){a(h.handleColorN(c,n.OPS.setStrokeColorN,O,A,b,s,i));return}O=A.getRgb(O,0);P=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var N=s.get("Shading");if(!N){throw new n.FormatError("No shading resource found")}var U=N.get(O[0].name);if(!U){throw new n.FormatError("No shading object found")}var j=f.Pattern.parseShading(U,null,d,s,h.handler,h.pdfFunctionFactory);var q=j.getIR();O=[q];P=n.OPS.shadingFill;break;case n.OPS.setGState:var z=O[0];var H=s.get("ExtGState");if(!(0,o.isDict)(H)||!H.has(z.name)){break}var G=H.get(z.name);a(h.setGState(s,G,c,i,y));return;case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:h.buildPath(c,P,O,g);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginMarkedContent:case n.OPS.beginMarkedContentProps:case n.OPS.endMarkedContent:case n.OPS.beginCompat:case n.OPS.endCompat:continue;default:if(O!==null){for(x=0,C=O.length;x<C;x++){if(O[x]instanceof o.Dict){break}}if(x<C){(0,n.warn)("getOperatorList - ignoring operator: "+P);continue}}}c.addOp(P,O)}if(l){a(I);return}S();r()})["catch"](function(e){if(e instanceof n.AbortException){return}if(t.options.ignoreErrors){t.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.unknown});(0,n.warn)('getOperatorList - ignoring errors during "'.concat(i.name,'" ')+'task: "'.concat(e,'".'));S();return}throw e})},getTextContent:function e(r){var t=this;var a=r.stream,i=r.task,s=r.resources,c=r.stateManager,u=c===void 0?null:c,f=r.normalizeWhitespace,h=f===void 0?false:f,v=r.combineTextItems,g=v===void 0?false:v,p=r.sink,m=r.seenStyles,b=m===void 0?Object.create(null):m;s=s||o.Dict.empty;u=u||new E(new F);var y=/\s/g;var w={items:[],styles:Object.create(null)};var k={initialized:false,str:[],width:0,height:0,vertical:false,lastAdvanceWidth:0,lastAdvanceHeight:0,textAdvanceScale:0,spaceWidth:0,fakeSpaceMin:Infinity,fakeMultiSpaceMin:Infinity,fakeMultiSpaceMax:-0,textRunBreakAllowed:false,transform:null,fontName:null};var S=.3;var x=1.5;var C=4;var O=this;var P=this.xref;var T=null;var B=Object.create(null);var R=new _(a,P,u);var L;function M(){if(k.initialized){return k}var e=L.font;if(!(e.loadedName in b)){b[e.loadedName]=true;w.styles[e.loadedName]={fontFamily:e.fallbackName,ascent:e.ascent,descent:e.descent,vertical:!!e.vertical}}k.fontName=e.loadedName;var r=[L.fontSize*L.textHScale,0,0,L.fontSize,0,L.textRise];if(e.isType3Font&&L.fontSize<=1&&!(0,n.isArrayEqual)(L.fontMatrix,n.FONT_IDENTITY_MATRIX)){var t=e.bbox[3]-e.bbox[1];if(t>0){r[3]*=t*L.fontMatrix[3]}}var a=n.Util.transform(L.ctm,n.Util.transform(L.textMatrix,r));k.transform=a;if(!e.vertical){k.width=0;k.height=Math.sqrt(a[2]*a[2]+a[3]*a[3]);k.vertical=false}else{k.width=Math.sqrt(a[0]*a[0]+a[1]*a[1]);k.height=0;k.vertical=true}var i=L.textLineMatrix[0];var o=L.textLineMatrix[1];var s=Math.sqrt(i*i+o*o);i=L.ctm[0];o=L.ctm[1];var c=Math.sqrt(i*i+o*o);k.textAdvanceScale=c*s;k.lastAdvanceWidth=0;k.lastAdvanceHeight=0;var l=e.spaceWidth/1e3*L.fontSize;if(l){k.spaceWidth=l;k.fakeSpaceMin=l*S;k.fakeMultiSpaceMin=l*x;k.fakeMultiSpaceMax=l*C;k.textRunBreakAllowed=!e.isMonospace}else{k.spaceWidth=0;k.fakeSpaceMin=Infinity;k.fakeMultiSpaceMin=Infinity;k.fakeMultiSpaceMax=0;k.textRunBreakAllowed=false}k.initialized=true;return k}function D(e){var r=0,t=e.length,a;while(r<t&&(a=e.charCodeAt(r))>=32&&a<=127){r++}return r<t?e.replace(y," "):e}function N(e){var r=e.str.join("");var t=(0,d.bidi)(r,-1,e.vertical);return{str:h?D(t.str):t.str,dir:t.dir,width:e.width,height:e.height,transform:e.transform,fontName:e.fontName}}function U(e,r){return O.loadFont(e,r,s).then(function(e){L.font=e.font;L.fontMatrix=e.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function j(e){var r=L.font;var t=M();var a=0;var n=0;var i=r.charsToGlyphs(e);for(var o=0;o<i.length;o++){var s=i[o];var c=null;if(r.vertical&&s.vmetric){c=s.vmetric[0]}else{c=s.width}var u=s.unicode;var f=(0,l.getNormalizedUnicodes)();if(f[u]!==undefined){u=f[u]}u=(0,l.reverseIfRtl)(u);var h=L.charSpacing;if(s.isSpace){var d=L.wordSpacing;h+=d;if(d>0){q(d,t.str)}}var v=0;var g=0;if(!r.vertical){var p=c*L.fontMatrix[0];v=(p*L.fontSize+h)*L.textHScale;a+=v}else{var m=c*L.fontMatrix[0];g=m*L.fontSize+h;n+=g}L.translateTextMatrix(v,g);t.str.push(u)}if(!r.vertical){t.lastAdvanceWidth=a;t.width+=a}else{t.lastAdvanceHeight=n;t.height+=Math.abs(n)}return t}function q(e,r){if(e<k.fakeSpaceMin){return}if(e<k.fakeMultiSpaceMin){r.push(" ");return}var t=Math.round(e/k.spaceWidth);while(t-- >0){r.push(" ")}}function z(){if(!k.initialized){return}if(!k.vertical){k.width*=k.textAdvanceScale}else{k.height*=k.textAdvanceScale}w.items.push(N(k));k.initialized=false;k.str.length=0}function H(){var e=w.items.length;if(e>0){p.enqueue(w,e);w.items=[];w.styles=Object.create(null)}}var G=new A;return new Promise(function e(r,t){var a=function a(n){H();Promise.all([n,p.ready]).then(function(){try{e(r,t)}catch(e){t(e)}},t)};i.ensureNotTerminated();G.reset();var c,l={},f=[];while(!(c=G.check())){f.length=0;l.args=f;if(!R.read(l)){break}L=u.state;var d=l.fn;f=l.args;var v,m;switch(d|0){case n.OPS.setFont:var y=f[0].name,S=f[1];if(L.font&&y===L.fontName&&S===L.fontSize){break}z();L.fontName=y;L.fontSize=S;a(U(y,null));return;case n.OPS.setTextRise:z();L.textRise=f[0];break;case n.OPS.setHScale:z();L.textHScale=f[0]/100;break;case n.OPS.setLeading:z();L.leading=f[0];break;case n.OPS.moveText:var x=!L.font?false:(L.font.vertical?f[0]:f[1])===0;v=f[0]-f[1];if(g&&x&&k.initialized&&v>0&&v<=k.fakeMultiSpaceMax){L.translateTextLineMatrix(f[0],f[1]);k.width+=f[0]-k.lastAdvanceWidth;k.height+=f[1]-k.lastAdvanceHeight;m=f[0]-k.lastAdvanceWidth-(f[1]-k.lastAdvanceHeight);q(m,k.str);break}z();L.translateTextLineMatrix(f[0],f[1]);L.textMatrix=L.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:z();L.leading=-f[1];L.translateTextLineMatrix(f[0],f[1]);L.textMatrix=L.textLineMatrix.slice();break;case n.OPS.nextLine:z();L.carriageReturn();break;case n.OPS.setTextMatrix:v=L.calcTextLineMatrixAdvance(f[0],f[1],f[2],f[3],f[4],f[5]);if(g&&v!==null&&k.initialized&&v.value>0&&v.value<=k.fakeMultiSpaceMax){L.translateTextLineMatrix(v.width,v.height);k.width+=v.width-k.lastAdvanceWidth;k.height+=v.height-k.lastAdvanceHeight;m=v.width-k.lastAdvanceWidth-(v.height-k.lastAdvanceHeight);q(m,k.str);break}z();L.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);L.setTextLineMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case n.OPS.setCharSpacing:L.charSpacing=f[0];break;case n.OPS.setWordSpacing:L.wordSpacing=f[0];break;case n.OPS.beginText:z();L.textMatrix=n.IDENTITY_MATRIX.slice();L.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:var C=f[0];var A;for(var P=0,F=C.length;P<F;P++){if(typeof C[P]==="string"){j(C[P])}else if((0,n.isNum)(C[P])){M();v=C[P]*L.fontSize/1e3;var _=false;if(L.font.vertical){A=v;L.translateTextMatrix(0,A);_=k.textRunBreakAllowed&&v>k.fakeMultiSpaceMax;if(!_){k.height+=A}}else{v=-v;A=v*L.textHScale;L.translateTextMatrix(A,0);_=k.textRunBreakAllowed&&v>k.fakeMultiSpaceMax;if(!_){k.width+=A}}if(_){z()}else if(v>0){q(v,k.str)}}}break;case n.OPS.showText:j(f[0]);break;case n.OPS.nextLineShowText:z();L.carriageReturn();j(f[0]);break;case n.OPS.nextLineSetSpacingShowText:z();L.wordSpacing=f[0];L.charSpacing=f[1];L.carriageReturn();j(f[2]);break;case n.OPS.paintXObject:z();if(!T){T=s.get("XObject")||o.Dict.empty}var D=f[0].name;if(D&&B[D]!==undefined){break}a(new Promise(function(e,r){if(!D){throw new n.FormatError("XObject must be referred to by name.")}var t=T.get(D);if(!t){e();return}if(!(0,o.isStream)(t)){throw new n.FormatError("XObject should be a stream")}var a=t.dict.get("Subtype");if(!(0,o.isName)(a)){throw new n.FormatError("XObject should have a Name subtype")}if(a.name!=="Form"){B[D]=true;e();return}var c=u.state.clone();var l=new E(c);var f=t.dict.getArray("Matrix");if(Array.isArray(f)&&f.length===6){l.transform(f)}H();var d={enqueueInvoked:false,enqueue:function e(r,t){this.enqueueInvoked=true;p.enqueue(r,t)},get desiredSize(){return p.desiredSize},get ready(){return p.ready}};O.getTextContent({stream:t,task:i,resources:t.dict.get("Resources")||s,stateManager:l,normalizeWhitespace:h,combineTextItems:g,sink:d,seenStyles:b}).then(function(){if(!d.enqueueInvoked){B[D]=true}e()},r)})["catch"](function(e){if(e instanceof n.AbortException){return}if(O.options.ignoreErrors){(0,n.warn)('getTextContent - ignoring XObject: "'.concat(e,'".'));return}throw e}));return;case n.OPS.setGState:z();var N=f[0];var W=s.get("ExtGState");if(!(0,o.isDict)(W)||!(0,o.isName)(N)){break}var X=W.get(N.name);if(!(0,o.isDict)(X)){break}var V=X.get("Font");if(V){L.fontName=null;L.fontSize=V[1];a(U(null,V[0]));return}break}if(w.items.length>=p.desiredSize){c=true;break}}if(c){a(I);return}z();H();r()})["catch"](function(e){if(e instanceof n.AbortException){return}if(t.options.ignoreErrors){(0,n.warn)('getTextContent - ignoring errors during "'.concat(i.name,'" ')+'task: "'.concat(e,'".'));z();H();return}throw e})},extractDataStructures:function e(r,t,a){var i=this;var l=this.xref,u;var f=r.get("ToUnicode")||t.get("ToUnicode");var h=f?this.readToUnicode(f):Promise.resolve(undefined);if(a.composite){var d=r.get("CIDSystemInfo");if((0,o.isDict)(d)){a.cidSystemInfo={registry:(0,n.stringToPDFString)(d.get("Registry")),ordering:(0,n.stringToPDFString)(d.get("Ordering")),supplement:d.get("Supplement")}}var v=r.get("CIDToGIDMap");if((0,o.isStream)(v)){u=v.getBytes()}}var g=[];var p=null;var m;if(r.has("Encoding")){m=r.get("Encoding");if((0,o.isDict)(m)){p=m.get("BaseEncoding");p=(0,o.isName)(p)?p.name:null;if(m.has("Differences")){var b=m.get("Differences");var y=0;for(var w=0,k=b.length;w<k;w++){var S=l.fetchIfRef(b[w]);if((0,n.isNum)(S)){y=S}else if((0,o.isName)(S)){g[y++]=S.name}else{throw new n.FormatError("Invalid entry in 'Differences' array: ".concat(S))}}}}else if((0,o.isName)(m)){p=m.name}else{throw new n.FormatError("Encoding is not a Name nor a Dict")}if(p!=="MacRomanEncoding"&&p!=="MacExpertEncoding"&&p!=="WinAnsiEncoding"){p=null}}if(p){a.defaultEncoding=(0,c.getEncoding)(p).slice()}else{var x=!!(a.flags&s.FontFlags.Symbolic);var C=!!(a.flags&s.FontFlags.Nonsymbolic);m=c.StandardEncoding;if(a.type==="TrueType"&&!C){m=c.WinAnsiEncoding}if(x){m=c.MacRomanEncoding;if(!a.file){if(/Symbol/i.test(a.name)){m=c.SymbolSetEncoding}else if(/Dingbats/i.test(a.name)){m=c.ZapfDingbatsEncoding}}}a.defaultEncoding=m}a.differences=g;a.baseEncodingName=p;a.hasEncoding=!!p||g.length>0;a.dict=r;return h.then(function(e){a.toUnicode=e;return i.buildToUnicode(a)}).then(function(e){a.toUnicode=e;if(u){a.cidToGidMap=i.readCidToGidMap(u,e)}return a})},_buildSimpleFontToUnicode:function e(r){(0,n.assert)(!r.composite,"Must be a simple font.");var t=[],a,i;var o=r.defaultEncoding.slice();var u=r.baseEncodingName;var f=r.differences;for(a in f){i=f[a];if(i===".notdef"){continue}o[a]=i}var h=(0,p.getGlyphsUnicode)();for(a in o){i=o[a];if(i===""){continue}else if(h[i]===undefined){var d=0;switch(i[0]){case"G":if(i.length===3){d=parseInt(i.substring(1),16)}break;case"g":if(i.length===5){d=parseInt(i.substring(1),16)}break;case"C":case"c":if(i.length>=3){d=+i.substring(1)}break;default:var v=(0,l.getUnicodeForGlyph)(i,h);if(v!==-1){d=v}}if(d){if(u&&d===+a){var g=(0,c.getEncoding)(u);if(g&&(i=g[a])){t[a]=String.fromCharCode(h[i]);continue}}t[a]=String.fromCodePoint(d)}continue}t[a]=String.fromCharCode(h[i])}return new s.ToUnicodeMap(t)},buildToUnicode:function e(r){r.hasIncludedToUnicodeMap=!!r.toUnicode&&r.toUnicode.length>0;if(r.hasIncludedToUnicodeMap){if(!r.composite&&r.hasEncoding){r.fallbackToUnicode=this._buildSimpleFontToUnicode(r)}return Promise.resolve(r.toUnicode)}if(!r.composite){return Promise.resolve(this._buildSimpleFontToUnicode(r))}if(r.composite&&(r.cMap.builtInCMap&&!(r.cMap instanceof i.IdentityCMap)||r.cidSystemInfo.registry==="Adobe"&&(r.cidSystemInfo.ordering==="GB1"||r.cidSystemInfo.ordering==="CNS1"||r.cidSystemInfo.ordering==="Japan1"||r.cidSystemInfo.ordering==="Korea1"))){var t=r.cidSystemInfo.registry;var a=r.cidSystemInfo.ordering;var c=o.Name.get(t+"-"+a+"-UCS2");return i.CMapFactory.create({encoding:c,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){var t=r.cMap;var a=[];t.forEach(function(r,t){if(t>65535){throw new n.FormatError("Max size of CID is 65,535")}var i=e.lookup(t);if(i){a[r]=String.fromCharCode((i.charCodeAt(0)<<8)+i.charCodeAt(1))}});return new s.ToUnicodeMap(a)})}return Promise.resolve(new s.IdentityToUnicodeMap(r.firstChar,r.lastChar))},readToUnicode:function e(r){var t=r;if((0,o.isName)(t)){return i.CMapFactory.create({encoding:t,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){if(e instanceof i.IdentityCMap){return new s.IdentityToUnicodeMap(0,65535)}return new s.ToUnicodeMap(e.getMap())})}else if((0,o.isStream)(t)){return i.CMapFactory.create({encoding:t,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){if(e instanceof i.IdentityCMap){return new s.IdentityToUnicodeMap(0,65535)}var r=new Array(e.length);e.forEach(function(e,t){var a=[];for(var n=0;n<t.length;n+=2){var i=t.charCodeAt(n)<<8|t.charCodeAt(n+1);if((i&63488)!==55296){a.push(i);continue}n+=2;var o=t.charCodeAt(n)<<8|t.charCodeAt(n+1);a.push(((i&1023)<<10)+(o&1023)+65536)}r[e]=String.fromCodePoint.apply(String,a)});return new s.ToUnicodeMap(r)})}return Promise.resolve(null)},readCidToGidMap:function e(r,t){var a=[];for(var n=0,i=r.length;n<i;n++){var o=r[n++]<<8|r[n];var s=n>>1;if(o===0&&!t.has(s)){continue}a[s]=o}return a},extractWidths:function e(r,t,a){var n=this.xref;var i=[];var c=0;var l=[];var u;var f,h,d,v,g,p,m;if(a.composite){c=r.has("DW")?r.get("DW"):1e3;m=r.get("W");if(m){for(f=0,h=m.length;f<h;f++){g=n.fetchIfRef(m[f++]);p=n.fetchIfRef(m[f]);if(Array.isArray(p)){for(d=0,v=p.length;d<v;d++){i[g++]=n.fetchIfRef(p[d])}}else{var b=n.fetchIfRef(m[++f]);for(d=g;d<=p;d++){i[d]=b}}}}if(a.vertical){var y=r.getArray("DW2")||[880,-1e3];u=[y[1],c*.5,y[0]];y=r.get("W2");if(y){for(f=0,h=y.length;f<h;f++){g=n.fetchIfRef(y[f++]);p=n.fetchIfRef(y[f]);if(Array.isArray(p)){for(d=0,v=p.length;d<v;d++){l[g++]=[n.fetchIfRef(p[d++]),n.fetchIfRef(p[d++]),n.fetchIfRef(p[d])]}}else{var w=[n.fetchIfRef(y[++f]),n.fetchIfRef(y[++f]),n.fetchIfRef(y[++f])];for(d=g;d<=p;d++){l[d]=w}}}}}}else{var k=a.firstChar;m=r.get("Widths");if(m){d=k;for(f=0,h=m.length;f<h;f++){i[d++]=n.fetchIfRef(m[f])}c=parseFloat(t.get("MissingWidth"))||0}else{var S=r.get("BaseFont");if((0,o.isName)(S)){var x=this.getBaseFontMetrics(S.name);i=this.buildCharCodeToWidth(x.widths,a);c=x.defaultWidth}}}var C=true;var A=c;for(var O in i){var P=i[O];if(!P){continue}if(!A){A=P;continue}if(A!==P){C=false;break}}if(C){a.flags|=s.FontFlags.FixedPitch}a.defaultWidth=c;a.widths=i;a.defaultVMetrics=u;a.vmetrics=l},isSerifFont:function e(r){var t=r.split("-")[0];return t in(0,u.getSerifFonts)()||t.search(/serif/gi)!==-1},getBaseFontMetrics:function e(r){var t=0;var a=[];var i=false;var o=(0,u.getStdFontMap)();var s=o[r]||r;var c=(0,b.getMetrics)();if(!(s in c)){if(this.isSerifFont(r)){s="Times-Roman"}else{s="Helvetica"}}var l=c[s];if((0,n.isNum)(l)){t=l;i=true}else{a=l()}return{defaultWidth:t,monospace:i,widths:a}},buildCharCodeToWidth:function e(r,t){var a=Object.create(null);var n=t.differences;var i=t.defaultEncoding;for(var o=0;o<256;o++){if(o in n&&r[n[o]]){a[o]=r[n[o]];continue}if(o in i&&r[i[o]]){a[o]=r[i[o]];continue}}return a},preEvaluateFont:function e(r){var t=r;var a=r.get("Subtype");if(!(0,o.isName)(a)){throw new n.FormatError("invalid font Subtype")}var i=false;var s;if(a.name==="Type0"){var c=r.get("DescendantFonts");if(!c){throw new n.FormatError("Descendant fonts are not specified")}r=Array.isArray(c)?this.xref.fetchIfRef(c[0]):c;a=r.get("Subtype");if(!(0,o.isName)(a)){throw new n.FormatError("invalid font Subtype")}i=true}var l=r.get("FontDescriptor");if(l){var u=new k.MurmurHash3_64;var f=t.getRaw("Encoding");if((0,o.isName)(f)){u.update(f.name)}else if((0,o.isRef)(f)){u.update(f.toString())}else if((0,o.isDict)(f)){var h=f.getKeys();for(var d=0,v=h.length;d<v;d++){var g=f.getRaw(h[d]);if((0,o.isName)(g)){u.update(g.name)}else if((0,o.isRef)(g)){u.update(g.toString())}else if(Array.isArray(g)){var p=g.length,m=new Array(p);for(var b=0;b<p;b++){var y=g[b];if((0,o.isName)(y)){m[b]=y.name}else if((0,n.isNum)(y)||(0,o.isRef)(y)){m[b]=y.toString()}}u.update(m.join())}}}var w=r.get("FirstChar")||0;var S=r.get("LastChar")||(i?65535:255);u.update("".concat(w,"-").concat(S));var x=r.get("ToUnicode")||t.get("ToUnicode");if((0,o.isStream)(x)){var C=x.str||x;s=C.buffer?new Uint8Array(C.buffer.buffer,0,C.bufferLength):new Uint8Array(C.bytes.buffer,C.start,C.end-C.start);u.update(s)}else if((0,o.isName)(x)){u.update(x.name)}var A=r.get("Widths")||t.get("Widths");if(A){s=new Uint8Array(new Uint32Array(A).buffer);u.update(s)}}return{descriptor:l,dict:r,baseDict:t,composite:i,type:a.name,hash:u?u.hexdigest():""}},translateFont:function e(r){var t=this;var a=r.baseDict;var c=r.dict;var l=r.composite;var f=r.descriptor;var h=r.type;var d=l?65535:255;var v;if(!f){if(h==="Type3"){f=new o.Dict(null);f.set("FontName",o.Name.get(h));f.set("FontBBox",c.getArray("FontBBox"))}else{var g=c.get("BaseFont");if(!(0,o.isName)(g)){throw new n.FormatError("Base font is not specified")}g=g.name.replace(/[,_]/g,"-");var p=this.getBaseFontMetrics(g);var m=g.split("-")[0];var b=(this.isSerifFont(m)?s.FontFlags.Serif:0)|(p.monospace?s.FontFlags.FixedPitch:0)|((0,u.getSymbolsFonts)()[m]?s.FontFlags.Symbolic:s.FontFlags.Nonsymbolic);v={type:h,name:g,widths:p.widths,defaultWidth:p.defaultWidth,flags:b,firstChar:0,lastChar:d};return this.extractDataStructures(c,c,v).then(function(e){e.widths=t.buildCharCodeToWidth(p.widths,e);return new s.Font(g,null,e)})}}var y=c.get("FirstChar")||0;var w=c.get("LastChar")||d;var k=f.get("FontName");var S=c.get("BaseFont");if((0,n.isString)(k)){k=o.Name.get(k)}if((0,n.isString)(S)){S=o.Name.get(S)}if(h!=="Type3"){var x=k&&k.name;var C=S&&S.name;if(x!==C){(0,n.info)("The FontDescriptor's FontName is \"".concat(x,'" but ')+"should be the same as the Font's BaseFont \"".concat(C,'".'));if(x&&C&&C.startsWith(x)){k=S}}}k=k||S;if(!(0,o.isName)(k)){throw new n.FormatError("invalid font name")}var A=f.get("FontFile","FontFile2","FontFile3");if(A){if(A.dict){var O=A.dict.get("Subtype");if(O){O=O.name}var P=A.dict.get("Length1");var I=A.dict.get("Length2");var T=A.dict.get("Length3")}}v={type:h,name:k.name,subtype:O,file:A,length1:P,length2:I,length3:T,loadedName:a.loadedName,composite:l,wideChars:l,fixedPitch:false,fontMatrix:c.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:y||0,lastChar:w||d,bbox:f.getArray("FontBBox"),ascent:f.get("Ascent"),descent:f.get("Descent"),xHeight:f.get("XHeight"),capHeight:f.get("CapHeight"),flags:f.get("Flags"),italicAngle:f.get("ItalicAngle"),isType3Font:false};var E;if(l){var F=a.get("Encoding");if((0,o.isName)(F)){v.cidEncoding=F.name}E=i.CMapFactory.create({encoding:F,fetchBuiltInCMap:this.fetchBuiltInCMap,useCMap:null}).then(function(e){v.cMap=e;v.vertical=v.cMap.vertical})}else{E=Promise.resolve(undefined)}return E.then(function(){return t.extractDataStructures(c,a,v)}).then(function(e){t.extractWidths(c,f,e);if(h==="Type3"){e.isType3Font=true}return new s.Font(k.name,A,e)})}};t.buildFontPaths=function(e,r,t){function a(r){if(e.renderer.hasBuiltPath(r)){return}t.send("commonobj",["".concat(e.loadedName,"_path_").concat(r),"FontPath",e.renderer.getPathJs(r)])}var n=true;var i=false;var o=undefined;try{for(var s=r[Symbol.iterator](),c;!(n=(c=s.next()).done);n=true){var l=c.value;a(l.fontChar);var u=l.accent;if(u&&u.fontChar){a(u.fontChar)}}}catch(e){i=true;o=e}finally{try{if(!n&&s["return"]!=null){s["return"]()}}finally{if(i){throw o}}}};return t}();r.PartialEvaluator=I;var T=function e(){function r(e,r,t){this.loadedName=e;this.font=r;this.dict=t;this.type3Loaded=null;this.sent=false}r.prototype={send:function e(r){if(this.sent){return}this.sent=true;r.send("commonobj",[this.loadedName,"Font",this.font.exportData()])},fallback:function e(r){if(!this.font.data){return}this.font.disableFontFace=true;var t=this.font.glyphCacheValues;I.buildFontPaths(this.font,t,r)},loadType3Data:function e(r,t,a,i){if(!this.font.isType3Font){throw new Error("Must be a Type3 font.")}if(this.type3Loaded){return this.type3Loaded}var o=Object.create(r.options);o.ignoreErrors=false;o.nativeImageDecoderSupport=n.NativeImageDecoding.NONE;var s=r.clone(o);s.parsingType3Font=true;var c=this.font;var l=Promise.resolve();var u=this.dict.get("CharProcs");var f=this.dict.get("Resources")||t;var h=u.getKeys();var d=Object.create(null);var v=function e(){var r=h[g];l=l.then(function(){var e=u.get(r);var t=new x.OperatorList;return s.getOperatorList({stream:e,task:i,resources:f,operatorList:t}).then(function(){d[r]=t.getIR();a.addDependencies(t.dependencies)})["catch"](function(e){(0,n.warn)('Type3 font resource "'.concat(r,'" is not available.'));var t=new x.OperatorList;d[r]=t.getIR()})})};for(var g=0,p=h.length;g<p;++g){v()}this.type3Loaded=l.then(function(){c.charProcOperatorList=d});return this.type3Loaded}};return r}();var E=function e(){function r(e){this.state=e;this.stateStack=[]}r.prototype={save:function e(){var r=this.state;this.stateStack.push(this.state);this.state=r.clone()},restore:function e(){var r=this.stateStack.pop();if(r){this.state=r}},transform:function e(r){this.state.ctm=n.Util.transform(this.state.ctm,r)}};return r}();var F=function e(){function r(){this.ctm=new Float32Array(n.IDENTITY_MATRIX);this.fontName=null;this.fontSize=0;this.font=null;this.fontMatrix=n.FONT_IDENTITY_MATRIX;this.textMatrix=n.IDENTITY_MATRIX.slice();this.textLineMatrix=n.IDENTITY_MATRIX.slice();this.charSpacing=0;this.wordSpacing=0;this.leading=0;this.textHScale=1;this.textRise=0}r.prototype={setTextMatrix:function e(r,t,a,n,i,o){var s=this.textMatrix;s[0]=r;s[1]=t;s[2]=a;s[3]=n;s[4]=i;s[5]=o},setTextLineMatrix:function e(r,t,a,n,i,o){var s=this.textLineMatrix;s[0]=r;s[1]=t;s[2]=a;s[3]=n;s[4]=i;s[5]=o},translateTextMatrix:function e(r,t){var a=this.textMatrix;a[4]=a[0]*r+a[2]*t+a[4];a[5]=a[1]*r+a[3]*t+a[5]},translateTextLineMatrix:function e(r,t){var a=this.textLineMatrix;a[4]=a[0]*r+a[2]*t+a[4];a[5]=a[1]*r+a[3]*t+a[5]},calcTextLineMatrixAdvance:function e(r,t,a,n,i,o){var s=this.font;if(!s){return null}var c=this.textLineMatrix;if(!(r===c[0]&&t===c[1]&&a===c[2]&&n===c[3])){return null}var l=i-c[4],u=o-c[5];if(s.vertical&&l!==0||!s.vertical&&u!==0){return null}var f,h,d=r*n-t*a;if(s.vertical){f=-u*a/d;h=u*r/d}else{f=l*n/d;h=-l*t/d}return{width:f,height:h,value:s.vertical?h:f}},calcRenderMatrix:function e(r){var t=[this.fontSize*this.textHScale,0,0,this.fontSize,0,this.textRise];return n.Util.transform(r,n.Util.transform(this.textMatrix,t))},carriageReturn:function e(){this.translateTextLineMatrix(0,-this.leading);this.textMatrix=this.textLineMatrix.slice()},clone:function e(){var r=Object.create(this);r.textMatrix=this.textMatrix.slice();r.textLineMatrix=this.textLineMatrix.slice();r.fontMatrix=this.fontMatrix.slice();return r}};return r}();var B=function e(){function r(){this.ctm=new Float32Array(n.IDENTITY_MATRIX);this.font=null;this.textRenderingMode=n.TextRenderingMode.FILL;this.fillColorSpace=v.ColorSpace.singletons.gray;this.strokeColorSpace=v.ColorSpace.singletons.gray}r.prototype={clone:function e(){return Object.create(this)}};return r}();var _=function e(){var r=(0,m.getLookupTableFactory)(function(e){e["w"]={id:n.OPS.setLineWidth,numArgs:1,variableArgs:false};e["J"]={id:n.OPS.setLineCap,numArgs:1,variableArgs:false};e["j"]={id:n.OPS.setLineJoin,numArgs:1,variableArgs:false};e["M"]={id:n.OPS.setMiterLimit,numArgs:1,variableArgs:false};e["d"]={id:n.OPS.setDash,numArgs:2,variableArgs:false};e["ri"]={id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:false};e["i"]={id:n.OPS.setFlatness,numArgs:1,variableArgs:false};e["gs"]={id:n.OPS.setGState,numArgs:1,variableArgs:false};e["q"]={id:n.OPS.save,numArgs:0,variableArgs:false};e["Q"]={id:n.OPS.restore,numArgs:0,variableArgs:false};e["cm"]={id:n.OPS.transform,numArgs:6,variableArgs:false};e["m"]={id:n.OPS.moveTo,numArgs:2,variableArgs:false};e["l"]={id:n.OPS.lineTo,numArgs:2,variableArgs:false};e["c"]={id:n.OPS.curveTo,numArgs:6,variableArgs:false};e["v"]={id:n.OPS.curveTo2,numArgs:4,variableArgs:false};e["y"]={id:n.OPS.curveTo3,numArgs:4,variableArgs:false};e["h"]={id:n.OPS.closePath,numArgs:0,variableArgs:false};e["re"]={id:n.OPS.rectangle,numArgs:4,variableArgs:false};e["S"]={id:n.OPS.stroke,numArgs:0,variableArgs:false};e["s"]={id:n.OPS.closeStroke,numArgs:0,variableArgs:false};e["f"]={id:n.OPS.fill,numArgs:0,variableArgs:false};e["F"]={id:n.OPS.fill,numArgs:0,variableArgs:false};e["f*"]={id:n.OPS.eoFill,numArgs:0,variableArgs:false};e["B"]={id:n.OPS.fillStroke,numArgs:0,variableArgs:false};e["B*"]={id:n.OPS.eoFillStroke,numArgs:0,variableArgs:false};e["b"]={id:n.OPS.closeFillStroke,numArgs:0,variableArgs:false};e["b*"]={id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:false};e["n"]={id:n.OPS.endPath,numArgs:0,variableArgs:false};e["W"]={id:n.OPS.clip,numArgs:0,variableArgs:false};e["W*"]={id:n.OPS.eoClip,numArgs:0,variableArgs:false};e["BT"]={id:n.OPS.beginText,numArgs:0,variableArgs:false};e["ET"]={id:n.OPS.endText,numArgs:0,variableArgs:false};e["Tc"]={id:n.OPS.setCharSpacing,numArgs:1,variableArgs:false};e["Tw"]={id:n.OPS.setWordSpacing,numArgs:1,variableArgs:false};e["Tz"]={id:n.OPS.setHScale,numArgs:1,variableArgs:false};e["TL"]={id:n.OPS.setLeading,numArgs:1,variableArgs:false};e["Tf"]={id:n.OPS.setFont,numArgs:2,variableArgs:false};e["Tr"]={id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:false};e["Ts"]={id:n.OPS.setTextRise,numArgs:1,variableArgs:false};e["Td"]={id:n.OPS.moveText,numArgs:2,variableArgs:false};e["TD"]={id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:false};e["Tm"]={id:n.OPS.setTextMatrix,numArgs:6,variableArgs:false};e["T*"]={id:n.OPS.nextLine,numArgs:0,variableArgs:false};e["Tj"]={id:n.OPS.showText,numArgs:1,variableArgs:false};e["TJ"]={id:n.OPS.showSpacedText,numArgs:1,variableArgs:false};e["'"]={id:n.OPS.nextLineShowText,numArgs:1,variableArgs:false};e['"']={id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:false};e["d0"]={id:n.OPS.setCharWidth,numArgs:2,variableArgs:false};e["d1"]={id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:false};e["CS"]={id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:false};e["cs"]={id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:false};e["SC"]={id:n.OPS.setStrokeColor,numArgs:4,variableArgs:true};e["SCN"]={id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:true};e["sc"]={id:n.OPS.setFillColor,numArgs:4,variableArgs:true};e["scn"]={id:n.OPS.setFillColorN,numArgs:33,variableArgs:true};e["G"]={id:n.OPS.setStrokeGray,numArgs:1,variableArgs:false};e["g"]={id:n.OPS.setFillGray,numArgs:1,variableArgs:false};e["RG"]={id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:false};e["rg"]={id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:false};e["K"]={id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:false};e["k"]={id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:false};e["sh"]={id:n.OPS.shadingFill,numArgs:1,variableArgs:false};e["BI"]={id:n.OPS.beginInlineImage,numArgs:0,variableArgs:false};e["ID"]={id:n.OPS.beginImageData,numArgs:0,variableArgs:false};e["EI"]={id:n.OPS.endInlineImage,numArgs:1,variableArgs:false};e["Do"]={id:n.OPS.paintXObject,numArgs:1,variableArgs:false};e["MP"]={id:n.OPS.markPoint,numArgs:1,variableArgs:false};e["DP"]={id:n.OPS.markPointProps,numArgs:2,variableArgs:false};e["BMC"]={id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:false};e["BDC"]={id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:false};e["EMC"]={id:n.OPS.endMarkedContent,numArgs:0,variableArgs:false};e["BX"]={id:n.OPS.beginCompat,numArgs:0,variableArgs:false};e["EX"]={id:n.OPS.endCompat,numArgs:0,variableArgs:false};e["BM"]=null;e["BD"]=null;e["true"]=null;e["fa"]=null;e["fal"]=null;e["fals"]=null;e["false"]=null;e["nu"]=null;e["nul"]=null;e["null"]=null});var t=20;function a(e,t,a){this.opMap=r();this.parser=new h.Parser({lexer:new h.Lexer(e,this.opMap),xref:t});this.stateManager=a;this.nonProcessedArgs=[];this._numInvalidPathOPS=0}a.prototype={get savedStatesDepth(){return this.stateManager.stateStack.length},read:function e(r){var a=r.args;while(true){var i=this.parser.getObj();if(i instanceof o.Cmd){var s=i.cmd;var c=this.opMap[s];if(!c){(0,n.warn)('Unknown command "'.concat(s,'".'));continue}var l=c.id;var u=c.numArgs;var f=a!==null?a.length:0;if(!c.variableArgs){if(f!==u){var h=this.nonProcessedArgs;while(f>u){h.push(a.shift());f--}while(f<u&&h.length!==0){if(a===null){a=[]}a.unshift(h.pop());f++}}if(f<u){var d="command ".concat(s,": expected ").concat(u," args, ")+"but received ".concat(f," args.");if(l>=n.OPS.moveTo&&l<=n.OPS.endPath&&++this._numInvalidPathOPS>t){throw new n.FormatError("Invalid ".concat(d))}(0,n.warn)("Skipping ".concat(d));if(a!==null){a.length=0}continue}}else if(f>u){(0,n.info)("Command ".concat(s,": expected [0, ").concat(u,"] args, ")+"but received ".concat(f," args."))}this.preprocessCommand(l,a);r.fn=l;r.args=a;return true}if(i===o.EOF){return false}if(i!==null){if(a===null){a=[]}a.push(i);if(a.length>33){throw new n.FormatError("Too many arguments")}}}},preprocessCommand:function e(r,t){switch(r|0){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(t);break}}};return a}()},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.CMapFactory=r.IdentityCMap=r.CMap=void 0;var a=t(5);var n=t(183);var i=t(189);var o=t(186);var s=t(190);function c(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){c=function e(r){return typeof r}}else{c=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return c(e)}function l(e,r){if(r&&(c(r)==="object"||typeof r==="function")){return r}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return f(e)}function h(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)d(e,r)}function d(e,r){d=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return d(e,r)}function v(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function g(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function p(e,r,t){if(r)g(e.prototype,r);if(t)g(e,t);return e}var m=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"];var b=function(){function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;v(this,e);this.codespaceRanges=[[],[],[],[]];this.numCodespaceRanges=0;this._map=[];this.name="";this.vertical=false;this.useCMap=null;this.builtInCMap=r}p(e,[{key:"addCodespaceRange",value:function e(r,t,a){this.codespaceRanges[r-1].push(t,a);this.numCodespaceRanges++}},{key:"mapCidRange",value:function e(r,t,a){while(r<=t){this._map[r++]=a++}}},{key:"mapBfRange",value:function e(r,t,a){var n=a.length-1;while(r<=t){this._map[r++]=a;a=a.substring(0,n)+String.fromCharCode(a.charCodeAt(n)+1)}}},{key:"mapBfRangeToArray",value:function e(r,t,a){var n=0,i=a.length;while(r<=t&&n<i){this._map[r]=a[n++];++r}}},{key:"mapOne",value:function e(r,t){this._map[r]=t}},{key:"lookup",value:function e(r){return this._map[r]}},{key:"contains",value:function e(r){return this._map[r]!==undefined}},{key:"forEach",value:function e(r){var t=this._map;var a=t.length;if(a<=65536){for(var n=0;n<a;n++){if(t[n]!==undefined){r(n,t[n])}}}else{for(var i in t){r(i,t[i])}}}},{key:"charCodeOf",value:function e(r){var t=this._map;if(t.length<=65536){return t.indexOf(r)}for(var a in t){if(t[a]===r){return a|0}}return-1}},{key:"getMap",value:function e(){return this._map}},{key:"readCharCode",value:function e(r,t,a){var n=0;var i=this.codespaceRanges;for(var o=0,s=i.length;o<s;o++){n=(n<<8|r.charCodeAt(t+o))>>>0;var c=i[o];for(var l=0,u=c.length;l<u;){var f=c[l++];var h=c[l++];if(n>=f&&n<=h){a.charcode=n;a.length=o+1;return}}}a.charcode=0;a.length=1}},{key:"length",get:function e(){return this._map.length}},{key:"isIdentityCMap",get:function e(){if(!(this.name==="Identity-H"||this.name==="Identity-V")){return false}if(this._map.length!==65536){return false}for(var r=0;r<65536;r++){if(this._map[r]!==r){return false}}return true}}]);return e}();r.CMap=b;var y=function(e){h(r,e);function r(e,t){var a;v(this,r);a=l(this,f(r).call(this));a.vertical=e;a.addCodespaceRange(t,0,65535);return a}p(r,[{key:"mapCidRange",value:function e(r,t,n){(0,a.unreachable)("should not call mapCidRange")}},{key:"mapBfRange",value:function e(r,t,n){(0,a.unreachable)("should not call mapBfRange")}},{key:"mapBfRangeToArray",value:function e(r,t,n){(0,a.unreachable)("should not call mapBfRangeToArray")}},{key:"mapOne",value:function e(r,t){(0,a.unreachable)("should not call mapCidOne")}},{key:"lookup",value:function e(r){return Number.isInteger(r)&&r<=65535?r:undefined}},{key:"contains",value:function e(r){return Number.isInteger(r)&&r<=65535}},{key:"forEach",value:function e(r){for(var t=0;t<=65535;t++){r(t,t)}}},{key:"charCodeOf",value:function e(r){return Number.isInteger(r)&&r<=65535?r:-1}},{key:"getMap",value:function e(){var r=new Array(65536);for(var t=0;t<=65535;t++){r[t]=t}return r}},{key:"length",get:function e(){return 65536}},{key:"isIdentityCMap",get:function e(){(0,a.unreachable)("should not access .isIdentityCMap")}}]);return r}(b);r.IdentityCMap=y;var w=function e(){function r(e,r){var t=0;for(var a=0;a<=r;a++){t=t<<8|e[a]}return t>>>0}function t(e,r){if(r===1){return String.fromCharCode(e[0],e[1])}if(r===3){return String.fromCharCode(e[0],e[1],e[2],e[3])}return String.fromCharCode.apply(null,e.subarray(0,r+1))}function n(e,r,t){var a=0;for(var n=t;n>=0;n--){a+=e[n]+r[n];e[n]=a&255;a>>=8}}function i(e,r){var t=1;for(var a=r;a>=0&&t>0;a--){t+=e[a];e[a]=t&255;t>>=8}}var o=16;var s=19;function c(e){this.buffer=e;this.pos=0;this.end=e.length;this.tmpBuf=new Uint8Array(s)}c.prototype={readByte:function e(){if(this.pos>=this.end){return-1}return this.buffer[this.pos++]},readNumber:function e(){var r=0;var t;do{var n=this.readByte();if(n<0){throw new a.FormatError("unexpected EOF in bcmap")}t=!(n&128);r=r<<7|n&127}while(!t);return r},readSigned:function e(){var r=this.readNumber();return r&1?~(r>>>1):r>>>1},readHex:function e(r,t){r.set(this.buffer.subarray(this.pos,this.pos+t+1));this.pos+=t+1},readHexNumber:function e(r,t){var n;var i=this.tmpBuf,o=0;do{var s=this.readByte();if(s<0){throw new a.FormatError("unexpected EOF in bcmap")}n=!(s&128);i[o++]=s&127}while(!n);var c=t,l=0,u=0;while(c>=0){while(u<8&&i.length>0){l=i[--o]<<u|l;u+=7}r[c]=l&255;c--;l>>=8;u-=8}},readHexSigned:function e(r,t){this.readHexNumber(r,t);var a=r[t]&1?255:0;var n=0;for(var i=0;i<=t;i++){n=(n&1)<<8|r[i];r[i]=n>>1^a}},readString:function e(){var r=this.readNumber();var t="";for(var a=0;a<r;a++){t+=String.fromCharCode(this.readNumber())}return t}};function l(e,a,s){return new Promise(function(l,u){var f=new c(e);var h=f.readByte();a.vertical=!!(h&1);var d=null;var v=new Uint8Array(o);var g=new Uint8Array(o);var p=new Uint8Array(o);var m=new Uint8Array(o);var b=new Uint8Array(o);var y;var w;while((w=f.readByte())>=0){var k=w>>5;if(k===7){switch(w&31){case 0:f.readString();break;case 1:d=f.readString();break}continue}var S=!!(w&16);var x=w&15;if(x+1>o){throw new Error("processBinaryCMap: Invalid dataSize.")}var C=1;var A=f.readNumber();var O;switch(k){case 0:f.readHex(v,x);f.readHexNumber(g,x);n(g,v,x);a.addCodespaceRange(x+1,r(v,x),r(g,x));for(O=1;O<A;O++){i(g,x);f.readHexNumber(v,x);n(v,g,x);f.readHexNumber(g,x);n(g,v,x);a.addCodespaceRange(x+1,r(v,x),r(g,x))}break;case 1:f.readHex(v,x);f.readHexNumber(g,x);n(g,v,x);f.readNumber();for(O=1;O<A;O++){i(g,x);f.readHexNumber(v,x);n(v,g,x);f.readHexNumber(g,x);n(g,v,x);f.readNumber()}break;case 2:f.readHex(p,x);y=f.readNumber();a.mapOne(r(p,x),y);for(O=1;O<A;O++){i(p,x);if(!S){f.readHexNumber(b,x);n(p,b,x)}y=f.readSigned()+(y+1);a.mapOne(r(p,x),y)}break;case 3:f.readHex(v,x);f.readHexNumber(g,x);n(g,v,x);y=f.readNumber();a.mapCidRange(r(v,x),r(g,x),y);for(O=1;O<A;O++){i(g,x);if(!S){f.readHexNumber(v,x);n(v,g,x)}else{v.set(g)}f.readHexNumber(g,x);n(g,v,x);y=f.readNumber();a.mapCidRange(r(v,x),r(g,x),y)}break;case 4:f.readHex(p,C);f.readHex(m,x);a.mapOne(r(p,C),t(m,x));for(O=1;O<A;O++){i(p,C);if(!S){f.readHexNumber(b,C);n(p,b,C)}i(m,x);f.readHexSigned(b,x);n(m,b,x);a.mapOne(r(p,C),t(m,x))}break;case 5:f.readHex(v,C);f.readHexNumber(g,C);n(g,v,C);f.readHex(m,x);a.mapBfRange(r(v,C),r(g,C),t(m,x));for(O=1;O<A;O++){i(g,C);if(!S){f.readHexNumber(v,C);n(v,g,C)}else{v.set(g)}f.readHexNumber(g,C);n(g,v,C);f.readHex(m,x);a.mapBfRange(r(v,C),r(g,C),t(m,x))}break;default:u(new Error("processBinaryCMap: Unknown type: "+k));return}}if(d){l(s(d));return}l(a)})}function u(){}u.prototype={process:l};return u}();var k=function e(){function r(e){var r=0;for(var t=0;t<e.length;t++){r=r<<8|e.charCodeAt(t)}return r>>>0}function t(e){if(!(0,a.isString)(e)){throw new a.FormatError("Malformed CMap: expected string.")}}function c(e){if(!Number.isInteger(e)){throw new a.FormatError("Malformed CMap: expected int.")}}function l(e,a){while(true){var i=a.getObj();if((0,n.isEOF)(i)){break}if((0,n.isCmd)(i,"endbfchar")){return}t(i);var o=r(i);i=a.getObj();t(i);var s=i;e.mapOne(o,s)}}function u(e,i){while(true){var o=i.getObj();if((0,n.isEOF)(o)){break}if((0,n.isCmd)(o,"endbfrange")){return}t(o);var s=r(o);o=i.getObj();t(o);var c=r(o);o=i.getObj();if(Number.isInteger(o)||(0,a.isString)(o)){var l=Number.isInteger(o)?String.fromCharCode(o):o;e.mapBfRange(s,c,l)}else if((0,n.isCmd)(o,"[")){o=i.getObj();var u=[];while(!(0,n.isCmd)(o,"]")&&!(0,n.isEOF)(o)){u.push(o);o=i.getObj()}e.mapBfRangeToArray(s,c,u)}else{break}}throw new a.FormatError("Invalid bf range.")}function f(e,a){while(true){var i=a.getObj();if((0,n.isEOF)(i)){break}if((0,n.isCmd)(i,"endcidchar")){return}t(i);var o=r(i);i=a.getObj();c(i);var s=i;e.mapOne(o,s)}}function h(e,a){while(true){var i=a.getObj();if((0,n.isEOF)(i)){break}if((0,n.isCmd)(i,"endcidrange")){return}t(i);var o=r(i);i=a.getObj();t(i);var s=r(i);i=a.getObj();c(i);var l=i;e.mapCidRange(o,s,l)}}function d(e,t){while(true){var i=t.getObj();if((0,n.isEOF)(i)){break}if((0,n.isCmd)(i,"endcodespacerange")){return}if(!(0,a.isString)(i)){break}var o=r(i);i=t.getObj();if(!(0,a.isString)(i)){break}var s=r(i);e.addCodespaceRange(i.length,o,s)}throw new a.FormatError("Invalid codespace range.")}function v(e,r){var t=r.getObj();if(Number.isInteger(t)){e.vertical=!!t}}function g(e,r){var t=r.getObj();if((0,n.isName)(t)&&(0,a.isString)(t.name)){e.name=t.name}}function p(e,r,t,i){var s;var c;e:while(true){try{var p=r.getObj();if((0,n.isEOF)(p)){break}else if((0,n.isName)(p)){if(p.name==="WMode"){v(e,r)}else if(p.name==="CMapName"){g(e,r)}s=p}else if((0,n.isCmd)(p)){switch(p.cmd){case"endcmap":break e;case"usecmap":if((0,n.isName)(s)){c=s.name}break;case"begincodespacerange":d(e,r);break;case"beginbfchar":l(e,r);break;case"begincidchar":f(e,r);break;case"beginbfrange":u(e,r);break;case"begincidrange":h(e,r);break}}}catch(e){if(e instanceof o.MissingDataException){throw e}(0,a.warn)("Invalid cMap data: "+e);continue}}if(!i&&c){i=c}if(i){return k(e,t,i)}return Promise.resolve(e)}function k(e,r,t){return S(t,r).then(function(r){e.useCMap=r;if(e.numCodespaceRanges===0){var t=e.useCMap.codespaceRanges;for(var a=0;a<t.length;a++){e.codespaceRanges[a]=t[a].slice()}e.numCodespaceRanges=e.useCMap.numCodespaceRanges}e.useCMap.forEach(function(r,t){if(!e.contains(r)){e.mapOne(r,e.useCMap.lookup(r))}});return e})}function S(e,r){if(e==="Identity-H"){return Promise.resolve(new y(false,2))}else if(e==="Identity-V"){return Promise.resolve(new y(true,2))}if(!m.includes(e)){return Promise.reject(new Error("Unknown CMap name: "+e))}if(!r){return Promise.reject(new Error("Built-in CMap parameters are not provided."))}return r(e).then(function(e){var t=e.cMapData,n=e.compressionType;var o=new b(true);if(n===a.CMapCompressionType.BINARY){return(new w).process(t,o,function(e){return k(o,r,e)})}if(n===a.CMapCompressionType.NONE){var c=new i.Lexer(new s.Stream(t));return p(o,c,r,null)}return Promise.reject(new Error("TODO: Only BINARY/NONE CMap compression is currently supported."))})}return{create:function e(r){var t=r.encoding;var a=r.fetchBuiltInCMap;var o=r.useCMap;if((0,n.isName)(t)){return S(t.name,a)}else if((0,n.isStream)(t)){var s=new b;var c=new i.Lexer(t);return p(s,c,a,o).then(function(e){if(e.isIdentityCMap){return S(e.name,a)}return e})}return Promise.reject(new Error("Encoding required."))}}}();r.CMapFactory=k},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getFontType=A;r.IdentityToUnicodeMap=r.ToUnicodeMap=r.FontFlags=r.Font=r.ErrorFont=r.SEAC_ANALYSIS_ENABLED=void 0;var a=t(5);var n=t(207);var i=t(210);var o=t(209);var s=t(211);var c=t(212);var l=t(213);var u=t(205);var f=t(186);var h=t(190);var d=t(214);function v(e,r){return m(e)||p(e,r)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p(e,r){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var t=[];var a=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){t.push(s.value);if(r&&t.length===r)break}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(n)throw i}}return t}function m(e){if(Array.isArray(e))return e}var b=[[57344,63743],[1048576,1114109]];var y=1e3;var w=true;r.SEAC_ANALYSIS_ENABLED=w;var k={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};r.FontFlags=k;var S=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function x(e){if(!e.fontMatrix){return}if(e.fontMatrix[0]===a.FONT_IDENTITY_MATRIX[0]){return}var r=.001/e.fontMatrix[0];var t=e.widths;for(var n in t){t[n]*=r}e.defaultWidth*=r}function C(e,r){if(e.hasIncludedToUnicodeMap){return}if(e.hasEncoding){return}if(r===e.defaultEncoding){return}if(e.toUnicode instanceof T){return}var t=[],a=(0,i.getGlyphsUnicode)();for(var n in r){var o=r[n];var s=(0,c.getUnicodeForGlyph)(o,a);if(s!==-1){t[n]=String.fromCharCode(s)}}e.toUnicode.amend(t)}function A(e,r){switch(e){case"Type1":return r==="Type1C"?a.FontType.TYPE1C:a.FontType.TYPE1;case"CIDFontType0":return r==="CIDFontType0C"?a.FontType.CIDFONTTYPE0C:a.FontType.CIDFONTTYPE0;case"OpenType":return a.FontType.OPENTYPE;case"TrueType":return a.FontType.TRUETYPE;case"CIDFontType2":return a.FontType.CIDFONTTYPE2;case"MMType1":return a.FontType.MMTYPE1;case"Type0":return a.FontType.TYPE0;default:return a.FontType.UNKNOWN}}function O(e,r){if(r[e]!==undefined){return e}var t=(0,c.getUnicodeForGlyph)(e,r);if(t!==-1){for(var n in r){if(r[n]===t){return n}}}(0,a.info)("Unable to recover a standard glyph name for: "+e);return e}var P=function e(){function r(e,r,t,a,n,i,o,s){this.fontChar=e;this.unicode=r;this.accent=t;this.width=a;this.vmetric=n;this.operatorListId=i;this.isSpace=o;this.isInFont=s}r.prototype.matchesForCache=function(e,r,t,a,n,i,o,s){return this.fontChar===e&&this.unicode===r&&this.accent===t&&this.width===a&&this.vmetric===n&&this.operatorListId===i&&this.isSpace===o&&this.isInFont===s};return r}();var I=function e(){function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this._map=e}r.prototype={get length(){return this._map.length},forEach:function e(r){for(var t in this._map){r(t,this._map[t].charCodeAt(0))}},has:function e(r){return this._map[r]!==undefined},get:function e(r){return this._map[r]},charCodeOf:function e(r){var t=this._map;if(t.length<=65536){return t.indexOf(r)}for(var a in t){if(t[a]===r){return a|0}}return-1},amend:function e(r){for(var t in r){this._map[t]=r[t]}}};return r}();r.ToUnicodeMap=I;var T=function e(){function r(e,r){this.firstChar=e;this.lastChar=r}r.prototype={get length(){return this.lastChar+1-this.firstChar},forEach:function e(r){for(var t=this.firstChar,a=this.lastChar;t<=a;t++){r(t,t)}},has:function e(r){return this.firstChar<=r&&r<=this.lastChar},get:function e(r){if(this.firstChar<=r&&r<=this.lastChar){return String.fromCharCode(r)}return undefined},charCodeOf:function e(r){return Number.isInteger(r)&&r>=this.firstChar&&r<=this.lastChar?r:-1},amend:function e(r){(0,a.unreachable)("Should not call amend()")}};return r}();r.IdentityToUnicodeMap=T;var E=function e(){function r(e,r,t){e[r]=t>>8&255;e[r+1]=t&255}function t(e,r,t){e[r]=t>>24&255;e[r+1]=t>>16&255;e[r+2]=t>>8&255;e[r+3]=t&255}function n(e,r,t){var a,n;if(t instanceof Uint8Array){e.set(t,r)}else if(typeof t==="string"){for(a=0,n=t.length;a<n;a++){e[r++]=t.charCodeAt(a)&255}}else{for(a=0,n=t.length;a<n;a++){e[r++]=t[a]&255}}}function i(e){this.sfnt=e;this.tables=Object.create(null)}i.getSearchParams=function e(r,t){var a=1,n=0;while((a^r)>a){a<<=1;n++}var i=a*t;return{range:i,entry:n,rangeShift:t*r-i}};var o=12;var s=16;i.prototype={toArray:function e(){var c=this.sfnt;var l=this.tables;var u=Object.keys(l);u.sort();var f=u.length;var h,d,v,g,p;var m=o+f*s;var b=[m];for(h=0;h<f;h++){g=l[u[h]];var y=(g.length+3&~3)>>>0;m+=y;b.push(m)}var w=new Uint8Array(m);for(h=0;h<f;h++){g=l[u[h]];n(w,b[h],g)}if(c==="true"){c=(0,a.string32)(65536)}w[0]=c.charCodeAt(0)&255;w[1]=c.charCodeAt(1)&255;w[2]=c.charCodeAt(2)&255;w[3]=c.charCodeAt(3)&255;r(w,4,f);var k=i.getSearchParams(f,16);r(w,6,k.range);r(w,8,k.entry);r(w,10,k.rangeShift);m=o;for(h=0;h<f;h++){p=u[h];w[m]=p.charCodeAt(0)&255;w[m+1]=p.charCodeAt(1)&255;w[m+2]=p.charCodeAt(2)&255;w[m+3]=p.charCodeAt(3)&255;var S=0;for(d=b[h],v=b[h+1];d<v;d+=4){var x=(0,a.readUint32)(w,d);S=S+x>>>0}t(w,m+4,S);t(w,m+8,b[h]);t(w,m+12,l[p].length);m+=s}return w},addTable:function e(r,t){if(r in this.tables){throw new Error("Table "+r+" already exists")}this.tables[r]=t}};return i}();var F=function e(){function r(e,r,t){var n;this.name=e;this.loadedName=t.loadedName;this.isType3Font=t.isType3Font;this.sizes=[];this.missingFile=false;this.glyphCache=Object.create(null);this.isSerifFont=!!(t.flags&k.Serif);this.isSymbolicFont=!!(t.flags&k.Symbolic);this.isMonospace=!!(t.flags&k.FixedPitch);var i=t.type;var o=t.subtype;this.type=i;this.subtype=o;this.fallbackName=this.isMonospace?"monospace":this.isSerifFont?"serif":"sans-serif";this.differences=t.differences;this.widths=t.widths;this.defaultWidth=t.defaultWidth;this.composite=t.composite;this.wideChars=t.wideChars;this.cMap=t.cMap;this.ascent=t.ascent/y;this.descent=t.descent/y;this.fontMatrix=t.fontMatrix;this.bbox=t.bbox;this.defaultEncoding=t.defaultEncoding;this.toUnicode=t.toUnicode;this.fallbackToUnicode=t.fallbackToUnicode||new I;this.toFontChar=[];if(t.type==="Type3"){for(n=0;n<256;n++){this.toFontChar[n]=this.differences[n]||t.defaultEncoding[n]}this.fontType=a.FontType.TYPE3;return}this.cidEncoding=t.cidEncoding;this.vertical=t.vertical;if(this.vertical){this.vmetrics=t.vmetrics;this.defaultVMetrics=t.defaultVMetrics}if(!r||r.isEmpty){if(r){(0,a.warn)('Font file is empty in "'+e+'" ('+this.loadedName+")")}this.fallbackToSystemFont();return}var s=N(r,t);var c=v(s,2);i=c[0];o=c[1];if(i!==this.type||o!==this.subtype){(0,a.info)("Inconsistent font file Type/SubType, expected: "+"".concat(this.type,"/").concat(this.subtype," but found: ").concat(i,"/").concat(o,"."))}try{var l;switch(i){case"MMType1":(0,a.info)("MMType1 font ("+e+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";var u=o==="Type1C"||o==="CIDFontType0C"?new L(r,t):new R(e,r,t);x(t);l=this.convert(e,u,t);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype";l=this.checkAndRepair(e,r,t);if(this.isOpenType){x(t);i="OpenType"}break;default:throw new a.FormatError("Font ".concat(i," is not supported"))}}catch(e){(0,a.warn)(e);this.fallbackToSystemFont();return}this.data=l;this.fontType=A(i,o);this.fontMatrix=t.fontMatrix;this.widths=t.widths;this.defaultWidth=t.defaultWidth;this.toUnicode=t.toUnicode;this.encoding=t.baseEncoding;this.seacMap=t.seacMap}r.getFontID=function(){var e=1;return function r(){return String(e++)}}();function t(e,r){return(e<<8)+r}function f(e,r,t){e[r+1]=t;e[r]=t>>>8}function d(e,r){var t=(e<<8)+r;return t&1<<15?t-65536:t}function g(e,r,t,a){return(e<<24)+(r<<16)+(t<<8)+a}function p(e){return String.fromCharCode(e>>8&255,e&255)}function m(e){e=e>32767?32767:e<-32768?-32768:e;return String.fromCharCode(e>>8&255,e&255)}function F(e){var r=e.peekBytes(4);return(0,a.readUint32)(r,0)===65536||(0,a.bytesToString)(r)==="true"}function B(e){var r=e.peekBytes(4);return(0,a.bytesToString)(r)==="ttcf"}function _(e){var r=e.peekBytes(4);return(0,a.bytesToString)(r)==="OTTO"}function M(e){var r=e.peekBytes(2);if(r[0]===37&&r[1]===33){return true}if(r[0]===128&&r[1]===1){return true}return false}function D(e){var r=e.peekBytes(4);if(r[0]>=1&&r[3]>=1&&r[3]<=4){return true}return false}function N(e,r){var t=r.type,n=r.subtype,i=r.composite;var o,s;if(F(e)||B(e)){if(i){o="CIDFontType2"}else{o="TrueType"}}else if(_(e)){if(i){o="CIDFontType2"}else{o="OpenType"}}else if(M(e)){if(i){o="CIDFontType0"}else{o=t==="MMType1"?"MMType1":"Type1"}}else if(D(e)){if(i){o="CIDFontType0";s="CIDFontType0C"}else{o=t==="MMType1"?"MMType1":"Type1";s="Type1C"}}else{(0,a.warn)("getFontFileType: Unable to detect correct font file Type/Subtype.");o=t;s=n}return[o,s]}function U(e,r,t){var a=[],n;for(var i=0,o=e.length;i<o;i++){n=(0,c.getUnicodeForGlyph)(e[i],r);if(n!==-1){a[i]=n}}for(var s in t){n=(0,c.getUnicodeForGlyph)(t[s],r);if(n!==-1){a[+s]=n}}return a}function j(e,r,t){var n=Object.create(null);var i=[];var o=0;var s=b[o][0];var c=b[o][1];for(var l in e){l|=0;var u=e[l];if(!r(u)){continue}if(s>c){o++;if(o>=b.length){(0,a.warn)("Ran out of space in font private use area.");break}s=b[o][0];c=b[o][1]}var f=s++;if(u===0){u=t}n[f]=u;i[l]=f}return{toFontChar:i,charCodeToGlyphId:n,nextAvailableFontCharCode:s}}function q(e,r){var t=[];for(var a in e){if(e[a]>=r){continue}t.push({fontCharCode:a|0,glyphId:e[a]})}if(t.length===0){t.push({fontCharCode:0,glyphId:0})}t.sort(function e(r,t){return r.fontCharCode-t.fontCharCode});var n=[];var i=t.length;for(var o=0;o<i;){var s=t[o].fontCharCode;var c=[t[o].glyphId];++o;var l=s;while(o<i&&l+1===t[o].fontCharCode){c.push(t[o].glyphId);++l;++o;if(l===65535){break}}n.push([s,l,c])}return n}function z(e,r){var t=q(e,r);var n=t[t.length-1][1]>65535?2:1;var i="\0\0"+p(n)+"\0"+"\0"+(0,a.string32)(4+n*8);var o,s,c,l;for(o=t.length-1;o>=0;--o){if(t[o][0]<=65535){break}}var u=o+1;if(t[o][0]<65535&&t[o][1]===65535){t[o][1]=65534}var f=t[o][1]<65535?1:0;var h=u+f;var d=E.getSearchParams(h,2);var v="";var g="";var m="";var b="";var y="";var w=0;var k,S,x,C;for(o=0,s=u;o<s;o++){k=t[o];S=k[0];x=k[1];v+=p(S);g+=p(x);C=k[2];var A=true;for(c=1,l=C.length;c<l;++c){if(C[c]!==C[c-1]+1){A=false;break}}if(!A){var O=(h-o)*2+w*2;w+=x-S+1;m+=p(0);b+=p(O);for(c=0,l=C.length;c<l;++c){y+=p(C[c])}}else{var P=C[0];m+=p(P-S&65535);b+=p(0)}}if(f>0){g+="ÿÿ";v+="ÿÿ";m+="\0";b+="\0\0"}var I="\0\0"+p(2*h)+p(d.range)+p(d.entry)+p(d.rangeShift)+g+"\0\0"+v+m+b+y;var T="";var F="";if(n>1){i+="\0"+"\0\n"+(0,a.string32)(4+n*8+4+I.length);T="";for(o=0,s=t.length;o<s;o++){k=t[o];S=k[0];C=k[2];var B=C[0];for(c=1,l=C.length;c<l;++c){if(C[c]!==C[c-1]+1){x=k[0]+c-1;T+=(0,a.string32)(S)+(0,a.string32)(x)+(0,a.string32)(B);S=x+1;B=C[c]}}T+=(0,a.string32)(S)+(0,a.string32)(k[1])+(0,a.string32)(B)}F="\0\f"+"\0\0"+(0,a.string32)(T.length+16)+"\0\0\0\0"+(0,a.string32)(T.length/12)}return i+"\0"+p(I.length+4)+I+F+T}function H(e){var r=new h.Stream(e.data);var t=r.getUint16();r.getBytes(60);var a=r.getUint16();if(t<4&&a&768){return false}var n=r.getUint16();var i=r.getUint16();if(n>i){return false}r.getBytes(6);var o=r.getUint16();if(o===0){return false}e.data[8]=e.data[9]=0;return true}function G(e,r,t){t=t||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};var n=0;var i=0;var o=0;var s=0;var l=null;var u=0;if(r){for(var f in r){f|=0;if(l>f||!l){l=f}if(u<f){u=f}var h=(0,c.getUnicodeRangeFor)(f);if(h<32){n|=1<<h}else if(h<64){i|=1<<h-32}else if(h<96){o|=1<<h-64}else if(h<123){s|=1<<h-96}else{throw new a.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}}if(u>65535){u=65535}}else{l=0;u=255}var d=e.bbox||[0,0,0,0];var v=t.unitsPerEm||1/(e.fontMatrix||a.FONT_IDENTITY_MATRIX)[0];var g=e.ascentScaled?1:v/y;var m=t.ascent||Math.round(g*(e.ascent||d[3]));var b=t.descent||Math.round(g*(e.descent||d[1]));if(b>0&&e.descent>0&&d[1]<0){b=-b}var w=t.yMax||m;var k=-t.yMin||-b;return"\0"+"$"+"ô"+"\0"+"\0\0"+""+"»"+"\0\0"+"\0"+""+"»"+"\0\0"+"ß"+"\x001"+""+"\0\0"+"\0\0"+String.fromCharCode(e.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,a.string32)(n)+(0,a.string32)(i)+(0,a.string32)(o)+(0,a.string32)(s)+"*21*"+p(e.italicAngle?1:0)+p(l||e.firstChar)+p(u||e.lastChar)+p(m)+p(b)+"\0d"+p(w)+p(k)+"\0\0\0\0"+"\0\0\0\0"+p(e.xHeight)+p(e.capHeight)+p(0)+p(l||e.firstChar)+"\0"}function W(e){var r=Math.floor(e.italicAngle*Math.pow(2,16));return"\0\0\0"+(0,a.string32)(r)+"\0\0"+"\0\0"+(0,a.string32)(e.fixedPitch)+"\0\0\0\0"+"\0\0\0\0"+"\0\0\0\0"+"\0\0\0\0"}function X(e,r){if(!r){r=[[],[]]}var t=[r[0][0]||"Original licence",r[0][1]||e,r[0][2]||"Unknown",r[0][3]||"uniqueID",r[0][4]||e,r[0][5]||"Version 0.11",r[0][6]||"",r[0][7]||"Unknown",r[0][8]||"Unknown",r[0][9]||"Unknown"];var a=[];var n,i,o,s,c;for(n=0,i=t.length;n<i;n++){c=r[1][n]||t[n];var l=[];for(o=0,s=c.length;o<s;o++){l.push(p(c.charCodeAt(o)))}a.push(l.join(""))}var u=[t,a];var f=["\0","\0"];var h=["\0\0","\0"];var d=["\0\0","\t"];var v=t.length*f.length;var g="\0\0"+p(v)+p(v*12+6);var m=0;for(n=0,i=f.length;n<i;n++){var b=u[n];for(o=0,s=b.length;o<s;o++){c=b[o];var y=f[n]+h[n]+d[n]+p(o)+p(c.length)+p(m);g+=y;m+=c.length}}g+=t.join("")+a.join("");return g}r.prototype={name:null,font:null,mimetype:null,encoding:null,disableFontFace:false,get renderer(){var e=l.FontRendererFactory.create(this,w);return(0,a.shadow)(this,"renderer",e)},exportData:function e(){var r={};for(var t in this){if(this.hasOwnProperty(t)){r[t]=this[t]}}return r},fallbackToSystemFont:function e(){var r=this;this.missingFile=true;var t,n;var l=this.name;var u=this.type;var f=this.subtype;var h=l.replace(/[,_]/g,"-");var d=(0,s.getStdFontMap)(),v=(0,s.getNonStdFontMap)();var g=!!d[h]||!!(v[h]&&d[v[h]]);h=d[h]||v[h]||h;this.bold=h.search(/bold/gi)!==-1;this.italic=h.search(/oblique/gi)!==-1||h.search(/italic/gi)!==-1;this.black=l.search(/Black/g)!==-1;this.remeasure=Object.keys(this.widths).length>0;if(g&&u==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){var p=(0,s.getGlyphMapForStandardFonts)();var m=[];for(t in p){m[+t]=p[t]}if(/Arial-?Black/i.test(l)){var b=(0,s.getSupplementalGlyphMapForArialBlack)();for(t in b){m[+t]=b[t]}}else if(/Calibri/i.test(l)){var y=(0,s.getSupplementalGlyphMapForCalibri)();for(t in y){m[+t]=y[t]}}var w=this.toUnicode instanceof T;if(!w){this.toUnicode.forEach(function(e,r){m[+e]=r})}this.toFontChar=m;this.toUnicode=new I(m)}else if(/Symbol/i.test(h)){this.toFontChar=U(o.SymbolSetEncoding,(0,i.getGlyphsUnicode)(),this.differences)}else if(/Dingbats/i.test(h)){if(/Wingdings/i.test(l)){(0,a.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats.")}this.toFontChar=U(o.ZapfDingbatsEncoding,(0,i.getDingbatsGlyphsUnicode)(),this.differences)}else if(g){this.toFontChar=U(this.defaultEncoding,(0,i.getGlyphsUnicode)(),this.differences)}else{var k=(0,i.getGlyphsUnicode)();this.toUnicode.forEach(function(e,t){if(!r.composite){var a=r.differences[e]||r.defaultEncoding[e];n=(0,c.getUnicodeForGlyph)(a,k);if(n!==-1){t=n}}r.toFontChar[e]=t})}this.loadedName=h.split("-")[0];this.fontType=A(u,f)},checkAndRepair:function e(r,s,c){var l=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function v(e,r){var t=Object.create(null);t["OS/2"]=null;t["cmap"]=null;t["head"]=null;t["hhea"]=null;t["hmtx"]=null;t["maxp"]=null;t["name"]=null;t["post"]=null;for(var a=0;a<r;a++){var n=p(s);if(!l.includes(n.tag)){continue}if(n.length===0){continue}t[n.tag]=n}return t}function p(e){var r=(0,a.bytesToString)(e.getBytes(4));var t=e.getInt32()>>>0;var n=e.getInt32()>>>0;var i=e.getInt32()>>>0;var o=e.pos;e.pos=e.start?e.start:0;e.skip(n);var s=e.getBytes(i);e.pos=o;if(r==="head"){s[8]=s[9]=s[10]=s[11]=0;s[17]|=32}return{tag:r,checksum:t,length:i,offset:n,data:s}}function m(e){return{version:(0,a.bytesToString)(e.getBytes(4)),numTables:e.getUint16(),searchRange:e.getUint16(),entrySelector:e.getUint16(),rangeShift:e.getUint16()}}function b(e){var r=(0,a.bytesToString)(e.getBytes(4));(0,a.assert)(r==="ttcf","Must be a TrueType Collection font.");var t=e.getUint16();var n=e.getUint16();var i=e.getInt32()>>>0;var o=[];for(var s=0;s<i;s++){o.push(e.getInt32()>>>0)}var c={ttcTag:r,majorVersion:t,minorVersion:n,numFonts:i,offsetTable:o};switch(t){case 1:return c;case 2:c.dsigTag=e.getInt32()>>>0;c.dsigLength=e.getInt32()>>>0;c.dsigOffset=e.getInt32()>>>0;return c}throw new a.FormatError("Invalid TrueType Collection majorVersion: ".concat(t,"."))}function y(e,r){var t=b(e),n=t.numFonts,i=t.offsetTable;for(var o=0;o<n;o++){e.pos=(e.start||0)+i[o];var s=m(e);var c=v(e,s.numTables);if(!c["name"]){throw new a.FormatError('TrueType Collection font must contain a "name" table.')}var l=F(c["name"]);for(var u=0,f=l.length;u<f;u++){for(var h=0,d=l[u].length;h<d;h++){var g=l[u][h];if(g&&g.replace(/\s/g,"")===r){return{header:s,tables:c}}}}}throw new a.FormatError('TrueType Collection does not contain "'.concat(r,'" font.'))}function k(e,r,t,n){if(!e){(0,a.warn)("No cmap table available.");return{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:false}}var i;var o=(r.start?r.start:0)+e.offset;r.pos=o;r.getUint16();var s=r.getUint16();var c;var l=false;for(var u=0;u<s;u++){var f=r.getUint16();var h=r.getUint16();var d=r.getInt32()>>>0;var v=false;if(c&&c.platformId===f&&c.encodingId===h){continue}if(f===0&&h===0){v=true}else if(f===1&&h===0){v=true}else if(f===3&&h===1&&(n||!c)){v=true;if(!t){l=true}}else if(t&&f===3&&h===0){v=true;l=true}if(v){c={platformId:f,encodingId:h,offset:d}}if(l){break}}if(c){r.pos=o+c.offset}if(!c||r.peekByte()===-1){(0,a.warn)("Could not find a preferred cmap table.");return{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:false}}var g=r.getUint16();r.getUint16();r.getUint16();var p=false;var m=[];var b,y;if(g===0){for(b=0;b<256;b++){var w=r.getByte();if(!w){continue}m.push({charCode:b,glyphId:w})}p=true}else if(g===4){var k=r.getUint16()>>1;r.getBytes(6);var S,x=[];for(S=0;S<k;S++){x.push({end:r.getUint16()})}r.getUint16();for(S=0;S<k;S++){x[S].start=r.getUint16()}for(S=0;S<k;S++){x[S].delta=r.getUint16()}var C=0;for(S=0;S<k;S++){i=x[S];var A=r.getUint16();if(!A){i.offsetIndex=-1;continue}var O=(A>>1)-(k-S);i.offsetIndex=O;C=Math.max(C,O+i.end-i.start+1)}var P=[];for(b=0;b<C;b++){P.push(r.getUint16())}for(S=0;S<k;S++){i=x[S];o=i.start;var I=i.end;var T=i.delta;O=i.offsetIndex;for(b=o;b<=I;b++){if(b===65535){continue}y=O<0?b:P[O+b-o];y=y+T&65535;m.push({charCode:b,glyphId:y})}}}else if(g===6){var E=r.getUint16();var F=r.getUint16();for(b=0;b<F;b++){y=r.getUint16();var B=E+b;m.push({charCode:B,glyphId:y})}}else{(0,a.warn)("cmap table has unsupported format: "+g);return{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:false}}m.sort(function(e,r){return e.charCode-r.charCode});for(u=1;u<m.length;u++){if(m[u-1].charCode===m[u].charCode){m.splice(u,1);u--}}return{platformId:c.platformId,encodingId:c.encodingId,mappings:m,hasShortCmap:p}}function C(e,r,t,n,i){if(!r){if(t){t.data=null}return}e.pos=(e.start?e.start:0)+r.offset;e.pos+=4;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=2;e.pos+=8;e.pos+=2;var o=e.getUint16();if(o>n){(0,a.info)("The numOfMetrics ("+o+") should not be "+"greater than the numGlyphs ("+n+")");o=n;r.data[34]=(o&65280)>>8;r.data[35]=o&255}var s=n-o;var c=s-(t.length-o*4>>1);if(c>0){var l=new Uint8Array(t.length+c*2);l.set(t.data);if(i){l[t.length]=t.data[2];l[t.length+1]=t.data[3]}t.data=l}}function A(e,r,t,a,n,i){var o={length:0,sizeOfInstructions:0};if(t-r<=12){return o}var s=e.subarray(r,t);var c=d(s[0],s[1]);if(c<0){c=-1;f(s,0,c);a.set(s,n);o.length=s.length;return o}var l,u=10,h=0;for(l=0;l<c;l++){var v=s[u]<<8|s[u+1];h=v+1;u+=2}var g=u;var p=s[u]<<8|s[u+1];o.sizeOfInstructions=p;u+=2+p;var m=u;var b=0;for(l=0;l<h;l++){var y=s[u++];if(y&192){s[u-1]=y&63}var w=(y&2?1:y&16?0:2)+(y&4?1:y&32?0:2);b+=w;if(y&8){var k=s[u++];l+=k;b+=k*w}}if(b===0){return o}var S=u+b;if(S>s.length){return o}if(!i&&p>0){a.set(s.subarray(0,g),n);a.set([0,0],n+g);a.set(s.subarray(m,S),n+g+2);S-=p;if(s.length-S>3){S=S+3&~3}o.length=S;return o}if(s.length-S>3){S=S+3&~3;a.set(s.subarray(0,S),n);o.length=S;return o}a.set(s,n);o.length=s.length;return o}function P(e,r,n){var i=e.data;var o=g(i[0],i[1],i[2],i[3]);if(o>>16!==1){(0,a.info)("Attempting to fix invalid version in head table: "+o);i[0]=0;i[1]=1;i[2]=0;i[3]=0}var s=t(i[50],i[51]);if(s<0||s>1){(0,a.info)("Attempting to fix invalid indexToLocFormat in head table: "+s);var c=r+1;if(n===c<<1){i[50]=0;i[51]=0}else if(n===c<<2){i[50]=0;i[51]=1}else{throw new a.FormatError("Could not fix indexToLocFormat: "+s)}}}function I(e,r,t,a,n,i,o){var s,c,l;if(a){s=4;c=function e(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};l=function e(r,t,a){r[t]=a>>>24&255;r[t+1]=a>>16&255;r[t+2]=a>>8&255;r[t+3]=a&255}}else{s=2;c=function e(r,t){return r[t]<<9|r[t+1]<<1};l=function e(r,t,a){r[t]=a>>9&255;r[t+1]=a>>1&255}}var u=i?t+1:t;var f=e.data;var h=s*(1+u);f=new Uint8Array(h);f.set(e.data.subarray(0,h));e.data=f;var d=r.data;var v=d.length;var g=new Uint8Array(v);var p=c(f,0);var m=0;var b=Object.create(null);l(f,0,m);var y,w;for(y=0,w=s;y<t;y++,w+=s){var k=c(f,w);if(k===0){k=p}if(k>v&&(v+3&~3)===k){k=v}if(k>v){p=k}var S=A(d,p,k,g,m,n);var x=S.length;if(x===0){b[y]=true}if(S.sizeOfInstructions>o){o=S.sizeOfInstructions}m+=x;l(f,w,m);p=k}if(m===0){var C=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(y=0,w=s;y<u;y++,w+=s){l(f,w,C.length)}r.data=C}else if(i){var O=c(f,s);if(g.length>O+m){r.data=g.subarray(0,O+m)}else{r.data=new Uint8Array(O+m);r.data.set(g.subarray(0,m))}r.data.set(g.subarray(0,O),m);l(e.data,f.length-s,m+O)}else{r.data=g.subarray(0,m)}return{missingGlyphs:b,maxSizeOfInstructions:o}}function T(e,r,t){var n=(s.start?s.start:0)+e.offset;s.pos=n;var i=e.length,o=n+i;var c=s.getInt32();s.getBytes(28);var l;var u=true;var f;switch(c){case 65536:l=S;break;case 131072:var h=s.getUint16();if(h!==t){u=false;break}var d=[];for(f=0;f<h;++f){var v=s.getUint16();if(v>=32768){u=false;break}d.push(v)}if(!u){break}var g=[];var p=[];while(s.pos<o){var m=s.getByte();p.length=m;for(f=0;f<m;++f){p[f]=String.fromCharCode(s.getByte())}g.push(p.join(""))}l=[];for(f=0;f<h;++f){var b=d[f];if(b<258){l.push(S[b]);continue}l.push(g[b-258])}break;case 196608:break;default:(0,a.warn)("Unknown/unsupported post table version "+c);u=false;if(r.defaultEncoding){l=r.defaultEncoding}break}r.glyphNames=l;return u}function F(e){var r=(s.start?s.start:0)+e.offset;s.pos=r;var t=[[],[]];var n=e.length,i=r+n;var o=s.getUint16();var c=6;if(o!==0||n<c){return t}var l=s.getUint16();var u=s.getUint16();var f=[];var h=12;var d,v;for(d=0;d<l&&s.pos+h<=i;d++){var g={platform:s.getUint16(),encoding:s.getUint16(),language:s.getUint16(),name:s.getUint16(),length:s.getUint16(),offset:s.getUint16()};if(g.platform===1&&g.encoding===0&&g.language===0||g.platform===3&&g.encoding===1&&g.language===1033){f.push(g)}}for(d=0,v=f.length;d<v;d++){var p=f[d];if(p.length<=0){continue}var m=r+u+p.offset;if(m+p.length>i){continue}s.pos=m;var b=p.name;if(p.encoding){var y="";for(var w=0,k=p.length;w<k;w+=2){y+=String.fromCharCode(s.getUint16())}t[1][b]=y}else{t[0][b]=(0,a.bytesToString)(s.getBytes(p.length))}}return t}var _=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function R(e,r){var t=e.data;var n=0,i,o,s,c,l,u=0,f=0;var h=[];var d=[];var v=[];var g=r.tooComplexToFollowFunctions;var p=false,m=0,b=0;for(var y=t.length;n<y;){var w=t[n++];if(w===64){o=t[n++];if(p||b){n+=o}else{for(i=0;i<o;i++){h.push(t[n++])}}}else if(w===65){o=t[n++];if(p||b){n+=o*2}else{for(i=0;i<o;i++){s=t[n++];h.push(s<<8|t[n++])}}}else if((w&248)===176){o=w-176+1;if(p||b){n+=o}else{for(i=0;i<o;i++){h.push(t[n++])}}}else if((w&248)===184){o=w-184+1;if(p||b){n+=o*2}else{for(i=0;i<o;i++){s=t[n++];h.push(s<<8|t[n++])}}}else if(w===43&&!g){if(!p&&!b){c=h[h.length-1];if(isNaN(c)){(0,a.info)("TT: CALL empty stack (or invalid entry).")}else{r.functionsUsed[c]=true;if(c in r.functionsStackDeltas){var k=h.length+r.functionsStackDeltas[c];if(k<0){(0,a.warn)("TT: CALL invalid functions stack delta.");r.hintsValid=false;return}h.length=k}else if(c in r.functionsDefined&&!v.includes(c)){d.push({data:t,i:n,stackTop:h.length-1});v.push(c);l=r.functionsDefined[c];if(!l){(0,a.warn)("TT: CALL non-existent function");r.hintsValid=false;return}t=l.data;n=l.i}}}}else if(w===44&&!g){if(p||b){(0,a.warn)("TT: nested FDEFs not allowed");g=true}p=true;f=n;c=h.pop();r.functionsDefined[c]={data:t,i:n}}else if(w===45){if(p){p=false;u=n}else{l=d.pop();if(!l){(0,a.warn)("TT: ENDF bad stack");r.hintsValid=false;return}c=v.pop();t=l.data;n=l.i;r.functionsStackDeltas[c]=h.length-l.stackTop}}else if(w===137){if(p||b){(0,a.warn)("TT: nested IDEFs not allowed");g=true}p=true;f=n}else if(w===88){++m}else if(w===27){b=m}else if(w===89){if(b===m){b=0}--m}else if(w===28){if(!p&&!b){var S=h[h.length-1];if(S>0){n+=S-1}}}if(!p&&!b){var x=w<=142?_[w]:w>=192&&w<=223?-1:w>=224?-2:0;if(w>=113&&w<=117){o=h.pop();if(!isNaN(o)){x=-o*2}}while(x<0&&h.length>0){h.pop();x++}while(x>0){h.push(NaN);x--}}}r.tooComplexToFollowFunctions=g;var C=[t];if(n>t.length){C.push(new Uint8Array(n-t.length))}if(f>u){(0,a.warn)("TT: complementing a missing function tail");C.push(new Uint8Array([34,45]))}D(e,C)}function M(e,r){if(e.tooComplexToFollowFunctions){return}if(e.functionsDefined.length>r){(0,a.warn)("TT: more functions defined than expected");e.hintsValid=false;return}for(var t=0,n=e.functionsUsed.length;t<n;t++){if(t>r){(0,a.warn)("TT: invalid function id: "+t);e.hintsValid=false;return}if(e.functionsUsed[t]&&!e.functionsDefined[t]){(0,a.warn)("TT: undefined function: "+t);e.hintsValid=false;return}}}function D(e,r){if(r.length>1){var t=0;var a,n;for(a=0,n=r.length;a<n;a++){t+=r[a].length}t=t+3&~3;var i=new Uint8Array(t);var o=0;for(a=0,n=r.length;a<n;a++){i.set(r[a],o);o+=r[a].length}e.data=i;e.length=t}}function N(e,r,t,a){var n={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:false,hintsValid:true};if(e){R(e,n)}if(r){R(r,n)}if(e){M(n,a)}if(t&&t.length&1){var i=new Uint8Array(t.length+1);i.set(t.data);t.data=i}return n.hintsValid}s=new h.Stream(new Uint8Array(s.getBytes()));var U,q;if(B(s)){var V=y(s,this.name);U=V.header;q=V.tables}else{U=m(s);q=v(s,U.numTables)}var K,Y;var J=!q["CFF "];if(!J){var Z=c.composite&&((c.cidToGidMap||[]).length>0||!(c.cMap instanceof u.IdentityCMap));if(U.version==="OTTO"&&!Z||!q["head"]||!q["hhea"]||!q["maxp"]||!q["post"]){Y=new h.Stream(q["CFF "].data);K=new L(Y,c);x(c);return this.convert(r,K,c)}delete q["glyf"];delete q["loca"];delete q["fpgm"];delete q["prep"];delete q["cvt "];this.isOpenType=true}else{if(!q["loca"]){throw new a.FormatError('Required "loca" table is not found')}if(!q["glyf"]){(0,a.warn)('Required "glyf" table is not found -- trying to recover.');q["glyf"]={tag:"glyf",data:new Uint8Array(0)}}this.isOpenType=false}if(!q["maxp"]){throw new a.FormatError('Required "maxp" table is not found')}s.pos=(s.start||0)+q["maxp"].offset;var Q=s.getInt32();var $=s.getUint16();var ee=$+1;var re=true;if(ee>65535){re=false;ee=$;(0,a.warn)("Not enough space in glyfs to duplicate first glyph.")}var te=0;var ae=0;if(Q>=65536&&q["maxp"].length>=22){s.pos+=8;var ne=s.getUint16();if(ne>2){q["maxp"].data[14]=0;q["maxp"].data[15]=2}s.pos+=4;te=s.getUint16();s.pos+=4;ae=s.getUint16()}q["maxp"].data[4]=ee>>8;q["maxp"].data[5]=ee&255;var ie=N(q["fpgm"],q["prep"],q["cvt "],te);if(!ie){delete q["fpgm"];delete q["prep"];delete q["cvt "]}C(s,q["hhea"],q["hmtx"],ee,re);if(!q["head"]){throw new a.FormatError('Required "head" table is not found')}P(q["head"],$,J?q["loca"].length:0);var oe=Object.create(null);if(J){var se=t(q["head"].data[50],q["head"].data[51]);var ce=I(q["loca"],q["glyf"],$,se,ie,re,ae);oe=ce.missingGlyphs;if(Q>=65536&&q["maxp"].length>=22){q["maxp"].data[26]=ce.maxSizeOfInstructions>>8;q["maxp"].data[27]=ce.maxSizeOfInstructions&255}}if(!q["hhea"]){throw new a.FormatError('Required "hhea" table is not found')}if(q["hhea"].data[10]===0&&q["hhea"].data[11]===0){q["hhea"].data[10]=255;q["hhea"].data[11]=255}var le={unitsPerEm:t(q["head"].data[18],q["head"].data[19]),yMax:t(q["head"].data[42],q["head"].data[43]),yMin:d(q["head"].data[38],q["head"].data[39]),ascent:t(q["hhea"].data[4],q["hhea"].data[5]),descent:d(q["hhea"].data[6],q["hhea"].data[7])};this.ascent=le.ascent/le.unitsPerEm;this.descent=le.descent/le.unitsPerEm;if(q["post"]){T(q["post"],c,$)}q["post"]={tag:"post",data:W(c)};var ue=[],fe;function he(e){return!oe[e]}if(c.composite){var de=c.cidToGidMap||[];var ve=de.length===0;c.cMap.forEach(function(e,r){if(r>65535){throw new a.FormatError("Max size of CID is 65,535")}var t=-1;if(ve){t=r}else if(de[r]!==undefined){t=de[r]}if(t>=0&&t<$&&he(t)){ue[e]=t}})}else{var ge=k(q["cmap"],s,this.isSymbolicFont,c.hasEncoding);var pe=ge.platformId;var me=ge.encodingId;var be=ge.mappings;var ye=be.length;if(c.hasEncoding&&(pe===3&&me===1||pe===1&&me===0)||pe===-1&&me===-1&&!!(0,o.getEncoding)(c.baseEncodingName)){var we=[];if(c.baseEncodingName==="MacRomanEncoding"||c.baseEncodingName==="WinAnsiEncoding"){we=(0,o.getEncoding)(c.baseEncodingName)}var ke=(0,i.getGlyphsUnicode)();for(fe=0;fe<256;fe++){var Se,xe;if(this.differences&&fe in this.differences){Se=this.differences[fe]}else if(fe in we&&we[fe]!==""){Se=we[fe]}else{Se=o.StandardEncoding[fe]}if(!Se){continue}xe=O(Se,ke);var Ce;if(pe===3&&me===1){Ce=ke[xe]}else if(pe===1&&me===0){Ce=o.MacRomanEncoding.indexOf(xe)}var Ae=false;for(var Oe=0;Oe<ye;++Oe){if(be[Oe].charCode!==Ce){continue}ue[fe]=be[Oe].glyphId;Ae=true;break}if(!Ae&&c.glyphNames){var Pe=c.glyphNames.indexOf(Se);if(Pe===-1&&xe!==Se){Pe=c.glyphNames.indexOf(xe)}if(Pe>0&&he(Pe)){ue[fe]=Pe}}}}else if(pe===0&&me===0){for(var Ie=0;Ie<ye;++Ie){ue[be[Ie].charCode]=be[Ie].glyphId}}else{for(var Te=0;Te<ye;++Te){fe=be[Te].charCode;if(pe===3&&fe>=61440&&fe<=61695){fe&=255}ue[fe]=be[Te].glyphId}}}if(ue.length===0){ue[0]=0}var Ee=ee-1;if(!re){Ee=0}var Fe=j(ue,he,Ee);this.toFontChar=Fe.toFontChar;q["cmap"]={tag:"cmap",data:z(Fe.charCodeToGlyphId,ee)};if(!q["OS/2"]||!H(q["OS/2"])){q["OS/2"]={tag:"OS/2",data:G(c,Fe.charCodeToGlyphId,le)}}if(!J){try{Y=new h.Stream(q["CFF "].data);var Be=new n.CFFParser(Y,c,w);K=Be.parse();K.duplicateFirstGlyph();var _e=new n.CFFCompiler(K);q["CFF "].data=_e.compile()}catch(e){(0,a.warn)("Failed to compile font "+c.loadedName)}}if(!q["name"]){q["name"]={tag:"name",data:X(this.name)}}else{var Re=F(q["name"]);q["name"].data=X(r,Re)}var Le=new E(U.version);for(var Me in q){Le.addTable(Me,q[Me].data)}return Le.toArray()},convert:function e(r,t,n){n.fixedPitch=false;if(n.builtInEncoding){C(n,n.builtInEncoding)}var i=1;if(t instanceof L){i=t.numGlyphs-1}var s=t.getGlyphMapping(n);var c=j(s,t.hasGlyphId.bind(t),i);this.toFontChar=c.toFontChar;var l=t.numGlyphs;function u(e,r){var t=null;for(var a in e){if(r===e[a]){if(!t){t=[]}t.push(a|0)}}return t}function f(e,r){for(var t in e){if(r===e[t]){return t|0}}c.charCodeToGlyphId[c.nextAvailableFontCharCode]=r;return c.nextAvailableFontCharCode++}var h=t.seacs;if(w&&h&&h.length){var d=n.fontMatrix||a.FONT_IDENTITY_MATRIX;var v=t.getCharset();var g=Object.create(null);for(var b in h){b|=0;var y=h[b];var k=o.StandardEncoding[y[2]];var S=o.StandardEncoding[y[3]];var x=v.indexOf(k);var A=v.indexOf(S);if(x<0||A<0){continue}var O={x:y[0]*d[0]+y[1]*d[2]+d[4],y:y[0]*d[1]+y[1]*d[3]+d[5]};var P=u(s,b);if(!P){continue}for(var I=0,T=P.length;I<T;I++){var F=P[I];var B=c.charCodeToGlyphId;var _=f(B,x);var R=f(B,A);g[F]={baseFontCharCode:_,accentFontCharCode:R,accentOffset:O}}}n.seacMap=g}var M=1/(n.fontMatrix||a.FONT_IDENTITY_MATRIX)[0];var D=new E("OTTO");D.addTable("CFF ",t.data);D.addTable("OS/2",G(n,c.charCodeToGlyphId));D.addTable("cmap",z(c.charCodeToGlyphId,l));D.addTable("head","\0\0\0"+"\0\0\0"+"\0\0\0\0"+"_<õ"+"\0\0"+m(M)+"\0\0\0\0\v~'"+"\0\0\0\0\v~'"+"\0\0"+m(n.descent)+"ÿ"+m(n.ascent)+p(n.italicAngle?2:0)+"\0"+"\0\0"+"\0\0"+"\0\0");D.addTable("hhea","\0\0\0"+m(n.ascent)+m(n.descent)+"\0\0"+"ÿÿ"+"\0\0"+"\0\0"+"\0\0"+m(n.capHeight)+m(Math.tan(n.italicAngle)*n.xHeight)+"\0\0"+"\0\0"+"\0\0"+"\0\0"+"\0\0"+"\0\0"+p(l));D.addTable("hmtx",function e(){var r=t.charstrings;var a=t.cff?t.cff.widths:null;var n="\0\0\0\0";for(var i=1,o=l;i<o;i++){var s=0;if(r){var c=r[i-1];s="width"in c?c.width:0}else if(a){s=Math.ceil(a[i]||0)}n+=p(s)+p(0)}return n}());D.addTable("maxp","\0\0P\0"+p(l));D.addTable("name",X(r));D.addTable("post",W(n));return D.toArray()},get spaceWidth(){if("_shadowWidth"in this){return this._shadowWidth}var e=["space","minus","one","i","I"];var r;for(var t=0,a=e.length;t<a;t++){var n=e[t];if(n in this.widths){r=this.widths[n];break}var o=(0,i.getGlyphsUnicode)();var s=o[n];var c=0;if(this.composite){if(this.cMap.contains(s)){c=this.cMap.lookup(s)}}if(!c&&this.toUnicode){c=this.toUnicode.charCodeOf(s)}if(c<=0){c=s}r=this.widths[c];if(r){break}}r=r||this.defaultWidth;this._shadowWidth=r;return r},charToGlyph:function e(r,t){var n,i,o;var s=r;if(this.cMap&&this.cMap.contains(r)){s=this.cMap.lookup(r)}i=this.widths[s];i=(0,a.isNum)(i)?i:this.defaultWidth;var l=this.vmetrics&&this.vmetrics[s];var u=this.toUnicode.get(r)||this.fallbackToUnicode.get(r)||r;if(typeof u==="number"){u=String.fromCharCode(u)}var f=r in this.toFontChar;n=this.toFontChar[r]||r;if(this.missingFile){n=(0,c.mapSpecialUnicodeValues)(n)}if(this.isType3Font){o=n}var h=null;if(this.seacMap&&this.seacMap[r]){f=true;var d=this.seacMap[r];n=d.baseFontCharCode;h={fontChar:String.fromCodePoint(d.accentFontCharCode),offset:d.accentOffset}}var v=typeof n==="number"?String.fromCodePoint(n):"";var g=this.glyphCache[r];if(!g||!g.matchesForCache(v,u,h,i,l,o,t,f)){g=new P(v,u,h,i,l,o,t,f);this.glyphCache[r]=g}return g},charsToGlyphs:function e(r){var t=this.charsCache;var a,n,i;if(t){a=t[r];if(a){return a}}if(!t){t=this.charsCache=Object.create(null)}a=[];var o=r;var s=0,c;if(this.cMap){var l=Object.create(null);while(s<r.length){this.cMap.readCharCode(r,s,l);i=l.charcode;var u=l.length;s+=u;var f=u===1&&r.charCodeAt(s-1)===32;n=this.charToGlyph(i,f);a.push(n)}}else{for(s=0,c=r.length;s<c;++s){i=r.charCodeAt(s);n=this.charToGlyph(i,i===32);a.push(n)}}return t[o]=a},get glyphCacheValues(){return Object.values(this.glyphCache)}};return r}();r.Font=F;var B=function e(){function r(e){this.error=e;this.loadedName="g_font_error";this.missingFile=true}r.prototype={charsToGlyphs:function e(){return[]},exportData:function e(){return{error:this.error}}};return r}();r.ErrorFont=B;function _(e,r,t){var a=Object.create(null);var n,s,c;var l=!!(e.flags&k.Symbolic);if(e.baseEncodingName){c=(0,o.getEncoding)(e.baseEncodingName);for(s=0;s<c.length;s++){n=t.indexOf(c[s]);if(n>=0){a[s]=n}else{a[s]=0}}}else if(l){for(s in r){a[s]=r[s]}}else{c=o.StandardEncoding;for(s=0;s<c.length;s++){n=t.indexOf(c[s]);if(n>=0){a[s]=n}else{a[s]=0}}}var u=e.differences,f;if(u){for(s in u){var h=u[s];n=t.indexOf(h);if(n===-1){if(!f){f=(0,i.getGlyphsUnicode)()}var d=O(h,f);if(d!==h){n=t.indexOf(d)}}if(n>=0){a[s]=n}else{a[s]=0}}}return a}var R=function e(){function r(e,r,t){var n=e.length;var i=r.length;var o=n-i;var s=t,c,l=false;while(s<o){c=0;while(c<i&&e[s+c]===r[c]){c++}if(c>=i){s+=c;while(s<n&&(0,a.isSpace)(e[s])){s++}l=true;break}s++}return{found:l,length:s}}function t(e,t){var n=[101,101,120,101,99];var i=e.pos;var o,s,c;try{o=e.getBytes(t);s=o.length}catch(e){if(e instanceof f.MissingDataException){throw e}}if(s===t){c=r(o,n,t-2*n.length);if(c.found&&c.length===t){return{stream:new h.Stream(o),length:t}}}(0,a.warn)('Invalid "Length1" property in Type1 font -- trying to recover.');e.pos=i;var l=2048;var u;while(true){var d=e.peekBytes(l);c=r(d,n,0);if(c.length===0){break}e.pos+=c.length;if(c.found){u=e.pos-i;break}}e.pos=i;if(u){return{stream:new h.Stream(e.getBytes(u)),length:u}}(0,a.warn)('Unable to recover "Length1" property in Type1 font -- using as is.');return{stream:new h.Stream(e.getBytes(t)),length:t}}function i(e,r){var t=e.getBytes();return{stream:new h.Stream(t),length:t.length}}function o(e,r,a){var n=6;var o=a.length1;var s=a.length2;var c=r.peekBytes(n);var l=c[0]===128&&c[1]===1;if(l){r.skip(n);o=c[5]<<24|c[4]<<16|c[3]<<8|c[2]}var u=t(r,o);var f=new d.Type1Parser(u.stream,false,w);f.extractFontHeader(a);if(l){c=r.getBytes(n);s=c[5]<<24|c[4]<<16|c[3]<<8|c[2]}var h=i(r,s);var v=new d.Type1Parser(h.stream,true,w);var g=v.extractFontProgram(a);for(var p in g.properties){a[p]=g.properties[p]}var m=g.charstrings;var b=this.getType2Charstrings(m);var y=this.getType2Subrs(g.subrs);this.charstrings=m;this.data=this.wrap(e,b,this.charstrings,y,a);this.seacs=this.getSeacs(g.charstrings)}o.prototype={get numGlyphs(){return this.charstrings.length+1},getCharset:function e(){var r=[".notdef"];var t=this.charstrings;for(var a=0;a<t.length;a++){r.push(t[a].glyphName)}return r},getGlyphMapping:function e(r){var t=this.charstrings;var a=[".notdef"],n;for(n=0;n<t.length;n++){a.push(t[n].glyphName)}var i=r.builtInEncoding;if(i){var o=Object.create(null);for(var s in i){n=a.indexOf(i[s]);if(n>=0){o[s]=n}}}return _(r,o,a)},hasGlyphId:function e(r){if(r<0||r>=this.numGlyphs){return false}if(r===0){return true}var t=this.charstrings[r-1];return t.charstring.length>0},getSeacs:function e(r){var t,a;var n=[];for(t=0,a=r.length;t<a;t++){var i=r[t];if(i.seac){n[t+1]=i.seac}}return n},getType2Charstrings:function e(r){var t=[];for(var a=0,n=r.length;a<n;a++){t.push(r[a].charstring)}return t},getType2Subrs:function e(r){var t=0;var a=r.length;if(a<1133){t=107}else if(a<33769){t=1131}else{t=32768}var n=[];var i;for(i=0;i<t;i++){n.push([11])}for(i=0;i<a;i++){n.push(r[i])}return n},wrap:function e(r,t,a,i,o){var s=new n.CFF;s.header=new n.CFFHeader(1,0,4,4);s.names=[r];var c=new n.CFFTopDict;c.setByName("version",391);c.setByName("Notice",392);c.setByName("FullName",393);c.setByName("FamilyName",394);c.setByName("Weight",395);c.setByName("Encoding",null);c.setByName("FontMatrix",o.fontMatrix);c.setByName("FontBBox",o.bbox);c.setByName("charset",null);c.setByName("CharStrings",null);c.setByName("Private",null);s.topDict=c;var l=new n.CFFStrings;l.add("Version 0.11");l.add("See original notice");l.add(r);l.add(r);l.add("Medium");s.strings=l;s.globalSubrIndex=new n.CFFIndex;var u=t.length;var f=[".notdef"];var h,d;for(h=0;h<u;h++){var v=a[h].glyphName;var g=n.CFFStandardStrings.indexOf(v);if(g===-1){l.add(v)}f.push(v)}s.charset=new n.CFFCharset(false,0,f);var p=new n.CFFIndex;p.add([139,14]);for(h=0;h<u;h++){p.add(t[h])}s.charStrings=p;var m=new n.CFFPrivateDict;m.setByName("Subrs",null);var b=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(h=0,d=b.length;h<d;h++){var y=b[h];if(!(y in o.privateData)){continue}var w=o.privateData[y];if(Array.isArray(w)){for(var k=w.length-1;k>0;k--){w[k]-=w[k-1]}}m.setByName(y,w)}s.topDict.privateDict=m;var S=new n.CFFIndex;for(h=0,d=i.length;h<d;h++){S.add(i[h])}m.subrsIndex=S;var x=new n.CFFCompiler(s);return x.compile()}};return o}();var L=function e(){function r(e,r){this.properties=r;var t=new n.CFFParser(e,r,w);this.cff=t.parse();this.cff.duplicateFirstGlyph();var i=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=i.compile()}catch(t){(0,a.warn)("Failed to compile font "+r.loadedName);this.data=e}}r.prototype={get numGlyphs(){return this.cff.charStrings.count},getCharset:function e(){return this.cff.charset.charset},getGlyphMapping:function e(){var r=this.cff;var t=this.properties;var a=r.charset.charset;var n;var i;if(t.composite){n=Object.create(null);var o;if(r.isCIDFont){for(i=0;i<a.length;i++){var s=a[i];o=t.cMap.charCodeOf(s);n[o]=i}}else{for(i=0;i<r.charStrings.count;i++){o=t.cMap.charCodeOf(i);n[o]=i}}return n}var c=r.encoding?r.encoding.encoding:null;n=_(t,c,a);return n},hasGlyphId:function e(r){return this.cff.hasGlyphId(r)}};return r}()},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.CFFFDSelect=r.CFFCompiler=r.CFFPrivateDict=r.CFFTopDict=r.CFFCharset=r.CFFIndex=r.CFFStrings=r.CFFHeader=r.CFF=r.CFFParser=r.CFFStandardStrings=void 0;var a=t(5);var n=t(208);var i=t(209);var o=10;var s=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];r.CFFStandardStrings=s;var c=391;var l=function e(){var r=[null,{id:"hstem",min:2,stackClearing:true,stem:true},null,{id:"vstem",min:2,stackClearing:true,stem:true},{id:"vmoveto",min:1,stackClearing:true},{id:"rlineto",min:2,resetStack:true},{id:"hlineto",min:1,resetStack:true},{id:"vlineto",min:1,resetStack:true},{id:"rrcurveto",min:6,resetStack:true},null,{id:"callsubr",min:1,undefStack:true},{id:"return",min:0,undefStack:true},null,null,{id:"endchar",min:0,stackClearing:true},null,null,null,{id:"hstemhm",min:2,stackClearing:true,stem:true},{id:"hintmask",min:0,stackClearing:true},{id:"cntrmask",min:0,stackClearing:true},{id:"rmoveto",min:2,stackClearing:true},{id:"hmoveto",min:1,stackClearing:true},{id:"vstemhm",min:2,stackClearing:true,stem:true},{id:"rcurveline",min:8,resetStack:true},{id:"rlinecurve",min:8,resetStack:true},{id:"vvcurveto",min:4,resetStack:true},{id:"hhcurveto",min:4,resetStack:true},null,{id:"callgsubr",min:1,undefStack:true},{id:"vhcurveto",min:4,resetStack:true},{id:"hvcurveto",min:4,resetStack:true}];var t=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function e(r,t){r[t-2]=r[t-2]+r[t-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function e(r,t){r[t-2]=r[t-2]-r[t-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function e(r,t){r[t-2]=r[t-2]/r[t-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function e(r,t){r[t-1]=-r[t-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function e(r,t){r[t-2]=r[t-2]*r[t-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:true},{id:"flex",min:13,resetStack:true},{id:"hflex1",min:9,resetStack:true},{id:"flex1",min:11,resetStack:true}];function s(e,r,t){this.bytes=e.getBytes();this.properties=r;this.seacAnalysisEnabled=!!t}s.prototype={parse:function e(){var r=this.properties;var t=new u;this.cff=t;var a=this.parseHeader();var n=this.parseIndex(a.endPos);var i=this.parseIndex(n.endPos);var o=this.parseIndex(i.endPos);var s=this.parseIndex(o.endPos);var c=this.parseDict(i.obj.get(0));var l=this.createDict(g,c,t.strings);t.header=a.obj;t.names=this.parseNameIndex(n.obj);t.strings=this.parseStringIndex(o.obj);t.topDict=l;t.globalSubrIndex=s.obj;this.parsePrivateDict(t.topDict);t.isCIDFont=l.hasName("ROS");var f=l.getByName("CharStrings");var h=this.parseIndex(f).obj;var d=l.getByName("FontMatrix");if(d){r.fontMatrix=d}var v=l.getByName("FontBBox");if(v){r.ascent=Math.max(v[3],v[1]);r.descent=Math.min(v[1],v[3]);r.ascentScaled=true}var p,m;if(t.isCIDFont){var b=this.parseIndex(l.getByName("FDArray")).obj;for(var y=0,w=b.count;y<w;++y){var k=b.get(y);var S=this.createDict(g,this.parseDict(k),t.strings);this.parsePrivateDict(S);t.fdArray.push(S)}m=null;p=this.parseCharsets(l.getByName("charset"),h.count,t.strings,true);t.fdSelect=this.parseFDSelect(l.getByName("FDSelect"),h.count)}else{p=this.parseCharsets(l.getByName("charset"),h.count,t.strings,false);m=this.parseEncoding(l.getByName("Encoding"),r,t.strings,p.charset)}t.charset=p;t.encoding=m;var x=this.parseCharStrings({charStrings:h,localSubrIndex:l.privateDict.subrsIndex,globalSubrIndex:s.obj,fdSelect:t.fdSelect,fdArray:t.fdArray,privateDict:l.privateDict});t.charStrings=x.charStrings;t.seacs=x.seacs;t.widths=x.widths;return t},parseHeader:function e(){var r=this.bytes;var t=r.length;var n=0;while(n<t&&r[n]!==1){++n}if(n>=t){throw new a.FormatError("Invalid CFF header")}if(n!==0){(0,a.info)("cff data is shifted");r=r.subarray(n);this.bytes=r}var i=r[0];var o=r[1];var s=r[2];var c=r[3];var l=new f(i,o,s,c);return{obj:l,endPos:s}},parseDict:function e(r){var t=0;function n(){var e=r[t++];if(e===30){return i()}else if(e===28){e=r[t++];e=(e<<24|r[t++]<<16)>>16;return e}else if(e===29){e=r[t++];e=e<<8|r[t++];e=e<<8|r[t++];e=e<<8|r[t++];return e}else if(e>=32&&e<=246){return e-139}else if(e>=247&&e<=250){return(e-247)*256+r[t++]+108}else if(e>=251&&e<=254){return-((e-251)*256)-r[t++]-108}(0,a.warn)('CFFParser_parseDict: "'+e+'" is a reserved command.');return NaN}function i(){var e="";var a=15;var n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];var i=r.length;while(t<i){var o=r[t++];var s=o>>4;var c=o&15;if(s===a){break}e+=n[s];if(c===a){break}e+=n[c]}return parseFloat(e)}var o=[];var s=[];t=0;var c=r.length;while(t<c){var l=r[t];if(l<=21){if(l===12){l=l<<8|r[++t]}s.push([l,o]);o=[];++t}else{o.push(n())}}return s},parseIndex:function e(r){var t=new d;var a=this.bytes;var n=a[r++]<<8|a[r++];var i=[];var o=r;var s,c;if(n!==0){var l=a[r++];var u=r+(n+1)*l-1;for(s=0,c=n+1;s<c;++s){var f=0;for(var h=0;h<l;++h){f<<=8;f+=a[r++]}i.push(u+f)}o=i[n]}for(s=0,c=i.length-1;s<c;++s){var v=i[s];var g=i[s+1];t.add(a.subarray(v,g))}return{obj:t,endPos:o}},parseNameIndex:function e(r){var t=[];for(var n=0,i=r.count;n<i;++n){var o=r.get(n);t.push((0,a.bytesToString)(o))}return t},parseStringIndex:function e(r){var t=new h;for(var n=0,i=r.count;n<i;++n){var o=r.get(n);t.add((0,a.bytesToString)(o))}return t},createDict:function e(r,t,a){var n=new r(a);for(var i=0,o=t.length;i<o;++i){var s=t[i];var c=s[0];var l=s[1];n.setByKey(c,l)}return n},parseCharString:function e(n,i,s,c){if(!i||n.callDepth>o){return false}var l=n.stackSize;var u=n.stack;var f=i.length;for(var h=0;h<f;){var d=i[h++];var v=null;if(d===12){var g=i[h++];if(g===0){i[h-2]=139;i[h-1]=22;l=0}else{v=t[g]}}else if(d===28){u[l]=(i[h]<<24|i[h+1]<<16)>>16;h+=2;l++}else if(d===14){if(l>=4){l-=4;if(this.seacAnalysisEnabled){n.seac=u.slice(l,l+4);return false}}v=r[d]}else if(d>=32&&d<=246){u[l]=d-139;l++}else if(d>=247&&d<=254){u[l]=d<251?(d-247<<8)+i[h]+108:-(d-251<<8)-i[h]-108;h++;l++}else if(d===255){u[l]=(i[h]<<24|i[h+1]<<16|i[h+2]<<8|i[h+3])/65536;h+=4;l++}else if(d===19||d===20){n.hints+=l>>1;h+=n.hints+7>>3;l%=2;v=r[d]}else if(d===10||d===29){var p;if(d===10){p=s}else{p=c}if(!p){v=r[d];(0,a.warn)("Missing subrsIndex for "+v.id);return false}var m=32768;if(p.count<1240){m=107}else if(p.count<33900){m=1131}var b=u[--l]+m;if(b<0||b>=p.count||isNaN(b)){v=r[d];(0,a.warn)("Out of bounds subrIndex for "+v.id);return false}n.stackSize=l;n.callDepth++;var y=this.parseCharString(n,p.get(b),s,c);if(!y){return false}n.callDepth--;l=n.stackSize;continue}else if(d===11){n.stackSize=l;return true}else{v=r[d]}if(v){if(v.stem){n.hints+=l>>1;if(d===3||d===23){n.hasVStems=true}else if(n.hasVStems&&(d===1||d===18)){(0,a.warn)("CFF stem hints are in wrong order");i[h-1]=d===1?3:23}}if("min"in v){if(!n.undefStack&&l<v.min){(0,a.warn)("Not enough parameters for "+v.id+"; actual: "+l+", expected: "+v.min);return false}}if(n.firstStackClearing&&v.stackClearing){n.firstStackClearing=false;l-=v.min;if(l>=2&&v.stem){l%=2}else if(l>1){(0,a.warn)("Found too many parameters for stack-clearing command")}if(l>0&&u[l-1]>=0){n.width=u[l-1]}}if("stackDelta"in v){if("stackFn"in v){v.stackFn(u,l)}l+=v.stackDelta}else if(v.stackClearing){l=0}else if(v.resetStack){l=0;n.undefStack=false}else if(v.undefStack){l=0;n.undefStack=true;n.firstStackClearing=false}}}n.stackSize=l;return true},parseCharStrings:function e(r){var t=r.charStrings,n=r.localSubrIndex,i=r.globalSubrIndex,o=r.fdSelect,s=r.fdArray,c=r.privateDict;var l=[];var u=[];var f=t.count;for(var h=0;h<f;h++){var d=t.get(h);var v={callDepth:0,stackSize:0,stack:[],undefStack:true,hints:0,firstStackClearing:true,seac:null,width:null,hasVStems:false};var g=true;var p=null;var m=c;if(o&&s.length){var b=o.getFDIndex(h);if(b===-1){(0,a.warn)("Glyph index is not in fd select.");g=false}if(b>=s.length){(0,a.warn)("Invalid fd index for glyph index.");g=false}if(g){m=s[b].privateDict;p=m.subrsIndex}}else if(n){p=n}if(g){g=this.parseCharString(v,d,p,i)}if(v.width!==null){var y=m.getByName("nominalWidthX");u[h]=y+v.width}else{var w=m.getByName("defaultWidthX");u[h]=w}if(v.seac!==null){l[h]=v.seac}if(!g){t.set(h,new Uint8Array([14]))}}return{charStrings:t,seacs:l,widths:u}},emptyPrivateDictionary:function e(r){var t=this.createDict(p,[],r.strings);r.setByKey(18,[0,0]);r.privateDict=t},parsePrivateDict:function e(r){if(!r.hasName("Private")){this.emptyPrivateDictionary(r);return}var t=r.getByName("Private");if(!Array.isArray(t)||t.length!==2){r.removeByName("Private");return}var a=t[0];var n=t[1];if(a===0||n>=this.bytes.length){this.emptyPrivateDictionary(r);return}var i=n+a;var o=this.bytes.subarray(n,i);var s=this.parseDict(o);var c=this.createDict(p,s,r.strings);r.privateDict=c;if(!c.getByName("Subrs")){return}var l=c.getByName("Subrs");var u=n+l;if(l===0||u>=this.bytes.length){this.emptyPrivateDictionary(r);return}var f=this.parseIndex(u);c.subrsIndex=f.obj},parseCharsets:function e(r,t,i,o){if(r===0){return new b(true,m.ISO_ADOBE,n.ISOAdobeCharset)}else if(r===1){return new b(true,m.EXPERT,n.ExpertCharset)}else if(r===2){return new b(true,m.EXPERT_SUBSET,n.ExpertSubsetCharset)}var s=this.bytes;var c=r;var l=s[r++];var u=[".notdef"];var f,h,d;t-=1;switch(l){case 0:for(d=0;d<t;d++){f=s[r++]<<8|s[r++];u.push(o?f:i.get(f))}break;case 1:while(u.length<=t){f=s[r++]<<8|s[r++];h=s[r++];for(d=0;d<=h;d++){u.push(o?f++:i.get(f++))}}break;case 2:while(u.length<=t){f=s[r++]<<8|s[r++];h=s[r++]<<8|s[r++];for(d=0;d<=h;d++){u.push(o?f++:i.get(f++))}}break;default:throw new a.FormatError("Unknown charset format")}var v=r;var g=s.subarray(c,v);return new b(false,l,u,g)},parseEncoding:function e(r,t,n,o){var s=Object.create(null);var c=this.bytes;var l=false;var u,f,h;var d=null;function v(){var e=c[r++];for(f=0;f<e;f++){var t=c[r++];var a=(c[r++]<<8)+(c[r++]&255);s[t]=o.indexOf(n.get(a))}}if(r===0||r===1){l=true;u=r;var g=r?i.ExpertEncoding:i.StandardEncoding;for(f=0,h=o.length;f<h;f++){var p=g.indexOf(o[f]);if(p!==-1){s[p]=f}}}else{var m=r;u=c[r++];switch(u&127){case 0:var b=c[r++];for(f=1;f<=b;f++){s[c[r++]]=f}break;case 1:var w=c[r++];var k=1;for(f=0;f<w;f++){var S=c[r++];var x=c[r++];for(var C=S;C<=S+x;C++){s[C]=k++}}break;default:throw new a.FormatError("Unknown encoding format: ".concat(u," in CFF"))}var A=r;if(u&128){c[m]&=127;v()}d=c.subarray(m,A)}u=u&127;return new y(l,u,s,d)},parseFDSelect:function e(r,t){var n=this.bytes;var i=n[r++];var o=[];var s;switch(i){case 0:for(s=0;s<t;++s){var c=n[r++];o.push(c)}break;case 3:var l=n[r++]<<8|n[r++];for(s=0;s<l;++s){var u=n[r++]<<8|n[r++];if(s===0&&u!==0){(0,a.warn)("parseFDSelect: The first range must have a first GID of 0"+" -- trying to recover.");u=0}var f=n[r++];var h=n[r]<<8|n[r+1];for(var d=u;d<h;++d){o.push(f)}}r+=2;break;default:throw new a.FormatError('parseFDSelect: Unknown format "'.concat(i,'".'))}if(o.length!==t){throw new a.FormatError("parseFDSelect: Invalid font data.")}return new w(i,o)}};return s}();r.CFFParser=l;var u=function e(){function r(){this.header=null;this.names=[];this.topDict=null;this.strings=new h;this.globalSubrIndex=null;this.encoding=null;this.charset=null;this.charStrings=null;this.fdArray=[];this.fdSelect=null;this.isCIDFont=false}r.prototype={duplicateFirstGlyph:function e(){if(this.charStrings.count>=65535){(0,a.warn)("Not enough space in charstrings to duplicate first glyph.");return}var r=this.charStrings.get(0);this.charStrings.add(r);if(this.isCIDFont){this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}},hasGlyphId:function e(r){if(r<0||r>=this.charStrings.count){return false}var t=this.charStrings.get(r);return t.length>0}};return r}();r.CFF=u;var f=function e(){function r(e,r,t,a){this.major=e;this.minor=r;this.hdrSize=t;this.offSize=a}return r}();r.CFFHeader=f;var h=function e(){function r(){this.strings=[]}r.prototype={get:function e(r){if(r>=0&&r<=c-1){return s[r]}if(r-c<=this.strings.length){return this.strings[r-c]}return s[0]},getSID:function e(r){var t=s.indexOf(r);if(t!==-1){return t}t=this.strings.indexOf(r);if(t!==-1){return t+c}return-1},add:function e(r){this.strings.push(r)},get count(){return this.strings.length}};return r}();r.CFFStrings=h;var d=function e(){function r(){this.objects=[];this.length=0}r.prototype={add:function e(r){this.length+=r.length;this.objects.push(r)},set:function e(r,t){this.length+=t.length-this.objects[r].length;this.objects[r]=t},get:function e(r){return this.objects[r]},get count(){return this.objects.length}};return r}();r.CFFIndex=d;var v=function e(){function r(e,r){this.keyToNameMap=e.keyToNameMap;this.nameToKeyMap=e.nameToKeyMap;this.defaults=e.defaults;this.types=e.types;this.opcodes=e.opcodes;this.order=e.order;this.strings=r;this.values=Object.create(null)}r.prototype={setByKey:function e(r,t){if(!(r in this.keyToNameMap)){return false}var n=t.length;if(n===0){return true}for(var i=0;i<n;i++){if(isNaN(t[i])){(0,a.warn)('Invalid CFFDict value: "'+t+'" for key "'+r+'".');return true}}var o=this.types[r];if(o==="num"||o==="sid"||o==="offset"){t=t[0]}this.values[r]=t;return true},setByName:function e(r,t){if(!(r in this.nameToKeyMap)){throw new a.FormatError('Invalid dictionary name "'.concat(r,'"'))}this.values[this.nameToKeyMap[r]]=t},hasName:function e(r){return this.nameToKeyMap[r]in this.values},getByName:function e(r){if(!(r in this.nameToKeyMap)){throw new a.FormatError("Invalid dictionary name ".concat(r,'"'))}var t=this.nameToKeyMap[r];if(!(t in this.values)){return this.defaults[t]}return this.values[t]},removeByName:function e(r){delete this.values[this.nameToKeyMap[r]]}};r.createTables=function e(r){var t={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(var a=0,n=r.length;a<n;++a){var i=r[a];var o=Array.isArray(i[0])?(i[0][0]<<8)+i[0][1]:i[0];t.keyToNameMap[o]=i[1];t.nameToKeyMap[i[1]]=o;t.types[o]=i[2];t.defaults[o]=i[3];t.opcodes[o]=Array.isArray(i[0])?i[0]:[i[0]];t.order.push(o)}return t};return r}();var g=function e(){var r=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];var t=null;function a(e){if(t===null){t=v.createTables(r)}v.call(this,t,e);this.privateDict=null}a.prototype=Object.create(v.prototype);return a}();r.CFFTopDict=g;var p=function e(){var r=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];var t=null;function a(e){if(t===null){t=v.createTables(r)}v.call(this,t,e);this.subrsIndex=null}a.prototype=Object.create(v.prototype);return a}();r.CFFPrivateDict=p;var m={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};var b=function e(){function r(e,r,t,a){this.predefined=e;this.format=r;this.charset=t;this.raw=a}return r}();r.CFFCharset=b;var y=function e(){function r(e,r,t,a){this.predefined=e;this.format=r;this.encoding=t;this.raw=a}return r}();var w=function e(){function r(e,r){this.format=e;this.fdSelect=r}r.prototype={getFDIndex:function e(r){if(r<0||r>=this.fdSelect.length){return-1}return this.fdSelect[r]}};return r}();r.CFFFDSelect=w;var k=function e(){function r(){this.offsets=Object.create(null)}r.prototype={isTracking:function e(r){return r in this.offsets},track:function e(r,t){if(r in this.offsets){throw new a.FormatError("Already tracking location of ".concat(r))}this.offsets[r]=t},offset:function e(r){for(var t in this.offsets){this.offsets[t]+=r}},setEntryLocation:function e(r,t,n){if(!(r in this.offsets)){throw new a.FormatError("Not tracking location of ".concat(r))}var i=n.data;var o=this.offsets[r];var s=5;for(var c=0,l=t.length;c<l;++c){var u=c*s+o;var f=u+1;var h=u+2;var d=u+3;var v=u+4;if(i[u]!==29||i[f]!==0||i[h]!==0||i[d]!==0||i[v]!==0){throw new a.FormatError("writing to an offset that is not empty")}var g=t[c];i[u]=29;i[f]=g>>24&255;i[h]=g>>16&255;i[d]=g>>8&255;i[v]=g&255}}};return r}();var S=function e(){function r(e){this.cff=e}r.prototype={compile:function e(){var r=this.cff;var t={data:[],length:0,add:function e(r){this.data=this.data.concat(r);this.length=this.data.length}};var n=this.compileHeader(r.header);t.add(n);var i=this.compileNameIndex(r.names);t.add(i);if(r.isCIDFont){if(r.topDict.hasName("FontMatrix")){var o=r.topDict.getByName("FontMatrix");r.topDict.removeByName("FontMatrix");for(var s=0,c=r.fdArray.length;s<c;s++){var l=r.fdArray[s];var u=o.slice(0);if(l.hasName("FontMatrix")){u=a.Util.transform(u,l.getByName("FontMatrix"))}l.setByName("FontMatrix",u)}}}r.topDict.setByName("charset",0);var f=this.compileTopDicts([r.topDict],t.length,r.isCIDFont);t.add(f.output);var h=f.trackers[0];var d=this.compileStringIndex(r.strings.strings);t.add(d);var v=this.compileIndex(r.globalSubrIndex);t.add(v);if(r.encoding&&r.topDict.hasName("Encoding")){if(r.encoding.predefined){h.setEntryLocation("Encoding",[r.encoding.format],t)}else{var g=this.compileEncoding(r.encoding);h.setEntryLocation("Encoding",[t.length],t);t.add(g)}}var p=this.compileCharset(r.charset,r.charStrings.count,r.strings,r.isCIDFont);h.setEntryLocation("charset",[t.length],t);t.add(p);var m=this.compileCharStrings(r.charStrings);h.setEntryLocation("CharStrings",[t.length],t);t.add(m);if(r.isCIDFont){h.setEntryLocation("FDSelect",[t.length],t);var b=this.compileFDSelect(r.fdSelect);t.add(b);f=this.compileTopDicts(r.fdArray,t.length,true);h.setEntryLocation("FDArray",[t.length],t);t.add(f.output);var y=f.trackers;this.compilePrivateDicts(r.fdArray,y,t)}this.compilePrivateDicts([r.topDict],[h],t);t.add([0]);return t.data},encodeNumber:function e(r){if(parseFloat(r)===parseInt(r,10)&&!isNaN(r)){return this.encodeInteger(r)}return this.encodeFloat(r)},encodeFloat:function e(r){var t=r.toString();var a=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(a){var n=parseFloat("1e"+((a[2]?+a[2]:0)+a[1].length));t=(Math.round(r*n)/n).toString()}var i="";var o,s;for(o=0,s=t.length;o<s;++o){var c=t[o];if(c==="e"){i+=t[++o]==="-"?"c":"b"}else if(c==="."){i+="a"}else if(c==="-"){i+="e"}else{i+=c}}i+=i.length&1?"f":"ff";var l=[30];for(o=0,s=i.length;o<s;o+=2){l.push(parseInt(i.substring(o,o+2),16))}return l},encodeInteger:function e(r){var t;if(r>=-107&&r<=107){t=[r+139]}else if(r>=108&&r<=1131){r=r-108;t=[(r>>8)+247,r&255]}else if(r>=-1131&&r<=-108){r=-r-108;t=[(r>>8)+251,r&255]}else if(r>=-32768&&r<=32767){t=[28,r>>8&255,r&255]}else{t=[29,r>>24&255,r>>16&255,r>>8&255,r&255]}return t},compileHeader:function e(r){return[r.major,r.minor,r.hdrSize,r.offSize]},compileNameIndex:function e(r){var t=new d;for(var n=0,i=r.length;n<i;++n){var o=r[n];var s=Math.min(o.length,127);var c=new Array(s);for(var l=0;l<s;l++){var u=o[l];if(u<"!"||u>"~"||u==="["||u==="]"||u==="("||u===")"||u==="{"||u==="}"||u==="<"||u===">"||u==="/"||u==="%"){u="_"}c[l]=u}c=c.join("");if(c===""){c="Bad_Font_Name"}t.add((0,a.stringToBytes)(c))}return this.compileIndex(t)},compileTopDicts:function e(r,t,a){var n=[];var i=new d;for(var o=0,s=r.length;o<s;++o){var c=r[o];if(a){c.removeByName("CIDFontVersion");c.removeByName("CIDFontRevision");c.removeByName("CIDFontType");c.removeByName("CIDCount");c.removeByName("UIDBase")}var l=new k;var u=this.compileDict(c,l);n.push(l);i.add(u);l.offset(t)}i=this.compileIndex(i,n);return{trackers:n,output:i}},compilePrivateDicts:function e(r,t,n){for(var i=0,o=r.length;i<o;++i){var s=r[i];var c=s.privateDict;if(!c||!s.hasName("Private")){throw new a.FormatError("There must be a private dictionary.")}var l=new k;var u=this.compileDict(c,l);var f=n.length;l.offset(f);if(!u.length){f=0}t[i].setEntryLocation("Private",[u.length,f],n);n.add(u);if(c.subrsIndex&&c.hasName("Subrs")){var h=this.compileIndex(c.subrsIndex);l.setEntryLocation("Subrs",[u.length],n);n.add(h)}}},compileDict:function e(r,t){var n=[];var i=r.order;for(var o=0;o<i.length;++o){var s=i[o];if(!(s in r.values)){continue}var c=r.values[s];var l=r.types[s];if(!Array.isArray(l)){l=[l]}if(!Array.isArray(c)){c=[c]}if(c.length===0){continue}for(var u=0,f=l.length;u<f;++u){var h=l[u];var d=c[u];switch(h){case"num":case"sid":n=n.concat(this.encodeNumber(d));break;case"offset":var v=r.keyToNameMap[s];if(!t.isTracking(v)){t.track(v,n.length)}n=n.concat([29,0,0,0,0]);break;case"array":case"delta":n=n.concat(this.encodeNumber(d));for(var g=1,p=c.length;g<p;++g){n=n.concat(this.encodeNumber(c[g]))}break;default:throw new a.FormatError("Unknown data type of ".concat(h))}}n=n.concat(r.opcodes[s])}return n},compileStringIndex:function e(r){var t=new d;for(var n=0,i=r.length;n<i;++n){t.add((0,a.stringToBytes)(r[n]))}return this.compileIndex(t)},compileGlobalSubrIndex:function e(){var r=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(r))},compileCharStrings:function e(r){var t=new d;for(var a=0;a<r.count;a++){var n=r.get(a);if(n.length===0){t.add(new Uint8Array([139,14]));continue}t.add(n)}return this.compileIndex(t)},compileCharset:function e(r,t,n,i){var o;var s=t-1;if(i){o=new Uint8Array([2,0,0,s>>8&255,s&255])}else{var c=1+s*2;o=new Uint8Array(c);o[0]=0;var l=0;var u=r.charset.length;var f=false;for(var h=1;h<o.length;h+=2){var d=0;if(l<u){var v=r.charset[l++];d=n.getSID(v);if(d===-1){d=0;if(!f){f=true;(0,a.warn)("Couldn't find ".concat(v," in CFF strings"))}}}o[h]=d>>8&255;o[h+1]=d&255}}return this.compileTypedArray(o)},compileEncoding:function e(r){return this.compileTypedArray(r.raw)},compileFDSelect:function e(r){var t=r.format;var a,n;switch(t){case 0:a=new Uint8Array(1+r.fdSelect.length);a[0]=t;for(n=0;n<r.fdSelect.length;n++){a[n+1]=r.fdSelect[n]}break;case 3:var i=0;var o=r.fdSelect[0];var s=[t,0,0,i>>8&255,i&255,o];for(n=1;n<r.fdSelect.length;n++){var c=r.fdSelect[n];if(c!==o){s.push(n>>8&255,n&255,c);o=c}}var l=(s.length-3)/3;s[1]=l>>8&255;s[2]=l&255;s.push(n>>8&255,n&255);a=new Uint8Array(s);break}return this.compileTypedArray(a)},compileTypedArray:function e(r){var t=[];for(var a=0,n=r.length;a<n;++a){t[a]=r[a]}return t},compileIndex:function e(r,t){t=t||[];var a=r.objects;var n=a.length;if(n===0){return[0,0,0]}var i=[n>>8&255,n&255];var o=1,s;for(s=0;s<n;++s){o+=a[s].length}var c;if(o<256){c=1}else if(o<65536){c=2}else if(o<16777216){c=3}else{c=4}i.push(c);var l=1;for(s=0;s<n+1;s++){if(c===1){i.push(l&255)}else if(c===2){i.push(l>>8&255,l&255)}else if(c===3){i.push(l>>16&255,l>>8&255,l&255)}else{i.push(l>>>24&255,l>>16&255,l>>8&255,l&255)}if(a[s]){l+=a[s].length}}for(s=0;s<n;s++){if(t[s]){t[s].offset(i.length)}for(var u=0,f=a[s].length;u<f;u++){i.push(a[s][u])}}return i}};return r}();r.CFFCompiler=S},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ExpertSubsetCharset=r.ExpertCharset=r.ISOAdobeCharset=void 0;var a=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];r.ISOAdobeCharset=a;var n=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];r.ExpertCharset=n;var i=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];r.ExpertSubsetCharset=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getEncoding=u;r.ExpertEncoding=r.ZapfDingbatsEncoding=r.SymbolSetEncoding=r.MacRomanEncoding=r.StandardEncoding=r.WinAnsiEncoding=void 0;var a=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];r.ExpertEncoding=a;var n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""];var i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];r.MacRomanEncoding=i;var o=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];r.StandardEncoding=o;var s=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];r.WinAnsiEncoding=s;var c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];r.SymbolSetEncoding=c;var l=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];r.ZapfDingbatsEncoding=l;function u(e){switch(e){case"WinAnsiEncoding":return s;case"StandardEncoding":return o;case"MacRomanEncoding":return i;case"SymbolSetEncoding":return c;case"ZapfDingbatsEncoding":return l;case"ExpertEncoding":return a;case"MacExpertEncoding":return n;default:return null}}},function(e,r,t){var a=t(186).getLookupTableFactory;var n=a(function(e){e["A"]=65;e["AE"]=198;e["AEacute"]=508;e["AEmacron"]=482;e["AEsmall"]=63462;e["Aacute"]=193;e["Aacutesmall"]=63457;e["Abreve"]=258;e["Abreveacute"]=7854;e["Abrevecyrillic"]=1232;e["Abrevedotbelow"]=7862;e["Abrevegrave"]=7856;e["Abrevehookabove"]=7858;e["Abrevetilde"]=7860;e["Acaron"]=461;e["Acircle"]=9398;e["Acircumflex"]=194;e["Acircumflexacute"]=7844;e["Acircumflexdotbelow"]=7852;e["Acircumflexgrave"]=7846;e["Acircumflexhookabove"]=7848;e["Acircumflexsmall"]=63458;e["Acircumflextilde"]=7850;e["Acute"]=63177;e["Acutesmall"]=63412;e["Acyrillic"]=1040;e["Adblgrave"]=512;e["Adieresis"]=196;e["Adieresiscyrillic"]=1234;e["Adieresismacron"]=478;e["Adieresissmall"]=63460;e["Adotbelow"]=7840;e["Adotmacron"]=480;e["Agrave"]=192;e["Agravesmall"]=63456;e["Ahookabove"]=7842;e["Aiecyrillic"]=1236;e["Ainvertedbreve"]=514;e["Alpha"]=913;e["Alphatonos"]=902;e["Amacron"]=256;e["Amonospace"]=65313;e["Aogonek"]=260;e["Aring"]=197;e["Aringacute"]=506;e["Aringbelow"]=7680;e["Aringsmall"]=63461;e["Asmall"]=63329;e["Atilde"]=195;e["Atildesmall"]=63459;e["Aybarmenian"]=1329;e["B"]=66;e["Bcircle"]=9399;e["Bdotaccent"]=7682;e["Bdotbelow"]=7684;e["Becyrillic"]=1041;e["Benarmenian"]=1330;e["Beta"]=914;e["Bhook"]=385;e["Blinebelow"]=7686;e["Bmonospace"]=65314;e["Brevesmall"]=63220;e["Bsmall"]=63330;e["Btopbar"]=386;e["C"]=67;e["Caarmenian"]=1342;e["Cacute"]=262;e["Caron"]=63178;e["Caronsmall"]=63221;e["Ccaron"]=268;e["Ccedilla"]=199;e["Ccedillaacute"]=7688;e["Ccedillasmall"]=63463;e["Ccircle"]=9400;e["Ccircumflex"]=264;e["Cdot"]=266;e["Cdotaccent"]=266;e["Cedillasmall"]=63416;e["Chaarmenian"]=1353;e["Cheabkhasiancyrillic"]=1212;e["Checyrillic"]=1063;e["Chedescenderabkhasiancyrillic"]=1214;e["Chedescendercyrillic"]=1206;e["Chedieresiscyrillic"]=1268;e["Cheharmenian"]=1347;e["Chekhakassiancyrillic"]=1227;e["Cheverticalstrokecyrillic"]=1208;e["Chi"]=935;e["Chook"]=391;e["Circumflexsmall"]=63222;e["Cmonospace"]=65315;e["Coarmenian"]=1361;e["Csmall"]=63331;e["D"]=68;e["DZ"]=497;e["DZcaron"]=452;e["Daarmenian"]=1332;e["Dafrican"]=393;e["Dcaron"]=270;e["Dcedilla"]=7696;e["Dcircle"]=9401;e["Dcircumflexbelow"]=7698;e["Dcroat"]=272;e["Ddotaccent"]=7690;e["Ddotbelow"]=7692;e["Decyrillic"]=1044;e["Deicoptic"]=1006;e["Delta"]=8710;e["Deltagreek"]=916;e["Dhook"]=394;e["Dieresis"]=63179;e["DieresisAcute"]=63180;e["DieresisGrave"]=63181;e["Dieresissmall"]=63400;e["Digammagreek"]=988;e["Djecyrillic"]=1026;e["Dlinebelow"]=7694;e["Dmonospace"]=65316;e["Dotaccentsmall"]=63223;e["Dslash"]=272;e["Dsmall"]=63332;e["Dtopbar"]=395;e["Dz"]=498;e["Dzcaron"]=453;e["Dzeabkhasiancyrillic"]=1248;e["Dzecyrillic"]=1029;e["Dzhecyrillic"]=1039;e["E"]=69;e["Eacute"]=201;e["Eacutesmall"]=63465;e["Ebreve"]=276;e["Ecaron"]=282;e["Ecedillabreve"]=7708;e["Echarmenian"]=1333;e["Ecircle"]=9402;e["Ecircumflex"]=202;e["Ecircumflexacute"]=7870;e["Ecircumflexbelow"]=7704;e["Ecircumflexdotbelow"]=7878;e["Ecircumflexgrave"]=7872;e["Ecircumflexhookabove"]=7874;e["Ecircumflexsmall"]=63466;e["Ecircumflextilde"]=7876;e["Ecyrillic"]=1028;e["Edblgrave"]=516;e["Edieresis"]=203;e["Edieresissmall"]=63467;e["Edot"]=278;e["Edotaccent"]=278;e["Edotbelow"]=7864;e["Efcyrillic"]=1060;e["Egrave"]=200;e["Egravesmall"]=63464;e["Eharmenian"]=1335;e["Ehookabove"]=7866;e["Eightroman"]=8551;e["Einvertedbreve"]=518;e["Eiotifiedcyrillic"]=1124;e["Elcyrillic"]=1051;e["Elevenroman"]=8554;e["Emacron"]=274;e["Emacronacute"]=7702;e["Emacrongrave"]=7700;e["Emcyrillic"]=1052;e["Emonospace"]=65317;e["Encyrillic"]=1053;e["Endescendercyrillic"]=1186;e["Eng"]=330;e["Enghecyrillic"]=1188;e["Enhookcyrillic"]=1223;e["Eogonek"]=280;e["Eopen"]=400;e["Epsilon"]=917;e["Epsilontonos"]=904;e["Ercyrillic"]=1056;e["Ereversed"]=398;e["Ereversedcyrillic"]=1069;e["Escyrillic"]=1057;e["Esdescendercyrillic"]=1194;e["Esh"]=425;e["Esmall"]=63333;e["Eta"]=919;e["Etarmenian"]=1336;e["Etatonos"]=905;e["Eth"]=208;e["Ethsmall"]=63472;e["Etilde"]=7868;e["Etildebelow"]=7706;e["Euro"]=8364;e["Ezh"]=439;e["Ezhcaron"]=494;e["Ezhreversed"]=440;e["F"]=70;e["Fcircle"]=9403;e["Fdotaccent"]=7710;e["Feharmenian"]=1366;e["Feicoptic"]=996;e["Fhook"]=401;e["Fitacyrillic"]=1138;e["Fiveroman"]=8548;e["Fmonospace"]=65318;e["Fourroman"]=8547;e["Fsmall"]=63334;e["G"]=71;e["GBsquare"]=13191;e["Gacute"]=500;e["Gamma"]=915;e["Gammaafrican"]=404;e["Gangiacoptic"]=1002;e["Gbreve"]=286;e["Gcaron"]=486;e["Gcedilla"]=290;e["Gcircle"]=9404;e["Gcircumflex"]=284;e["Gcommaaccent"]=290;e["Gdot"]=288;e["Gdotaccent"]=288;e["Gecyrillic"]=1043;e["Ghadarmenian"]=1346;e["Ghemiddlehookcyrillic"]=1172;e["Ghestrokecyrillic"]=1170;e["Gheupturncyrillic"]=1168;e["Ghook"]=403;e["Gimarmenian"]=1331;e["Gjecyrillic"]=1027;e["Gmacron"]=7712;e["Gmonospace"]=65319;e["Grave"]=63182;e["Gravesmall"]=63328;e["Gsmall"]=63335;e["Gsmallhook"]=667;e["Gstroke"]=484;e["H"]=72;e["H18533"]=9679;e["H18543"]=9642;e["H18551"]=9643;e["H22073"]=9633;e["HPsquare"]=13259;e["Haabkhasiancyrillic"]=1192;e["Hadescendercyrillic"]=1202;e["Hardsigncyrillic"]=1066;e["Hbar"]=294;e["Hbrevebelow"]=7722;e["Hcedilla"]=7720;e["Hcircle"]=9405;e["Hcircumflex"]=292;e["Hdieresis"]=7718;e["Hdotaccent"]=7714;e["Hdotbelow"]=7716;e["Hmonospace"]=65320;e["Hoarmenian"]=1344;e["Horicoptic"]=1e3;e["Hsmall"]=63336;e["Hungarumlaut"]=63183;e["Hungarumlautsmall"]=63224;e["Hzsquare"]=13200;e["I"]=73;e["IAcyrillic"]=1071;e["IJ"]=306;e["IUcyrillic"]=1070;e["Iacute"]=205;e["Iacutesmall"]=63469;e["Ibreve"]=300;e["Icaron"]=463;e["Icircle"]=9406;e["Icircumflex"]=206;e["Icircumflexsmall"]=63470;e["Icyrillic"]=1030;e["Idblgrave"]=520;e["Idieresis"]=207;e["Idieresisacute"]=7726;e["Idieresiscyrillic"]=1252;e["Idieresissmall"]=63471;e["Idot"]=304;e["Idotaccent"]=304;e["Idotbelow"]=7882;e["Iebrevecyrillic"]=1238;e["Iecyrillic"]=1045;e["Ifraktur"]=8465;e["Igrave"]=204;e["Igravesmall"]=63468;e["Ihookabove"]=7880;e["Iicyrillic"]=1048;e["Iinvertedbreve"]=522;e["Iishortcyrillic"]=1049;e["Imacron"]=298;e["Imacroncyrillic"]=1250;e["Imonospace"]=65321;e["Iniarmenian"]=1339;e["Iocyrillic"]=1025;e["Iogonek"]=302;e["Iota"]=921;e["Iotaafrican"]=406;e["Iotadieresis"]=938;e["Iotatonos"]=906;e["Ismall"]=63337;e["Istroke"]=407;e["Itilde"]=296;e["Itildebelow"]=7724;e["Izhitsacyrillic"]=1140;e["Izhitsadblgravecyrillic"]=1142;e["J"]=74;e["Jaarmenian"]=1345;e["Jcircle"]=9407;e["Jcircumflex"]=308;e["Jecyrillic"]=1032;e["Jheharmenian"]=1355;e["Jmonospace"]=65322;e["Jsmall"]=63338;e["K"]=75;e["KBsquare"]=13189;e["KKsquare"]=13261;e["Kabashkircyrillic"]=1184;e["Kacute"]=7728;e["Kacyrillic"]=1050;e["Kadescendercyrillic"]=1178;e["Kahookcyrillic"]=1219;e["Kappa"]=922;e["Kastrokecyrillic"]=1182;e["Kaverticalstrokecyrillic"]=1180;e["Kcaron"]=488;e["Kcedilla"]=310;e["Kcircle"]=9408;e["Kcommaaccent"]=310;e["Kdotbelow"]=7730;e["Keharmenian"]=1364;e["Kenarmenian"]=1343;e["Khacyrillic"]=1061;e["Kheicoptic"]=998;e["Khook"]=408;e["Kjecyrillic"]=1036;e["Klinebelow"]=7732;e["Kmonospace"]=65323;e["Koppacyrillic"]=1152;e["Koppagreek"]=990;e["Ksicyrillic"]=1134;e["Ksmall"]=63339;e["L"]=76;e["LJ"]=455;e["LL"]=63167;e["Lacute"]=313;e["Lambda"]=923;e["Lcaron"]=317;e["Lcedilla"]=315;e["Lcircle"]=9409;e["Lcircumflexbelow"]=7740;e["Lcommaaccent"]=315;e["Ldot"]=319;e["Ldotaccent"]=319;e["Ldotbelow"]=7734;e["Ldotbelowmacron"]=7736;e["Liwnarmenian"]=1340;e["Lj"]=456;e["Ljecyrillic"]=1033;e["Llinebelow"]=7738;e["Lmonospace"]=65324;e["Lslash"]=321;e["Lslashsmall"]=63225;e["Lsmall"]=63340;e["M"]=77;e["MBsquare"]=13190;e["Macron"]=63184;e["Macronsmall"]=63407;e["Macute"]=7742;e["Mcircle"]=9410;e["Mdotaccent"]=7744;e["Mdotbelow"]=7746;e["Menarmenian"]=1348;e["Mmonospace"]=65325;e["Msmall"]=63341;e["Mturned"]=412;e["Mu"]=924;e["N"]=78;e["NJ"]=458;e["Nacute"]=323;e["Ncaron"]=327;e["Ncedilla"]=325;e["Ncircle"]=9411;e["Ncircumflexbelow"]=7754;e["Ncommaaccent"]=325;e["Ndotaccent"]=7748;e["Ndotbelow"]=7750;e["Nhookleft"]=413;e["Nineroman"]=8552;e["Nj"]=459;e["Njecyrillic"]=1034;e["Nlinebelow"]=7752;e["Nmonospace"]=65326;e["Nowarmenian"]=1350;e["Nsmall"]=63342;e["Ntilde"]=209;e["Ntildesmall"]=63473;e["Nu"]=925;e["O"]=79;e["OE"]=338;e["OEsmall"]=63226;e["Oacute"]=211;e["Oacutesmall"]=63475;e["Obarredcyrillic"]=1256;e["Obarreddieresiscyrillic"]=1258;e["Obreve"]=334;e["Ocaron"]=465;e["Ocenteredtilde"]=415;e["Ocircle"]=9412;e["Ocircumflex"]=212;e["Ocircumflexacute"]=7888;e["Ocircumflexdotbelow"]=7896;e["Ocircumflexgrave"]=7890;e["Ocircumflexhookabove"]=7892;e["Ocircumflexsmall"]=63476;e["Ocircumflextilde"]=7894;e["Ocyrillic"]=1054;e["Odblacute"]=336;e["Odblgrave"]=524;e["Odieresis"]=214;e["Odieresiscyrillic"]=1254;e["Odieresissmall"]=63478;e["Odotbelow"]=7884;e["Ogoneksmall"]=63227;e["Ograve"]=210;e["Ogravesmall"]=63474;e["Oharmenian"]=1365;e["Ohm"]=8486;e["Ohookabove"]=7886;e["Ohorn"]=416;e["Ohornacute"]=7898;e["Ohorndotbelow"]=7906;e["Ohorngrave"]=7900;e["Ohornhookabove"]=7902;e["Ohorntilde"]=7904;e["Ohungarumlaut"]=336;e["Oi"]=418;e["Oinvertedbreve"]=526;e["Omacron"]=332;e["Omacronacute"]=7762;e["Omacrongrave"]=7760;e["Omega"]=8486;e["Omegacyrillic"]=1120;e["Omegagreek"]=937;e["Omegaroundcyrillic"]=1146;e["Omegatitlocyrillic"]=1148;e["Omegatonos"]=911;e["Omicron"]=927;e["Omicrontonos"]=908;e["Omonospace"]=65327;e["Oneroman"]=8544;e["Oogonek"]=490;e["Oogonekmacron"]=492;e["Oopen"]=390;e["Oslash"]=216;e["Oslashacute"]=510;e["Oslashsmall"]=63480;e["Osmall"]=63343;e["Ostrokeacute"]=510;e["Otcyrillic"]=1150;e["Otilde"]=213;e["Otildeacute"]=7756;e["Otildedieresis"]=7758;e["Otildesmall"]=63477;e["P"]=80;e["Pacute"]=7764;e["Pcircle"]=9413;e["Pdotaccent"]=7766;e["Pecyrillic"]=1055;e["Peharmenian"]=1354;e["Pemiddlehookcyrillic"]=1190;e["Phi"]=934;e["Phook"]=420;e["Pi"]=928;e["Piwrarmenian"]=1363;e["Pmonospace"]=65328;e["Psi"]=936;e["Psicyrillic"]=1136;e["Psmall"]=63344;e["Q"]=81;e["Qcircle"]=9414;e["Qmonospace"]=65329;e["Qsmall"]=63345;e["R"]=82;e["Raarmenian"]=1356;e["Racute"]=340;e["Rcaron"]=344;e["Rcedilla"]=342;e["Rcircle"]=9415;e["Rcommaaccent"]=342;e["Rdblgrave"]=528;e["Rdotaccent"]=7768;e["Rdotbelow"]=7770;e["Rdotbelowmacron"]=7772;e["Reharmenian"]=1360;e["Rfraktur"]=8476;e["Rho"]=929;e["Ringsmall"]=63228;e["Rinvertedbreve"]=530;e["Rlinebelow"]=7774;e["Rmonospace"]=65330;e["Rsmall"]=63346;e["Rsmallinverted"]=641;e["Rsmallinvertedsuperior"]=694;e["S"]=83;e["SF010000"]=9484;e["SF020000"]=9492;e["SF030000"]=9488;e["SF040000"]=9496;e["SF050000"]=9532;e["SF060000"]=9516;e["SF070000"]=9524;e["SF080000"]=9500;e["SF090000"]=9508;e["SF100000"]=9472;e["SF110000"]=9474;e["SF190000"]=9569;e["SF200000"]=9570;e["SF210000"]=9558;e["SF220000"]=9557;e["SF230000"]=9571;e["SF240000"]=9553;e["SF250000"]=9559;e["SF260000"]=9565;e["SF270000"]=9564;e["SF280000"]=9563;e["SF360000"]=9566;e["SF370000"]=9567;e["SF380000"]=9562;e["SF390000"]=9556;e["SF400000"]=9577;e["SF410000"]=9574;e["SF420000"]=9568;e["SF430000"]=9552;e["SF440000"]=9580;e["SF450000"]=9575;e["SF460000"]=9576;e["SF470000"]=9572;e["SF480000"]=9573;e["SF490000"]=9561;e["SF500000"]=9560;e["SF510000"]=9554;e["SF520000"]=9555;e["SF530000"]=9579;e["SF540000"]=9578;e["Sacute"]=346;e["Sacutedotaccent"]=7780;e["Sampigreek"]=992;e["Scaron"]=352;e["Scarondotaccent"]=7782;e["Scaronsmall"]=63229;e["Scedilla"]=350;e["Schwa"]=399;e["Schwacyrillic"]=1240;e["Schwadieresiscyrillic"]=1242;e["Scircle"]=9416;e["Scircumflex"]=348;e["Scommaaccent"]=536;e["Sdotaccent"]=7776;e["Sdotbelow"]=7778;e["Sdotbelowdotaccent"]=7784;e["Seharmenian"]=1357;e["Sevenroman"]=8550;e["Shaarmenian"]=1351;e["Shacyrillic"]=1064;e["Shchacyrillic"]=1065;e["Sheicoptic"]=994;e["Shhacyrillic"]=1210;e["Shimacoptic"]=1004;e["Sigma"]=931;e["Sixroman"]=8549;e["Smonospace"]=65331;e["Softsigncyrillic"]=1068;e["Ssmall"]=63347;e["Stigmagreek"]=986;e["T"]=84;e["Tau"]=932;e["Tbar"]=358;e["Tcaron"]=356;e["Tcedilla"]=354;e["Tcircle"]=9417;e["Tcircumflexbelow"]=7792;e["Tcommaaccent"]=354;e["Tdotaccent"]=7786;e["Tdotbelow"]=7788;e["Tecyrillic"]=1058;e["Tedescendercyrillic"]=1196;e["Tenroman"]=8553;e["Tetsecyrillic"]=1204;e["Theta"]=920;e["Thook"]=428;e["Thorn"]=222;e["Thornsmall"]=63486;e["Threeroman"]=8546;e["Tildesmall"]=63230;e["Tiwnarmenian"]=1359;e["Tlinebelow"]=7790;e["Tmonospace"]=65332;e["Toarmenian"]=1337;e["Tonefive"]=444;e["Tonesix"]=388;e["Tonetwo"]=423;e["Tretroflexhook"]=430;e["Tsecyrillic"]=1062;e["Tshecyrillic"]=1035;e["Tsmall"]=63348;e["Twelveroman"]=8555;e["Tworoman"]=8545;e["U"]=85;e["Uacute"]=218;e["Uacutesmall"]=63482;e["Ubreve"]=364;e["Ucaron"]=467;e["Ucircle"]=9418;e["Ucircumflex"]=219;e["Ucircumflexbelow"]=7798;e["Ucircumflexsmall"]=63483;e["Ucyrillic"]=1059;e["Udblacute"]=368;e["Udblgrave"]=532;e["Udieresis"]=220;e["Udieresisacute"]=471;e["Udieresisbelow"]=7794;e["Udieresiscaron"]=473;e["Udieresiscyrillic"]=1264;e["Udieresisgrave"]=475;e["Udieresismacron"]=469;e["Udieresissmall"]=63484;e["Udotbelow"]=7908;e["Ugrave"]=217;e["Ugravesmall"]=63481;e["Uhookabove"]=7910;e["Uhorn"]=431;e["Uhornacute"]=7912;e["Uhorndotbelow"]=7920;e["Uhorngrave"]=7914;e["Uhornhookabove"]=7916;e["Uhorntilde"]=7918;e["Uhungarumlaut"]=368;e["Uhungarumlautcyrillic"]=1266;e["Uinvertedbreve"]=534;e["Ukcyrillic"]=1144;e["Umacron"]=362;e["Umacroncyrillic"]=1262;e["Umacrondieresis"]=7802;e["Umonospace"]=65333;e["Uogonek"]=370;e["Upsilon"]=933;e["Upsilon1"]=978;e["Upsilonacutehooksymbolgreek"]=979;e["Upsilonafrican"]=433;e["Upsilondieresis"]=939;e["Upsilondieresishooksymbolgreek"]=980;e["Upsilonhooksymbol"]=978;e["Upsilontonos"]=910;e["Uring"]=366;e["Ushortcyrillic"]=1038;e["Usmall"]=63349;e["Ustraightcyrillic"]=1198;e["Ustraightstrokecyrillic"]=1200;e["Utilde"]=360;e["Utildeacute"]=7800;e["Utildebelow"]=7796;e["V"]=86;e["Vcircle"]=9419;e["Vdotbelow"]=7806;e["Vecyrillic"]=1042;e["Vewarmenian"]=1358;e["Vhook"]=434;e["Vmonospace"]=65334;e["Voarmenian"]=1352;e["Vsmall"]=63350;e["Vtilde"]=7804;e["W"]=87;e["Wacute"]=7810;e["Wcircle"]=9420;e["Wcircumflex"]=372;e["Wdieresis"]=7812;e["Wdotaccent"]=7814;e["Wdotbelow"]=7816;e["Wgrave"]=7808;e["Wmonospace"]=65335;e["Wsmall"]=63351;e["X"]=88;e["Xcircle"]=9421;e["Xdieresis"]=7820;e["Xdotaccent"]=7818;e["Xeharmenian"]=1341;e["Xi"]=926;e["Xmonospace"]=65336;e["Xsmall"]=63352;e["Y"]=89;e["Yacute"]=221;e["Yacutesmall"]=63485;e["Yatcyrillic"]=1122;e["Ycircle"]=9422;e["Ycircumflex"]=374;e["Ydieresis"]=376;e["Ydieresissmall"]=63487;e["Ydotaccent"]=7822;e["Ydotbelow"]=7924;e["Yericyrillic"]=1067;e["Yerudieresiscyrillic"]=1272;e["Ygrave"]=7922;e["Yhook"]=435;e["Yhookabove"]=7926;e["Yiarmenian"]=1349;e["Yicyrillic"]=1031;e["Yiwnarmenian"]=1362;e["Ymonospace"]=65337;e["Ysmall"]=63353;e["Ytilde"]=7928;e["Yusbigcyrillic"]=1130;e["Yusbigiotifiedcyrillic"]=1132;e["Yuslittlecyrillic"]=1126;e["Yuslittleiotifiedcyrillic"]=1128;e["Z"]=90;e["Zaarmenian"]=1334;e["Zacute"]=377;e["Zcaron"]=381;e["Zcaronsmall"]=63231;e["Zcircle"]=9423;e["Zcircumflex"]=7824;e["Zdot"]=379;e["Zdotaccent"]=379;e["Zdotbelow"]=7826;e["Zecyrillic"]=1047;e["Zedescendercyrillic"]=1176;e["Zedieresiscyrillic"]=1246;e["Zeta"]=918;e["Zhearmenian"]=1338;e["Zhebrevecyrillic"]=1217;e["Zhecyrillic"]=1046;e["Zhedescendercyrillic"]=1174;e["Zhedieresiscyrillic"]=1244;e["Zlinebelow"]=7828;e["Zmonospace"]=65338;e["Zsmall"]=63354;e["Zstroke"]=437;e["a"]=97;e["aabengali"]=2438;e["aacute"]=225;e["aadeva"]=2310;e["aagujarati"]=2694;e["aagurmukhi"]=2566;e["aamatragurmukhi"]=2622;e["aarusquare"]=13059;e["aavowelsignbengali"]=2494;e["aavowelsigndeva"]=2366;e["aavowelsigngujarati"]=2750;e["abbreviationmarkarmenian"]=1375;e["abbreviationsigndeva"]=2416;e["abengali"]=2437;e["abopomofo"]=12570;e["abreve"]=259;e["abreveacute"]=7855;e["abrevecyrillic"]=1233;e["abrevedotbelow"]=7863;e["abrevegrave"]=7857;e["abrevehookabove"]=7859;e["abrevetilde"]=7861;e["acaron"]=462;e["acircle"]=9424;e["acircumflex"]=226;e["acircumflexacute"]=7845;e["acircumflexdotbelow"]=7853;e["acircumflexgrave"]=7847;e["acircumflexhookabove"]=7849;e["acircumflextilde"]=7851;e["acute"]=180;e["acutebelowcmb"]=791;e["acutecmb"]=769;e["acutecomb"]=769;e["acutedeva"]=2388;e["acutelowmod"]=719;e["acutetonecmb"]=833;e["acyrillic"]=1072;e["adblgrave"]=513;e["addakgurmukhi"]=2673;e["adeva"]=2309;e["adieresis"]=228;e["adieresiscyrillic"]=1235;e["adieresismacron"]=479;e["adotbelow"]=7841;e["adotmacron"]=481;e["ae"]=230;e["aeacute"]=509;e["aekorean"]=12624;e["aemacron"]=483;e["afii00208"]=8213;e["afii08941"]=8356;e["afii10017"]=1040;e["afii10018"]=1041;e["afii10019"]=1042;e["afii10020"]=1043;e["afii10021"]=1044;e["afii10022"]=1045;e["afii10023"]=1025;e["afii10024"]=1046;e["afii10025"]=1047;e["afii10026"]=1048;e["afii10027"]=1049;e["afii10028"]=1050;e["afii10029"]=1051;e["afii10030"]=1052;e["afii10031"]=1053;e["afii10032"]=1054;e["afii10033"]=1055;e["afii10034"]=1056;e["afii10035"]=1057;e["afii10036"]=1058;e["afii10037"]=1059;e["afii10038"]=1060;e["afii10039"]=1061;e["afii10040"]=1062;e["afii10041"]=1063;e["afii10042"]=1064;e["afii10043"]=1065;e["afii10044"]=1066;e["afii10045"]=1067;e["afii10046"]=1068;e["afii10047"]=1069;e["afii10048"]=1070;e["afii10049"]=1071;e["afii10050"]=1168;e["afii10051"]=1026;e["afii10052"]=1027;e["afii10053"]=1028;e["afii10054"]=1029;e["afii10055"]=1030;e["afii10056"]=1031;e["afii10057"]=1032;e["afii10058"]=1033;e["afii10059"]=1034;e["afii10060"]=1035;e["afii10061"]=1036;e["afii10062"]=1038;e["afii10063"]=63172;e["afii10064"]=63173;e["afii10065"]=1072;e["afii10066"]=1073;e["afii10067"]=1074;e["afii10068"]=1075;e["afii10069"]=1076;e["afii10070"]=1077;e["afii10071"]=1105;e["afii10072"]=1078;e["afii10073"]=1079;e["afii10074"]=1080;e["afii10075"]=1081;e["afii10076"]=1082;e["afii10077"]=1083;e["afii10078"]=1084;e["afii10079"]=1085;e["afii10080"]=1086;e["afii10081"]=1087;e["afii10082"]=1088;e["afii10083"]=1089;e["afii10084"]=1090;e["afii10085"]=1091;e["afii10086"]=1092;e["afii10087"]=1093;e["afii10088"]=1094;e["afii10089"]=1095;e["afii10090"]=1096;e["afii10091"]=1097;e["afii10092"]=1098;e["afii10093"]=1099;e["afii10094"]=1100;e["afii10095"]=1101;e["afii10096"]=1102;e["afii10097"]=1103;e["afii10098"]=1169;e["afii10099"]=1106;e["afii10100"]=1107;e["afii10101"]=1108;e["afii10102"]=1109;e["afii10103"]=1110;e["afii10104"]=1111;e["afii10105"]=1112;e["afii10106"]=1113;e["afii10107"]=1114;e["afii10108"]=1115;e["afii10109"]=1116;e["afii10110"]=1118;e["afii10145"]=1039;e["afii10146"]=1122;e["afii10147"]=1138;e["afii10148"]=1140;e["afii10192"]=63174;e["afii10193"]=1119;e["afii10194"]=1123;e["afii10195"]=1139;e["afii10196"]=1141;e["afii10831"]=63175;e["afii10832"]=63176;e["afii10846"]=1241;e["afii299"]=8206;e["afii300"]=8207;e["afii301"]=8205;e["afii57381"]=1642;e["afii57388"]=1548;e["afii57392"]=1632;e["afii57393"]=1633;e["afii57394"]=1634;e["afii57395"]=1635;e["afii57396"]=1636;e["afii57397"]=1637;e["afii57398"]=1638;e["afii57399"]=1639;e["afii57400"]=1640;e["afii57401"]=1641;e["afii57403"]=1563;e["afii57407"]=1567;e["afii57409"]=1569;e["afii57410"]=1570;e["afii57411"]=1571;e["afii57412"]=1572;e["afii57413"]=1573;e["afii57414"]=1574;e["afii57415"]=1575;e["afii57416"]=1576;e["afii57417"]=1577;e["afii57418"]=1578;e["afii57419"]=1579;e["afii57420"]=1580;e["afii57421"]=1581;e["afii57422"]=1582;e["afii57423"]=1583;e["afii57424"]=1584;e["afii57425"]=1585;e["afii57426"]=1586;e["afii57427"]=1587;e["afii57428"]=1588;e["afii57429"]=1589;e["afii57430"]=1590;e["afii57431"]=1591;e["afii57432"]=1592;e["afii57433"]=1593;e["afii57434"]=1594;e["afii57440"]=1600;e["afii57441"]=1601;e["afii57442"]=1602;e["afii57443"]=1603;e["afii57444"]=1604;e["afii57445"]=1605;e["afii57446"]=1606;e["afii57448"]=1608;e["afii57449"]=1609;e["afii57450"]=1610;e["afii57451"]=1611;e["afii57452"]=1612;e["afii57453"]=1613;e["afii57454"]=1614;e["afii57455"]=1615;e["afii57456"]=1616;e["afii57457"]=1617;e["afii57458"]=1618;e["afii57470"]=1607;e["afii57505"]=1700;e["afii57506"]=1662;e["afii57507"]=1670;e["afii57508"]=1688;e["afii57509"]=1711;e["afii57511"]=1657;e["afii57512"]=1672;e["afii57513"]=1681;e["afii57514"]=1722;e["afii57519"]=1746;e["afii57534"]=1749;e["afii57636"]=8362;e["afii57645"]=1470;e["afii57658"]=1475;e["afii57664"]=1488;e["afii57665"]=1489;e["afii57666"]=1490;e["afii57667"]=1491;e["afii57668"]=1492;e["afii57669"]=1493;e["afii57670"]=1494;e["afii57671"]=1495;e["afii57672"]=1496;e["afii57673"]=1497;e["afii57674"]=1498;e["afii57675"]=1499;e["afii57676"]=1500;e["afii57677"]=1501;e["afii57678"]=1502;e["afii57679"]=1503;e["afii57680"]=1504;e["afii57681"]=1505;e["afii57682"]=1506;e["afii57683"]=1507;e["afii57684"]=1508;e["afii57685"]=1509;e["afii57686"]=1510;e["afii57687"]=1511;e["afii57688"]=1512;e["afii57689"]=1513;e["afii57690"]=1514;e["afii57694"]=64298;e["afii57695"]=64299;e["afii57700"]=64331;e["afii57705"]=64287;e["afii57716"]=1520;e["afii57717"]=1521;e["afii57718"]=1522;e["afii57723"]=64309;e["afii57793"]=1460;e["afii57794"]=1461;e["afii57795"]=1462;e["afii57796"]=1467;e["afii57797"]=1464;e["afii57798"]=1463;e["afii57799"]=1456;e["afii57800"]=1458;e["afii57801"]=1457;e["afii57802"]=1459;e["afii57803"]=1474;e["afii57804"]=1473;e["afii57806"]=1465;e["afii57807"]=1468;e["afii57839"]=1469;e["afii57841"]=1471;e["afii57842"]=1472;e["afii57929"]=700;e["afii61248"]=8453;e["afii61289"]=8467;e["afii61352"]=8470;e["afii61573"]=8236;e["afii61574"]=8237;e["afii61575"]=8238;e["afii61664"]=8204;e["afii63167"]=1645;e["afii64937"]=701;e["agrave"]=224;e["agujarati"]=2693;e["agurmukhi"]=2565;e["ahiragana"]=12354;e["ahookabove"]=7843;e["aibengali"]=2448;e["aibopomofo"]=12574;e["aideva"]=2320;e["aiecyrillic"]=1237;e["aigujarati"]=2704;e["aigurmukhi"]=2576;e["aimatragurmukhi"]=2632;e["ainarabic"]=1593;e["ainfinalarabic"]=65226;e["aininitialarabic"]=65227;e["ainmedialarabic"]=65228;e["ainvertedbreve"]=515;e["aivowelsignbengali"]=2504;e["aivowelsigndeva"]=2376;e["aivowelsigngujarati"]=2760;e["akatakana"]=12450;e["akatakanahalfwidth"]=65393;e["akorean"]=12623;e["alef"]=1488;e["alefarabic"]=1575;e["alefdageshhebrew"]=64304;e["aleffinalarabic"]=65166;e["alefhamzaabovearabic"]=1571;e["alefhamzaabovefinalarabic"]=65156;e["alefhamzabelowarabic"]=1573;e["alefhamzabelowfinalarabic"]=65160;e["alefhebrew"]=1488;e["aleflamedhebrew"]=64335;e["alefmaddaabovearabic"]=1570;e["alefmaddaabovefinalarabic"]=65154;e["alefmaksuraarabic"]=1609;e["alefmaksurafinalarabic"]=65264;e["alefmaksurainitialarabic"]=65267;e["alefmaksuramedialarabic"]=65268;e["alefpatahhebrew"]=64302;e["alefqamatshebrew"]=64303;e["aleph"]=8501;e["allequal"]=8780;e["alpha"]=945;e["alphatonos"]=940;e["amacron"]=257;e["amonospace"]=65345;e["ampersand"]=38;e["ampersandmonospace"]=65286;e["ampersandsmall"]=63270;e["amsquare"]=13250;e["anbopomofo"]=12578;e["angbopomofo"]=12580;e["angbracketleft"]=12296;e["angbracketright"]=12297;e["angkhankhuthai"]=3674;e["angle"]=8736;e["anglebracketleft"]=12296;e["anglebracketleftvertical"]=65087;e["anglebracketright"]=12297;e["anglebracketrightvertical"]=65088;e["angleleft"]=9001;e["angleright"]=9002;e["angstrom"]=8491;e["anoteleia"]=903;e["anudattadeva"]=2386;e["anusvarabengali"]=2434;e["anusvaradeva"]=2306;e["anusvaragujarati"]=2690;e["aogonek"]=261;e["apaatosquare"]=13056;e["aparen"]=9372;e["apostrophearmenian"]=1370;e["apostrophemod"]=700;e["apple"]=63743;e["approaches"]=8784;e["approxequal"]=8776;e["approxequalorimage"]=8786;e["approximatelyequal"]=8773;e["araeaekorean"]=12686;e["araeakorean"]=12685;e["arc"]=8978;e["arighthalfring"]=7834;e["aring"]=229;e["aringacute"]=507;e["aringbelow"]=7681;e["arrowboth"]=8596;e["arrowdashdown"]=8675;e["arrowdashleft"]=8672;e["arrowdashright"]=8674;e["arrowdashup"]=8673;e["arrowdblboth"]=8660;e["arrowdbldown"]=8659;e["arrowdblleft"]=8656;e["arrowdblright"]=8658;e["arrowdblup"]=8657;e["arrowdown"]=8595;e["arrowdownleft"]=8601;e["arrowdownright"]=8600;e["arrowdownwhite"]=8681;e["arrowheaddownmod"]=709;e["arrowheadleftmod"]=706;e["arrowheadrightmod"]=707;e["arrowheadupmod"]=708;e["arrowhorizex"]=63719;e["arrowleft"]=8592;e["arrowleftdbl"]=8656;e["arrowleftdblstroke"]=8653;e["arrowleftoverright"]=8646;e["arrowleftwhite"]=8678;e["arrowright"]=8594;e["arrowrightdblstroke"]=8655;e["arrowrightheavy"]=10142;e["arrowrightoverleft"]=8644;e["arrowrightwhite"]=8680;e["arrowtableft"]=8676;e["arrowtabright"]=8677;e["arrowup"]=8593;e["arrowupdn"]=8597;e["arrowupdnbse"]=8616;e["arrowupdownbase"]=8616;e["arrowupleft"]=8598;e["arrowupleftofdown"]=8645;e["arrowupright"]=8599;e["arrowupwhite"]=8679;e["arrowvertex"]=63718;e["asciicircum"]=94;e["asciicircummonospace"]=65342;e["asciitilde"]=126;e["asciitildemonospace"]=65374;e["ascript"]=593;e["ascriptturned"]=594;e["asmallhiragana"]=12353;e["asmallkatakana"]=12449;e["asmallkatakanahalfwidth"]=65383;e["asterisk"]=42;e["asteriskaltonearabic"]=1645;e["asteriskarabic"]=1645;e["asteriskmath"]=8727;e["asteriskmonospace"]=65290;e["asterisksmall"]=65121;e["asterism"]=8258;e["asuperior"]=63209;e["asymptoticallyequal"]=8771;e["at"]=64;e["atilde"]=227;e["atmonospace"]=65312;e["atsmall"]=65131;e["aturned"]=592;e["aubengali"]=2452;e["aubopomofo"]=12576;e["audeva"]=2324;e["augujarati"]=2708;e["augurmukhi"]=2580;e["aulengthmarkbengali"]=2519;e["aumatragurmukhi"]=2636;e["auvowelsignbengali"]=2508;e["auvowelsigndeva"]=2380;e["auvowelsigngujarati"]=2764;e["avagrahadeva"]=2365;e["aybarmenian"]=1377;e["ayin"]=1506;e["ayinaltonehebrew"]=64288;e["ayinhebrew"]=1506;e["b"]=98;e["babengali"]=2476;e["backslash"]=92;e["backslashmonospace"]=65340;e["badeva"]=2348;e["bagujarati"]=2732;e["bagurmukhi"]=2604;e["bahiragana"]=12400;e["bahtthai"]=3647;e["bakatakana"]=12496;e["bar"]=124;e["barmonospace"]=65372;e["bbopomofo"]=12549;e["bcircle"]=9425;e["bdotaccent"]=7683;e["bdotbelow"]=7685;e["beamedsixteenthnotes"]=9836;e["because"]=8757;e["becyrillic"]=1073;e["beharabic"]=1576;e["behfinalarabic"]=65168;e["behinitialarabic"]=65169;e["behiragana"]=12409;e["behmedialarabic"]=65170;e["behmeeminitialarabic"]=64671;e["behmeemisolatedarabic"]=64520;e["behnoonfinalarabic"]=64621;e["bekatakana"]=12505;e["benarmenian"]=1378;e["bet"]=1489;e["beta"]=946;e["betasymbolgreek"]=976;e["betdagesh"]=64305;e["betdageshhebrew"]=64305;e["bethebrew"]=1489;e["betrafehebrew"]=64332;e["bhabengali"]=2477;e["bhadeva"]=2349;e["bhagujarati"]=2733;e["bhagurmukhi"]=2605;e["bhook"]=595;e["bihiragana"]=12403;e["bikatakana"]=12499;e["bilabialclick"]=664;e["bindigurmukhi"]=2562;e["birusquare"]=13105;e["blackcircle"]=9679;e["blackdiamond"]=9670;e["blackdownpointingtriangle"]=9660;e["blackleftpointingpointer"]=9668;e["blackleftpointingtriangle"]=9664;e["blacklenticularbracketleft"]=12304;e["blacklenticularbracketleftvertical"]=65083;e["blacklenticularbracketright"]=12305;e["blacklenticularbracketrightvertical"]=65084;e["blacklowerlefttriangle"]=9699;e["blacklowerrighttriangle"]=9698;e["blackrectangle"]=9644;e["blackrightpointingpointer"]=9658;e["blackrightpointingtriangle"]=9654;e["blacksmallsquare"]=9642;e["blacksmilingface"]=9787;e["blacksquare"]=9632;e["blackstar"]=9733;e["blackupperlefttriangle"]=9700;e["blackupperrighttriangle"]=9701;e["blackuppointingsmalltriangle"]=9652;e["blackuppointingtriangle"]=9650;e["blank"]=9251;e["blinebelow"]=7687;e["block"]=9608;e["bmonospace"]=65346;e["bobaimaithai"]=3610;e["bohiragana"]=12412;e["bokatakana"]=12508;e["bparen"]=9373;e["bqsquare"]=13251;e["braceex"]=63732;e["braceleft"]=123;e["braceleftbt"]=63731;e["braceleftmid"]=63730;e["braceleftmonospace"]=65371;e["braceleftsmall"]=65115;e["bracelefttp"]=63729;e["braceleftvertical"]=65079;e["braceright"]=125;e["bracerightbt"]=63742;e["bracerightmid"]=63741;e["bracerightmonospace"]=65373;e["bracerightsmall"]=65116;e["bracerighttp"]=63740;e["bracerightvertical"]=65080;e["bracketleft"]=91;e["bracketleftbt"]=63728;e["bracketleftex"]=63727;e["bracketleftmonospace"]=65339;e["bracketlefttp"]=63726;e["bracketright"]=93;e["bracketrightbt"]=63739;e["bracketrightex"]=63738;e["bracketrightmonospace"]=65341;e["bracketrighttp"]=63737;e["breve"]=728;e["brevebelowcmb"]=814;e["brevecmb"]=774;e["breveinvertedbelowcmb"]=815;e["breveinvertedcmb"]=785;e["breveinverteddoublecmb"]=865;e["bridgebelowcmb"]=810;e["bridgeinvertedbelowcmb"]=826;e["brokenbar"]=166;e["bstroke"]=384;e["bsuperior"]=63210;e["btopbar"]=387;e["buhiragana"]=12406;e["bukatakana"]=12502;e["bullet"]=8226;e["bulletinverse"]=9688;e["bulletoperator"]=8729;e["bullseye"]=9678;e["c"]=99;e["caarmenian"]=1390;e["cabengali"]=2458;e["cacute"]=263;e["cadeva"]=2330;e["cagujarati"]=2714;e["cagurmukhi"]=2586;e["calsquare"]=13192;e["candrabindubengali"]=2433;e["candrabinducmb"]=784;e["candrabindudeva"]=2305;e["candrabindugujarati"]=2689;e["capslock"]=8682;e["careof"]=8453;e["caron"]=711;e["caronbelowcmb"]=812;e["caroncmb"]=780;e["carriagereturn"]=8629;e["cbopomofo"]=12568;e["ccaron"]=269;e["ccedilla"]=231;e["ccedillaacute"]=7689;e["ccircle"]=9426;e["ccircumflex"]=265;e["ccurl"]=597;e["cdot"]=267;e["cdotaccent"]=267;e["cdsquare"]=13253;e["cedilla"]=184;e["cedillacmb"]=807;e["cent"]=162;e["centigrade"]=8451;e["centinferior"]=63199;e["centmonospace"]=65504;e["centoldstyle"]=63394;e["centsuperior"]=63200;e["chaarmenian"]=1401;e["chabengali"]=2459;e["chadeva"]=2331;e["chagujarati"]=2715;e["chagurmukhi"]=2587;e["chbopomofo"]=12564;e["cheabkhasiancyrillic"]=1213;e["checkmark"]=10003;e["checyrillic"]=1095;e["chedescenderabkhasiancyrillic"]=1215;e["chedescendercyrillic"]=1207;e["chedieresiscyrillic"]=1269;e["cheharmenian"]=1395;e["chekhakassiancyrillic"]=1228;e["cheverticalstrokecyrillic"]=1209;e["chi"]=967;e["chieuchacirclekorean"]=12919;e["chieuchaparenkorean"]=12823;e["chieuchcirclekorean"]=12905;e["chieuchkorean"]=12618;e["chieuchparenkorean"]=12809;e["chochangthai"]=3594;e["chochanthai"]=3592;e["chochingthai"]=3593;e["chochoethai"]=3596;e["chook"]=392;e["cieucacirclekorean"]=12918;e["cieucaparenkorean"]=12822;e["cieuccirclekorean"]=12904;e["cieuckorean"]=12616;e["cieucparenkorean"]=12808;e["cieucuparenkorean"]=12828;e["circle"]=9675;e["circlecopyrt"]=169;e["circlemultiply"]=8855;e["circleot"]=8857;e["circleplus"]=8853;e["circlepostalmark"]=12342;e["circlewithlefthalfblack"]=9680;e["circlewithrighthalfblack"]=9681;e["circumflex"]=710;e["circumflexbelowcmb"]=813;e["circumflexcmb"]=770;e["clear"]=8999;e["clickalveolar"]=450;e["clickdental"]=448;e["clicklateral"]=449;e["clickretroflex"]=451;e["club"]=9827;e["clubsuitblack"]=9827;e["clubsuitwhite"]=9831;e["cmcubedsquare"]=13220;e["cmonospace"]=65347;e["cmsquaredsquare"]=13216;e["coarmenian"]=1409;e["colon"]=58;e["colonmonetary"]=8353;e["colonmonospace"]=65306;e["colonsign"]=8353;e["colonsmall"]=65109;e["colontriangularhalfmod"]=721;e["colontriangularmod"]=720;e["comma"]=44;e["commaabovecmb"]=787;e["commaaboverightcmb"]=789;e["commaaccent"]=63171;e["commaarabic"]=1548;e["commaarmenian"]=1373;e["commainferior"]=63201;e["commamonospace"]=65292;e["commareversedabovecmb"]=788;e["commareversedmod"]=701;e["commasmall"]=65104;e["commasuperior"]=63202;e["commaturnedabovecmb"]=786;e["commaturnedmod"]=699;e["compass"]=9788;e["congruent"]=8773;e["contourintegral"]=8750;e["control"]=8963;e["controlACK"]=6;e["controlBEL"]=7;e["controlBS"]=8;e["controlCAN"]=24;e["controlCR"]=13;e["controlDC1"]=17;e["controlDC2"]=18;e["controlDC3"]=19;e["controlDC4"]=20;e["controlDEL"]=127;e["controlDLE"]=16;e["controlEM"]=25;e["controlENQ"]=5;e["controlEOT"]=4;e["controlESC"]=27;e["controlETB"]=23;e["controlETX"]=3;e["controlFF"]=12;e["controlFS"]=28;e["controlGS"]=29;e["controlHT"]=9;e["controlLF"]=10;e["controlNAK"]=21;e["controlNULL"]=0;e["controlRS"]=30;e["controlSI"]=15;e["controlSO"]=14;e["controlSOT"]=2;e["controlSTX"]=1;e["controlSUB"]=26;e["controlSYN"]=22;e["controlUS"]=31;e["controlVT"]=11;e["copyright"]=169;e["copyrightsans"]=63721;e["copyrightserif"]=63193;e["cornerbracketleft"]=12300;e["cornerbracketlefthalfwidth"]=65378;e["cornerbracketleftvertical"]=65089;e["cornerbracketright"]=12301;e["cornerbracketrighthalfwidth"]=65379;e["cornerbracketrightvertical"]=65090;e["corporationsquare"]=13183;e["cosquare"]=13255;e["coverkgsquare"]=13254;e["cparen"]=9374;e["cruzeiro"]=8354;e["cstretched"]=663;e["curlyand"]=8911;e["curlyor"]=8910;e["currency"]=164;e["cyrBreve"]=63185;e["cyrFlex"]=63186;e["cyrbreve"]=63188;e["cyrflex"]=63189;e["d"]=100;e["daarmenian"]=1380;e["dabengali"]=2470;e["dadarabic"]=1590;e["dadeva"]=2342;e["dadfinalarabic"]=65214;e["dadinitialarabic"]=65215;e["dadmedialarabic"]=65216;e["dagesh"]=1468;e["dageshhebrew"]=1468;e["dagger"]=8224;e["daggerdbl"]=8225;e["dagujarati"]=2726;e["dagurmukhi"]=2598;e["dahiragana"]=12384;e["dakatakana"]=12480;e["dalarabic"]=1583;e["dalet"]=1491;e["daletdagesh"]=64307;e["daletdageshhebrew"]=64307;e["dalethebrew"]=1491;e["dalfinalarabic"]=65194;e["dammaarabic"]=1615;e["dammalowarabic"]=1615;e["dammatanaltonearabic"]=1612;e["dammatanarabic"]=1612;e["danda"]=2404;e["dargahebrew"]=1447;e["dargalefthebrew"]=1447;e["dasiapneumatacyrilliccmb"]=1157;e["dblGrave"]=63187;e["dblanglebracketleft"]=12298;e["dblanglebracketleftvertical"]=65085;e["dblanglebracketright"]=12299;e["dblanglebracketrightvertical"]=65086;e["dblarchinvertedbelowcmb"]=811;e["dblarrowleft"]=8660;e["dblarrowright"]=8658;e["dbldanda"]=2405;e["dblgrave"]=63190;e["dblgravecmb"]=783;e["dblintegral"]=8748;e["dbllowline"]=8215;e["dbllowlinecmb"]=819;e["dbloverlinecmb"]=831;e["dblprimemod"]=698;e["dblverticalbar"]=8214;e["dblverticallineabovecmb"]=782;e["dbopomofo"]=12553;e["dbsquare"]=13256;e["dcaron"]=271;e["dcedilla"]=7697;e["dcircle"]=9427;e["dcircumflexbelow"]=7699;e["dcroat"]=273;e["ddabengali"]=2465;e["ddadeva"]=2337;e["ddagujarati"]=2721;e["ddagurmukhi"]=2593;e["ddalarabic"]=1672;e["ddalfinalarabic"]=64393;e["dddhadeva"]=2396;e["ddhabengali"]=2466;e["ddhadeva"]=2338;e["ddhagujarati"]=2722;e["ddhagurmukhi"]=2594;e["ddotaccent"]=7691;e["ddotbelow"]=7693;e["decimalseparatorarabic"]=1643;e["decimalseparatorpersian"]=1643;e["decyrillic"]=1076;e["degree"]=176;e["dehihebrew"]=1453;e["dehiragana"]=12391;e["deicoptic"]=1007;e["dekatakana"]=12487;e["deleteleft"]=9003;e["deleteright"]=8998;e["delta"]=948;e["deltaturned"]=397;e["denominatorminusonenumeratorbengali"]=2552;e["dezh"]=676;e["dhabengali"]=2471;e["dhadeva"]=2343;e["dhagujarati"]=2727;e["dhagurmukhi"]=2599;e["dhook"]=599;e["dialytikatonos"]=901;e["dialytikatonoscmb"]=836;e["diamond"]=9830;e["diamondsuitwhite"]=9826;e["dieresis"]=168;e["dieresisacute"]=63191;e["dieresisbelowcmb"]=804;e["dieresiscmb"]=776;e["dieresisgrave"]=63192;e["dieresistonos"]=901;e["dihiragana"]=12386;e["dikatakana"]=12482;e["dittomark"]=12291;e["divide"]=247;e["divides"]=8739;e["divisionslash"]=8725;e["djecyrillic"]=1106;e["dkshade"]=9619;e["dlinebelow"]=7695;e["dlsquare"]=13207;e["dmacron"]=273;e["dmonospace"]=65348;e["dnblock"]=9604;e["dochadathai"]=3598;e["dodekthai"]=3604;e["dohiragana"]=12393;e["dokatakana"]=12489;e["dollar"]=36;e["dollarinferior"]=63203;e["dollarmonospace"]=65284;e["dollaroldstyle"]=63268;e["dollarsmall"]=65129;e["dollarsuperior"]=63204;e["dong"]=8363;e["dorusquare"]=13094;e["dotaccent"]=729;e["dotaccentcmb"]=775;e["dotbelowcmb"]=803;e["dotbelowcomb"]=803;e["dotkatakana"]=12539;e["dotlessi"]=305;e["dotlessj"]=63166;e["dotlessjstrokehook"]=644;e["dotmath"]=8901;e["dottedcircle"]=9676;e["doubleyodpatah"]=64287;e["doubleyodpatahhebrew"]=64287;e["downtackbelowcmb"]=798;e["downtackmod"]=725;e["dparen"]=9375;e["dsuperior"]=63211;e["dtail"]=598;e["dtopbar"]=396;e["duhiragana"]=12389;e["dukatakana"]=12485;e["dz"]=499;e["dzaltone"]=675;e["dzcaron"]=454;e["dzcurl"]=677;e["dzeabkhasiancyrillic"]=1249;e["dzecyrillic"]=1109;e["dzhecyrillic"]=1119;e["e"]=101;e["eacute"]=233;e["earth"]=9793;e["ebengali"]=2447;e["ebopomofo"]=12572;e["ebreve"]=277;e["ecandradeva"]=2317;e["ecandragujarati"]=2701;e["ecandravowelsigndeva"]=2373;e["ecandravowelsigngujarati"]=2757;e["ecaron"]=283;e["ecedillabreve"]=7709;e["echarmenian"]=1381;e["echyiwnarmenian"]=1415;e["ecircle"]=9428;e["ecircumflex"]=234;e["ecircumflexacute"]=7871;e["ecircumflexbelow"]=7705;e["ecircumflexdotbelow"]=7879;e["ecircumflexgrave"]=7873;e["ecircumflexhookabove"]=7875;e["ecircumflextilde"]=7877;e["ecyrillic"]=1108;e["edblgrave"]=517;e["edeva"]=2319;e["edieresis"]=235;e["edot"]=279;e["edotaccent"]=279;e["edotbelow"]=7865;e["eegurmukhi"]=2575;e["eematragurmukhi"]=2631;e["efcyrillic"]=1092;e["egrave"]=232;e["egujarati"]=2703;e["eharmenian"]=1383;e["ehbopomofo"]=12573;e["ehiragana"]=12360;e["ehookabove"]=7867;e["eibopomofo"]=12575;e["eight"]=56;e["eightarabic"]=1640;e["eightbengali"]=2542;e["eightcircle"]=9319;e["eightcircleinversesansserif"]=10129;e["eightdeva"]=2414;e["eighteencircle"]=9329;e["eighteenparen"]=9349;e["eighteenperiod"]=9369;e["eightgujarati"]=2798;e["eightgurmukhi"]=2670;e["eighthackarabic"]=1640;e["eighthangzhou"]=12328;e["eighthnotebeamed"]=9835;e["eightideographicparen"]=12839;e["eightinferior"]=8328;e["eightmonospace"]=65304;e["eightoldstyle"]=63288;e["eightparen"]=9339;e["eightperiod"]=9359;e["eightpersian"]=1784;e["eightroman"]=8567;e["eightsuperior"]=8312;e["eightthai"]=3672;e["einvertedbreve"]=519;e["eiotifiedcyrillic"]=1125;e["ekatakana"]=12456;e["ekatakanahalfwidth"]=65396;e["ekonkargurmukhi"]=2676;e["ekorean"]=12628;e["elcyrillic"]=1083;e["element"]=8712;e["elevencircle"]=9322;e["elevenparen"]=9342;e["elevenperiod"]=9362;e["elevenroman"]=8570;e["ellipsis"]=8230;e["ellipsisvertical"]=8942;e["emacron"]=275;e["emacronacute"]=7703;e["emacrongrave"]=7701;e["emcyrillic"]=1084;e["emdash"]=8212;e["emdashvertical"]=65073;e["emonospace"]=65349;e["emphasismarkarmenian"]=1371;e["emptyset"]=8709;e["enbopomofo"]=12579;e["encyrillic"]=1085;e["endash"]=8211;e["endashvertical"]=65074;e["endescendercyrillic"]=1187;e["eng"]=331;e["engbopomofo"]=12581;e["enghecyrillic"]=1189;e["enhookcyrillic"]=1224;e["enspace"]=8194;e["eogonek"]=281;e["eokorean"]=12627;e["eopen"]=603;e["eopenclosed"]=666;e["eopenreversed"]=604;e["eopenreversedclosed"]=606;e["eopenreversedhook"]=605;e["eparen"]=9376;e["epsilon"]=949;e["epsilontonos"]=941;e["equal"]=61;e["equalmonospace"]=65309;e["equalsmall"]=65126;e["equalsuperior"]=8316;e["equivalence"]=8801;e["erbopomofo"]=12582;e["ercyrillic"]=1088;e["ereversed"]=600;e["ereversedcyrillic"]=1101;e["escyrillic"]=1089;e["esdescendercyrillic"]=1195;e["esh"]=643;e["eshcurl"]=646;e["eshortdeva"]=2318;e["eshortvowelsigndeva"]=2374;e["eshreversedloop"]=426;e["eshsquatreversed"]=645;e["esmallhiragana"]=12359;e["esmallkatakana"]=12455;e["esmallkatakanahalfwidth"]=65386;e["estimated"]=8494;e["esuperior"]=63212;e["eta"]=951;e["etarmenian"]=1384;e["etatonos"]=942;e["eth"]=240;e["etilde"]=7869;e["etildebelow"]=7707;e["etnahtafoukhhebrew"]=1425;e["etnahtafoukhlefthebrew"]=1425;e["etnahtahebrew"]=1425;e["etnahtalefthebrew"]=1425;e["eturned"]=477;e["eukorean"]=12641;e["euro"]=8364;e["evowelsignbengali"]=2503;e["evowelsigndeva"]=2375;e["evowelsigngujarati"]=2759;e["exclam"]=33;e["exclamarmenian"]=1372;e["exclamdbl"]=8252;e["exclamdown"]=161;e["exclamdownsmall"]=63393;e["exclammonospace"]=65281;e["exclamsmall"]=63265;e["existential"]=8707;e["ezh"]=658;e["ezhcaron"]=495;e["ezhcurl"]=659;e["ezhreversed"]=441;e["ezhtail"]=442;e["f"]=102;e["fadeva"]=2398;e["fagurmukhi"]=2654;e["fahrenheit"]=8457;e["fathaarabic"]=1614;e["fathalowarabic"]=1614;e["fathatanarabic"]=1611;e["fbopomofo"]=12552;e["fcircle"]=9429;e["fdotaccent"]=7711;e["feharabic"]=1601;e["feharmenian"]=1414;e["fehfinalarabic"]=65234;e["fehinitialarabic"]=65235;e["fehmedialarabic"]=65236;e["feicoptic"]=997;e["female"]=9792;e["ff"]=64256;e["f_f"]=64256;e["ffi"]=64259;e["ffl"]=64260;e["fi"]=64257;e["fifteencircle"]=9326;e["fifteenparen"]=9346;e["fifteenperiod"]=9366;e["figuredash"]=8210;e["filledbox"]=9632;e["filledrect"]=9644;e["finalkaf"]=1498;e["finalkafdagesh"]=64314;e["finalkafdageshhebrew"]=64314;e["finalkafhebrew"]=1498;e["finalmem"]=1501;e["finalmemhebrew"]=1501;e["finalnun"]=1503;e["finalnunhebrew"]=1503;e["finalpe"]=1507;e["finalpehebrew"]=1507;e["finaltsadi"]=1509;e["finaltsadihebrew"]=1509;e["firsttonechinese"]=713;e["fisheye"]=9673;e["fitacyrillic"]=1139;e["five"]=53;e["fivearabic"]=1637;e["fivebengali"]=2539;e["fivecircle"]=9316;e["fivecircleinversesansserif"]=10126;e["fivedeva"]=2411;e["fiveeighths"]=8541;e["fivegujarati"]=2795;e["fivegurmukhi"]=2667;e["fivehackarabic"]=1637;e["fivehangzhou"]=12325;e["fiveideographicparen"]=12836;e["fiveinferior"]=8325;e["fivemonospace"]=65301;e["fiveoldstyle"]=63285;e["fiveparen"]=9336;e["fiveperiod"]=9356;e["fivepersian"]=1781;e["fiveroman"]=8564;e["fivesuperior"]=8309;e["fivethai"]=3669;e["fl"]=64258;e["florin"]=402;e["fmonospace"]=65350;e["fmsquare"]=13209;e["fofanthai"]=3615;e["fofathai"]=3613;e["fongmanthai"]=3663;e["forall"]=8704;e["four"]=52;e["fourarabic"]=1636;e["fourbengali"]=2538;e["fourcircle"]=9315;e["fourcircleinversesansserif"]=10125;e["fourdeva"]=2410;e["fourgujarati"]=2794;e["fourgurmukhi"]=2666;e["fourhackarabic"]=1636;e["fourhangzhou"]=12324;e["fourideographicparen"]=12835;e["fourinferior"]=8324;e["fourmonospace"]=65300;e["fournumeratorbengali"]=2551;e["fouroldstyle"]=63284;e["fourparen"]=9335;e["fourperiod"]=9355;e["fourpersian"]=1780;e["fourroman"]=8563;e["foursuperior"]=8308;e["fourteencircle"]=9325;e["fourteenparen"]=9345;e["fourteenperiod"]=9365;e["fourthai"]=3668;e["fourthtonechinese"]=715;e["fparen"]=9377;e["fraction"]=8260;e["franc"]=8355;e["g"]=103;e["gabengali"]=2455;e["gacute"]=501;e["gadeva"]=2327;e["gafarabic"]=1711;e["gaffinalarabic"]=64403;e["gafinitialarabic"]=64404;e["gafmedialarabic"]=64405;e["gagujarati"]=2711;e["gagurmukhi"]=2583;e["gahiragana"]=12364;e["gakatakana"]=12460;e["gamma"]=947;e["gammalatinsmall"]=611;e["gammasuperior"]=736;e["gangiacoptic"]=1003;e["gbopomofo"]=12557;e["gbreve"]=287;e["gcaron"]=487;e["gcedilla"]=291;e["gcircle"]=9430;e["gcircumflex"]=285;e["gcommaaccent"]=291;e["gdot"]=289;e["gdotaccent"]=289;e["gecyrillic"]=1075;e["gehiragana"]=12370;e["gekatakana"]=12466;e["geometricallyequal"]=8785;e["gereshaccenthebrew"]=1436;e["gereshhebrew"]=1523;e["gereshmuqdamhebrew"]=1437;e["germandbls"]=223;e["gershayimaccenthebrew"]=1438;e["gershayimhebrew"]=1524;e["getamark"]=12307;e["ghabengali"]=2456;e["ghadarmenian"]=1394;e["ghadeva"]=2328;e["ghagujarati"]=2712;e["ghagurmukhi"]=2584;e["ghainarabic"]=1594;e["ghainfinalarabic"]=65230;e["ghaininitialarabic"]=65231;e["ghainmedialarabic"]=65232;e["ghemiddlehookcyrillic"]=1173;e["ghestrokecyrillic"]=1171;e["gheupturncyrillic"]=1169;e["ghhadeva"]=2394;e["ghhagurmukhi"]=2650;e["ghook"]=608;e["ghzsquare"]=13203;e["gihiragana"]=12366;e["gikatakana"]=12462;e["gimarmenian"]=1379;e["gimel"]=1490;e["gimeldagesh"]=64306;e["gimeldageshhebrew"]=64306;e["gimelhebrew"]=1490;e["gjecyrillic"]=1107;e["glottalinvertedstroke"]=446;e["glottalstop"]=660;e["glottalstopinverted"]=662;e["glottalstopmod"]=704;e["glottalstopreversed"]=661;e["glottalstopreversedmod"]=705;e["glottalstopreversedsuperior"]=740;e["glottalstopstroke"]=673;e["glottalstopstrokereversed"]=674;e["gmacron"]=7713;e["gmonospace"]=65351;e["gohiragana"]=12372;e["gokatakana"]=12468;e["gparen"]=9378;e["gpasquare"]=13228;e["gradient"]=8711;e["grave"]=96;e["gravebelowcmb"]=790;e["gravecmb"]=768;e["gravecomb"]=768;e["gravedeva"]=2387;e["gravelowmod"]=718;e["gravemonospace"]=65344;e["gravetonecmb"]=832;e["greater"]=62;e["greaterequal"]=8805;e["greaterequalorless"]=8923;e["greatermonospace"]=65310;e["greaterorequivalent"]=8819;e["greaterorless"]=8823;e["greateroverequal"]=8807;e["greatersmall"]=65125;e["gscript"]=609;e["gstroke"]=485;e["guhiragana"]=12368;e["guillemotleft"]=171;e["guillemotright"]=187;e["guilsinglleft"]=8249;e["guilsinglright"]=8250;e["gukatakana"]=12464;e["guramusquare"]=13080;e["gysquare"]=13257;e["h"]=104;e["haabkhasiancyrillic"]=1193;e["haaltonearabic"]=1729;e["habengali"]=2489;e["hadescendercyrillic"]=1203;e["hadeva"]=2361;e["hagujarati"]=2745;e["hagurmukhi"]=2617;e["haharabic"]=1581;e["hahfinalarabic"]=65186;e["hahinitialarabic"]=65187;e["hahiragana"]=12399;e["hahmedialarabic"]=65188;e["haitusquare"]=13098;e["hakatakana"]=12495;e["hakatakanahalfwidth"]=65418;e["halantgurmukhi"]=2637;e["hamzaarabic"]=1569;e["hamzalowarabic"]=1569;e["hangulfiller"]=12644;e["hardsigncyrillic"]=1098;e["harpoonleftbarbup"]=8636;e["harpoonrightbarbup"]=8640;e["hasquare"]=13258;e["hatafpatah"]=1458;e["hatafpatah16"]=1458;e["hatafpatah23"]=1458;e["hatafpatah2f"]=1458;e["hatafpatahhebrew"]=1458;e["hatafpatahnarrowhebrew"]=1458;e["hatafpatahquarterhebrew"]=1458;e["hatafpatahwidehebrew"]=1458;e["hatafqamats"]=1459;e["hatafqamats1b"]=1459;e["hatafqamats28"]=1459;e["hatafqamats34"]=1459;e["hatafqamatshebrew"]=1459;e["hatafqamatsnarrowhebrew"]=1459;e["hatafqamatsquarterhebrew"]=1459;e["hatafqamatswidehebrew"]=1459;e["hatafsegol"]=1457;e["hatafsegol17"]=1457;e["hatafsegol24"]=1457;e["hatafsegol30"]=1457;e["hatafsegolhebrew"]=1457;e["hatafsegolnarrowhebrew"]=1457;e["hatafsegolquarterhebrew"]=1457;e["hatafsegolwidehebrew"]=1457;e["hbar"]=295;e["hbopomofo"]=12559;e["hbrevebelow"]=7723;e["hcedilla"]=7721;e["hcircle"]=9431;e["hcircumflex"]=293;e["hdieresis"]=7719;e["hdotaccent"]=7715;e["hdotbelow"]=7717;e["he"]=1492;e["heart"]=9829;e["heartsuitblack"]=9829;e["heartsuitwhite"]=9825;e["hedagesh"]=64308;e["hedageshhebrew"]=64308;e["hehaltonearabic"]=1729;e["heharabic"]=1607;e["hehebrew"]=1492;e["hehfinalaltonearabic"]=64423;e["hehfinalalttwoarabic"]=65258;e["hehfinalarabic"]=65258;e["hehhamzaabovefinalarabic"]=64421;e["hehhamzaaboveisolatedarabic"]=64420;e["hehinitialaltonearabic"]=64424;e["hehinitialarabic"]=65259;e["hehiragana"]=12408;e["hehmedialaltonearabic"]=64425;e["hehmedialarabic"]=65260;e["heiseierasquare"]=13179;e["hekatakana"]=12504;e["hekatakanahalfwidth"]=65421;e["hekutaarusquare"]=13110;e["henghook"]=615;e["herutusquare"]=13113;e["het"]=1495;e["hethebrew"]=1495;e["hhook"]=614;e["hhooksuperior"]=689;e["hieuhacirclekorean"]=12923;e["hieuhaparenkorean"]=12827;e["hieuhcirclekorean"]=12909;e["hieuhkorean"]=12622;e["hieuhparenkorean"]=12813;e["hihiragana"]=12402;e["hikatakana"]=12498;e["hikatakanahalfwidth"]=65419;e["hiriq"]=1460;e["hiriq14"]=1460;e["hiriq21"]=1460;e["hiriq2d"]=1460;e["hiriqhebrew"]=1460;e["hiriqnarrowhebrew"]=1460;e["hiriqquarterhebrew"]=1460;e["hiriqwidehebrew"]=1460;e["hlinebelow"]=7830;e["hmonospace"]=65352;e["hoarmenian"]=1392;e["hohipthai"]=3627;e["hohiragana"]=12411;e["hokatakana"]=12507;e["hokatakanahalfwidth"]=65422;e["holam"]=1465;e["holam19"]=1465;e["holam26"]=1465;e["holam32"]=1465;e["holamhebrew"]=1465;e["holamnarrowhebrew"]=1465;e["holamquarterhebrew"]=1465;e["holamwidehebrew"]=1465;e["honokhukthai"]=3630;e["hookabovecomb"]=777;e["hookcmb"]=777;e["hookpalatalizedbelowcmb"]=801;e["hookretroflexbelowcmb"]=802;e["hoonsquare"]=13122;e["horicoptic"]=1001;e["horizontalbar"]=8213;e["horncmb"]=795;e["hotsprings"]=9832;e["house"]=8962;e["hparen"]=9379;e["hsuperior"]=688;e["hturned"]=613;e["huhiragana"]=12405;e["huiitosquare"]=13107;e["hukatakana"]=12501;e["hukatakanahalfwidth"]=65420;e["hungarumlaut"]=733;e["hungarumlautcmb"]=779;e["hv"]=405;e["hyphen"]=45;e["hypheninferior"]=63205;e["hyphenmonospace"]=65293;e["hyphensmall"]=65123;e["hyphensuperior"]=63206;e["hyphentwo"]=8208;e["i"]=105;e["iacute"]=237;e["iacyrillic"]=1103;e["ibengali"]=2439;e["ibopomofo"]=12583;e["ibreve"]=301;e["icaron"]=464;e["icircle"]=9432;e["icircumflex"]=238;e["icyrillic"]=1110;e["idblgrave"]=521;e["ideographearthcircle"]=12943;e["ideographfirecircle"]=12939;e["ideographicallianceparen"]=12863;e["ideographiccallparen"]=12858;e["ideographiccentrecircle"]=12965;e["ideographicclose"]=12294;e["ideographiccomma"]=12289;e["ideographiccommaleft"]=65380;e["ideographiccongratulationparen"]=12855;e["ideographiccorrectcircle"]=12963;e["ideographicearthparen"]=12847;e["ideographicenterpriseparen"]=12861;e["ideographicexcellentcircle"]=12957;e["ideographicfestivalparen"]=12864;e["ideographicfinancialcircle"]=12950;e["ideographicfinancialparen"]=12854;e["ideographicfireparen"]=12843;e["ideographichaveparen"]=12850;e["ideographichighcircle"]=12964;e["ideographiciterationmark"]=12293;e["ideographiclaborcircle"]=12952;e["ideographiclaborparen"]=12856;e["ideographicleftcircle"]=12967;e["ideographiclowcircle"]=12966;e["ideographicmedicinecircle"]=12969;e["ideographicmetalparen"]=12846;e["ideographicmoonparen"]=12842;e["ideographicnameparen"]=12852;e["ideographicperiod"]=12290;e["ideographicprintcircle"]=12958;e["ideographicreachparen"]=12867;e["ideographicrepresentparen"]=12857;e["ideographicresourceparen"]=12862;e["ideographicrightcircle"]=12968;e["ideographicsecretcircle"]=12953;e["ideographicselfparen"]=12866;e["ideographicsocietyparen"]=12851;e["ideographicspace"]=12288;e["ideographicspecialparen"]=12853;e["ideographicstockparen"]=12849;e["ideographicstudyparen"]=12859;e["ideographicsunparen"]=12848;e["ideographicsuperviseparen"]=12860;e["ideographicwaterparen"]=12844;e["ideographicwoodparen"]=12845;e["ideographiczero"]=12295;e["ideographmetalcircle"]=12942;e["ideographmooncircle"]=12938;e["ideographnamecircle"]=12948;e["ideographsuncircle"]=12944;e["ideographwatercircle"]=12940;e["ideographwoodcircle"]=12941;e["ideva"]=2311;e["idieresis"]=239;e["idieresisacute"]=7727;e["idieresiscyrillic"]=1253;e["idotbelow"]=7883;e["iebrevecyrillic"]=1239;e["iecyrillic"]=1077;e["ieungacirclekorean"]=12917;e["ieungaparenkorean"]=12821;e["ieungcirclekorean"]=12903;e["ieungkorean"]=12615;e["ieungparenkorean"]=12807;e["igrave"]=236;e["igujarati"]=2695;e["igurmukhi"]=2567;e["ihiragana"]=12356;e["ihookabove"]=7881;e["iibengali"]=2440;e["iicyrillic"]=1080;e["iideva"]=2312;e["iigujarati"]=2696;e["iigurmukhi"]=2568;e["iimatragurmukhi"]=2624;e["iinvertedbreve"]=523;e["iishortcyrillic"]=1081;e["iivowelsignbengali"]=2496;e["iivowelsigndeva"]=2368;e["iivowelsigngujarati"]=2752;e["ij"]=307;e["ikatakana"]=12452;e["ikatakanahalfwidth"]=65394;e["ikorean"]=12643;e["ilde"]=732;e["iluyhebrew"]=1452;e["imacron"]=299;e["imacroncyrillic"]=1251;e["imageorapproximatelyequal"]=8787;e["imatragurmukhi"]=2623;e["imonospace"]=65353;e["increment"]=8710;e["infinity"]=8734;e["iniarmenian"]=1387;e["integral"]=8747;e["integralbottom"]=8993;e["integralbt"]=8993;e["integralex"]=63733;e["integraltop"]=8992;e["integraltp"]=8992;e["intersection"]=8745;e["intisquare"]=13061;e["invbullet"]=9688;e["invcircle"]=9689;e["invsmileface"]=9787;e["iocyrillic"]=1105;e["iogonek"]=303;e["iota"]=953;e["iotadieresis"]=970;e["iotadieresistonos"]=912;e["iotalatin"]=617;e["iotatonos"]=943;e["iparen"]=9380;e["irigurmukhi"]=2674;e["ismallhiragana"]=12355;e["ismallkatakana"]=12451;e["ismallkatakanahalfwidth"]=65384;e["issharbengali"]=2554;e["istroke"]=616;e["isuperior"]=63213;e["iterationhiragana"]=12445;e["iterationkatakana"]=12541;e["itilde"]=297;e["itildebelow"]=7725;e["iubopomofo"]=12585;e["iucyrillic"]=1102;e["ivowelsignbengali"]=2495;e["ivowelsigndeva"]=2367;e["ivowelsigngujarati"]=2751;e["izhitsacyrillic"]=1141;e["izhitsadblgravecyrillic"]=1143;e["j"]=106;e["jaarmenian"]=1393;e["jabengali"]=2460;e["jadeva"]=2332;e["jagujarati"]=2716;e["jagurmukhi"]=2588;e["jbopomofo"]=12560;e["jcaron"]=496;e["jcircle"]=9433;e["jcircumflex"]=309;e["jcrossedtail"]=669;e["jdotlessstroke"]=607;e["jecyrillic"]=1112;e["jeemarabic"]=1580;e["jeemfinalarabic"]=65182;e["jeeminitialarabic"]=65183;e["jeemmedialarabic"]=65184;e["jeharabic"]=1688;e["jehfinalarabic"]=64395;e["jhabengali"]=2461;e["jhadeva"]=2333;e["jhagujarati"]=2717;e["jhagurmukhi"]=2589;e["jheharmenian"]=1403;e["jis"]=12292;e["jmonospace"]=65354;e["jparen"]=9381;e["jsuperior"]=690;e["k"]=107;e["kabashkircyrillic"]=1185;e["kabengali"]=2453;e["kacute"]=7729;e["kacyrillic"]=1082;e["kadescendercyrillic"]=1179;e["kadeva"]=2325;e["kaf"]=1499;e["kafarabic"]=1603;e["kafdagesh"]=64315;e["kafdageshhebrew"]=64315;e["kaffinalarabic"]=65242;e["kafhebrew"]=1499;e["kafinitialarabic"]=65243;e["kafmedialarabic"]=65244;e["kafrafehebrew"]=64333;e["kagujarati"]=2709;e["kagurmukhi"]=2581;e["kahiragana"]=12363;e["kahookcyrillic"]=1220;e["kakatakana"]=12459;e["kakatakanahalfwidth"]=65398;e["kappa"]=954;e["kappasymbolgreek"]=1008;e["kapyeounmieumkorean"]=12657;e["kapyeounphieuphkorean"]=12676;e["kapyeounpieupkorean"]=12664;e["kapyeounssangpieupkorean"]=12665;e["karoriisquare"]=13069;e["kashidaautoarabic"]=1600;e["kashidaautonosidebearingarabic"]=1600;e["kasmallkatakana"]=12533;e["kasquare"]=13188;e["kasraarabic"]=1616;e["kasratanarabic"]=1613;e["kastrokecyrillic"]=1183;e["katahiraprolongmarkhalfwidth"]=65392;e["kaverticalstrokecyrillic"]=1181;e["kbopomofo"]=12558;e["kcalsquare"]=13193;e["kcaron"]=489;e["kcedilla"]=311;e["kcircle"]=9434;e["kcommaaccent"]=311;e["kdotbelow"]=7731;e["keharmenian"]=1412;e["kehiragana"]=12369;e["kekatakana"]=12465;e["kekatakanahalfwidth"]=65401;e["kenarmenian"]=1391;e["kesmallkatakana"]=12534;e["kgreenlandic"]=312;e["khabengali"]=2454;e["khacyrillic"]=1093;e["khadeva"]=2326;e["khagujarati"]=2710;e["khagurmukhi"]=2582;e["khaharabic"]=1582;e["khahfinalarabic"]=65190;e["khahinitialarabic"]=65191;e["khahmedialarabic"]=65192;e["kheicoptic"]=999;e["khhadeva"]=2393;e["khhagurmukhi"]=2649;e["khieukhacirclekorean"]=12920;e["khieukhaparenkorean"]=12824;e["khieukhcirclekorean"]=12906;e["khieukhkorean"]=12619;e["khieukhparenkorean"]=12810;e["khokhaithai"]=3586;e["khokhonthai"]=3589;e["khokhuatthai"]=3587;e["khokhwaithai"]=3588;e["khomutthai"]=3675;e["khook"]=409;e["khorakhangthai"]=3590;e["khzsquare"]=13201;e["kihiragana"]=12365;e["kikatakana"]=12461;e["kikatakanahalfwidth"]=65399;e["kiroguramusquare"]=13077;e["kiromeetorusquare"]=13078;e["kirosquare"]=13076;e["kiyeokacirclekorean"]=12910;e["kiyeokaparenkorean"]=12814;e["kiyeokcirclekorean"]=12896;e["kiyeokkorean"]=12593;e["kiyeokparenkorean"]=12800;e["kiyeoksioskorean"]=12595;e["kjecyrillic"]=1116;e["klinebelow"]=7733;e["klsquare"]=13208;e["kmcubedsquare"]=13222;e["kmonospace"]=65355;e["kmsquaredsquare"]=13218;e["kohiragana"]=12371;e["kohmsquare"]=13248;e["kokaithai"]=3585;e["kokatakana"]=12467;e["kokatakanahalfwidth"]=65402;e["kooposquare"]=13086;e["koppacyrillic"]=1153;e["koreanstandardsymbol"]=12927;e["koroniscmb"]=835;e["kparen"]=9382;e["kpasquare"]=13226;e["ksicyrillic"]=1135;e["ktsquare"]=13263;e["kturned"]=670;e["kuhiragana"]=12367;e["kukatakana"]=12463;e["kukatakanahalfwidth"]=65400;e["kvsquare"]=13240;e["kwsquare"]=13246;e["l"]=108;e["labengali"]=2482;e["lacute"]=314;e["ladeva"]=2354;e["lagujarati"]=2738;e["lagurmukhi"]=2610;e["lakkhangyaothai"]=3653;e["lamaleffinalarabic"]=65276;e["lamalefhamzaabovefinalarabic"]=65272;e["lamalefhamzaaboveisolatedarabic"]=65271;e["lamalefhamzabelowfinalarabic"]=65274;e["lamalefhamzabelowisolatedarabic"]=65273;e["lamalefisolatedarabic"]=65275;e["lamalefmaddaabovefinalarabic"]=65270;e["lamalefmaddaaboveisolatedarabic"]=65269;e["lamarabic"]=1604;e["lambda"]=955;e["lambdastroke"]=411;e["lamed"]=1500;e["lameddagesh"]=64316;e["lameddageshhebrew"]=64316;e["lamedhebrew"]=1500;e["lamfinalarabic"]=65246;e["lamhahinitialarabic"]=64714;e["laminitialarabic"]=65247;e["lamjeeminitialarabic"]=64713;e["lamkhahinitialarabic"]=64715;e["lamlamhehisolatedarabic"]=65010;e["lammedialarabic"]=65248;e["lammeemhahinitialarabic"]=64904;e["lammeeminitialarabic"]=64716;e["largecircle"]=9711;e["lbar"]=410;e["lbelt"]=620;e["lbopomofo"]=12556;e["lcaron"]=318;e["lcedilla"]=316;e["lcircle"]=9435;e["lcircumflexbelow"]=7741;e["lcommaaccent"]=316;e["ldot"]=320;e["ldotaccent"]=320;e["ldotbelow"]=7735;e["ldotbelowmacron"]=7737;e["leftangleabovecmb"]=794;e["lefttackbelowcmb"]=792;e["less"]=60;e["lessequal"]=8804;e["lessequalorgreater"]=8922;e["lessmonospace"]=65308;e["lessorequivalent"]=8818;e["lessorgreater"]=8822;e["lessoverequal"]=8806;e["lesssmall"]=65124;e["lezh"]=622;e["lfblock"]=9612;e["lhookretroflex"]=621;e["lira"]=8356;e["liwnarmenian"]=1388;e["lj"]=457;e["ljecyrillic"]=1113;e["ll"]=63168;e["lladeva"]=2355;e["llagujarati"]=2739;e["llinebelow"]=7739;e["llladeva"]=2356;e["llvocalicbengali"]=2529;e["llvocalicdeva"]=2401;e["llvocalicvowelsignbengali"]=2531;e["llvocalicvowelsigndeva"]=2403;e["lmiddletilde"]=619;e["lmonospace"]=65356;e["lmsquare"]=13264;e["lochulathai"]=3628;e["logicaland"]=8743;e["logicalnot"]=172;e["logicalnotreversed"]=8976;e["logicalor"]=8744;e["lolingthai"]=3621;e["longs"]=383;e["lowlinecenterline"]=65102;e["lowlinecmb"]=818;e["lowlinedashed"]=65101;e["lozenge"]=9674;e["lparen"]=9383;e["lslash"]=322;e["lsquare"]=8467;e["lsuperior"]=63214;e["ltshade"]=9617;e["luthai"]=3622;e["lvocalicbengali"]=2444;e["lvocalicdeva"]=2316;e["lvocalicvowelsignbengali"]=2530;e["lvocalicvowelsigndeva"]=2402;e["lxsquare"]=13267;e["m"]=109;e["mabengali"]=2478;e["macron"]=175;e["macronbelowcmb"]=817;e["macroncmb"]=772;e["macronlowmod"]=717;e["macronmonospace"]=65507;e["macute"]=7743;e["madeva"]=2350;e["magujarati"]=2734;e["magurmukhi"]=2606;e["mahapakhhebrew"]=1444;e["mahapakhlefthebrew"]=1444;e["mahiragana"]=12414;e["maichattawalowleftthai"]=63637;e["maichattawalowrightthai"]=63636;e["maichattawathai"]=3659;e["maichattawaupperleftthai"]=63635;e["maieklowleftthai"]=63628;e["maieklowrightthai"]=63627;e["maiekthai"]=3656;e["maiekupperleftthai"]=63626;e["maihanakatleftthai"]=63620;e["maihanakatthai"]=3633;e["maitaikhuleftthai"]=63625;e["maitaikhuthai"]=3655;e["maitholowleftthai"]=63631;e["maitholowrightthai"]=63630;e["maithothai"]=3657;e["maithoupperleftthai"]=63629;e["maitrilowleftthai"]=63634;e["maitrilowrightthai"]=63633;e["maitrithai"]=3658;e["maitriupperleftthai"]=63632;e["maiyamokthai"]=3654;e["makatakana"]=12510;e["makatakanahalfwidth"]=65423;e["male"]=9794;e["mansyonsquare"]=13127;e["maqafhebrew"]=1470;e["mars"]=9794;e["masoracirclehebrew"]=1455;e["masquare"]=13187;e["mbopomofo"]=12551;e["mbsquare"]=13268;e["mcircle"]=9436;e["mcubedsquare"]=13221;e["mdotaccent"]=7745;e["mdotbelow"]=7747;e["meemarabic"]=1605;e["meemfinalarabic"]=65250;e["meeminitialarabic"]=65251;e["meemmedialarabic"]=65252;e["meemmeeminitialarabic"]=64721;e["meemmeemisolatedarabic"]=64584;e["meetorusquare"]=13133;e["mehiragana"]=12417;e["meizierasquare"]=13182;e["mekatakana"]=12513;e["mekatakanahalfwidth"]=65426;e["mem"]=1502;e["memdagesh"]=64318;e["memdageshhebrew"]=64318;e["memhebrew"]=1502;e["menarmenian"]=1396;e["merkhahebrew"]=1445;e["merkhakefulahebrew"]=1446;e["merkhakefulalefthebrew"]=1446;e["merkhalefthebrew"]=1445;e["mhook"]=625;e["mhzsquare"]=13202;e["middledotkatakanahalfwidth"]=65381;e["middot"]=183;e["mieumacirclekorean"]=12914;e["mieumaparenkorean"]=12818;e["mieumcirclekorean"]=12900;e["mieumkorean"]=12609;e["mieumpansioskorean"]=12656;e["mieumparenkorean"]=12804;e["mieumpieupkorean"]=12654;e["mieumsioskorean"]=12655;e["mihiragana"]=12415;e["mikatakana"]=12511;e["mikatakanahalfwidth"]=65424;e["minus"]=8722;e["minusbelowcmb"]=800;e["minuscircle"]=8854;e["minusmod"]=727;e["minusplus"]=8723;e["minute"]=8242;e["miribaarusquare"]=13130;e["mirisquare"]=13129;e["mlonglegturned"]=624;e["mlsquare"]=13206;e["mmcubedsquare"]=13219;e["mmonospace"]=65357;e["mmsquaredsquare"]=13215;e["mohiragana"]=12418;e["mohmsquare"]=13249;e["mokatakana"]=12514;e["mokatakanahalfwidth"]=65427;e["molsquare"]=13270;e["momathai"]=3617;e["moverssquare"]=13223;e["moverssquaredsquare"]=13224;e["mparen"]=9384;e["mpasquare"]=13227;e["mssquare"]=13235;e["msuperior"]=63215;e["mturned"]=623;e["mu"]=181;e["mu1"]=181;e["muasquare"]=13186;e["muchgreater"]=8811;e["muchless"]=8810;e["mufsquare"]=13196;e["mugreek"]=956;e["mugsquare"]=13197;e["muhiragana"]=12416;e["mukatakana"]=12512;e["mukatakanahalfwidth"]=65425;e["mulsquare"]=13205;e["multiply"]=215;e["mumsquare"]=13211;e["munahhebrew"]=1443;e["munahlefthebrew"]=1443;e["musicalnote"]=9834;e["musicalnotedbl"]=9835;e["musicflatsign"]=9837;e["musicsharpsign"]=9839;e["mussquare"]=13234;e["muvsquare"]=13238;e["muwsquare"]=13244;e["mvmegasquare"]=13241;e["mvsquare"]=13239;e["mwmegasquare"]=13247;e["mwsquare"]=13245;e["n"]=110;e["nabengali"]=2472;e["nabla"]=8711;e["nacute"]=324;e["nadeva"]=2344;e["nagujarati"]=2728;e["nagurmukhi"]=2600;e["nahiragana"]=12394;e["nakatakana"]=12490;e["nakatakanahalfwidth"]=65413;e["napostrophe"]=329;e["nasquare"]=13185;e["nbopomofo"]=12555;e["nbspace"]=160;e["ncaron"]=328;e["ncedilla"]=326;e["ncircle"]=9437;e["ncircumflexbelow"]=7755;e["ncommaaccent"]=326;e["ndotaccent"]=7749;e["ndotbelow"]=7751;e["nehiragana"]=12397;e["nekatakana"]=12493;e["nekatakanahalfwidth"]=65416;e["newsheqelsign"]=8362;e["nfsquare"]=13195;e["ngabengali"]=2457;e["ngadeva"]=2329;e["ngagujarati"]=2713;e["ngagurmukhi"]=2585;e["ngonguthai"]=3591;e["nhiragana"]=12435;e["nhookleft"]=626;e["nhookretroflex"]=627;e["nieunacirclekorean"]=12911;e["nieunaparenkorean"]=12815;e["nieuncieuckorean"]=12597;e["nieuncirclekorean"]=12897;e["nieunhieuhkorean"]=12598;e["nieunkorean"]=12596;e["nieunpansioskorean"]=12648;e["nieunparenkorean"]=12801;e["nieunsioskorean"]=12647;e["nieuntikeutkorean"]=12646;e["nihiragana"]=12395;e["nikatakana"]=12491;e["nikatakanahalfwidth"]=65414;e["nikhahitleftthai"]=63641;e["nikhahitthai"]=3661;e["nine"]=57;e["ninearabic"]=1641;e["ninebengali"]=2543;e["ninecircle"]=9320;e["ninecircleinversesansserif"]=10130;e["ninedeva"]=2415;e["ninegujarati"]=2799;e["ninegurmukhi"]=2671;e["ninehackarabic"]=1641;e["ninehangzhou"]=12329;e["nineideographicparen"]=12840;e["nineinferior"]=8329;e["ninemonospace"]=65305;e["nineoldstyle"]=63289;e["nineparen"]=9340;e["nineperiod"]=9360;e["ninepersian"]=1785;e["nineroman"]=8568;e["ninesuperior"]=8313;e["nineteencircle"]=9330;e["nineteenparen"]=9350;e["nineteenperiod"]=9370;e["ninethai"]=3673;e["nj"]=460;e["njecyrillic"]=1114;e["nkatakana"]=12531;e["nkatakanahalfwidth"]=65437;e["nlegrightlong"]=414;e["nlinebelow"]=7753;e["nmonospace"]=65358;e["nmsquare"]=13210;e["nnabengali"]=2467;e["nnadeva"]=2339;e["nnagujarati"]=2723;e["nnagurmukhi"]=2595;e["nnnadeva"]=2345;e["nohiragana"]=12398;e["nokatakana"]=12494;e["nokatakanahalfwidth"]=65417;e["nonbreakingspace"]=160;e["nonenthai"]=3603;e["nonuthai"]=3609;e["noonarabic"]=1606;e["noonfinalarabic"]=65254;e["noonghunnaarabic"]=1722;e["noonghunnafinalarabic"]=64415;e["nooninitialarabic"]=65255;e["noonjeeminitialarabic"]=64722;e["noonjeemisolatedarabic"]=64587;e["noonmedialarabic"]=65256;e["noonmeeminitialarabic"]=64725;e["noonmeemisolatedarabic"]=64590;e["noonnoonfinalarabic"]=64653;e["notcontains"]=8716;e["notelement"]=8713;e["notelementof"]=8713;e["notequal"]=8800;e["notgreater"]=8815;e["notgreaternorequal"]=8817;e["notgreaternorless"]=8825;e["notidentical"]=8802;e["notless"]=8814;e["notlessnorequal"]=8816;e["notparallel"]=8742;e["notprecedes"]=8832;e["notsubset"]=8836;e["notsucceeds"]=8833;e["notsuperset"]=8837;e["nowarmenian"]=1398;e["nparen"]=9385;e["nssquare"]=13233;e["nsuperior"]=8319;e["ntilde"]=241;e["nu"]=957;e["nuhiragana"]=12396;e["nukatakana"]=12492;e["nukatakanahalfwidth"]=65415;e["nuktabengali"]=2492;e["nuktadeva"]=2364;e["nuktagujarati"]=2748;e["nuktagurmukhi"]=2620;e["numbersign"]=35;e["numbersignmonospace"]=65283;e["numbersignsmall"]=65119;e["numeralsigngreek"]=884;e["numeralsignlowergreek"]=885;e["numero"]=8470;e["nun"]=1504;e["nundagesh"]=64320;e["nundageshhebrew"]=64320;e["nunhebrew"]=1504;e["nvsquare"]=13237;e["nwsquare"]=13243;e["nyabengali"]=2462;e["nyadeva"]=2334;e["nyagujarati"]=2718;e["nyagurmukhi"]=2590;e["o"]=111;e["oacute"]=243;e["oangthai"]=3629;e["obarred"]=629;e["obarredcyrillic"]=1257;e["obarreddieresiscyrillic"]=1259;e["obengali"]=2451;e["obopomofo"]=12571;e["obreve"]=335;e["ocandradeva"]=2321;e["ocandragujarati"]=2705;e["ocandravowelsigndeva"]=2377;e["ocandravowelsigngujarati"]=2761;e["ocaron"]=466;e["ocircle"]=9438;e["ocircumflex"]=244;e["ocircumflexacute"]=7889;e["ocircumflexdotbelow"]=7897;e["ocircumflexgrave"]=7891;e["ocircumflexhookabove"]=7893;e["ocircumflextilde"]=7895;e["ocyrillic"]=1086;e["odblacute"]=337;e["odblgrave"]=525;e["odeva"]=2323;e["odieresis"]=246;e["odieresiscyrillic"]=1255;e["odotbelow"]=7885;e["oe"]=339;e["oekorean"]=12634;e["ogonek"]=731;e["ogonekcmb"]=808;e["ograve"]=242;e["ogujarati"]=2707;e["oharmenian"]=1413;e["ohiragana"]=12362;e["ohookabove"]=7887;e["ohorn"]=417;e["ohornacute"]=7899;e["ohorndotbelow"]=7907;e["ohorngrave"]=7901;e["ohornhookabove"]=7903;e["ohorntilde"]=7905;e["ohungarumlaut"]=337;e["oi"]=419;e["oinvertedbreve"]=527;e["okatakana"]=12458;e["okatakanahalfwidth"]=65397;e["okorean"]=12631;e["olehebrew"]=1451;e["omacron"]=333;e["omacronacute"]=7763;e["omacrongrave"]=7761;e["omdeva"]=2384;e["omega"]=969;e["omega1"]=982;e["omegacyrillic"]=1121;e["omegalatinclosed"]=631;e["omegaroundcyrillic"]=1147;e["omegatitlocyrillic"]=1149;e["omegatonos"]=974;e["omgujarati"]=2768;e["omicron"]=959;e["omicrontonos"]=972;e["omonospace"]=65359;e["one"]=49;e["onearabic"]=1633;e["onebengali"]=2535;e["onecircle"]=9312;e["onecircleinversesansserif"]=10122;e["onedeva"]=2407;e["onedotenleader"]=8228;e["oneeighth"]=8539;e["onefitted"]=63196;e["onegujarati"]=2791;e["onegurmukhi"]=2663;e["onehackarabic"]=1633;e["onehalf"]=189;e["onehangzhou"]=12321;e["oneideographicparen"]=12832;e["oneinferior"]=8321;e["onemonospace"]=65297;e["onenumeratorbengali"]=2548;e["oneoldstyle"]=63281;e["oneparen"]=9332;e["oneperiod"]=9352;e["onepersian"]=1777;e["onequarter"]=188;e["oneroman"]=8560;e["onesuperior"]=185;e["onethai"]=3665;e["onethird"]=8531;e["oogonek"]=491;e["oogonekmacron"]=493;e["oogurmukhi"]=2579;e["oomatragurmukhi"]=2635;e["oopen"]=596;e["oparen"]=9386;e["openbullet"]=9702;e["option"]=8997;e["ordfeminine"]=170;e["ordmasculine"]=186;e["orthogonal"]=8735;e["oshortdeva"]=2322;e["oshortvowelsigndeva"]=2378;e["oslash"]=248;e["oslashacute"]=511;e["osmallhiragana"]=12361;e["osmallkatakana"]=12457;e["osmallkatakanahalfwidth"]=65387;e["ostrokeacute"]=511;e["osuperior"]=63216;e["otcyrillic"]=1151;e["otilde"]=245;e["otildeacute"]=7757;e["otildedieresis"]=7759;e["oubopomofo"]=12577;e["overline"]=8254;e["overlinecenterline"]=65098;e["overlinecmb"]=773;e["overlinedashed"]=65097;e["overlinedblwavy"]=65100;e["overlinewavy"]=65099;e["overscore"]=175;e["ovowelsignbengali"]=2507;e["ovowelsigndeva"]=2379;e["ovowelsigngujarati"]=2763;e["p"]=112;e["paampssquare"]=13184;e["paasentosquare"]=13099;e["pabengali"]=2474;e["pacute"]=7765;e["padeva"]=2346;e["pagedown"]=8671;e["pageup"]=8670;e["pagujarati"]=2730;e["pagurmukhi"]=2602;e["pahiragana"]=12401;e["paiyannoithai"]=3631;e["pakatakana"]=12497;e["palatalizationcyrilliccmb"]=1156;e["palochkacyrillic"]=1216;e["pansioskorean"]=12671;e["paragraph"]=182;e["parallel"]=8741;e["parenleft"]=40;e["parenleftaltonearabic"]=64830;e["parenleftbt"]=63725;e["parenleftex"]=63724;e["parenleftinferior"]=8333;e["parenleftmonospace"]=65288;e["parenleftsmall"]=65113;e["parenleftsuperior"]=8317;e["parenlefttp"]=63723;e["parenleftvertical"]=65077;e["parenright"]=41;e["parenrightaltonearabic"]=64831;e["parenrightbt"]=63736;e["parenrightex"]=63735;e["parenrightinferior"]=8334;e["parenrightmonospace"]=65289;e["parenrightsmall"]=65114;e["parenrightsuperior"]=8318;e["parenrighttp"]=63734;e["parenrightvertical"]=65078;e["partialdiff"]=8706;e["paseqhebrew"]=1472;e["pashtahebrew"]=1433;e["pasquare"]=13225;e["patah"]=1463;e["patah11"]=1463;e["patah1d"]=1463;e["patah2a"]=1463;e["patahhebrew"]=1463;e["patahnarrowhebrew"]=1463;e["patahquarterhebrew"]=1463;e["patahwidehebrew"]=1463;e["pazerhebrew"]=1441;e["pbopomofo"]=12550;e["pcircle"]=9439;e["pdotaccent"]=7767;e["pe"]=1508;e["pecyrillic"]=1087;e["pedagesh"]=64324;e["pedageshhebrew"]=64324;e["peezisquare"]=13115;e["pefinaldageshhebrew"]=64323;e["peharabic"]=1662;e["peharmenian"]=1402;e["pehebrew"]=1508;e["pehfinalarabic"]=64343;e["pehinitialarabic"]=64344;e["pehiragana"]=12410;e["pehmedialarabic"]=64345;e["pekatakana"]=12506;e["pemiddlehookcyrillic"]=1191;e["perafehebrew"]=64334;e["percent"]=37;e["percentarabic"]=1642;e["percentmonospace"]=65285;e["percentsmall"]=65130;e["period"]=46;e["periodarmenian"]=1417;e["periodcentered"]=183;e["periodhalfwidth"]=65377;e["periodinferior"]=63207;e["periodmonospace"]=65294;e["periodsmall"]=65106;e["periodsuperior"]=63208;e["perispomenigreekcmb"]=834;e["perpendicular"]=8869;e["perthousand"]=8240;e["peseta"]=8359;e["pfsquare"]=13194;e["phabengali"]=2475;e["phadeva"]=2347;e["phagujarati"]=2731;e["phagurmukhi"]=2603;e["phi"]=966;e["phi1"]=981;e["phieuphacirclekorean"]=12922;e["phieuphaparenkorean"]=12826;e["phieuphcirclekorean"]=12908;e["phieuphkorean"]=12621;e["phieuphparenkorean"]=12812;e["philatin"]=632;e["phinthuthai"]=3642;e["phisymbolgreek"]=981;e["phook"]=421;e["phophanthai"]=3614;e["phophungthai"]=3612;e["phosamphaothai"]=3616;e["pi"]=960;e["pieupacirclekorean"]=12915;e["pieupaparenkorean"]=12819;e["pieupcieuckorean"]=12662;e["pieupcirclekorean"]=12901;e["pieupkiyeokkorean"]=12658;e["pieupkorean"]=12610;e["pieupparenkorean"]=12805;e["pieupsioskiyeokkorean"]=12660;e["pieupsioskorean"]=12612;e["pieupsiostikeutkorean"]=12661;e["pieupthieuthkorean"]=12663;e["pieuptikeutkorean"]=12659;e["pihiragana"]=12404;e["pikatakana"]=12500;e["pisymbolgreek"]=982;e["piwrarmenian"]=1411;e["plus"]=43;e["plusbelowcmb"]=799;e["pluscircle"]=8853;e["plusminus"]=177;e["plusmod"]=726;e["plusmonospace"]=65291;e["plussmall"]=65122;e["plussuperior"]=8314;e["pmonospace"]=65360;e["pmsquare"]=13272;e["pohiragana"]=12413;e["pointingindexdownwhite"]=9759;e["pointingindexleftwhite"]=9756;e["pointingindexrightwhite"]=9758;e["pointingindexupwhite"]=9757;e["pokatakana"]=12509;e["poplathai"]=3611;e["postalmark"]=12306;e["postalmarkface"]=12320;e["pparen"]=9387;e["precedes"]=8826;e["prescription"]=8478;e["primemod"]=697;e["primereversed"]=8245;e["product"]=8719;e["projective"]=8965;e["prolongedkana"]=12540;e["propellor"]=8984;e["propersubset"]=8834;e["propersuperset"]=8835;e["proportion"]=8759;e["proportional"]=8733;e["psi"]=968;e["psicyrillic"]=1137;e["psilipneumatacyrilliccmb"]=1158;e["pssquare"]=13232;e["puhiragana"]=12407;e["pukatakana"]=12503;e["pvsquare"]=13236;e["pwsquare"]=13242;e["q"]=113;e["qadeva"]=2392;e["qadmahebrew"]=1448;e["qafarabic"]=1602;e["qaffinalarabic"]=65238;e["qafinitialarabic"]=65239;e["qafmedialarabic"]=65240;e["qamats"]=1464;e["qamats10"]=1464;e["qamats1a"]=1464;e["qamats1c"]=1464;e["qamats27"]=1464;e["qamats29"]=1464;e["qamats33"]=1464;e["qamatsde"]=1464;e["qamatshebrew"]=1464;e["qamatsnarrowhebrew"]=1464;e["qamatsqatanhebrew"]=1464;e["qamatsqatannarrowhebrew"]=1464;e["qamatsqatanquarterhebrew"]=1464;e["qamatsqatanwidehebrew"]=1464;e["qamatsquarterhebrew"]=1464;e["qamatswidehebrew"]=1464;e["qarneyparahebrew"]=1439;e["qbopomofo"]=12561;e["qcircle"]=9440;e["qhook"]=672;e["qmonospace"]=65361;e["qof"]=1511;e["qofdagesh"]=64327;e["qofdageshhebrew"]=64327;e["qofhebrew"]=1511;e["qparen"]=9388;e["quarternote"]=9833;e["qubuts"]=1467;e["qubuts18"]=1467;e["qubuts25"]=1467;e["qubuts31"]=1467;e["qubutshebrew"]=1467;e["qubutsnarrowhebrew"]=1467;e["qubutsquarterhebrew"]=1467;e["qubutswidehebrew"]=1467;e["question"]=63;e["questionarabic"]=1567;e["questionarmenian"]=1374;e["questiondown"]=191;e["questiondownsmall"]=63423;e["questiongreek"]=894;e["questionmonospace"]=65311;e["questionsmall"]=63295;e["quotedbl"]=34;e["quotedblbase"]=8222;e["quotedblleft"]=8220;e["quotedblmonospace"]=65282;e["quotedblprime"]=12318;e["quotedblprimereversed"]=12317;e["quotedblright"]=8221;e["quoteleft"]=8216;e["quoteleftreversed"]=8219;e["quotereversed"]=8219;e["quoteright"]=8217;e["quoterightn"]=329;e["quotesinglbase"]=8218;e["quotesingle"]=39;e["quotesinglemonospace"]=65287;e["r"]=114;e["raarmenian"]=1404;e["rabengali"]=2480;e["racute"]=341;e["radeva"]=2352;e["radical"]=8730;e["radicalex"]=63717;e["radoverssquare"]=13230;e["radoverssquaredsquare"]=13231;e["radsquare"]=13229;e["rafe"]=1471;e["rafehebrew"]=1471;e["ragujarati"]=2736;e["ragurmukhi"]=2608;e["rahiragana"]=12425;e["rakatakana"]=12521;e["rakatakanahalfwidth"]=65431;e["ralowerdiagonalbengali"]=2545;e["ramiddlediagonalbengali"]=2544;e["ramshorn"]=612;e["ratio"]=8758;e["rbopomofo"]=12566;e["rcaron"]=345;e["rcedilla"]=343;e["rcircle"]=9441;e["rcommaaccent"]=343;e["rdblgrave"]=529;e["rdotaccent"]=7769;e["rdotbelow"]=7771;e["rdotbelowmacron"]=7773;e["referencemark"]=8251;e["reflexsubset"]=8838;e["reflexsuperset"]=8839;e["registered"]=174;e["registersans"]=63720;e["registerserif"]=63194;e["reharabic"]=1585;e["reharmenian"]=1408;e["rehfinalarabic"]=65198;e["rehiragana"]=12428;e["rekatakana"]=12524;e["rekatakanahalfwidth"]=65434;e["resh"]=1512;e["reshdageshhebrew"]=64328;e["reshhebrew"]=1512;e["reversedtilde"]=8765;e["reviahebrew"]=1431;e["reviamugrashhebrew"]=1431;e["revlogicalnot"]=8976;e["rfishhook"]=638;e["rfishhookreversed"]=639;e["rhabengali"]=2525;e["rhadeva"]=2397;e["rho"]=961;e["rhook"]=637;e["rhookturned"]=635;e["rhookturnedsuperior"]=693;e["rhosymbolgreek"]=1009;e["rhotichookmod"]=734;e["rieulacirclekorean"]=12913;e["rieulaparenkorean"]=12817;e["rieulcirclekorean"]=12899;e["rieulhieuhkorean"]=12608;e["rieulkiyeokkorean"]=12602;e["rieulkiyeoksioskorean"]=12649;e["rieulkorean"]=12601;e["rieulmieumkorean"]=12603;e["rieulpansioskorean"]=12652;e["rieulparenkorean"]=12803;e["rieulphieuphkorean"]=12607;e["rieulpieupkorean"]=12604;e["rieulpieupsioskorean"]=12651;e["rieulsioskorean"]=12605;e["rieulthieuthkorean"]=12606;e["rieultikeutkorean"]=12650;e["rieulyeorinhieuhkorean"]=12653;e["rightangle"]=8735;e["righttackbelowcmb"]=793;e["righttriangle"]=8895;e["rihiragana"]=12426;e["rikatakana"]=12522;e["rikatakanahalfwidth"]=65432;e["ring"]=730;e["ringbelowcmb"]=805;e["ringcmb"]=778;e["ringhalfleft"]=703;e["ringhalfleftarmenian"]=1369;e["ringhalfleftbelowcmb"]=796;e["ringhalfleftcentered"]=723;e["ringhalfright"]=702;e["ringhalfrightbelowcmb"]=825;e["ringhalfrightcentered"]=722;e["rinvertedbreve"]=531;e["rittorusquare"]=13137;e["rlinebelow"]=7775;e["rlongleg"]=636;e["rlonglegturned"]=634;e["rmonospace"]=65362;e["rohiragana"]=12429;e["rokatakana"]=12525;e["rokatakanahalfwidth"]=65435;e["roruathai"]=3619;e["rparen"]=9389;e["rrabengali"]=2524;e["rradeva"]=2353;e["rragurmukhi"]=2652;e["rreharabic"]=1681;e["rrehfinalarabic"]=64397;e["rrvocalicbengali"]=2528;e["rrvocalicdeva"]=2400;e["rrvocalicgujarati"]=2784;e["rrvocalicvowelsignbengali"]=2500;e["rrvocalicvowelsigndeva"]=2372;e["rrvocalicvowelsigngujarati"]=2756;e["rsuperior"]=63217;e["rtblock"]=9616;e["rturned"]=633;e["rturnedsuperior"]=692;e["ruhiragana"]=12427;e["rukatakana"]=12523;e["rukatakanahalfwidth"]=65433;e["rupeemarkbengali"]=2546;e["rupeesignbengali"]=2547;e["rupiah"]=63197;e["ruthai"]=3620;e["rvocalicbengali"]=2443;e["rvocalicdeva"]=2315;e["rvocalicgujarati"]=2699;e["rvocalicvowelsignbengali"]=2499;e["rvocalicvowelsigndeva"]=2371;e["rvocalicvowelsigngujarati"]=2755;e["s"]=115;e["sabengali"]=2488;e["sacute"]=347;e["sacutedotaccent"]=7781;e["sadarabic"]=1589;e["sadeva"]=2360;e["sadfinalarabic"]=65210;e["sadinitialarabic"]=65211;e["sadmedialarabic"]=65212;e["sagujarati"]=2744;e["sagurmukhi"]=2616;e["sahiragana"]=12373;e["sakatakana"]=12469;e["sakatakanahalfwidth"]=65403;e["sallallahoualayhewasallamarabic"]=65018;e["samekh"]=1505;e["samekhdagesh"]=64321;e["samekhdageshhebrew"]=64321;e["samekhhebrew"]=1505;e["saraaathai"]=3634;e["saraaethai"]=3649;e["saraaimaimalaithai"]=3652;e["saraaimaimuanthai"]=3651;e["saraamthai"]=3635;e["saraathai"]=3632;e["saraethai"]=3648;e["saraiileftthai"]=63622;e["saraiithai"]=3637;e["saraileftthai"]=63621;e["saraithai"]=3636;e["saraothai"]=3650;e["saraueeleftthai"]=63624;e["saraueethai"]=3639;e["saraueleftthai"]=63623;e["sarauethai"]=3638;e["sarauthai"]=3640;e["sarauuthai"]=3641;e["sbopomofo"]=12569;e["scaron"]=353;e["scarondotaccent"]=7783;e["scedilla"]=351;e["schwa"]=601;e["schwacyrillic"]=1241;e["schwadieresiscyrillic"]=1243;e["schwahook"]=602;e["scircle"]=9442;e["scircumflex"]=349;e["scommaaccent"]=537;e["sdotaccent"]=7777;e["sdotbelow"]=7779;e["sdotbelowdotaccent"]=7785;e["seagullbelowcmb"]=828;e["second"]=8243;e["secondtonechinese"]=714;e["section"]=167;e["seenarabic"]=1587;e["seenfinalarabic"]=65202;e["seeninitialarabic"]=65203;e["seenmedialarabic"]=65204;e["segol"]=1462;e["segol13"]=1462;e["segol1f"]=1462;e["segol2c"]=1462;e["segolhebrew"]=1462;e["segolnarrowhebrew"]=1462;e["segolquarterhebrew"]=1462;e["segoltahebrew"]=1426;e["segolwidehebrew"]=1462;e["seharmenian"]=1405;e["sehiragana"]=12379;e["sekatakana"]=12475;e["sekatakanahalfwidth"]=65406;e["semicolon"]=59;e["semicolonarabic"]=1563;e["semicolonmonospace"]=65307;e["semicolonsmall"]=65108;e["semivoicedmarkkana"]=12444;e["semivoicedmarkkanahalfwidth"]=65439;e["sentisquare"]=13090;e["sentosquare"]=13091;e["seven"]=55;e["sevenarabic"]=1639;e["sevenbengali"]=2541;e["sevencircle"]=9318;e["sevencircleinversesansserif"]=10128;e["sevendeva"]=2413;e["seveneighths"]=8542;e["sevengujarati"]=2797;e["sevengurmukhi"]=2669;e["sevenhackarabic"]=1639;e["sevenhangzhou"]=12327;e["sevenideographicparen"]=12838;e["seveninferior"]=8327;e["sevenmonospace"]=65303;e["sevenoldstyle"]=63287;e["sevenparen"]=9338;e["sevenperiod"]=9358;e["sevenpersian"]=1783;e["sevenroman"]=8566;e["sevensuperior"]=8311;e["seventeencircle"]=9328;e["seventeenparen"]=9348;e["seventeenperiod"]=9368;e["seventhai"]=3671;e["sfthyphen"]=173;e["shaarmenian"]=1399;e["shabengali"]=2486;e["shacyrillic"]=1096;e["shaddaarabic"]=1617;e["shaddadammaarabic"]=64609;e["shaddadammatanarabic"]=64606;e["shaddafathaarabic"]=64608;e["shaddakasraarabic"]=64610;e["shaddakasratanarabic"]=64607;e["shade"]=9618;e["shadedark"]=9619;e["shadelight"]=9617;e["shademedium"]=9618;e["shadeva"]=2358;e["shagujarati"]=2742;e["shagurmukhi"]=2614;e["shalshelethebrew"]=1427;e["shbopomofo"]=12565;e["shchacyrillic"]=1097;e["sheenarabic"]=1588;e["sheenfinalarabic"]=65206;e["sheeninitialarabic"]=65207;e["sheenmedialarabic"]=65208;e["sheicoptic"]=995;e["sheqel"]=8362;e["sheqelhebrew"]=8362;e["sheva"]=1456;e["sheva115"]=1456;e["sheva15"]=1456;e["sheva22"]=1456;e["sheva2e"]=1456;e["shevahebrew"]=1456;e["shevanarrowhebrew"]=1456;e["shevaquarterhebrew"]=1456;e["shevawidehebrew"]=1456;e["shhacyrillic"]=1211;e["shimacoptic"]=1005;e["shin"]=1513;e["shindagesh"]=64329;e["shindageshhebrew"]=64329;e["shindageshshindot"]=64300;e["shindageshshindothebrew"]=64300;e["shindageshsindot"]=64301;e["shindageshsindothebrew"]=64301;e["shindothebrew"]=1473;e["shinhebrew"]=1513;e["shinshindot"]=64298;e["shinshindothebrew"]=64298;e["shinsindot"]=64299;e["shinsindothebrew"]=64299;e["shook"]=642;e["sigma"]=963;e["sigma1"]=962;e["sigmafinal"]=962;e["sigmalunatesymbolgreek"]=1010;e["sihiragana"]=12375;e["sikatakana"]=12471;e["sikatakanahalfwidth"]=65404;e["siluqhebrew"]=1469;e["siluqlefthebrew"]=1469;e["similar"]=8764;e["sindothebrew"]=1474;e["siosacirclekorean"]=12916;e["siosaparenkorean"]=12820;e["sioscieuckorean"]=12670;e["sioscirclekorean"]=12902;e["sioskiyeokkorean"]=12666;e["sioskorean"]=12613;e["siosnieunkorean"]=12667;e["siosparenkorean"]=12806;e["siospieupkorean"]=12669;e["siostikeutkorean"]=12668;e["six"]=54;e["sixarabic"]=1638;e["sixbengali"]=2540;e["sixcircle"]=9317;e["sixcircleinversesansserif"]=10127;e["sixdeva"]=2412;e["sixgujarati"]=2796;e["sixgurmukhi"]=2668;e["sixhackarabic"]=1638;e["sixhangzhou"]=12326;e["sixideographicparen"]=12837;e["sixinferior"]=8326;e["sixmonospace"]=65302;e["sixoldstyle"]=63286;e["sixparen"]=9337;e["sixperiod"]=9357;e["sixpersian"]=1782;e["sixroman"]=8565;e["sixsuperior"]=8310;e["sixteencircle"]=9327;e["sixteencurrencydenominatorbengali"]=2553;e["sixteenparen"]=9347;e["sixteenperiod"]=9367;e["sixthai"]=3670;e["slash"]=47;e["slashmonospace"]=65295;e["slong"]=383;e["slongdotaccent"]=7835;e["smileface"]=9786;e["smonospace"]=65363;e["sofpasuqhebrew"]=1475;e["softhyphen"]=173;e["softsigncyrillic"]=1100;e["sohiragana"]=12381;e["sokatakana"]=12477;e["sokatakanahalfwidth"]=65407;e["soliduslongoverlaycmb"]=824;e["solidusshortoverlaycmb"]=823;e["sorusithai"]=3625;e["sosalathai"]=3624;e["sosothai"]=3595;e["sosuathai"]=3626;e["space"]=32;e["spacehackarabic"]=32;e["spade"]=9824;e["spadesuitblack"]=9824;e["spadesuitwhite"]=9828;e["sparen"]=9390;e["squarebelowcmb"]=827;e["squarecc"]=13252;e["squarecm"]=13213;e["squarediagonalcrosshatchfill"]=9641;e["squarehorizontalfill"]=9636;e["squarekg"]=13199;e["squarekm"]=13214;e["squarekmcapital"]=13262;e["squareln"]=13265;e["squarelog"]=13266;e["squaremg"]=13198;e["squaremil"]=13269;e["squaremm"]=13212;e["squaremsquared"]=13217;e["squareorthogonalcrosshatchfill"]=9638;e["squareupperlefttolowerrightfill"]=9639;e["squareupperrighttolowerleftfill"]=9640;e["squareverticalfill"]=9637;e["squarewhitewithsmallblack"]=9635;e["srsquare"]=13275;e["ssabengali"]=2487;e["ssadeva"]=2359;e["ssagujarati"]=2743;e["ssangcieuckorean"]=12617;e["ssanghieuhkorean"]=12677;e["ssangieungkorean"]=12672;e["ssangkiyeokkorean"]=12594;e["ssangnieunkorean"]=12645;e["ssangpieupkorean"]=12611;e["ssangsioskorean"]=12614;e["ssangtikeutkorean"]=12600;e["ssuperior"]=63218;e["sterling"]=163;e["sterlingmonospace"]=65505;e["strokelongoverlaycmb"]=822;e["strokeshortoverlaycmb"]=821;e["subset"]=8834;e["subsetnotequal"]=8842;e["subsetorequal"]=8838;e["succeeds"]=8827;e["suchthat"]=8715;e["suhiragana"]=12377;e["sukatakana"]=12473;e["sukatakanahalfwidth"]=65405;e["sukunarabic"]=1618;e["summation"]=8721;e["sun"]=9788;e["superset"]=8835;e["supersetnotequal"]=8843;e["supersetorequal"]=8839;e["svsquare"]=13276;e["syouwaerasquare"]=13180;e["t"]=116;e["tabengali"]=2468;e["tackdown"]=8868;e["tackleft"]=8867;e["tadeva"]=2340;e["tagujarati"]=2724;e["tagurmukhi"]=2596;e["taharabic"]=1591;e["tahfinalarabic"]=65218;e["tahinitialarabic"]=65219;e["tahiragana"]=12383;e["tahmedialarabic"]=65220;e["taisyouerasquare"]=13181;e["takatakana"]=12479;e["takatakanahalfwidth"]=65408;e["tatweelarabic"]=1600;e["tau"]=964;e["tav"]=1514;e["tavdages"]=64330;e["tavdagesh"]=64330;e["tavdageshhebrew"]=64330;e["tavhebrew"]=1514;e["tbar"]=359;e["tbopomofo"]=12554;e["tcaron"]=357;e["tccurl"]=680;e["tcedilla"]=355;e["tcheharabic"]=1670;e["tchehfinalarabic"]=64379;e["tchehinitialarabic"]=64380;e["tchehmedialarabic"]=64381;e["tcircle"]=9443;e["tcircumflexbelow"]=7793;e["tcommaaccent"]=355;e["tdieresis"]=7831;e["tdotaccent"]=7787;e["tdotbelow"]=7789;e["tecyrillic"]=1090;e["tedescendercyrillic"]=1197;e["teharabic"]=1578;e["tehfinalarabic"]=65174;e["tehhahinitialarabic"]=64674;e["tehhahisolatedarabic"]=64524;e["tehinitialarabic"]=65175;e["tehiragana"]=12390;e["tehjeeminitialarabic"]=64673;e["tehjeemisolatedarabic"]=64523;e["tehmarbutaarabic"]=1577;e["tehmarbutafinalarabic"]=65172;e["tehmedialarabic"]=65176;e["tehmeeminitialarabic"]=64676;e["tehmeemisolatedarabic"]=64526;e["tehnoonfinalarabic"]=64627;e["tekatakana"]=12486;e["tekatakanahalfwidth"]=65411;e["telephone"]=8481;e["telephoneblack"]=9742;e["telishagedolahebrew"]=1440;e["telishaqetanahebrew"]=1449;e["tencircle"]=9321;e["tenideographicparen"]=12841;e["tenparen"]=9341;e["tenperiod"]=9361;e["tenroman"]=8569;e["tesh"]=679;e["tet"]=1496;e["tetdagesh"]=64312;e["tetdageshhebrew"]=64312;e["tethebrew"]=1496;e["tetsecyrillic"]=1205;e["tevirhebrew"]=1435;e["tevirlefthebrew"]=1435;e["thabengali"]=2469;e["thadeva"]=2341;e["thagujarati"]=2725;e["thagurmukhi"]=2597;e["thalarabic"]=1584;e["thalfinalarabic"]=65196;e["thanthakhatlowleftthai"]=63640;e["thanthakhatlowrightthai"]=63639;e["thanthakhatthai"]=3660;e["thanthakhatupperleftthai"]=63638;e["theharabic"]=1579;e["thehfinalarabic"]=65178;e["thehinitialarabic"]=65179;e["thehmedialarabic"]=65180;e["thereexists"]=8707;e["therefore"]=8756;e["theta"]=952;e["theta1"]=977;e["thetasymbolgreek"]=977;e["thieuthacirclekorean"]=12921;e["thieuthaparenkorean"]=12825;e["thieuthcirclekorean"]=12907;e["thieuthkorean"]=12620;e["thieuthparenkorean"]=12811;e["thirteencircle"]=9324;e["thirteenparen"]=9344;e["thirteenperiod"]=9364;e["thonangmonthothai"]=3601;e["thook"]=429;e["thophuthaothai"]=3602;e["thorn"]=254;e["thothahanthai"]=3607;e["thothanthai"]=3600;e["thothongthai"]=3608;e["thothungthai"]=3606;e["thousandcyrillic"]=1154;e["thousandsseparatorarabic"]=1644;e["thousandsseparatorpersian"]=1644;e["three"]=51;e["threearabic"]=1635;e["threebengali"]=2537;e["threecircle"]=9314;e["threecircleinversesansserif"]=10124;e["threedeva"]=2409;e["threeeighths"]=8540;e["threegujarati"]=2793;e["threegurmukhi"]=2665;e["threehackarabic"]=1635;e["threehangzhou"]=12323;e["threeideographicparen"]=12834;e["threeinferior"]=8323;e["threemonospace"]=65299;e["threenumeratorbengali"]=2550;e["threeoldstyle"]=63283;e["threeparen"]=9334;e["threeperiod"]=9354;e["threepersian"]=1779;e["threequarters"]=190;e["threequartersemdash"]=63198;e["threeroman"]=8562;e["threesuperior"]=179;e["threethai"]=3667;e["thzsquare"]=13204;e["tihiragana"]=12385;e["tikatakana"]=12481;e["tikatakanahalfwidth"]=65409;e["tikeutacirclekorean"]=12912;e["tikeutaparenkorean"]=12816;e["tikeutcirclekorean"]=12898;e["tikeutkorean"]=12599;e["tikeutparenkorean"]=12802;e["tilde"]=732;e["tildebelowcmb"]=816;e["tildecmb"]=771;e["tildecomb"]=771;e["tildedoublecmb"]=864;e["tildeoperator"]=8764;e["tildeoverlaycmb"]=820;e["tildeverticalcmb"]=830;e["timescircle"]=8855;e["tipehahebrew"]=1430;e["tipehalefthebrew"]=1430;e["tippigurmukhi"]=2672;e["titlocyrilliccmb"]=1155;e["tiwnarmenian"]=1407;e["tlinebelow"]=7791;e["tmonospace"]=65364;e["toarmenian"]=1385;e["tohiragana"]=12392;e["tokatakana"]=12488;e["tokatakanahalfwidth"]=65412;e["tonebarextrahighmod"]=741;e["tonebarextralowmod"]=745;e["tonebarhighmod"]=742;e["tonebarlowmod"]=744;e["tonebarmidmod"]=743;e["tonefive"]=445;e["tonesix"]=389;e["tonetwo"]=424;e["tonos"]=900;e["tonsquare"]=13095;e["topatakthai"]=3599;e["tortoiseshellbracketleft"]=12308;e["tortoiseshellbracketleftsmall"]=65117;e["tortoiseshellbracketleftvertical"]=65081;e["tortoiseshellbracketright"]=12309;e["tortoiseshellbracketrightsmall"]=65118;e["tortoiseshellbracketrightvertical"]=65082;e["totaothai"]=3605;e["tpalatalhook"]=427;e["tparen"]=9391;e["trademark"]=8482;e["trademarksans"]=63722;e["trademarkserif"]=63195;e["tretroflexhook"]=648;e["triagdn"]=9660;e["triaglf"]=9668;e["triagrt"]=9658;e["triagup"]=9650;e["ts"]=678;e["tsadi"]=1510;e["tsadidagesh"]=64326;e["tsadidageshhebrew"]=64326;e["tsadihebrew"]=1510;e["tsecyrillic"]=1094;e["tsere"]=1461;e["tsere12"]=1461;e["tsere1e"]=1461;e["tsere2b"]=1461;e["tserehebrew"]=1461;e["tserenarrowhebrew"]=1461;e["tserequarterhebrew"]=1461;e["tserewidehebrew"]=1461;e["tshecyrillic"]=1115;e["tsuperior"]=63219;e["ttabengali"]=2463;e["ttadeva"]=2335;e["ttagujarati"]=2719;e["ttagurmukhi"]=2591;e["tteharabic"]=1657;e["ttehfinalarabic"]=64359;e["ttehinitialarabic"]=64360;e["ttehmedialarabic"]=64361;e["tthabengali"]=2464;e["tthadeva"]=2336;e["tthagujarati"]=2720;e["tthagurmukhi"]=2592;e["tturned"]=647;e["tuhiragana"]=12388;e["tukatakana"]=12484;e["tukatakanahalfwidth"]=65410;e["tusmallhiragana"]=12387;e["tusmallkatakana"]=12483;e["tusmallkatakanahalfwidth"]=65391;e["twelvecircle"]=9323;e["twelveparen"]=9343;e["twelveperiod"]=9363;e["twelveroman"]=8571;e["twentycircle"]=9331;e["twentyhangzhou"]=21316;e["twentyparen"]=9351;e["twentyperiod"]=9371;e["two"]=50;e["twoarabic"]=1634;e["twobengali"]=2536;e["twocircle"]=9313;e["twocircleinversesansserif"]=10123;e["twodeva"]=2408;e["twodotenleader"]=8229;e["twodotleader"]=8229;e["twodotleadervertical"]=65072;e["twogujarati"]=2792;e["twogurmukhi"]=2664;e["twohackarabic"]=1634;e["twohangzhou"]=12322;e["twoideographicparen"]=12833;e["twoinferior"]=8322;e["twomonospace"]=65298;e["twonumeratorbengali"]=2549;e["twooldstyle"]=63282;e["twoparen"]=9333;e["twoperiod"]=9353;e["twopersian"]=1778;e["tworoman"]=8561;e["twostroke"]=443;e["twosuperior"]=178;e["twothai"]=3666;e["twothirds"]=8532;e["u"]=117;e["uacute"]=250;e["ubar"]=649;e["ubengali"]=2441;e["ubopomofo"]=12584;e["ubreve"]=365;e["ucaron"]=468;e["ucircle"]=9444;e["ucircumflex"]=251;e["ucircumflexbelow"]=7799;e["ucyrillic"]=1091;e["udattadeva"]=2385;e["udblacute"]=369;e["udblgrave"]=533;e["udeva"]=2313;e["udieresis"]=252;e["udieresisacute"]=472;e["udieresisbelow"]=7795;e["udieresiscaron"]=474;e["udieresiscyrillic"]=1265;e["udieresisgrave"]=476;e["udieresismacron"]=470;e["udotbelow"]=7909;e["ugrave"]=249;e["ugujarati"]=2697;e["ugurmukhi"]=2569;e["uhiragana"]=12358;e["uhookabove"]=7911;e["uhorn"]=432;e["uhornacute"]=7913;e["uhorndotbelow"]=7921;e["uhorngrave"]=7915;e["uhornhookabove"]=7917;e["uhorntilde"]=7919;e["uhungarumlaut"]=369;e["uhungarumlautcyrillic"]=1267;e["uinvertedbreve"]=535;e["ukatakana"]=12454;e["ukatakanahalfwidth"]=65395;e["ukcyrillic"]=1145;e["ukorean"]=12636;e["umacron"]=363;e["umacroncyrillic"]=1263;e["umacrondieresis"]=7803;e["umatragurmukhi"]=2625;e["umonospace"]=65365;e["underscore"]=95;e["underscoredbl"]=8215;e["underscoremonospace"]=65343;e["underscorevertical"]=65075;e["underscorewavy"]=65103;e["union"]=8746;e["universal"]=8704;e["uogonek"]=371;e["uparen"]=9392;e["upblock"]=9600;e["upperdothebrew"]=1476;e["upsilon"]=965;e["upsilondieresis"]=971;e["upsilondieresistonos"]=944;e["upsilonlatin"]=650;e["upsilontonos"]=973;e["uptackbelowcmb"]=797;e["uptackmod"]=724;e["uragurmukhi"]=2675;e["uring"]=367;e["ushortcyrillic"]=1118;e["usmallhiragana"]=12357;e["usmallkatakana"]=12453;e["usmallkatakanahalfwidth"]=65385;e["ustraightcyrillic"]=1199;e["ustraightstrokecyrillic"]=1201;e["utilde"]=361;e["utildeacute"]=7801;e["utildebelow"]=7797;e["uubengali"]=2442;e["uudeva"]=2314;e["uugujarati"]=2698;e["uugurmukhi"]=2570;e["uumatragurmukhi"]=2626;e["uuvowelsignbengali"]=2498;e["uuvowelsigndeva"]=2370;e["uuvowelsigngujarati"]=2754;e["uvowelsignbengali"]=2497;e["uvowelsigndeva"]=2369;e["uvowelsigngujarati"]=2753;e["v"]=118;e["vadeva"]=2357;e["vagujarati"]=2741;e["vagurmukhi"]=2613;e["vakatakana"]=12535;e["vav"]=1493;e["vavdagesh"]=64309;e["vavdagesh65"]=64309;e["vavdageshhebrew"]=64309;e["vavhebrew"]=1493;e["vavholam"]=64331;e["vavholamhebrew"]=64331;e["vavvavhebrew"]=1520;e["vavyodhebrew"]=1521;e["vcircle"]=9445;e["vdotbelow"]=7807;e["vecyrillic"]=1074;e["veharabic"]=1700;e["vehfinalarabic"]=64363;e["vehinitialarabic"]=64364;e["vehmedialarabic"]=64365;e["vekatakana"]=12537;e["venus"]=9792;e["verticalbar"]=124;e["verticallineabovecmb"]=781;e["verticallinebelowcmb"]=809;e["verticallinelowmod"]=716;e["verticallinemod"]=712;e["vewarmenian"]=1406;e["vhook"]=651;e["vikatakana"]=12536;e["viramabengali"]=2509;e["viramadeva"]=2381;e["viramagujarati"]=2765;e["visargabengali"]=2435;e["visargadeva"]=2307;e["visargagujarati"]=2691;e["vmonospace"]=65366;e["voarmenian"]=1400;e["voicediterationhiragana"]=12446;e["voicediterationkatakana"]=12542;e["voicedmarkkana"]=12443;e["voicedmarkkanahalfwidth"]=65438;e["vokatakana"]=12538;e["vparen"]=9393;e["vtilde"]=7805;e["vturned"]=652;e["vuhiragana"]=12436;e["vukatakana"]=12532;e["w"]=119;e["wacute"]=7811;e["waekorean"]=12633;e["wahiragana"]=12431;e["wakatakana"]=12527;e["wakatakanahalfwidth"]=65436;e["wakorean"]=12632;e["wasmallhiragana"]=12430;e["wasmallkatakana"]=12526;e["wattosquare"]=13143;e["wavedash"]=12316;e["wavyunderscorevertical"]=65076;e["wawarabic"]=1608;e["wawfinalarabic"]=65262;e["wawhamzaabovearabic"]=1572;e["wawhamzaabovefinalarabic"]=65158;e["wbsquare"]=13277;e["wcircle"]=9446;e["wcircumflex"]=373;e["wdieresis"]=7813;e["wdotaccent"]=7815;e["wdotbelow"]=7817;e["wehiragana"]=12433;e["weierstrass"]=8472;e["wekatakana"]=12529;e["wekorean"]=12638;e["weokorean"]=12637;e["wgrave"]=7809;e["whitebullet"]=9702;e["whitecircle"]=9675;e["whitecircleinverse"]=9689;e["whitecornerbracketleft"]=12302;e["whitecornerbracketleftvertical"]=65091;e["whitecornerbracketright"]=12303;e["whitecornerbracketrightvertical"]=65092;e["whitediamond"]=9671;e["whitediamondcontainingblacksmalldiamond"]=9672;e["whitedownpointingsmalltriangle"]=9663;e["whitedownpointingtriangle"]=9661;e["whiteleftpointingsmalltriangle"]=9667;e["whiteleftpointingtriangle"]=9665;e["whitelenticularbracketleft"]=12310;e["whitelenticularbracketright"]=12311;e["whiterightpointingsmalltriangle"]=9657;e["whiterightpointingtriangle"]=9655;e["whitesmallsquare"]=9643;e["whitesmilingface"]=9786;e["whitesquare"]=9633;e["whitestar"]=9734;e["whitetelephone"]=9743;e["whitetortoiseshellbracketleft"]=12312;e["whitetortoiseshellbracketright"]=12313;e["whiteuppointingsmalltriangle"]=9653;e["whiteuppointingtriangle"]=9651;e["wihiragana"]=12432;e["wikatakana"]=12528;e["wikorean"]=12639;e["wmonospace"]=65367;e["wohiragana"]=12434;e["wokatakana"]=12530;e["wokatakanahalfwidth"]=65382;e["won"]=8361;e["wonmonospace"]=65510;e["wowaenthai"]=3623;e["wparen"]=9394;e["wring"]=7832;e["wsuperior"]=695;e["wturned"]=653;e["wynn"]=447;e["x"]=120;e["xabovecmb"]=829;e["xbopomofo"]=12562;e["xcircle"]=9447;e["xdieresis"]=7821;e["xdotaccent"]=7819;e["xeharmenian"]=1389;e["xi"]=958;e["xmonospace"]=65368;e["xparen"]=9395;e["xsuperior"]=739;e["y"]=121;e["yaadosquare"]=13134;e["yabengali"]=2479;e["yacute"]=253;e["yadeva"]=2351;e["yaekorean"]=12626;e["yagujarati"]=2735;e["yagurmukhi"]=2607;e["yahiragana"]=12420;e["yakatakana"]=12516;e["yakatakanahalfwidth"]=65428;e["yakorean"]=12625;e["yamakkanthai"]=3662;e["yasmallhiragana"]=12419;e["yasmallkatakana"]=12515;e["yasmallkatakanahalfwidth"]=65388;e["yatcyrillic"]=1123;e["ycircle"]=9448;e["ycircumflex"]=375;e["ydieresis"]=255;e["ydotaccent"]=7823;e["ydotbelow"]=7925;e["yeharabic"]=1610;e["yehbarreearabic"]=1746;e["yehbarreefinalarabic"]=64431;e["yehfinalarabic"]=65266;e["yehhamzaabovearabic"]=1574;e["yehhamzaabovefinalarabic"]=65162;e["yehhamzaaboveinitialarabic"]=65163;e["yehhamzaabovemedialarabic"]=65164;e["yehinitialarabic"]=65267;e["yehmedialarabic"]=65268;e["yehmeeminitialarabic"]=64733;e["yehmeemisolatedarabic"]=64600;e["yehnoonfinalarabic"]=64660;e["yehthreedotsbelowarabic"]=1745;e["yekorean"]=12630;e["yen"]=165;e["yenmonospace"]=65509;e["yeokorean"]=12629;e["yeorinhieuhkorean"]=12678;e["yerahbenyomohebrew"]=1450;e["yerahbenyomolefthebrew"]=1450;e["yericyrillic"]=1099;e["yerudieresiscyrillic"]=1273;e["yesieungkorean"]=12673;e["yesieungpansioskorean"]=12675;e["yesieungsioskorean"]=12674;e["yetivhebrew"]=1434;e["ygrave"]=7923;e["yhook"]=436;e["yhookabove"]=7927;e["yiarmenian"]=1397;e["yicyrillic"]=1111;e["yikorean"]=12642;e["yinyang"]=9775;e["yiwnarmenian"]=1410;e["ymonospace"]=65369;e["yod"]=1497;e["yoddagesh"]=64313;e["yoddageshhebrew"]=64313;e["yodhebrew"]=1497;e["yodyodhebrew"]=1522;e["yodyodpatahhebrew"]=64287;e["yohiragana"]=12424;e["yoikorean"]=12681;e["yokatakana"]=12520;e["yokatakanahalfwidth"]=65430;e["yokorean"]=12635;e["yosmallhiragana"]=12423;e["yosmallkatakana"]=12519;e["yosmallkatakanahalfwidth"]=65390;e["yotgreek"]=1011;e["yoyaekorean"]=12680;e["yoyakorean"]=12679;e["yoyakthai"]=3618;e["yoyingthai"]=3597;e["yparen"]=9396;e["ypogegrammeni"]=890;e["ypogegrammenigreekcmb"]=837;e["yr"]=422;e["yring"]=7833;e["ysuperior"]=696;e["ytilde"]=7929;e["yturned"]=654;e["yuhiragana"]=12422;e["yuikorean"]=12684;e["yukatakana"]=12518;e["yukatakanahalfwidth"]=65429;e["yukorean"]=12640;e["yusbigcyrillic"]=1131;e["yusbigiotifiedcyrillic"]=1133;e["yuslittlecyrillic"]=1127;e["yuslittleiotifiedcyrillic"]=1129;e["yusmallhiragana"]=12421;e["yusmallkatakana"]=12517;e["yusmallkatakanahalfwidth"]=65389;e["yuyekorean"]=12683;e["yuyeokorean"]=12682;e["yyabengali"]=2527;e["yyadeva"]=2399;e["z"]=122;e["zaarmenian"]=1382;e["zacute"]=378;e["zadeva"]=2395;e["zagurmukhi"]=2651;e["zaharabic"]=1592;e["zahfinalarabic"]=65222;e["zahinitialarabic"]=65223;e["zahiragana"]=12374;e["zahmedialarabic"]=65224;e["zainarabic"]=1586;e["zainfinalarabic"]=65200;e["zakatakana"]=12470;e["zaqefgadolhebrew"]=1429;e["zaqefqatanhebrew"]=1428;e["zarqahebrew"]=1432;e["zayin"]=1494;e["zayindagesh"]=64310;e["zayindageshhebrew"]=64310;e["zayinhebrew"]=1494;e["zbopomofo"]=12567;e["zcaron"]=382;e["zcircle"]=9449;e["zcircumflex"]=7825;e["zcurl"]=657;e["zdot"]=380;e["zdotaccent"]=380;e["zdotbelow"]=7827;e["zecyrillic"]=1079;e["zedescendercyrillic"]=1177;e["zedieresiscyrillic"]=1247;e["zehiragana"]=12380;e["zekatakana"]=12476;e["zero"]=48;e["zeroarabic"]=1632;e["zerobengali"]=2534;e["zerodeva"]=2406;e["zerogujarati"]=2790;e["zerogurmukhi"]=2662;e["zerohackarabic"]=1632;e["zeroinferior"]=8320;e["zeromonospace"]=65296;e["zerooldstyle"]=63280;e["zeropersian"]=1776;e["zerosuperior"]=8304;e["zerothai"]=3664;e["zerowidthjoiner"]=65279;e["zerowidthnonjoiner"]=8204;e["zerowidthspace"]=8203;e["zeta"]=950;e["zhbopomofo"]=12563;e["zhearmenian"]=1386;e["zhebrevecyrillic"]=1218;e["zhecyrillic"]=1078;e["zhedescendercyrillic"]=1175;e["zhedieresiscyrillic"]=1245;e["zihiragana"]=12376;e["zikatakana"]=12472;e["zinorhebrew"]=1454;e["zlinebelow"]=7829;e["zmonospace"]=65370;e["zohiragana"]=12382;e["zokatakana"]=12478;e["zparen"]=9397;e["zretroflexhook"]=656;e["zstroke"]=438;e["zuhiragana"]=12378;e["zukatakana"]=12474;e[".notdef"]=0;e["angbracketleftbig"]=9001;e["angbracketleftBig"]=9001;e["angbracketleftbigg"]=9001;e["angbracketleftBigg"]=9001;e["angbracketrightBig"]=9002;e["angbracketrightbig"]=9002;e["angbracketrightBigg"]=9002;e["angbracketrightbigg"]=9002;e["arrowhookleft"]=8618;e["arrowhookright"]=8617;e["arrowlefttophalf"]=8636;e["arrowleftbothalf"]=8637;e["arrownortheast"]=8599;e["arrownorthwest"]=8598;e["arrowrighttophalf"]=8640;e["arrowrightbothalf"]=8641;e["arrowsoutheast"]=8600;e["arrowsouthwest"]=8601;e["backslashbig"]=8726;e["backslashBig"]=8726;e["backslashBigg"]=8726;e["backslashbigg"]=8726;e["bardbl"]=8214;e["bracehtipdownleft"]=65079;e["bracehtipdownright"]=65079;e["bracehtipupleft"]=65080;e["bracehtipupright"]=65080;e["braceleftBig"]=123;e["braceleftbig"]=123;e["braceleftbigg"]=123;e["braceleftBigg"]=123;e["bracerightBig"]=125;e["bracerightbig"]=125;e["bracerightbigg"]=125;e["bracerightBigg"]=125;e["bracketleftbig"]=91;e["bracketleftBig"]=91;e["bracketleftbigg"]=91;e["bracketleftBigg"]=91;e["bracketrightBig"]=93;e["bracketrightbig"]=93;e["bracketrightbigg"]=93;e["bracketrightBigg"]=93;e["ceilingleftbig"]=8968;e["ceilingleftBig"]=8968;e["ceilingleftBigg"]=8968;e["ceilingleftbigg"]=8968;e["ceilingrightbig"]=8969;e["ceilingrightBig"]=8969;e["ceilingrightbigg"]=8969;e["ceilingrightBigg"]=8969;e["circledotdisplay"]=8857;e["circledottext"]=8857;e["circlemultiplydisplay"]=8855;e["circlemultiplytext"]=8855;e["circleplusdisplay"]=8853;e["circleplustext"]=8853;e["contintegraldisplay"]=8750;e["contintegraltext"]=8750;e["coproductdisplay"]=8720;e["coproducttext"]=8720;e["floorleftBig"]=8970;e["floorleftbig"]=8970;e["floorleftbigg"]=8970;e["floorleftBigg"]=8970;e["floorrightbig"]=8971;e["floorrightBig"]=8971;e["floorrightBigg"]=8971;e["floorrightbigg"]=8971;e["hatwide"]=770;e["hatwider"]=770;e["hatwidest"]=770;e["intercal"]=7488;e["integraldisplay"]=8747;e["integraltext"]=8747;e["intersectiondisplay"]=8898;e["intersectiontext"]=8898;e["logicalanddisplay"]=8743;e["logicalandtext"]=8743;e["logicalordisplay"]=8744;e["logicalortext"]=8744;e["parenleftBig"]=40;e["parenleftbig"]=40;e["parenleftBigg"]=40;e["parenleftbigg"]=40;e["parenrightBig"]=41;e["parenrightbig"]=41;e["parenrightBigg"]=41;e["parenrightbigg"]=41;e["prime"]=8242;e["productdisplay"]=8719;e["producttext"]=8719;e["radicalbig"]=8730;e["radicalBig"]=8730;e["radicalBigg"]=8730;e["radicalbigg"]=8730;e["radicalbt"]=8730;e["radicaltp"]=8730;e["radicalvertex"]=8730;e["slashbig"]=47;e["slashBig"]=47;e["slashBigg"]=47;e["slashbigg"]=47;e["summationdisplay"]=8721;e["summationtext"]=8721;e["tildewide"]=732;e["tildewider"]=732;e["tildewidest"]=732;e["uniondisplay"]=8899;e["unionmultidisplay"]=8846;e["unionmultitext"]=8846;e["unionsqdisplay"]=8852;e["unionsqtext"]=8852;e["uniontext"]=8899;e["vextenddouble"]=8741;e["vextendsingle"]=8739});var i=a(function(e){e["space"]=32;e["a1"]=9985;e["a2"]=9986;e["a202"]=9987;e["a3"]=9988;e["a4"]=9742;e["a5"]=9990;e["a119"]=9991;e["a118"]=9992;e["a117"]=9993;e["a11"]=9755;e["a12"]=9758;e["a13"]=9996;e["a14"]=9997;e["a15"]=9998;e["a16"]=9999;e["a105"]=1e4;e["a17"]=10001;e["a18"]=10002;e["a19"]=10003;e["a20"]=10004;e["a21"]=10005;e["a22"]=10006;e["a23"]=10007;e["a24"]=10008;e["a25"]=10009;e["a26"]=10010;e["a27"]=10011;e["a28"]=10012;e["a6"]=10013;e["a7"]=10014;e["a8"]=10015;e["a9"]=10016;e["a10"]=10017;e["a29"]=10018;e["a30"]=10019;e["a31"]=10020;e["a32"]=10021;e["a33"]=10022;e["a34"]=10023;e["a35"]=9733;e["a36"]=10025;e["a37"]=10026;e["a38"]=10027;e["a39"]=10028;e["a40"]=10029;e["a41"]=10030;e["a42"]=10031;e["a43"]=10032;e["a44"]=10033;e["a45"]=10034;e["a46"]=10035;e["a47"]=10036;e["a48"]=10037;e["a49"]=10038;e["a50"]=10039;e["a51"]=10040;e["a52"]=10041;e["a53"]=10042;e["a54"]=10043;e["a55"]=10044;e["a56"]=10045;e["a57"]=10046;e["a58"]=10047;e["a59"]=10048;e["a60"]=10049;e["a61"]=10050;e["a62"]=10051;e["a63"]=10052;e["a64"]=10053;e["a65"]=10054;e["a66"]=10055;e["a67"]=10056;e["a68"]=10057;e["a69"]=10058;e["a70"]=10059;e["a71"]=9679;e["a72"]=10061;e["a73"]=9632;e["a74"]=10063;e["a203"]=10064;e["a75"]=10065;e["a204"]=10066;e["a76"]=9650;e["a77"]=9660;e["a78"]=9670;e["a79"]=10070;e["a81"]=9687;e["a82"]=10072;e["a83"]=10073;e["a84"]=10074;e["a97"]=10075;e["a98"]=10076;e["a99"]=10077;e["a100"]=10078;e["a101"]=10081;e["a102"]=10082;e["a103"]=10083;e["a104"]=10084;e["a106"]=10085;e["a107"]=10086;e["a108"]=10087;e["a112"]=9827;e["a111"]=9830;e["a110"]=9829;e["a109"]=9824;e["a120"]=9312;e["a121"]=9313;e["a122"]=9314;e["a123"]=9315;e["a124"]=9316;e["a125"]=9317;e["a126"]=9318;e["a127"]=9319;e["a128"]=9320;e["a129"]=9321;e["a130"]=10102;e["a131"]=10103;e["a132"]=10104;e["a133"]=10105;e["a134"]=10106;e["a135"]=10107;e["a136"]=10108;e["a137"]=10109;e["a138"]=10110;e["a139"]=10111;e["a140"]=10112;e["a141"]=10113;e["a142"]=10114;e["a143"]=10115;e["a144"]=10116;e["a145"]=10117;e["a146"]=10118;e["a147"]=10119;e["a148"]=10120;e["a149"]=10121;e["a150"]=10122;e["a151"]=10123;e["a152"]=10124;e["a153"]=10125;e["a154"]=10126;e["a155"]=10127;e["a156"]=10128;e["a157"]=10129;e["a158"]=10130;e["a159"]=10131;e["a160"]=10132;e["a161"]=8594;e["a163"]=8596;e["a164"]=8597;e["a196"]=10136;e["a165"]=10137;e["a192"]=10138;e["a166"]=10139;e["a167"]=10140;e["a168"]=10141;e["a169"]=10142;e["a170"]=10143;e["a171"]=10144;e["a172"]=10145;e["a173"]=10146;e["a162"]=10147;e["a174"]=10148;e["a175"]=10149;e["a176"]=10150;e["a177"]=10151;e["a178"]=10152;e["a179"]=10153;e["a193"]=10154;e["a180"]=10155;e["a199"]=10156;e["a181"]=10157;e["a200"]=10158;e["a182"]=10159;e["a201"]=10161;e["a183"]=10162;e["a184"]=10163;e["a197"]=10164;e["a185"]=10165;e["a194"]=10166;e["a198"]=10167;e["a186"]=10168;e["a195"]=10169;e["a187"]=10170;e["a188"]=10171;e["a189"]=10172;e["a190"]=10173;e["a191"]=10174;e["a89"]=10088;e["a90"]=10089;e["a93"]=10090;e["a94"]=10091;e["a91"]=10092;e["a92"]=10093;e["a205"]=10094;e["a85"]=10095;e["a206"]=10096;e["a86"]=10097;e["a87"]=10098;e["a88"]=10099;e["a95"]=10100;e["a96"]=10101;e[".notdef"]=0});r.getGlyphsUnicode=n;r.getDingbatsGlyphsUnicode=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getSupplementalGlyphMapForCalibri=r.getSupplementalGlyphMapForArialBlack=r.getGlyphMapForStandardFonts=r.getSymbolsFonts=r.getSerifFonts=r.getNonStdFontMap=r.getStdFontMap=void 0;var a=t(186);var n=(0,a.getLookupTableFactory)(function(e){e["ArialNarrow"]="Helvetica";e["ArialNarrow-Bold"]="Helvetica-Bold";e["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique";e["ArialNarrow-Italic"]="Helvetica-Oblique";e["ArialBlack"]="Helvetica";e["ArialBlack-Bold"]="Helvetica-Bold";e["ArialBlack-BoldItalic"]="Helvetica-BoldOblique";e["ArialBlack-Italic"]="Helvetica-Oblique";e["Arial-Black"]="Helvetica";e["Arial-Black-Bold"]="Helvetica-Bold";e["Arial-Black-BoldItalic"]="Helvetica-BoldOblique";e["Arial-Black-Italic"]="Helvetica-Oblique";e["Arial"]="Helvetica";e["Arial-Bold"]="Helvetica-Bold";e["Arial-BoldItalic"]="Helvetica-BoldOblique";e["Arial-Italic"]="Helvetica-Oblique";e["Arial-BoldItalicMT"]="Helvetica-BoldOblique";e["Arial-BoldMT"]="Helvetica-Bold";e["Arial-ItalicMT"]="Helvetica-Oblique";e["ArialMT"]="Helvetica";e["Courier-Bold"]="Courier-Bold";e["Courier-BoldItalic"]="Courier-BoldOblique";e["Courier-Italic"]="Courier-Oblique";e["CourierNew"]="Courier";e["CourierNew-Bold"]="Courier-Bold";e["CourierNew-BoldItalic"]="Courier-BoldOblique";e["CourierNew-Italic"]="Courier-Oblique";e["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique";e["CourierNewPS-BoldMT"]="Courier-Bold";e["CourierNewPS-ItalicMT"]="Courier-Oblique";e["CourierNewPSMT"]="Courier";e["Helvetica"]="Helvetica";e["Helvetica-Bold"]="Helvetica-Bold";e["Helvetica-BoldItalic"]="Helvetica-BoldOblique";e["Helvetica-BoldOblique"]="Helvetica-BoldOblique";e["Helvetica-Italic"]="Helvetica-Oblique";e["Helvetica-Oblique"]="Helvetica-Oblique";e["SegoeUISymbol"]="Helvetica";e["Symbol-Bold"]="Symbol";e["Symbol-BoldItalic"]="Symbol";e["Symbol-Italic"]="Symbol";e["TimesNewRoman"]="Times-Roman";e["TimesNewRoman-Bold"]="Times-Bold";e["TimesNewRoman-BoldItalic"]="Times-BoldItalic";e["TimesNewRoman-Italic"]="Times-Italic";e["TimesNewRomanPS"]="Times-Roman";e["TimesNewRomanPS-Bold"]="Times-Bold";e["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic";e["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic";e["TimesNewRomanPS-BoldMT"]="Times-Bold";e["TimesNewRomanPS-Italic"]="Times-Italic";e["TimesNewRomanPS-ItalicMT"]="Times-Italic";e["TimesNewRomanPSMT"]="Times-Roman";e["TimesNewRomanPSMT-Bold"]="Times-Bold";e["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic";e["TimesNewRomanPSMT-Italic"]="Times-Italic"});r.getStdFontMap=n;var i=(0,a.getLookupTableFactory)(function(e){e["Calibri"]="Helvetica";e["Calibri-Bold"]="Helvetica-Bold";e["Calibri-BoldItalic"]="Helvetica-BoldOblique";e["Calibri-Italic"]="Helvetica-Oblique";e["CenturyGothic"]="Helvetica";e["CenturyGothic-Bold"]="Helvetica-Bold";e["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique";e["CenturyGothic-Italic"]="Helvetica-Oblique";e["ComicSansMS"]="Comic Sans MS";e["ComicSansMS-Bold"]="Comic Sans MS-Bold";e["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic";e["ComicSansMS-Italic"]="Comic Sans MS-Italic";e["LucidaConsole"]="Courier";e["LucidaConsole-Bold"]="Courier-Bold";e["LucidaConsole-BoldItalic"]="Courier-BoldOblique";e["LucidaConsole-Italic"]="Courier-Oblique";e["LucidaSans-Demi"]="Helvetica-Bold";e["MS-Gothic"]="MS Gothic";e["MS-Gothic-Bold"]="MS Gothic-Bold";e["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic";e["MS-Gothic-Italic"]="MS Gothic-Italic";e["MS-Mincho"]="MS Mincho";e["MS-Mincho-Bold"]="MS Mincho-Bold";e["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic";e["MS-Mincho-Italic"]="MS Mincho-Italic";e["MS-PGothic"]="MS PGothic";e["MS-PGothic-Bold"]="MS PGothic-Bold";e["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic";e["MS-PGothic-Italic"]="MS PGothic-Italic";e["MS-PMincho"]="MS PMincho";e["MS-PMincho-Bold"]="MS PMincho-Bold";e["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic";e["MS-PMincho-Italic"]="MS PMincho-Italic";e["NuptialScript"]="Times-Italic";e["Wingdings"]="ZapfDingbats"});r.getNonStdFontMap=i;var o=(0,a.getLookupTableFactory)(function(e){e["Adobe Jenson"]=true;e["Adobe Text"]=true;e["Albertus"]=true;e["Aldus"]=true;e["Alexandria"]=true;e["Algerian"]=true;e["American Typewriter"]=true;e["Antiqua"]=true;e["Apex"]=true;e["Arno"]=true;e["Aster"]=true;e["Aurora"]=true;e["Baskerville"]=true;e["Bell"]=true;e["Bembo"]=true;e["Bembo Schoolbook"]=true;e["Benguiat"]=true;e["Berkeley Old Style"]=true;e["Bernhard Modern"]=true;e["Berthold City"]=true;e["Bodoni"]=true;e["Bauer Bodoni"]=true;e["Book Antiqua"]=true;e["Bookman"]=true;e["Bordeaux Roman"]=true;e["Californian FB"]=true;e["Calisto"]=true;e["Calvert"]=true;e["Capitals"]=true;e["Cambria"]=true;e["Cartier"]=true;e["Caslon"]=true;e["Catull"]=true;e["Centaur"]=true;e["Century Old Style"]=true;e["Century Schoolbook"]=true;e["Chaparral"]=true;e["Charis SIL"]=true;e["Cheltenham"]=true;e["Cholla Slab"]=true;e["Clarendon"]=true;e["Clearface"]=true;e["Cochin"]=true;e["Colonna"]=true;e["Computer Modern"]=true;e["Concrete Roman"]=true;e["Constantia"]=true;e["Cooper Black"]=true;e["Corona"]=true;e["Ecotype"]=true;e["Egyptienne"]=true;e["Elephant"]=true;e["Excelsior"]=true;e["Fairfield"]=true;e["FF Scala"]=true;e["Folkard"]=true;e["Footlight"]=true;e["FreeSerif"]=true;e["Friz Quadrata"]=true;e["Garamond"]=true;e["Gentium"]=true;e["Georgia"]=true;e["Gloucester"]=true;e["Goudy Old Style"]=true;e["Goudy Schoolbook"]=true;e["Goudy Pro Font"]=true;e["Granjon"]=true;e["Guardian Egyptian"]=true;e["Heather"]=true;e["Hercules"]=true;e["High Tower Text"]=true;e["Hiroshige"]=true;e["Hoefler Text"]=true;e["Humana Serif"]=true;e["Imprint"]=true;e["Ionic No. 5"]=true;e["Janson"]=true;e["Joanna"]=true;e["Korinna"]=true;e["Lexicon"]=true;e["Liberation Serif"]=true;e["Linux Libertine"]=true;e["Literaturnaya"]=true;e["Lucida"]=true;e["Lucida Bright"]=true;e["Melior"]=true;e["Memphis"]=true;e["Miller"]=true;e["Minion"]=true;e["Modern"]=true;e["Mona Lisa"]=true;e["Mrs Eaves"]=true;e["MS Serif"]=true;e["Museo Slab"]=true;e["New York"]=true;e["Nimbus Roman"]=true;e["NPS Rawlinson Roadway"]=true;e["NuptialScript"]=true;e["Palatino"]=true;e["Perpetua"]=true;e["Plantin"]=true;e["Plantin Schoolbook"]=true;e["Playbill"]=true;e["Poor Richard"]=true;e["Rawlinson Roadway"]=true;e["Renault"]=true;e["Requiem"]=true;e["Rockwell"]=true;e["Roman"]=true;e["Rotis Serif"]=true;e["Sabon"]=true;e["Scala"]=true;e["Seagull"]=true;e["Sistina"]=true;e["Souvenir"]=true;e["STIX"]=true;e["Stone Informal"]=true;e["Stone Serif"]=true;e["Sylfaen"]=true;e["Times"]=true;e["Trajan"]=true;e["Trinité"]=true;e["Trump Mediaeval"]=true;e["Utopia"]=true;e["Vale Type"]=true;e["Bitstream Vera"]=true;e["Vera Serif"]=true;e["Versailles"]=true;e["Wanted"]=true;e["Weiss"]=true;e["Wide Latin"]=true;e["Windsor"]=true;e["XITS"]=true});r.getSerifFonts=o;var s=(0,a.getLookupTableFactory)(function(e){e["Dingbats"]=true;e["Symbol"]=true;e["ZapfDingbats"]=true});r.getSymbolsFonts=s;var c=(0,a.getLookupTableFactory)(function(e){e[2]=10;e[3]=32;e[4]=33;e[5]=34;e[6]=35;e[7]=36;e[8]=37;e[9]=38;e[10]=39;e[11]=40;e[12]=41;e[13]=42;e[14]=43;e[15]=44;e[16]=45;e[17]=46;e[18]=47;e[19]=48;e[20]=49;e[21]=50;e[22]=51;e[23]=52;e[24]=53;e[25]=54;e[26]=55;e[27]=56;e[28]=57;e[29]=58;e[30]=894;e[31]=60;e[32]=61;e[33]=62;e[34]=63;e[35]=64;e[36]=65;e[37]=66;e[38]=67;e[39]=68;e[40]=69;e[41]=70;e[42]=71;e[43]=72;e[44]=73;e[45]=74;e[46]=75;e[47]=76;e[48]=77;e[49]=78;e[50]=79;e[51]=80;e[52]=81;e[53]=82;e[54]=83;e[55]=84;e[56]=85;e[57]=86;e[58]=87;e[59]=88;e[60]=89;e[61]=90;e[62]=91;e[63]=92;e[64]=93;e[65]=94;e[66]=95;e[67]=96;e[68]=97;e[69]=98;e[70]=99;e[71]=100;e[72]=101;e[73]=102;e[74]=103;e[75]=104;e[76]=105;e[77]=106;e[78]=107;e[79]=108;e[80]=109;e[81]=110;e[82]=111;e[83]=112;e[84]=113;e[85]=114;e[86]=115;e[87]=116;e[88]=117;e[89]=118;e[90]=119;e[91]=120;e[92]=121;e[93]=122;e[94]=123;e[95]=124;e[96]=125;e[97]=126;e[98]=196;e[99]=197;e[100]=199;e[101]=201;e[102]=209;e[103]=214;e[104]=220;e[105]=225;e[106]=224;e[107]=226;e[108]=228;e[109]=227;e[110]=229;e[111]=231;e[112]=233;e[113]=232;e[114]=234;e[115]=235;e[116]=237;e[117]=236;e[118]=238;e[119]=239;e[120]=241;e[121]=243;e[122]=242;e[123]=244;e[124]=246;e[125]=245;e[126]=250;e[127]=249;e[128]=251;e[129]=252;e[130]=8224;e[131]=176;e[132]=162;e[133]=163;e[134]=167;e[135]=8226;e[136]=182;e[137]=223;e[138]=174;e[139]=169;e[140]=8482;e[141]=180;e[142]=168;e[143]=8800;e[144]=198;e[145]=216;e[146]=8734;e[147]=177;e[148]=8804;e[149]=8805;e[150]=165;e[151]=181;e[152]=8706;e[153]=8721;e[154]=8719;e[156]=8747;e[157]=170;e[158]=186;e[159]=8486;e[160]=230;e[161]=248;e[162]=191;e[163]=161;e[164]=172;e[165]=8730;e[166]=402;e[167]=8776;e[168]=8710;e[169]=171;e[170]=187;e[171]=8230;e[210]=218;e[223]=711;e[224]=321;e[225]=322;e[227]=353;e[229]=382;e[234]=253;e[252]=263;e[253]=268;e[254]=269;e[258]=258;e[260]=260;e[261]=261;e[265]=280;e[266]=281;e[268]=283;e[269]=313;e[275]=323;e[276]=324;e[278]=328;e[284]=345;e[285]=346;e[286]=347;e[292]=367;e[295]=377;e[296]=378;e[298]=380;e[305]=963;e[306]=964;e[307]=966;e[308]=8215;e[309]=8252;e[310]=8319;e[311]=8359;e[312]=8592;e[313]=8593;e[337]=9552;e[493]=1039;e[494]=1040;e[705]=1524;e[706]=8362;e[710]=64288;e[711]=64298;e[759]=1617;e[761]=1776;e[763]=1778;e[775]=1652;e[777]=1764;e[778]=1780;e[779]=1781;e[780]=1782;e[782]=771;e[783]=64726;e[786]=8363;e[788]=8532;e[790]=768;e[791]=769;e[792]=768;e[795]=803;e[797]=64336;e[798]=64337;e[799]=64342;e[800]=64343;e[801]=64344;e[802]=64345;e[803]=64362;e[804]=64363;e[805]=64364;e[2424]=7821;e[2425]=7822;e[2426]=7823;e[2427]=7824;e[2428]=7825;e[2429]=7826;e[2430]=7827;e[2433]=7682;e[2678]=8045;e[2679]=8046;e[2830]=1552;e[2838]=686;e[2840]=751;e[2842]=753;e[2843]=754;e[2844]=755;e[2846]=757;e[2856]=767;e[2857]=848;e[2858]=849;e[2862]=853;e[2863]=854;e[2864]=855;e[2865]=861;e[2866]=862;e[2906]=7460;e[2908]=7462;e[2909]=7463;e[2910]=7464;e[2912]=7466;e[2913]=7467;e[2914]=7468;e[2916]=7470;e[2917]=7471;e[2918]=7472;e[2920]=7474;e[2921]=7475;e[2922]=7476;e[2924]=7478;e[2925]=7479;e[2926]=7480;e[2928]=7482;e[2929]=7483;e[2930]=7484;e[2932]=7486;e[2933]=7487;e[2934]=7488;e[2936]=7490;e[2937]=7491;e[2938]=7492;e[2940]=7494;e[2941]=7495;e[2942]=7496;e[2944]=7498;e[2946]=7500;e[2948]=7502;e[2950]=7504;e[2951]=7505;e[2952]=7506;e[2954]=7508;e[2955]=7509;e[2956]=7510;e[2958]=7512;e[2959]=7513;e[2960]=7514;e[2962]=7516;e[2963]=7517;e[2964]=7518;e[2966]=7520;e[2967]=7521;e[2968]=7522;e[2970]=7524;e[2971]=7525;e[2972]=7526;e[2974]=7528;e[2975]=7529;e[2976]=7530;e[2978]=1537;e[2979]=1538;e[2980]=1539;e[2982]=1549;e[2983]=1551;e[2984]=1552;e[2986]=1554;e[2987]=1555;e[2988]=1556;e[2990]=1623;e[2991]=1624;e[2995]=1775;e[2999]=1791;e[3002]=64290;e[3003]=64291;e[3004]=64292;e[3006]=64294;e[3007]=64295;e[3008]=64296;e[3011]=1900;e[3014]=8223;e[3015]=8244;e[3017]=7532;e[3018]=7533;e[3019]=7534;e[3075]=7590;e[3076]=7591;e[3079]=7594;e[3080]=7595;e[3083]=7598;e[3084]=7599;e[3087]=7602;e[3088]=7603;e[3091]=7606;e[3092]=7607;e[3095]=7610;e[3096]=7611;e[3099]=7614;e[3100]=7615;e[3103]=7618;e[3104]=7619;e[3107]=8337;e[3108]=8338;e[3116]=1884;e[3119]=1885;e[3120]=1885;e[3123]=1886;e[3124]=1886;e[3127]=1887;e[3128]=1887;e[3131]=1888;e[3132]=1888;e[3135]=1889;e[3136]=1889;e[3139]=1890;e[3140]=1890;e[3143]=1891;e[3144]=1891;e[3147]=1892;e[3148]=1892;e[3153]=580;e[3154]=581;e[3157]=584;e[3158]=585;e[3161]=588;e[3162]=589;e[3165]=891;e[3166]=892;e[3169]=1274;e[3170]=1275;e[3173]=1278;e[3174]=1279;e[3181]=7622;e[3182]=7623;e[3282]=11799;e[3316]=578;e[3379]=42785;e[3393]=1159;e[3416]=8377});r.getGlyphMapForStandardFonts=c;var l=(0,a.getLookupTableFactory)(function(e){e[227]=322;e[264]=261;e[291]=346});r.getSupplementalGlyphMapForArialBlack=l;var u=(0,a.getLookupTableFactory)(function(e){e[1]=32;e[4]=65;e[17]=66;e[18]=67;e[24]=68;e[28]=69;e[38]=70;e[39]=71;e[44]=72;e[47]=73;e[58]=74;e[60]=75;e[62]=76;e[68]=77;e[69]=78;e[75]=79;e[87]=80;e[89]=81;e[90]=82;e[94]=83;e[100]=84;e[104]=85;e[115]=86;e[116]=87;e[121]=88;e[122]=89;e[127]=90;e[258]=97;e[268]=261;e[271]=98;e[272]=99;e[273]=263;e[282]=100;e[286]=101;e[295]=281;e[296]=102;e[336]=103;e[346]=104;e[349]=105;e[361]=106;e[364]=107;e[367]=108;e[371]=322;e[373]=109;e[374]=110;e[381]=111;e[383]=243;e[393]=112;e[395]=113;e[396]=114;e[400]=115;e[401]=347;e[410]=116;e[437]=117;e[448]=118;e[449]=119;e[454]=120;e[455]=121;e[460]=122;e[463]=380;e[853]=44;e[855]=58;e[856]=46;e[876]=47;e[878]=45;e[882]=45;e[894]=40;e[895]=41;e[896]=91;e[897]=93;e[923]=64;e[1004]=48;e[1005]=49;e[1006]=50;e[1007]=51;e[1008]=52;e[1009]=53;e[1010]=54;e[1011]=55;e[1012]=56;e[1013]=57;e[1081]=37;e[1085]=43;e[1086]=45});r.getSupplementalGlyphMapForCalibri=u},function(e,r,t){var a=t(186).getLookupTableFactory;var n=a(function(e){e[63721]=169;e[63193]=169;e[63720]=174;e[63194]=174;e[63722]=8482;e[63195]=8482;e[63729]=9127;e[63730]=9128;e[63731]=9129;e[63740]=9131;e[63741]=9132;e[63742]=9133;e[63726]=9121;e[63727]=9122;e[63728]=9123;e[63737]=9124;e[63738]=9125;e[63739]=9126;e[63723]=9115;e[63724]=9116;e[63725]=9117;e[63734]=9118;e[63735]=9119;e[63736]=9120});function i(e){if(e>=65520&&e<=65535){return 0}else if(e>=62976&&e<=63743){return n()[e]||e}else if(e===173){return 45}return e}function o(e,r){var t=r[e];if(t!==undefined){return t}if(!e){return-1}if(e[0]==="u"){var a=e.length,n;if(a===7&&e[1]==="n"&&e[2]==="i"){n=e.substring(3)}else if(a>=5&&a<=7){n=e.substring(1)}else{return-1}if(n===n.toUpperCase()){t=parseInt(n,16);if(t>=0){return t}}}return-1}var s=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function c(e){for(var r=0,t=s.length;r<t;r++){var a=s[r];if(e>=a.begin&&e<a.end){return r}}return-1}function l(e){var r=s[13];if(e>=r.begin&&e<r.end){return true}r=s[11];if(e>=r.begin&&e<r.end){return true}return false}var u=a(function(e){e["¨"]=" ̈";e["¯"]=" ̄";e["´"]=" ́";e["µ"]="μ";e["¸"]=" ̧";e["Ĳ"]="IJ";e["ĳ"]="ij";e["Ŀ"]="L·";e["ŀ"]="l·";e["ŉ"]="ʼn";e["ſ"]="s";e["Ǆ"]="DŽ";e["ǅ"]="Dž";e["ǆ"]="dž";e["Ǉ"]="LJ";e["ǈ"]="Lj";e["ǉ"]="lj";e["Ǌ"]="NJ";e["ǋ"]="Nj";e["ǌ"]="nj";e["Ǳ"]="DZ";e["ǲ"]="Dz";e["ǳ"]="dz";e["˘"]=" ̆";e["˙"]=" ̇";e["˚"]=" ̊";e["˛"]=" ̨";e["˜"]=" ̃";e["˝"]=" ̋";e["ͺ"]=" ͅ";e["΄"]=" ́";e["ϐ"]="β";e["ϑ"]="θ";e["ϒ"]="Υ";e["ϕ"]="φ";e["ϖ"]="π";e["ϰ"]="κ";e["ϱ"]="ρ";e["ϲ"]="ς";e["ϴ"]="Θ";e["ϵ"]="ε";e["Ϲ"]="Σ";e["և"]="եւ";e["ٵ"]="اٴ";e["ٶ"]="وٴ";e["ٷ"]="ۇٴ";e["ٸ"]="يٴ";e["ำ"]="ํา";e["ຳ"]="ໍາ";e["ໜ"]="ຫນ";e["ໝ"]="ຫມ";e["ཷ"]="ྲཱྀ";e["ཹ"]="ླཱྀ";e["ẚ"]="aʾ";e["᾽"]=" ̓";e["᾿"]=" ̓";e["῀"]=" ͂";e["῾"]=" ̔";e[" "]=" ";e[" "]=" ";e[" "]=" ";e[" "]=" ";e[" "]=" ";e[" "]=" ";e[" "]=" ";e[" "]=" ";e["‗"]=" ̳";e["․"]=".";e["‥"]="..";e["…"]="...";e["″"]="′′";e["‴"]="′′′";e["‶"]="‵‵";e["‷"]="‵‵‵";e["‼"]="!!";e["‾"]=" ̅";e["⁇"]="??";e["⁈"]="?!";e["⁉"]="!?";e["⁗"]="′′′′";e[" "]=" ";e["₨"]="Rs";e["℀"]="a/c";e["℁"]="a/s";e["℃"]="°C";e["℅"]="c/o";e["℆"]="c/u";e["ℇ"]="Ɛ";e["℉"]="°F";e["№"]="No";e["℡"]="TEL";e["ℵ"]="א";e["ℶ"]="ב";e["ℷ"]="ג";e["ℸ"]="ד";e["℻"]="FAX";e["Ⅰ"]="I";e["Ⅱ"]="II";e["Ⅲ"]="III";e["Ⅳ"]="IV";e["Ⅴ"]="V";e["Ⅵ"]="VI";e["Ⅶ"]="VII";e["Ⅷ"]="VIII";e["Ⅸ"]="IX";e["Ⅹ"]="X";e["Ⅺ"]="XI";e["Ⅻ"]="XII";e["Ⅼ"]="L";e["Ⅽ"]="C";e["Ⅾ"]="D";e["Ⅿ"]="M";e["ⅰ"]="i";e["ⅱ"]="ii";e["ⅲ"]="iii";e["ⅳ"]="iv";e["ⅴ"]="v";e["ⅵ"]="vi";e["ⅶ"]="vii";e["ⅷ"]="viii";e["ⅸ"]="ix";e["ⅹ"]="x";e["ⅺ"]="xi";e["ⅻ"]="xii";e["ⅼ"]="l";e["ⅽ"]="c";e["ⅾ"]="d";e["ⅿ"]="m";e["∬"]="∫∫";e["∭"]="∫∫∫";e["∯"]="∮∮";e["∰"]="∮∮∮";e["⑴"]="(1)";e["⑵"]="(2)";e["⑶"]="(3)";e["⑷"]="(4)";e["⑸"]="(5)";e["⑹"]="(6)";e["⑺"]="(7)";e["⑻"]="(8)";e["⑼"]="(9)";e["⑽"]="(10)";e["⑾"]="(11)";e["⑿"]="(12)";e["⒀"]="(13)";e["⒁"]="(14)";e["⒂"]="(15)";e["⒃"]="(16)";e["⒄"]="(17)";e["⒅"]="(18)";e["⒆"]="(19)";e["⒇"]="(20)";e["⒈"]="1.";e["⒉"]="2.";e["⒊"]="3.";e["⒋"]="4.";e["⒌"]="5.";e["⒍"]="6.";e["⒎"]="7.";e["⒏"]="8.";e["⒐"]="9.";e["⒑"]="10.";e["⒒"]="11.";e["⒓"]="12.";e["⒔"]="13.";e["⒕"]="14.";e["⒖"]="15.";e["⒗"]="16.";e["⒘"]="17.";e["⒙"]="18.";e["⒚"]="19.";e["⒛"]="20.";e["⒜"]="(a)";e["⒝"]="(b)";e["⒞"]="(c)";e["⒟"]="(d)";e["⒠"]="(e)";e["⒡"]="(f)";e["⒢"]="(g)";e["⒣"]="(h)";e["⒤"]="(i)";e["⒥"]="(j)";e["⒦"]="(k)";e["⒧"]="(l)";e["⒨"]="(m)";e["⒩"]="(n)";e["⒪"]="(o)";e["⒫"]="(p)";e["⒬"]="(q)";e["⒭"]="(r)";e["⒮"]="(s)";e["⒯"]="(t)";e["⒰"]="(u)";e["⒱"]="(v)";e["⒲"]="(w)";e["⒳"]="(x)";e["⒴"]="(y)";e["⒵"]="(z)";e["⨌"]="∫∫∫∫";e["⩴"]="::=";e["⩵"]="==";e["⩶"]="===";e["⺟"]="母";e["⻳"]="龟";e["⼀"]="一";e["⼁"]="丨";e["⼂"]="丶";e["⼃"]="丿";e["⼄"]="乙";e["⼅"]="亅";e["⼆"]="二";e["⼇"]="亠";e["⼈"]="人";e["⼉"]="儿";e["⼊"]="入";e["⼋"]="八";e["⼌"]="冂";e["⼍"]="冖";e["⼎"]="冫";e["⼏"]="几";e["⼐"]="凵";e["⼑"]="刀";e["⼒"]="力";e["⼓"]="勹";e["⼔"]="匕";e["⼕"]="匚";e["⼖"]="匸";e["⼗"]="十";e["⼘"]="卜";e["⼙"]="卩";e["⼚"]="厂";e["⼛"]="厶";e["⼜"]="又";e["⼝"]="口";e["⼞"]="囗";e["⼟"]="土";e["⼠"]="士";e["⼡"]="夂";e["⼢"]="夊";e["⼣"]="夕";e["⼤"]="大";e["⼥"]="女";e["⼦"]="子";e["⼧"]="宀";e["⼨"]="寸";e["⼩"]="小";e["⼪"]="尢";e["⼫"]="尸";e["⼬"]="屮";e["⼭"]="山";e["⼮"]="巛";e["⼯"]="工";e["⼰"]="己";e["⼱"]="巾";e["⼲"]="干";e["⼳"]="幺";e["⼴"]="广";e["⼵"]="廴";e["⼶"]="廾";e["⼷"]="弋";e["⼸"]="弓";e["⼹"]="彐";e["⼺"]="彡";e["⼻"]="彳";e["⼼"]="心";e["⼽"]="戈";e["⼾"]="戶";e["⼿"]="手";e["⽀"]="支";e["⽁"]="攴";e["⽂"]="文";e["⽃"]="斗";e["⽄"]="斤";e["⽅"]="方";e["⽆"]="无";e["⽇"]="日";e["⽈"]="曰";e["⽉"]="月";e["⽊"]="木";e["⽋"]="欠";e["⽌"]="止";e["⽍"]="歹";e["⽎"]="殳";e["⽏"]="毋";e["⽐"]="比";e["⽑"]="毛";e["⽒"]="氏";e["⽓"]="气";e["⽔"]="水";e["⽕"]="火";e["⽖"]="爪";e["⽗"]="父";e["⽘"]="爻";e["⽙"]="爿";e["⽚"]="片";e["⽛"]="牙";e["⽜"]="牛";e["⽝"]="犬";e["⽞"]="玄";e["⽟"]="玉";e["⽠"]="瓜";e["⽡"]="瓦";e["⽢"]="甘";e["⽣"]="生";e["⽤"]="用";e["⽥"]="田";e["⽦"]="疋";e["⽧"]="疒";e["⽨"]="癶";e["⽩"]="白";e["⽪"]="皮";e["⽫"]="皿";e["⽬"]="目";e["⽭"]="矛";e["⽮"]="矢";e["⽯"]="石";e["⽰"]="示";e["⽱"]="禸";e["⽲"]="禾";e["⽳"]="穴";e["⽴"]="立";e["⽵"]="竹";e["⽶"]="米";e["⽷"]="糸";e["⽸"]="缶";e["⽹"]="网";e["⽺"]="羊";e["⽻"]="羽";e["⽼"]="老";e["⽽"]="而";e["⽾"]="耒";e["⽿"]="耳";e["⾀"]="聿";e["⾁"]="肉";e["⾂"]="臣";e["⾃"]="自";e["⾄"]="至";e["⾅"]="臼";e["⾆"]="舌";e["⾇"]="舛";e["⾈"]="舟";e["⾉"]="艮";e["⾊"]="色";e["⾋"]="艸";e["⾌"]="虍";e["⾍"]="虫";e["⾎"]="血";e["⾏"]="行";e["⾐"]="衣";e["⾑"]="襾";e["⾒"]="見";e["⾓"]="角";e["⾔"]="言";e["⾕"]="谷";e["⾖"]="豆";e["⾗"]="豕";e["⾘"]="豸";e["⾙"]="貝";e["⾚"]="赤";e["⾛"]="走";e["⾜"]="足";e["⾝"]="身";e["⾞"]="車";e["⾟"]="辛";e["⾠"]="辰";e["⾡"]="辵";e["⾢"]="邑";e["⾣"]="酉";e["⾤"]="釆";e["⾥"]="里";e["⾦"]="金";e["⾧"]="長";e["⾨"]="門";e["⾩"]="阜";e["⾪"]="隶";e["⾫"]="隹";e["⾬"]="雨";e["⾭"]="靑";e["⾮"]="非";e["⾯"]="面";e["⾰"]="革";e["⾱"]="韋";e["⾲"]="韭";e["⾳"]="音";e["⾴"]="頁";e["⾵"]="風";e["⾶"]="飛";e["⾷"]="食";e["⾸"]="首";e["⾹"]="香";e["⾺"]="馬";e["⾻"]="骨";e["⾼"]="高";e["⾽"]="髟";e["⾾"]="鬥";e["⾿"]="鬯";e["⿀"]="鬲";e["⿁"]="鬼";e["⿂"]="魚";e["⿃"]="鳥";e["⿄"]="鹵";e["⿅"]="鹿";e["⿆"]="麥";e["⿇"]="麻";e["⿈"]="黃";e["⿉"]="黍";e["⿊"]="黑";e["⿋"]="黹";e["⿌"]="黽";e["⿍"]="鼎";e["⿎"]="鼓";e["⿏"]="鼠";e["⿐"]="鼻";e["⿑"]="齊";e["⿒"]="齒";e["⿓"]="龍";e["⿔"]="龜";e["⿕"]="龠";e["〶"]="〒";e["〸"]="十";e["〹"]="卄";e["〺"]="卅";e["゛"]=" ゙";e["゜"]=" ゚";e["ㄱ"]="ᄀ";e["ㄲ"]="ᄁ";e["ㄳ"]="ᆪ";e["ㄴ"]="ᄂ";e["ㄵ"]="ᆬ";e["ㄶ"]="ᆭ";e["ㄷ"]="ᄃ";e["ㄸ"]="ᄄ";e["ㄹ"]="ᄅ";e["ㄺ"]="ᆰ";e["ㄻ"]="ᆱ";e["ㄼ"]="ᆲ";e["ㄽ"]="ᆳ";e["ㄾ"]="ᆴ";e["ㄿ"]="ᆵ";e["ㅀ"]="ᄚ";e["ㅁ"]="ᄆ";e["ㅂ"]="ᄇ";e["ㅃ"]="ᄈ";e["ㅄ"]="ᄡ";e["ㅅ"]="ᄉ";e["ㅆ"]="ᄊ";e["ㅇ"]="ᄋ";e["ㅈ"]="ᄌ";e["ㅉ"]="ᄍ";e["ㅊ"]="ᄎ";e["ㅋ"]="ᄏ";e["ㅌ"]="ᄐ";e["ㅍ"]="ᄑ";e["ㅎ"]="ᄒ";e["ㅏ"]="ᅡ";e["ㅐ"]="ᅢ";e["ㅑ"]="ᅣ";e["ㅒ"]="ᅤ";e["ㅓ"]="ᅥ";e["ㅔ"]="ᅦ";e["ㅕ"]="ᅧ";e["ㅖ"]="ᅨ";e["ㅗ"]="ᅩ";e["ㅘ"]="ᅪ";e["ㅙ"]="ᅫ";e["ㅚ"]="ᅬ";e["ㅛ"]="ᅭ";e["ㅜ"]="ᅮ";e["ㅝ"]="ᅯ";e["ㅞ"]="ᅰ";e["ㅟ"]="ᅱ";e["ㅠ"]="ᅲ";e["ㅡ"]="ᅳ";e["ㅢ"]="ᅴ";e["ㅣ"]="ᅵ";e["ㅤ"]="ᅠ";e["ㅥ"]="ᄔ";e["ㅦ"]="ᄕ";e["ㅧ"]="ᇇ";e["ㅨ"]="ᇈ";e["ㅩ"]="ᇌ";e["ㅪ"]="ᇎ";e["ㅫ"]="ᇓ";e["ㅬ"]="ᇗ";e["ㅭ"]="ᇙ";e["ㅮ"]="ᄜ";e["ㅯ"]="ᇝ";e["ㅰ"]="ᇟ";e["ㅱ"]="ᄝ";e["ㅲ"]="ᄞ";e["ㅳ"]="ᄠ";e["ㅴ"]="ᄢ";e["ㅵ"]="ᄣ";e["ㅶ"]="ᄧ";e["ㅷ"]="ᄩ";e["ㅸ"]="ᄫ";e["ㅹ"]="ᄬ";e["ㅺ"]="ᄭ";e["ㅻ"]="ᄮ";e["ㅼ"]="ᄯ";e["ㅽ"]="ᄲ";e["ㅾ"]="ᄶ";e["ㅿ"]="ᅀ";e["ㆀ"]="ᅇ";e["ㆁ"]="ᅌ";e["ㆂ"]="ᇱ";e["ㆃ"]="ᇲ";e["ㆄ"]="ᅗ";e["ㆅ"]="ᅘ";e["ㆆ"]="ᅙ";e["ㆇ"]="ᆄ";e["ㆈ"]="ᆅ";e["ㆉ"]="ᆈ";e["ㆊ"]="ᆑ";e["ㆋ"]="ᆒ";e["ㆌ"]="ᆔ";e["ㆍ"]="ᆞ";e["ㆎ"]="ᆡ";e["㈀"]="(ᄀ)";e["㈁"]="(ᄂ)";e["㈂"]="(ᄃ)";e["㈃"]="(ᄅ)";e["㈄"]="(ᄆ)";e["㈅"]="(ᄇ)";e["㈆"]="(ᄉ)";e["㈇"]="(ᄋ)";e["㈈"]="(ᄌ)";e["㈉"]="(ᄎ)";e["㈊"]="(ᄏ)";e["㈋"]="(ᄐ)";e["㈌"]="(ᄑ)";e["㈍"]="(ᄒ)";e["㈎"]="(가)";e["㈏"]="(나)";e["㈐"]="(다)";e["㈑"]="(라)";e["㈒"]="(마)";e["㈓"]="(바)";e["㈔"]="(사)";e["㈕"]="(아)";e["㈖"]="(자)";e["㈗"]="(차)";e["㈘"]="(카)";e["㈙"]="(타)";e["㈚"]="(파)";e["㈛"]="(하)";e["㈜"]="(주)";e["㈝"]="(오전)";e["㈞"]="(오후)";e["㈠"]="(一)";e["㈡"]="(二)";e["㈢"]="(三)";e["㈣"]="(四)";e["㈤"]="(五)";e["㈥"]="(六)";e["㈦"]="(七)";e["㈧"]="(八)";e["㈨"]="(九)";e["㈩"]="(十)";e["㈪"]="(月)";e["㈫"]="(火)";e["㈬"]="(水)";e["㈭"]="(木)";e["㈮"]="(金)";e["㈯"]="(土)";e["㈰"]="(日)";e["㈱"]="(株)";e["㈲"]="(有)";e["㈳"]="(社)";e["㈴"]="(名)";e["㈵"]="(特)";e["㈶"]="(財)";e["㈷"]="(祝)";e["㈸"]="(労)";e["㈹"]="(代)";e["㈺"]="(呼)";e["㈻"]="(学)";e["㈼"]="(監)";e["㈽"]="(企)";e["㈾"]="(資)";e["㈿"]="(協)";e["㉀"]="(祭)";e["㉁"]="(休)";e["㉂"]="(自)";e["㉃"]="(至)";e["㋀"]="1月";e["㋁"]="2月";e["㋂"]="3月";e["㋃"]="4月";e["㋄"]="5月";e["㋅"]="6月";e["㋆"]="7月";e["㋇"]="8月";e["㋈"]="9月";e["㋉"]="10月";e["㋊"]="11月";e["㋋"]="12月";e["㍘"]="0点";e["㍙"]="1点";e["㍚"]="2点";e["㍛"]="3点";e["㍜"]="4点";e["㍝"]="5点";e["㍞"]="6点";e["㍟"]="7点";e["㍠"]="8点";e["㍡"]="9点";e["㍢"]="10点";e["㍣"]="11点";e["㍤"]="12点";e["㍥"]="13点";e["㍦"]="14点";e["㍧"]="15点";e["㍨"]="16点";e["㍩"]="17点";e["㍪"]="18点";e["㍫"]="19点";e["㍬"]="20点";e["㍭"]="21点";e["㍮"]="22点";e["㍯"]="23点";e["㍰"]="24点";e["㏠"]="1日";e["㏡"]="2日";e["㏢"]="3日";e["㏣"]="4日";e["㏤"]="5日";e["㏥"]="6日";e["㏦"]="7日";e["㏧"]="8日";e["㏨"]="9日";e["㏩"]="10日";e["㏪"]="11日";e["㏫"]="12日";e["㏬"]="13日";e["㏭"]="14日";e["㏮"]="15日";e["㏯"]="16日";e["㏰"]="17日";e["㏱"]="18日";e["㏲"]="19日";e["㏳"]="20日";e["㏴"]="21日";e["㏵"]="22日";e["㏶"]="23日";e["㏷"]="24日";e["㏸"]="25日";e["㏹"]="26日";e["㏺"]="27日";e["㏻"]="28日";e["㏼"]="29日";e["㏽"]="30日";e["㏾"]="31日";e["ﬀ"]="ff";e["ﬁ"]="fi";e["ﬂ"]="fl";e["ﬃ"]="ffi";e["ﬄ"]="ffl";e["ﬅ"]="ſt";e["ﬆ"]="st";e["ﬓ"]="մն";e["ﬔ"]="մե";e["ﬕ"]="մի";e["ﬖ"]="վն";e["ﬗ"]="մխ";e["ﭏ"]="אל";e["ﭐ"]="ٱ";e["ﭑ"]="ٱ";e["ﭒ"]="ٻ";e["ﭓ"]="ٻ";e["ﭔ"]="ٻ";e["ﭕ"]="ٻ";e["ﭖ"]="پ";e["ﭗ"]="پ";e["ﭘ"]="پ";e["ﭙ"]="پ";e["ﭚ"]="ڀ";e["ﭛ"]="ڀ";e["ﭜ"]="ڀ";e["ﭝ"]="ڀ";e["ﭞ"]="ٺ";e["ﭟ"]="ٺ";e["ﭠ"]="ٺ";e["ﭡ"]="ٺ";e["ﭢ"]="ٿ";e["ﭣ"]="ٿ";e["ﭤ"]="ٿ";e["ﭥ"]="ٿ";e["ﭦ"]="ٹ";e["ﭧ"]="ٹ";e["ﭨ"]="ٹ";e["ﭩ"]="ٹ";e["ﭪ"]="ڤ";e["ﭫ"]="ڤ";e["ﭬ"]="ڤ";e["ﭭ"]="ڤ";e["ﭮ"]="ڦ";e["ﭯ"]="ڦ";e["ﭰ"]="ڦ";e["ﭱ"]="ڦ";e["ﭲ"]="ڄ";e["ﭳ"]="ڄ";e["ﭴ"]="ڄ";e["ﭵ"]="ڄ";e["ﭶ"]="ڃ";e["ﭷ"]="ڃ";e["ﭸ"]="ڃ";e["ﭹ"]="ڃ";e["ﭺ"]="چ";e["ﭻ"]="چ";e["ﭼ"]="چ";e["ﭽ"]="چ";e["ﭾ"]="ڇ";e["ﭿ"]="ڇ";e["ﮀ"]="ڇ";e["ﮁ"]="ڇ";e["ﮂ"]="ڍ";e["ﮃ"]="ڍ";e["ﮄ"]="ڌ";e["ﮅ"]="ڌ";e["ﮆ"]="ڎ";e["ﮇ"]="ڎ";e["ﮈ"]="ڈ";e["ﮉ"]="ڈ";e["ﮊ"]="ژ";e["ﮋ"]="ژ";e["ﮌ"]="ڑ";e["ﮍ"]="ڑ";e["ﮎ"]="ک";e["ﮏ"]="ک";e["ﮐ"]="ک";e["ﮑ"]="ک";e["ﮒ"]="گ";e["ﮓ"]="گ";e["ﮔ"]="گ";e["ﮕ"]="گ";e["ﮖ"]="ڳ";e["ﮗ"]="ڳ";e["ﮘ"]="ڳ";e["ﮙ"]="ڳ";e["ﮚ"]="ڱ";e["ﮛ"]="ڱ";e["ﮜ"]="ڱ";e["ﮝ"]="ڱ";e["ﮞ"]="ں";e["ﮟ"]="ں";e["ﮠ"]="ڻ";e["ﮡ"]="ڻ";e["ﮢ"]="ڻ";e["ﮣ"]="ڻ";e["ﮤ"]="ۀ";e["ﮥ"]="ۀ";e["ﮦ"]="ہ";e["ﮧ"]="ہ";e["ﮨ"]="ہ";e["ﮩ"]="ہ";e["ﮪ"]="ھ";e["ﮫ"]="ھ";e["ﮬ"]="ھ";e["ﮭ"]="ھ";e["ﮮ"]="ے";e["ﮯ"]="ے";e["ﮰ"]="ۓ";e["ﮱ"]="ۓ";e["ﯓ"]="ڭ";e["ﯔ"]="ڭ";e["ﯕ"]="ڭ";e["ﯖ"]="ڭ";e["ﯗ"]="ۇ";e["ﯘ"]="ۇ";e["ﯙ"]="ۆ";e["ﯚ"]="ۆ";e["ﯛ"]="ۈ";e["ﯜ"]="ۈ";e["ﯝ"]="ٷ";e["ﯞ"]="ۋ";e["ﯟ"]="ۋ";e["ﯠ"]="ۅ";e["ﯡ"]="ۅ";e["ﯢ"]="ۉ";e["ﯣ"]="ۉ";e["ﯤ"]="ې";e["ﯥ"]="ې";e["ﯦ"]="ې";e["ﯧ"]="ې";e["ﯨ"]="ى";e["ﯩ"]="ى";e["ﯪ"]="ئا";e["ﯫ"]="ئا";e["ﯬ"]="ئە";e["ﯭ"]="ئە";e["ﯮ"]="ئو";e["ﯯ"]="ئو";e["ﯰ"]="ئۇ";e["ﯱ"]="ئۇ";e["ﯲ"]="ئۆ";e["ﯳ"]="ئۆ";e["ﯴ"]="ئۈ";e["ﯵ"]="ئۈ";e["ﯶ"]="ئې";e["ﯷ"]="ئې";e["ﯸ"]="ئې";e["ﯹ"]="ئى";e["ﯺ"]="ئى";e["ﯻ"]="ئى";e["ﯼ"]="ی";e["ﯽ"]="ی";e["ﯾ"]="ی";e["ﯿ"]="ی";e["ﰀ"]="ئج";e["ﰁ"]="ئح";e["ﰂ"]="ئم";e["ﰃ"]="ئى";e["ﰄ"]="ئي";e["ﰅ"]="بج";e["ﰆ"]="بح";e["ﰇ"]="بخ";e["ﰈ"]="بم";e["ﰉ"]="بى";e["ﰊ"]="بي";e["ﰋ"]="تج";e["ﰌ"]="تح";e["ﰍ"]="تخ";e["ﰎ"]="تم";e["ﰏ"]="تى";e["ﰐ"]="تي";e["ﰑ"]="ثج";e["ﰒ"]="ثم";e["ﰓ"]="ثى";e["ﰔ"]="ثي";e["ﰕ"]="جح";e["ﰖ"]="جم";e["ﰗ"]="حج";e["ﰘ"]="حم";e["ﰙ"]="خج";e["ﰚ"]="خح";e["ﰛ"]="خم";e["ﰜ"]="سج";e["ﰝ"]="سح";e["ﰞ"]="سخ";e["ﰟ"]="سم";e["ﰠ"]="صح";e["ﰡ"]="صم";e["ﰢ"]="ضج";e["ﰣ"]="ضح";e["ﰤ"]="ضخ";e["ﰥ"]="ضم";e["ﰦ"]="طح";e["ﰧ"]="طم";e["ﰨ"]="ظم";e["ﰩ"]="عج";e["ﰪ"]="عم";e["ﰫ"]="غج";e["ﰬ"]="غم";e["ﰭ"]="فج";e["ﰮ"]="فح";e["ﰯ"]="فخ";e["ﰰ"]="فم";e["ﰱ"]="فى";e["ﰲ"]="في";e["ﰳ"]="قح";e["ﰴ"]="قم";e["ﰵ"]="قى";e["ﰶ"]="قي";e["ﰷ"]="كا";e["ﰸ"]="كج";e["ﰹ"]="كح";e["ﰺ"]="كخ";e["ﰻ"]="كل";e["ﰼ"]="كم";e["ﰽ"]="كى";e["ﰾ"]="كي";e["ﰿ"]="لج";e["ﱀ"]="لح";e["ﱁ"]="لخ";e["ﱂ"]="لم";e["ﱃ"]="لى";e["ﱄ"]="لي";e["ﱅ"]="مج";e["ﱆ"]="مح";e["ﱇ"]="مخ";e["ﱈ"]="مم";e["ﱉ"]="مى";e["ﱊ"]="مي";e["ﱋ"]="نج";e["ﱌ"]="نح";e["ﱍ"]="نخ";e["ﱎ"]="نم";e["ﱏ"]="نى";e["ﱐ"]="ني";e["ﱑ"]="هج";e["ﱒ"]="هم";e["ﱓ"]="هى";e["ﱔ"]="هي";e["ﱕ"]="يج";e["ﱖ"]="يح";e["ﱗ"]="يخ";e["ﱘ"]="يم";e["ﱙ"]="يى";e["ﱚ"]="يي";e["ﱛ"]="ذٰ";e["ﱜ"]="رٰ";e["ﱝ"]="ىٰ";e["ﱞ"]=" ٌّ";e["ﱟ"]=" ٍّ";e["ﱠ"]=" َّ";e["ﱡ"]=" ُّ";e["ﱢ"]=" ِّ";e["ﱣ"]=" ّٰ";e["ﱤ"]="ئر";e["ﱥ"]="ئز";e["ﱦ"]="ئم";e["ﱧ"]="ئن";e["ﱨ"]="ئى";e["ﱩ"]="ئي";e["ﱪ"]="بر";e["ﱫ"]="بز";e["ﱬ"]="بم";e["ﱭ"]="بن";e["ﱮ"]="بى";e["ﱯ"]="بي";e["ﱰ"]="تر";e["ﱱ"]="تز";e["ﱲ"]="تم";e["ﱳ"]="تن";e["ﱴ"]="تى";e["ﱵ"]="تي";e["ﱶ"]="ثر";e["ﱷ"]="ثز";e["ﱸ"]="ثم";e["ﱹ"]="ثن";e["ﱺ"]="ثى";e["ﱻ"]="ثي";e["ﱼ"]="فى";e["ﱽ"]="في";e["ﱾ"]="قى";e["ﱿ"]="قي";e["ﲀ"]="كا";e["ﲁ"]="كل";e["ﲂ"]="كم";e["ﲃ"]="كى";e["ﲄ"]="كي";e["ﲅ"]="لم";e["ﲆ"]="لى";e["ﲇ"]="لي";e["ﲈ"]="ما";e["ﲉ"]="مم";e["ﲊ"]="نر";e["ﲋ"]="نز";e["ﲌ"]="نم";e["ﲍ"]="نن";e["ﲎ"]="نى";e["ﲏ"]="ني";e["ﲐ"]="ىٰ";e["ﲑ"]="ير";e["ﲒ"]="يز";e["ﲓ"]="يم";e["ﲔ"]="ين";e["ﲕ"]="يى";e["ﲖ"]="يي";e["ﲗ"]="ئج";e["ﲘ"]="ئح";e["ﲙ"]="ئخ";e["ﲚ"]="ئم";e["ﲛ"]="ئه";e["ﲜ"]="بج";e["ﲝ"]="بح";e["ﲞ"]="بخ";e["ﲟ"]="بم";e["ﲠ"]="به";e["ﲡ"]="تج";e["ﲢ"]="تح";e["ﲣ"]="تخ";e["ﲤ"]="تم";e["ﲥ"]="ته";e["ﲦ"]="ثم";e["ﲧ"]="جح";e["ﲨ"]="جم";e["ﲩ"]="حج";e["ﲪ"]="حم";e["ﲫ"]="خج";e["ﲬ"]="خم";e["ﲭ"]="سج";e["ﲮ"]="سح";e["ﲯ"]="سخ";e["ﲰ"]="سم";e["ﲱ"]="صح";e["ﲲ"]="صخ";e["ﲳ"]="صم";e["ﲴ"]="ضج";e["ﲵ"]="ضح";e["ﲶ"]="ضخ";e["ﲷ"]="ضم";e["ﲸ"]="طح";e["ﲹ"]="ظم";e["ﲺ"]="عج";e["ﲻ"]="عم";e["ﲼ"]="غج";e["ﲽ"]="غم";e["ﲾ"]="فج";e["ﲿ"]="فح";e["ﳀ"]="فخ";e["ﳁ"]="فم";e["ﳂ"]="قح";e["ﳃ"]="قم";e["ﳄ"]="كج";e["ﳅ"]="كح";e["ﳆ"]="كخ";e["ﳇ"]="كل";e["ﳈ"]="كم";e["ﳉ"]="لج";e["ﳊ"]="لح";e["ﳋ"]="لخ";e["ﳌ"]="لم";e["ﳍ"]="له";e["ﳎ"]="مج";e["ﳏ"]="مح";e["ﳐ"]="مخ";e["ﳑ"]="مم";e["ﳒ"]="نج";e["ﳓ"]="نح";e["ﳔ"]="نخ";e["ﳕ"]="نم";e["ﳖ"]="نه";e["ﳗ"]="هج";e["ﳘ"]="هم";e["ﳙ"]="هٰ";e["ﳚ"]="يج";e["ﳛ"]="يح";e["ﳜ"]="يخ";e["ﳝ"]="يم";e["ﳞ"]="يه";e["ﳟ"]="ئم";e["ﳠ"]="ئه";e["ﳡ"]="بم";e["ﳢ"]="به";e["ﳣ"]="تم";e["ﳤ"]="ته";e["ﳥ"]="ثم";e["ﳦ"]="ثه";e["ﳧ"]="سم";e["ﳨ"]="سه";e["ﳩ"]="شم";e["ﳪ"]="شه";e["ﳫ"]="كل";e["ﳬ"]="كم";e["ﳭ"]="لم";e["ﳮ"]="نم";e["ﳯ"]="نه";e["ﳰ"]="يم";e["ﳱ"]="يه";e["ﳲ"]="ـَّ";e["ﳳ"]="ـُّ";e["ﳴ"]="ـِّ";e["ﳵ"]="طى";e["ﳶ"]="طي";e["ﳷ"]="عى";e["ﳸ"]="عي";e["ﳹ"]="غى";e["ﳺ"]="غي";e["ﳻ"]="سى";e["ﳼ"]="سي";e["ﳽ"]="شى";e["ﳾ"]="شي";e["ﳿ"]="حى";e["ﴀ"]="حي";e["ﴁ"]="جى";e["ﴂ"]="جي";e["ﴃ"]="خى";e["ﴄ"]="خي";e["ﴅ"]="صى";e["ﴆ"]="صي";e["ﴇ"]="ضى";e["ﴈ"]="ضي";e["ﴉ"]="شج";e["ﴊ"]="شح";e["ﴋ"]="شخ";e["ﴌ"]="شم";e["ﴍ"]="شر";e["ﴎ"]="سر";e["ﴏ"]="صر";e["ﴐ"]="ضر";e["ﴑ"]="طى";e["ﴒ"]="طي";e["ﴓ"]="عى";e["ﴔ"]="عي";e["ﴕ"]="غى";e["ﴖ"]="غي";e["ﴗ"]="سى";e["ﴘ"]="سي";e["ﴙ"]="شى";e["ﴚ"]="شي";e["ﴛ"]="حى";e["ﴜ"]="حي";e["ﴝ"]="جى";e["ﴞ"]="جي";e["ﴟ"]="خى";e["ﴠ"]="خي";e["ﴡ"]="صى";e["ﴢ"]="صي";e["ﴣ"]="ضى";e["ﴤ"]="ضي";e["ﴥ"]="شج";e["ﴦ"]="شح";e["ﴧ"]="شخ";e["ﴨ"]="شم";e["ﴩ"]="شر";e["ﴪ"]="سر";e["ﴫ"]="صر";e["ﴬ"]="ضر";e["ﴭ"]="شج";e["ﴮ"]="شح";e["ﴯ"]="شخ";e["ﴰ"]="شم";e["ﴱ"]="سه";e["ﴲ"]="شه";e["ﴳ"]="طم";e["ﴴ"]="سج";e["ﴵ"]="سح";e["ﴶ"]="سخ";e["ﴷ"]="شج";e["ﴸ"]="شح";e["ﴹ"]="شخ";e["ﴺ"]="طم";e["ﴻ"]="ظم";e["ﴼ"]="اً";e["ﴽ"]="اً";e["ﵐ"]="تجم";e["ﵑ"]="تحج";e["ﵒ"]="تحج";e["ﵓ"]="تحم";e["ﵔ"]="تخم";e["ﵕ"]="تمج";e["ﵖ"]="تمح";e["ﵗ"]="تمخ";e["ﵘ"]="جمح";e["ﵙ"]="جمح";e["ﵚ"]="حمي";e["ﵛ"]="حمى";e["ﵜ"]="سحج";e["ﵝ"]="سجح";e["ﵞ"]="سجى";e["ﵟ"]="سمح";e["ﵠ"]="سمح";e["ﵡ"]="سمج";e["ﵢ"]="سمم";e["ﵣ"]="سمم";e["ﵤ"]="صحح";e["ﵥ"]="صحح";e["ﵦ"]="صمم";e["ﵧ"]="شحم";e["ﵨ"]="شحم";e["ﵩ"]="شجي";e["ﵪ"]="شمخ";e["ﵫ"]="شمخ";e["ﵬ"]="شمم";e["ﵭ"]="شمم";e["ﵮ"]="ضحى";e["ﵯ"]="ضخم";e["ﵰ"]="ضخم";e["ﵱ"]="طمح";e["ﵲ"]="طمح";e["ﵳ"]="طمم";e["ﵴ"]="طمي";e["ﵵ"]="عجم";e["ﵶ"]="عمم";e["ﵷ"]="عمم";e["ﵸ"]="عمى";e["ﵹ"]="غمم";e["ﵺ"]="غمي";e["ﵻ"]="غمى";e["ﵼ"]="فخم";e["ﵽ"]="فخم";e["ﵾ"]="قمح";e["ﵿ"]="قمم";e["ﶀ"]="لحم";e["ﶁ"]="لحي";e["ﶂ"]="لحى";e["ﶃ"]="لجج";e["ﶄ"]="لجج";e["ﶅ"]="لخم";e["ﶆ"]="لخم";e["ﶇ"]="لمح";e["ﶈ"]="لمح";e["ﶉ"]="محج";e["ﶊ"]="محم";e["ﶋ"]="محي";e["ﶌ"]="مجح";e["ﶍ"]="مجم";e["ﶎ"]="مخج";e["ﶏ"]="مخم";e["ﶒ"]="مجخ";e["ﶓ"]="همج";e["ﶔ"]="همم";e["ﶕ"]="نحم";e["ﶖ"]="نحى";e["ﶗ"]="نجم";e["ﶘ"]="نجم";e["ﶙ"]="نجى";e["ﶚ"]="نمي";e["ﶛ"]="نمى";e["ﶜ"]="يمم";e["ﶝ"]="يمم";e["ﶞ"]="بخي";e["ﶟ"]="تجي";e["ﶠ"]="تجى";e["ﶡ"]="تخي";e["ﶢ"]="تخى";e["ﶣ"]="تمي";e["ﶤ"]="تمى";e["ﶥ"]="جمي";e["ﶦ"]="جحى";e["ﶧ"]="جمى";e["ﶨ"]="سخى";e["ﶩ"]="صحي";e["ﶪ"]="شحي";e["ﶫ"]="ضحي";e["ﶬ"]="لجي";e["ﶭ"]="لمي";e["ﶮ"]="يحي";e["ﶯ"]="يجي";e["ﶰ"]="يمي";e["ﶱ"]="ممي";e["ﶲ"]="قمي";e["ﶳ"]="نحي";e["ﶴ"]="قمح";e["ﶵ"]="لحم";e["ﶶ"]="عمي";e["ﶷ"]="كمي";e["ﶸ"]="نجح";e["ﶹ"]="مخي";e["ﶺ"]="لجم";e["ﶻ"]="كمم";e["ﶼ"]="لجم";e["ﶽ"]="نجح";e["ﶾ"]="جحي";e["ﶿ"]="حجي";e["ﷀ"]="مجي";e["ﷁ"]="فمي";e["ﷂ"]="بحي";e["ﷃ"]="كمم";e["ﷄ"]="عجم";e["ﷅ"]="صمم";e["ﷆ"]="سخي";e["ﷇ"]="نجي";e["﹉"]="‾";e["﹊"]="‾";e["﹋"]="‾";e["﹌"]="‾";e["﹍"]="_";e["﹎"]="_";e["﹏"]="_";e["ﺀ"]="ء";e["ﺁ"]="آ";e["ﺂ"]="آ";e["ﺃ"]="أ";e["ﺄ"]="أ";e["ﺅ"]="ؤ";e["ﺆ"]="ؤ";e["ﺇ"]="إ";e["ﺈ"]="إ";e["ﺉ"]="ئ";e["ﺊ"]="ئ";e["ﺋ"]="ئ";e["ﺌ"]="ئ";e["ﺍ"]="ا";e["ﺎ"]="ا";e["ﺏ"]="ب";e["ﺐ"]="ب";e["ﺑ"]="ب";e["ﺒ"]="ب";e["ﺓ"]="ة";e["ﺔ"]="ة";e["ﺕ"]="ت";e["ﺖ"]="ت";e["ﺗ"]="ت";e["ﺘ"]="ت";e["ﺙ"]="ث";e["ﺚ"]="ث";e["ﺛ"]="ث";e["ﺜ"]="ث";e["ﺝ"]="ج";e["ﺞ"]="ج";e["ﺟ"]="ج";e["ﺠ"]="ج";e["ﺡ"]="ح";e["ﺢ"]="ح";e["ﺣ"]="ح";e["ﺤ"]="ح";e["ﺥ"]="خ";e["ﺦ"]="خ";e["ﺧ"]="خ";e["ﺨ"]="خ";e["ﺩ"]="د";e["ﺪ"]="د";e["ﺫ"]="ذ";e["ﺬ"]="ذ";e["ﺭ"]="ر";e["ﺮ"]="ر";e["ﺯ"]="ز";e["ﺰ"]="ز";e["ﺱ"]="س";e["ﺲ"]="س";e["ﺳ"]="س";e["ﺴ"]="س";e["ﺵ"]="ش";e["ﺶ"]="ش";e["ﺷ"]="ش";e["ﺸ"]="ش";e["ﺹ"]="ص";e["ﺺ"]="ص";e["ﺻ"]="ص";e["ﺼ"]="ص";e["ﺽ"]="ض";e["ﺾ"]="ض";e["ﺿ"]="ض";e["ﻀ"]="ض";e["ﻁ"]="ط";e["ﻂ"]="ط";e["ﻃ"]="ط";e["ﻄ"]="ط";e["ﻅ"]="ظ";e["ﻆ"]="ظ";e["ﻇ"]="ظ";e["ﻈ"]="ظ";e["ﻉ"]="ع";e["ﻊ"]="ع";e["ﻋ"]="ع";e["ﻌ"]="ع";e["ﻍ"]="غ";e["ﻎ"]="غ";e["ﻏ"]="غ";e["ﻐ"]="غ";e["ﻑ"]="ف";e["ﻒ"]="ف";e["ﻓ"]="ف";e["ﻔ"]="ف";e["ﻕ"]="ق";e["ﻖ"]="ق";e["ﻗ"]="ق";e["ﻘ"]="ق";e["ﻙ"]="ك";e["ﻚ"]="ك";e["ﻛ"]="ك";e["ﻜ"]="ك";e["ﻝ"]="ل";e["ﻞ"]="ل";e["ﻟ"]="ل";e["ﻠ"]="ل";e["ﻡ"]="م";e["ﻢ"]="م";e["ﻣ"]="م";e["ﻤ"]="م";e["ﻥ"]="ن";e["ﻦ"]="ن";e["ﻧ"]="ن";e["ﻨ"]="ن";e["ﻩ"]="ه";e["ﻪ"]="ه";e["ﻫ"]="ه";e["ﻬ"]="ه";e["ﻭ"]="و";e["ﻮ"]="و";e["ﻯ"]="ى";e["ﻰ"]="ى";e["ﻱ"]="ي";e["ﻲ"]="ي";e["ﻳ"]="ي";e["ﻴ"]="ي";e["ﻵ"]="لآ";e["ﻶ"]="لآ";e["ﻷ"]="لأ";e["ﻸ"]="لأ";e["ﻹ"]="لإ";e["ﻺ"]="لإ";e["ﻻ"]="لا";e["ﻼ"]="لا"});function f(e){var r=e.length;if(r<=1||!l(e.charCodeAt(0))){return e}var t="";for(var a=r-1;a>=0;a--){t+=e[a]}return t}r.mapSpecialUnicodeValues=i;r.reverseIfRtl=f;r.getUnicodeRangeFor=c;r.getNormalizedUnicodes=u;r.getUnicodeForGlyph=o},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.FontRendererFactory=void 0;var a=t(5);var n=t(207);var i=t(210);var o=t(209);var s=t(190);function c(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){c=function e(r){return typeof r}}else{c=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return c(e)}function l(e,r){if(r&&(c(r)==="object"||typeof r==="function")){return r}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return f(e)}function h(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:true,configurable:true}});if(r)d(e,r)}function d(e,r){d=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return d(e,r)}function v(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function g(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function p(e,r,t){if(r)g(e.prototype,r);if(t)g(e,t);return e}var m=function e(){function r(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]}function t(e,r){return e[r]<<8|e[r+1]}function c(e,n,i){var o=t(e,n+2)===1?r(e,n+8):r(e,n+16);var s=t(e,n+o);var c,l,u;if(s===4){t(e,n+o+2);var f=t(e,n+o+6)>>1;l=n+o+14;c=[];for(u=0;u<f;u++,l+=2){c[u]={end:t(e,l)}}l+=2;for(u=0;u<f;u++,l+=2){c[u].start=t(e,l)}for(u=0;u<f;u++,l+=2){c[u].idDelta=t(e,l)}for(u=0;u<f;u++,l+=2){var h=t(e,l);if(h===0){continue}c[u].ids=[];for(var d=0,v=c[u].end-c[u].start+1;d<v;d++){c[u].ids[d]=t(e,l+h);h+=2}}return c}else if(s===12){r(e,n+o+4);var g=r(e,n+o+12);l=n+o+16;c=[];for(u=0;u<g;u++){c.push({start:r(e,l),end:r(e,l+4),idDelta:r(e,l+8)-r(e,l)});l+=12}return c}throw new a.FormatError("unsupported cmap: ".concat(s))}function u(e,r,t,a){var i={};var o=new n.CFFParser(new s.Stream(e,r,t-r),i,a);var c=o.parse();return{glyphs:c.charStrings.objects,subrs:c.topDict.privateDict&&c.topDict.privateDict.subrsIndex&&c.topDict.privateDict.subrsIndex.objects,gsubrs:c.globalSubrIndex&&c.globalSubrIndex.objects,isCFFCIDFont:c.isCIDFont,fdSelect:c.fdSelect,fdArray:c.fdArray}}function d(e,r,t){var a,n;if(t){a=4;n=function e(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]}}else{a=2;n=function e(r,t){return r[t]<<9|r[t+1]<<1}}var i=[];var o=n(r,0);for(var s=a;s<r.length;s+=a){var c=n(r,s);i.push(e.subarray(o,c));o=c}return i}function g(e,r){var t=r.codePointAt(0),a=0;var n=0,i=e.length-1;while(n<i){var o=n+i+1>>1;if(t<e[o].start){i=o-1}else{n=o}}if(e[n].start<=t&&t<=e[n].end){a=e[n].idDelta+(e[n].ids?e[n].ids[t-e[n].start]:t)&65535}return{charCode:t,glyphId:a}}function m(e,r,t){function a(e,t){r.push({cmd:"moveTo",args:[e,t]})}function n(e,t){r.push({cmd:"lineTo",args:[e,t]})}function i(e,t,a,n){r.push({cmd:"quadraticCurveTo",args:[e,t,a,n]})}var o=0;var s=(e[o]<<24|e[o+1]<<16)>>16;var c;var l=0,u=0;o+=10;if(s<0){do{c=e[o]<<8|e[o+1];var f=e[o+2]<<8|e[o+3];o+=4;var h,d;if(c&1){h=(e[o]<<24|e[o+1]<<16)>>16;d=(e[o+2]<<24|e[o+3]<<16)>>16;o+=4}else{h=e[o++];d=e[o++]}if(c&2){l=h;u=d}else{l=0;u=0}var v=1,g=1,p=0,b=0;if(c&8){v=g=(e[o]<<24|e[o+1]<<16)/1073741824;o+=2}else if(c&64){v=(e[o]<<24|e[o+1]<<16)/1073741824;g=(e[o+2]<<24|e[o+3]<<16)/1073741824;o+=4}else if(c&128){v=(e[o]<<24|e[o+1]<<16)/1073741824;p=(e[o+2]<<24|e[o+3]<<16)/1073741824;b=(e[o+4]<<24|e[o+5]<<16)/1073741824;g=(e[o+6]<<24|e[o+7]<<16)/1073741824;o+=8}var y=t.glyphs[f];if(y){r.push({cmd:"save"});r.push({cmd:"transform",args:[v,p,b,g,l,u]});m(y,r,t);r.push({cmd:"restore"})}}while(c&32)}else{var w=[];var k,S;for(k=0;k<s;k++){w.push(e[o]<<8|e[o+1]);o+=2}var x=e[o]<<8|e[o+1];o+=2+x;var C=w[w.length-1]+1;var A=[];while(A.length<C){c=e[o++];var O=1;if(c&8){O+=e[o++]}while(O-- >0){A.push({flags:c})}}for(k=0;k<C;k++){switch(A[k].flags&18){case 0:l+=(e[o]<<24|e[o+1]<<16)>>16;o+=2;break;case 2:l-=e[o++];break;case 18:l+=e[o++];break}A[k].x=l}for(k=0;k<C;k++){switch(A[k].flags&36){case 0:u+=(e[o]<<24|e[o+1]<<16)>>16;o+=2;break;case 4:u-=e[o++];break;case 36:u+=e[o++];break}A[k].y=u}var P=0;for(o=0;o<s;o++){var I=w[o];var T=A.slice(P,I+1);if(T[0].flags&1){T.push(T[0])}else if(T[T.length-1].flags&1){T.unshift(T[T.length-1])}else{var E={flags:1,x:(T[0].x+T[T.length-1].x)/2,y:(T[0].y+T[T.length-1].y)/2};T.unshift(E);T.push(E)}a(T[0].x,T[0].y);for(k=1,S=T.length;k<S;k++){if(T[k].flags&1){n(T[k].x,T[k].y)}else if(T[k+1].flags&1){i(T[k].x,T[k].y,T[k+1].x,T[k+1].y);k++}else{i(T[k].x,T[k].y,(T[k].x+T[k+1].x)/2,(T[k].y+T[k+1].y)/2)}}P=I+1}}}function b(e,r,t,n){var i=[];var s=0,c=0;var l=0;function u(e,t){r.push({cmd:"moveTo",args:[e,t]})}function f(e,t){r.push({cmd:"lineTo",args:[e,t]})}function h(e,t,a,n,i,o){r.push({cmd:"bezierCurveTo",args:[e,t,a,n,i,o]})}function d(e){var v=0;while(v<e.length){var p=false;var m=e[v++];var y,w,k,S,x,C,A,O,P;switch(m){case 1:l+=i.length>>1;p=true;break;case 3:l+=i.length>>1;p=true;break;case 4:c+=i.pop();u(s,c);p=true;break;case 5:while(i.length>0){s+=i.shift();c+=i.shift();f(s,c)}break;case 6:while(i.length>0){s+=i.shift();f(s,c);if(i.length===0){break}c+=i.shift();f(s,c)}break;case 7:while(i.length>0){c+=i.shift();f(s,c);if(i.length===0){break}s+=i.shift();f(s,c)}break;case 8:while(i.length>0){y=s+i.shift();k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+i.shift();h(y,k,w,S,s,c)}break;case 10:O=i.pop();P=null;if(t.isCFFCIDFont){var I=t.fdSelect.getFDIndex(n);if(I>=0&&I<t.fdArray.length){var T=t.fdArray[I],E=void 0;if(T.privateDict&&T.privateDict.subrsIndex){E=T.privateDict.subrsIndex.objects}if(E){var F=E.length;O+=F<1240?107:F<33900?1131:32768;P=E[O]}}else{(0,a.warn)("Invalid fd index for glyph index.")}}else{P=t.subrs[O+t.subrsBias]}if(P){d(P)}break;case 11:return;case 12:m=e[v++];switch(m){case 34:y=s+i.shift();w=y+i.shift();x=c+i.shift();s=w+i.shift();h(y,c,w,x,s,x);y=s+i.shift();w=y+i.shift();s=w+i.shift();h(y,x,w,c,s,c);break;case 35:y=s+i.shift();k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+i.shift();h(y,k,w,S,s,c);y=s+i.shift();k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+i.shift();h(y,k,w,S,s,c);i.pop();break;case 36:y=s+i.shift();x=c+i.shift();w=y+i.shift();C=x+i.shift();s=w+i.shift();h(y,x,w,C,s,C);y=s+i.shift();w=y+i.shift();A=C+i.shift();s=w+i.shift();h(y,C,w,A,s,c);break;case 37:var B=s,_=c;y=s+i.shift();k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+i.shift();h(y,k,w,S,s,c);y=s+i.shift();k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w;c=S;if(Math.abs(s-B)>Math.abs(c-_)){s+=i.shift()}else{c+=i.shift()}h(y,k,w,S,s,c);break;default:throw new a.FormatError("unknown operator: 12 ".concat(m))}break;case 14:if(i.length>=4){var R=i.pop();var L=i.pop();c=i.pop();s=i.pop();r.push({cmd:"save"});r.push({cmd:"translate",args:[s,c]});var M=g(t.cmap,String.fromCharCode(t.glyphNameMap[o.StandardEncoding[R]]));b(t.glyphs[M.glyphId],r,t,M.glyphId);r.push({cmd:"restore"});M=g(t.cmap,String.fromCharCode(t.glyphNameMap[o.StandardEncoding[L]]));b(t.glyphs[M.glyphId],r,t,M.glyphId)}return;case 18:l+=i.length>>1;p=true;break;case 19:l+=i.length>>1;v+=l+7>>3;p=true;break;case 20:l+=i.length>>1;v+=l+7>>3;p=true;break;case 21:c+=i.pop();s+=i.pop();u(s,c);p=true;break;case 22:s+=i.pop();u(s,c);p=true;break;case 23:l+=i.length>>1;p=true;break;case 24:while(i.length>2){y=s+i.shift();k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+i.shift();h(y,k,w,S,s,c)}s+=i.shift();c+=i.shift();f(s,c);break;case 25:while(i.length>6){s+=i.shift();c+=i.shift();f(s,c)}y=s+i.shift();k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+i.shift();h(y,k,w,S,s,c);break;case 26:if(i.length%2){s+=i.shift()}while(i.length>0){y=s;k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w;c=S+i.shift();h(y,k,w,S,s,c)}break;case 27:if(i.length%2){c+=i.shift()}while(i.length>0){y=s+i.shift();k=c;w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S;h(y,k,w,S,s,c)}break;case 28:i.push((e[v]<<24|e[v+1]<<16)>>16);v+=2;break;case 29:O=i.pop()+t.gsubrsBias;P=t.gsubrs[O];if(P){d(P)}break;case 30:while(i.length>0){y=s;k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+(i.length===1?i.shift():0);h(y,k,w,S,s,c);if(i.length===0){break}y=s+i.shift();k=c;w=y+i.shift();S=k+i.shift();c=S+i.shift();s=w+(i.length===1?i.shift():0);h(y,k,w,S,s,c)}break;case 31:while(i.length>0){y=s+i.shift();k=c;w=y+i.shift();S=k+i.shift();c=S+i.shift();s=w+(i.length===1?i.shift():0);h(y,k,w,S,s,c);if(i.length===0){break}y=s;k=c+i.shift();w=y+i.shift();S=k+i.shift();s=w+i.shift();c=S+(i.length===1?i.shift():0);h(y,k,w,S,s,c)}break;default:if(m<32){throw new a.FormatError("unknown operator: ".concat(m))}if(m<247){i.push(m-139)}else if(m<251){i.push((m-247)*256+e[v++]+108)}else if(m<255){i.push(-(m-251)*256-e[v++]-108)}else{i.push((e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3])/65536);v+=4}break}if(p){i.length=0}}}d(e)}var y=[];var w=function(){function e(r){v(this,e);if(this.constructor===e){(0,a.unreachable)("Cannot initialize CompiledFont.")}this.fontMatrix=r;this.compiledGlyphs=Object.create(null);this.compiledCharCodeToGlyphId=Object.create(null)}p(e,[{key:"getPathJs",value:function e(r){var t=g(this.cmap,r);var a=this.compiledGlyphs[t.glyphId];if(!a){a=this.compileGlyph(this.glyphs[t.glyphId],t.glyphId);this.compiledGlyphs[t.glyphId]=a}if(this.compiledCharCodeToGlyphId[t.charCode]===undefined){this.compiledCharCodeToGlyphId[t.charCode]=t.glyphId}return a}},{key:"compileGlyph",value:function e(r,t){if(!r||r.length===0||r[0]===14){return y}var n=this.fontMatrix;if(this.isCFFCIDFont){var i=this.fdSelect.getFDIndex(t);if(i>=0&&i<this.fdArray.length){var o=this.fdArray[i];n=o.getByName("FontMatrix")||a.FONT_IDENTITY_MATRIX}else{(0,a.warn)("Invalid fd index for glyph index.")}}var s=[];s.push({cmd:"save"});s.push({cmd:"transform",args:n.slice()});s.push({cmd:"scale",args:["size","-size"]});this.compileGlyphImpl(r,s,t);s.push({cmd:"restore"});return s}},{key:"compileGlyphImpl",value:function e(){(0,a.unreachable)("Children classes should implement this.")}},{key:"hasBuiltPath",value:function e(r){var t=g(this.cmap,r);return this.compiledGlyphs[t.glyphId]!==undefined&&this.compiledCharCodeToGlyphId[t.charCode]!==undefined}}]);return e}();var k=function(e){h(r,e);function r(e,t,a){var n;v(this,r);n=l(this,f(r).call(this,a||[488e-6,0,0,488e-6,0,0]));n.glyphs=e;n.cmap=t;return n}p(r,[{key:"compileGlyphImpl",value:function e(r,t){m(r,t,this)}}]);return r}(w);var S=function(e){h(r,e);function r(e,t,a,n){var o;v(this,r);o=l(this,f(r).call(this,a||[.001,0,0,.001,0,0]));o.glyphs=e.glyphs;o.gsubrs=e.gsubrs||[];o.subrs=e.subrs||[];o.cmap=t;o.glyphNameMap=n||(0,i.getGlyphsUnicode)();o.gsubrsBias=o.gsubrs.length<1240?107:o.gsubrs.length<33900?1131:32768;o.subrsBias=o.subrs.length<1240?107:o.subrs.length<33900?1131:32768;o.isCFFCIDFont=e.isCFFCIDFont;o.fdSelect=e.fdSelect;o.fdArray=e.fdArray;return o}p(r,[{key:"compileGlyphImpl",value:function e(r,t,a){b(r,t,this,a)}}]);return r}(w);return{create:function e(n,i){var o=new Uint8Array(n.data);var s,l,f,h,v,g;var p=t(o,4);for(var m=0,b=12;m<p;m++,b+=16){var y=(0,a.bytesToString)(o.subarray(b,b+4));var w=r(o,b+8);var x=r(o,b+12);switch(y){case"cmap":s=c(o,w,w+x);break;case"glyf":l=o.subarray(w,w+x);break;case"loca":f=o.subarray(w,w+x);break;case"head":g=t(o,w+18);v=t(o,w+50);break;case"CFF ":h=u(o,w,w+x,i);break}}if(l){var C=!g?n.fontMatrix:[1/g,0,0,1/g,0,0];return new k(d(l,f,v),s,C)}return new S(h,s,n.fontMatrix,n.glyphNameMap)}}}();r.FontRendererFactory=m},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.Type1Parser=void 0;var a=t(5);var n=t(209);var i=t(190);var o=false;var s=function e(){var r={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};function t(){this.width=0;this.lsb=0;this.flexing=false;this.output=[];this.stack=[]}t.prototype={convert:function e(t,n,i){var s=t.length;var c=false;var l,u,f;for(var h=0;h<s;h++){var d=t[h];if(d<32){if(d===12){d=(d<<8)+t[++h]}switch(d){case 1:if(!o){this.stack=[];break}c=this.executeCommand(2,r.hstem);break;case 3:if(!o){this.stack=[];break}c=this.executeCommand(2,r.vstem);break;case 4:if(this.flexing){if(this.stack.length<1){c=true;break}var v=this.stack.pop();this.stack.push(0,v);break}c=this.executeCommand(1,r.vmoveto);break;case 5:c=this.executeCommand(2,r.rlineto);break;case 6:c=this.executeCommand(1,r.hlineto);break;case 7:c=this.executeCommand(1,r.vlineto);break;case 8:c=this.executeCommand(6,r.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){c=true;break}f=this.stack.pop();if(!n[f]){c=true;break}c=this.convert(n[f],n,i);break;case 11:return c;case 13:if(this.stack.length<2){c=true;break}l=this.stack.pop();u=this.stack.pop();this.lsb=u;this.width=l;this.stack.push(l,u);c=this.executeCommand(2,r.hmoveto);break;case 14:this.output.push(r.endchar[0]);break;case 21:if(this.flexing){break}c=this.executeCommand(2,r.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}c=this.executeCommand(1,r.hmoveto);break;case 30:c=this.executeCommand(4,r.vhcurveto);break;case 31:c=this.executeCommand(4,r.hvcurveto);break;case(12<<8)+0:this.stack=[];break;case(12<<8)+1:if(!o){this.stack=[];break}c=this.executeCommand(2,r.vstem);break;case(12<<8)+2:if(!o){this.stack=[];break}c=this.executeCommand(2,r.hstem);break;case(12<<8)+6:if(i){this.seac=this.stack.splice(-4,4);c=this.executeCommand(0,r.endchar)}else{c=this.executeCommand(4,r.endchar)}break;case(12<<8)+7:if(this.stack.length<4){c=true;break}this.stack.pop();l=this.stack.pop();var g=this.stack.pop();u=this.stack.pop();this.lsb=u;this.width=l;this.stack.push(l,u,g);c=this.executeCommand(3,r.rmoveto);break;case(12<<8)+12:if(this.stack.length<2){c=true;break}var p=this.stack.pop();var m=this.stack.pop();this.stack.push(m/p);break;case(12<<8)+16:if(this.stack.length<2){c=true;break}f=this.stack.pop();var b=this.stack.pop();if(f===0&&b===3){var y=this.stack.splice(this.stack.length-17,17);this.stack.push(y[2]+y[0],y[3]+y[1],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14]);c=this.executeCommand(13,r.flex,true);this.flexing=false;this.stack.push(y[15],y[16])}else if(f===1&&b===0){this.flexing=true}break;case(12<<8)+17:break;case(12<<8)+33:this.stack=[];break;default:(0,a.warn)('Unknown type 1 charstring command of "'+d+'"');break}if(c){break}continue}else if(d<=246){d=d-139}else if(d<=250){d=(d-247)*256+t[++h]+108}else if(d<=254){d=-((d-251)*256)-t[++h]-108}else{d=(t[++h]&255)<<24|(t[++h]&255)<<16|(t[++h]&255)<<8|(t[++h]&255)<<0}this.stack.push(d)}return c},executeCommand:function e(r,t,a){var n=this.stack.length;if(r>n){return true}var i=n-r;for(var o=i;o<n;o++){var s=this.stack[o];if(Number.isInteger(s)){this.output.push(28,s>>8&255,s&255)}else{s=65536*s|0;this.output.push(255,s>>24&255,s>>16&255,s>>8&255,s&255)}}this.output.push.apply(this.output,t);if(a){this.stack.splice(i,r)}else{this.stack.length=0}return false}};return t}();var c=function e(){var r=55665;var t=4330;function c(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function l(e,r,t){if(t>=e.length){return new Uint8Array(0)}var a=r|0,n=52845,i=22719,o,s;for(o=0;o<t;o++){a=(e[o]+a)*n+i&(1<<16)-1}var c=e.length-t;var l=new Uint8Array(c);for(o=t,s=0;s<c;o++,s++){var u=e[o];l[s]=u^a>>8;a=(u+a)*n+i&(1<<16)-1}return l}function u(e,r,t){var a=r|0,n=52845,i=22719;var o=e.length,s=o>>>1;var l=new Uint8Array(s);var u,f;for(u=0,f=0;u<o;u++){var h=e[u];if(!c(h)){continue}u++;var d;while(u<o&&!c(d=e[u])){u++}if(u<o){var v=parseInt(String.fromCharCode(h,d),16);l[f++]=v^a>>8;a=(v+a)*n+i&(1<<16)-1}}return Array.prototype.slice.call(l,t,f)}function f(e){return e===47||e===91||e===93||e===123||e===125||e===40||e===41}function h(e,t,a){if(t){var n=e.getBytes();var o=!(c(n[0])&&c(n[1])&&c(n[2])&&c(n[3]));e=new i.Stream(o?l(n,r,4):u(n,r,4))}this.seacAnalysisEnabled=!!a;this.stream=e;this.nextChar()}h.prototype={readNumberArray:function e(){this.getToken();var r=[];while(true){var t=this.getToken();if(t===null||t==="]"||t==="}"){break}r.push(parseFloat(t||0))}return r},readNumber:function e(){var r=this.getToken();return parseFloat(r||0)},readInt:function e(){var r=this.getToken();return parseInt(r||0,10)|0},readBoolean:function e(){var r=this.getToken();return r==="true"?1:0},nextChar:function e(){return this.currentChar=this.stream.getByte()},getToken:function e(){var r=false;var t=this.currentChar;while(true){if(t===-1){return null}if(r){if(t===10||t===13){r=false}}else if(t===37){r=true}else if(!(0,a.isSpace)(t)){break}t=this.nextChar()}if(f(t)){this.nextChar();return String.fromCharCode(t)}var n="";do{n+=String.fromCharCode(t);t=this.nextChar()}while(t>=0&&!(0,a.isSpace)(t)&&!f(t));return n},readCharStrings:function e(r,a){if(a===-1){return r}return l(r,t,a)},extractFontProgram:function e(r){var t=this.stream;var a=[],n=[];var i=Object.create(null);i["lenIV"]=4;var c={subrs:[],charstrings:[],properties:{privateData:i}};var l,u,f,h,d;while((l=this.getToken())!==null){if(l!=="/"){continue}l=this.getToken();switch(l){case"CharStrings":this.getToken();this.getToken();this.getToken();this.getToken();while(true){l=this.getToken();if(l===null||l==="end"){break}if(l!=="/"){continue}var v=this.getToken();u=this.readInt();this.getToken();f=u>0?t.getBytes(u):new Uint8Array(0);h=c.properties.privateData["lenIV"];d=this.readCharStrings(f,h);this.nextChar();l=this.getToken();if(l==="noaccess"){this.getToken()}n.push({glyph:v,encoded:d})}break;case"Subrs":this.readInt();this.getToken();while(this.getToken()==="dup"){var g=this.readInt();u=this.readInt();this.getToken();f=u>0?t.getBytes(u):new Uint8Array(0);h=c.properties.privateData["lenIV"];d=this.readCharStrings(f,h);this.nextChar();l=this.getToken();if(l==="noaccess"){this.getToken()}a[g]=d}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":var p=this.readNumberArray();if(p.length>0&&p.length%2===0&&o){c.properties.privateData[l]=p}break;case"StemSnapH":case"StemSnapV":c.properties.privateData[l]=this.readNumberArray();break;case"StdHW":case"StdVW":c.properties.privateData[l]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":c.properties.privateData[l]=this.readNumber();break;case"ForceBold":c.properties.privateData[l]=this.readBoolean();break}}for(var m=0;m<n.length;m++){v=n[m].glyph;d=n[m].encoded;var b=new s;var y=b.convert(d,a,this.seacAnalysisEnabled);var w=b.output;if(y){w=[14]}c.charstrings.push({glyphName:v,charstring:w,width:b.width,lsb:b.lsb,seac:b.seac});if(r.builtInEncoding){var k=r.builtInEncoding.indexOf(v);if(k>-1&&r.widths[k]===undefined&&k>=r.firstChar&&k<=r.lastChar){r.widths[k]=b.width}}}return c},extractFontHeader:function e(r){var t;while((t=this.getToken())!==null){if(t!=="/"){continue}t=this.getToken();switch(t){case"FontMatrix":var a=this.readNumberArray();r.fontMatrix=a;break;case"Encoding":var i=this.getToken();var o;if(!/^\d+$/.test(i)){o=(0,n.getEncoding)(i)}else{o=[];var s=parseInt(i,10)|0;this.getToken();for(var c=0;c<s;c++){t=this.getToken();while(t!=="dup"&&t!=="def"){t=this.getToken();if(t===null){return}}if(t==="def"){break}var l=this.readInt();this.getToken();var u=this.getToken();o[l]=u;this.getToken()}}r.builtInEncoding=o;break;case"FontBBox":var f=this.readNumberArray();r.ascent=Math.max(f[3],f[1]);r.descent=Math.min(f[1],f[3]);r.ascentScaled=true;break}}}};return h}();r.Type1Parser=c},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getTilingPatternIR=u;r.Pattern=void 0;var a=t(5);var n=t(201);var i=t(183);var o=t(186);var s={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};var c=function e(){function r(){(0,a.unreachable)("should not call Pattern constructor")}r.prototype={getPattern:function e(r){(0,a.unreachable)("Should not call Pattern.getStyle: ".concat(r))}};r.parseShading=function(e,r,t,n,c,u){var f=(0,i.isStream)(e)?e.dict:e;var h=f.get("ShadingType");try{switch(h){case s.AXIAL:case s.RADIAL:return new l.RadialAxial(f,r,t,n,u);case s.FREE_FORM_MESH:case s.LATTICE_FORM_MESH:case s.COONS_PATCH_MESH:case s.TENSOR_PATCH_MESH:return new l.Mesh(e,r,t,n,u);default:throw new a.FormatError("Unsupported ShadingType: "+h)}}catch(e){if(e instanceof o.MissingDataException){throw e}c.send("UnsupportedFeature",{featureId:a.UNSUPPORTED_FEATURES.shadingPattern});(0,a.warn)(e);return new l.Dummy}};return r}();r.Pattern=c;var l={};l.SMALL_NUMBER=1e-6;l.RadialAxial=function e(){function r(e,r,t,i,o){this.matrix=r;this.coordsArr=e.getArray("Coords");this.shadingType=e.get("ShadingType");this.type="Pattern";var c=e.get("ColorSpace","CS");c=n.ColorSpace.parse(c,t,i,o);this.cs=c;var u=e.getArray("BBox");if(Array.isArray(u)&&u.length===4){this.bbox=a.Util.normalizeRect(u)}else{this.bbox=null}var f=0,h=1;if(e.has("Domain")){var d=e.getArray("Domain");f=d[0];h=d[1]}var v=false,g=false;if(e.has("Extend")){var p=e.getArray("Extend");v=p[0];g=p[1]}if(this.shadingType===s.RADIAL&&(!v||!g)){var m=this.coordsArr[0];var b=this.coordsArr[1];var y=this.coordsArr[2];var w=this.coordsArr[3];var k=this.coordsArr[4];var S=this.coordsArr[5];var x=Math.sqrt((m-w)*(m-w)+(b-k)*(b-k));if(y<=S+x&&S<=y+x){(0,a.warn)("Unsupported radial gradient.")}}this.extendStart=v;this.extendEnd=g;var C=e.get("Function");var A=o.createFromArray(C);var O=10;var P=(h-f)/O;var I=this.colorStops=[];if(f>=h||P<=0){(0,a.info)("Bad shading domain.");return}var T=new Float32Array(c.numComps),E=new Float32Array(1);var F;for(var B=0;B<=O;B++){E[0]=f+B*P;A(E,0,T,0);F=c.getRgb(T,0);var _=a.Util.makeCssRgb(F[0],F[1],F[2]);I.push([B/O,_])}var R="transparent";if(e.has("Background")){F=c.getRgb(e.get("Background"),0);R=a.Util.makeCssRgb(F[0],F[1],F[2])}if(!v){I.unshift([0,R]);I[1][0]+=l.SMALL_NUMBER}if(!g){I[I.length-1][0]-=l.SMALL_NUMBER;I.push([1,R])}this.colorStops=I}r.prototype={getIR:function e(){var r=this.coordsArr;var t=this.shadingType;var n,i,o,c,l;if(t===s.AXIAL){i=[r[0],r[1]];o=[r[2],r[3]];c=null;l=null;n="axial"}else if(t===s.RADIAL){i=[r[0],r[1]];o=[r[3],r[4]];c=r[2];l=r[5];n="radial"}else{(0,a.unreachable)("getPattern type unknown: ".concat(t))}var u=this.matrix;if(u){i=a.Util.applyTransform(i,u);o=a.Util.applyTransform(o,u);if(t===s.RADIAL){var f=a.Util.singularValueDecompose2dScale(u);c*=f[0];l*=f[1]}}return["RadialAxial",n,this.bbox,this.colorStops,i,o,c,l]}};return r}();l.Mesh=function e(){function r(e,r){this.stream=e;this.context=r;this.buffer=0;this.bufferLength=0;var t=r.numComps;this.tmpCompsBuf=new Float32Array(t);var a=r.colorSpace.numComps;this.tmpCsCompsBuf=r.colorFn?new Float32Array(a):this.tmpCompsBuf}r.prototype={get hasData(){if(this.stream.end){return this.stream.pos<this.stream.end}if(this.bufferLength>0){return true}var e=this.stream.getByte();if(e<0){return false}this.buffer=e;this.bufferLength=8;return true},readBits:function e(r){var t=this.buffer;var a=this.bufferLength;if(r===32){if(a===0){return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0}t=t<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();var n=this.stream.getByte();this.buffer=n&(1<<a)-1;return(t<<8-a|(n&255)>>a)>>>0}if(r===8&&a===0){return this.stream.getByte()}while(a<r){t=t<<8|this.stream.getByte();a+=8}a-=r;this.bufferLength=a;this.buffer=t&(1<<a)-1;return t>>a},align:function e(){this.buffer=0;this.bufferLength=0},readFlag:function e(){return this.readBits(this.context.bitsPerFlag)},readCoordinate:function e(){var r=this.context.bitsPerCoordinate;var t=this.readBits(r);var a=this.readBits(r);var n=this.context.decode;var i=r<32?1/((1<<r)-1):2.3283064365386963e-10;return[t*i*(n[1]-n[0])+n[0],a*i*(n[3]-n[2])+n[2]]},readComponents:function e(){var r=this.context.numComps;var t=this.context.bitsPerComponent;var a=t<32?1/((1<<t)-1):2.3283064365386963e-10;var n=this.context.decode;var i=this.tmpCompsBuf;for(var o=0,s=4;o<r;o++,s+=2){var c=this.readBits(t);i[o]=c*a*(n[s+1]-n[s])+n[s]}var l=this.tmpCsCompsBuf;if(this.context.colorFn){this.context.colorFn(i,0,l,0)}return this.context.colorSpace.getRgb(l,0)}};function t(e,r){var t=e.coords;var n=e.colors;var i=[];var o=[];var s=0;while(r.hasData){var c=r.readFlag();var l=r.readCoordinate();var u=r.readComponents();if(s===0){if(!(0<=c&&c<=2)){throw new a.FormatError("Unknown type4 flag")}switch(c){case 0:s=3;break;case 1:o.push(o[o.length-2],o[o.length-1]);s=1;break;case 2:o.push(o[o.length-3],o[o.length-1]);s=1;break}i.push(c)}o.push(t.length);t.push(l);n.push(u);s--;r.align()}e.figures.push({type:"triangles",coords:new Int32Array(o),colors:new Int32Array(o)})}function o(e,r,t){var a=e.coords;var n=e.colors;var i=[];while(r.hasData){var o=r.readCoordinate();var s=r.readComponents();i.push(a.length);a.push(o);n.push(s)}e.figures.push({type:"lattice",coords:new Int32Array(i),colors:new Int32Array(i),verticesPerRow:t})}var c=3;var l=20;var u=20;var f=function e(){function r(e){var r=[];for(var t=0;t<=e;t++){var a=t/e,n=1-a;r.push(new Float32Array([n*n*n,3*a*n*n,3*a*a*n,a*a*a]))}return r}var t=[];return function e(a){if(!t[a]){t[a]=r(a)}return t[a]}}();function h(e,r){var t=e.figures[r];(0,a.assert)(t.type==="patch","Unexpected patch mesh figure");var n=e.coords,i=e.colors;var o=t.coords;var s=t.colors;var h=Math.min(n[o[0]][0],n[o[3]][0],n[o[12]][0],n[o[15]][0]);var d=Math.min(n[o[0]][1],n[o[3]][1],n[o[12]][1],n[o[15]][1]);var v=Math.max(n[o[0]][0],n[o[3]][0],n[o[12]][0],n[o[15]][0]);var g=Math.max(n[o[0]][1],n[o[3]][1],n[o[12]][1],n[o[15]][1]);var p=Math.ceil((v-h)*u/(e.bounds[2]-e.bounds[0]));p=Math.max(c,Math.min(l,p));var m=Math.ceil((g-d)*u/(e.bounds[3]-e.bounds[1]));m=Math.max(c,Math.min(l,m));var b=p+1;var y=new Int32Array((m+1)*b);var w=new Int32Array((m+1)*b);var k=0;var S=new Uint8Array(3),x=new Uint8Array(3);var C=i[s[0]],A=i[s[1]],O=i[s[2]],P=i[s[3]];var I=f(m),T=f(p);for(var E=0;E<=m;E++){S[0]=(C[0]*(m-E)+O[0]*E)/m|0;S[1]=(C[1]*(m-E)+O[1]*E)/m|0;S[2]=(C[2]*(m-E)+O[2]*E)/m|0;x[0]=(A[0]*(m-E)+P[0]*E)/m|0;x[1]=(A[1]*(m-E)+P[1]*E)/m|0;x[2]=(A[2]*(m-E)+P[2]*E)/m|0;for(var F=0;F<=p;F++,k++){if((E===0||E===m)&&(F===0||F===p)){continue}var B=0,_=0;var R=0;for(var L=0;L<=3;L++){for(var M=0;M<=3;M++,R++){var D=I[E][L]*T[F][M];B+=n[o[R]][0]*D;_+=n[o[R]][1]*D}}y[k]=n.length;n.push([B,_]);w[k]=i.length;var N=new Uint8Array(3);N[0]=(S[0]*(p-F)+x[0]*F)/p|0;N[1]=(S[1]*(p-F)+x[1]*F)/p|0;N[2]=(S[2]*(p-F)+x[2]*F)/p|0;i.push(N)}}y[0]=o[0];w[0]=s[0];y[p]=o[3];w[p]=s[1];y[b*m]=o[12];w[b*m]=s[2];y[b*m+p]=o[15];w[b*m+p]=s[3];e.figures[r]={type:"lattice",coords:y,colors:w,verticesPerRow:b}}function d(e,r){var t=e.coords;var n=e.colors;var i=new Int32Array(16);var o=new Int32Array(4);while(r.hasData){var s=r.readFlag();if(!(0<=s&&s<=3)){throw new a.FormatError("Unknown type6 flag")}var c,l;var u=t.length;for(c=0,l=s!==0?8:12;c<l;c++){t.push(r.readCoordinate())}var f=n.length;for(c=0,l=s!==0?2:4;c<l;c++){n.push(r.readComponents())}var h,d,v,g;switch(s){case 0:i[12]=u+3;i[13]=u+4;i[14]=u+5;i[15]=u+6;i[8]=u+2;i[11]=u+7;i[4]=u+1;i[7]=u+8;i[0]=u;i[1]=u+11;i[2]=u+10;i[3]=u+9;o[2]=f+1;o[3]=f+2;o[0]=f;o[1]=f+3;break;case 1:h=i[12];d=i[13];v=i[14];g=i[15];i[12]=g;i[13]=u+0;i[14]=u+1;i[15]=u+2;i[8]=v;i[11]=u+3;i[4]=d;i[7]=u+4;i[0]=h;i[1]=u+7;i[2]=u+6;i[3]=u+5;h=o[2];d=o[3];o[2]=d;o[3]=f;o[0]=h;o[1]=f+1;break;case 2:h=i[15];d=i[11];i[12]=i[3];i[13]=u+0;i[14]=u+1;i[15]=u+2;i[8]=i[7];i[11]=u+3;i[4]=d;i[7]=u+4;i[0]=h;i[1]=u+7;i[2]=u+6;i[3]=u+5;h=o[3];o[2]=o[1];o[3]=f;o[0]=h;o[1]=f+1;break;case 3:i[12]=i[0];i[13]=u+0;i[14]=u+1;i[15]=u+2;i[8]=i[1];i[11]=u+3;i[4]=i[2];i[7]=u+4;i[0]=i[3];i[1]=u+7;i[2]=u+6;i[3]=u+5;o[2]=o[0];o[3]=f;o[0]=o[1];o[1]=f+1;break}i[5]=t.length;t.push([(-4*t[i[0]][0]-t[i[15]][0]+6*(t[i[4]][0]+t[i[1]][0])-2*(t[i[12]][0]+t[i[3]][0])+3*(t[i[13]][0]+t[i[7]][0]))/9,(-4*t[i[0]][1]-t[i[15]][1]+6*(t[i[4]][1]+t[i[1]][1])-2*(t[i[12]][1]+t[i[3]][1])+3*(t[i[13]][1]+t[i[7]][1]))/9]);i[6]=t.length;t.push([(-4*t[i[3]][0]-t[i[12]][0]+6*(t[i[2]][0]+t[i[7]][0])-2*(t[i[0]][0]+t[i[15]][0])+3*(t[i[4]][0]+t[i[14]][0]))/9,(-4*t[i[3]][1]-t[i[12]][1]+6*(t[i[2]][1]+t[i[7]][1])-2*(t[i[0]][1]+t[i[15]][1])+3*(t[i[4]][1]+t[i[14]][1]))/9]);i[9]=t.length;t.push([(-4*t[i[12]][0]-t[i[3]][0]+6*(t[i[8]][0]+t[i[13]][0])-2*(t[i[0]][0]+t[i[15]][0])+3*(t[i[11]][0]+t[i[1]][0]))/9,(-4*t[i[12]][1]-t[i[3]][1]+6*(t[i[8]][1]+t[i[13]][1])-2*(t[i[0]][1]+t[i[15]][1])+3*(t[i[11]][1]+t[i[1]][1]))/9]);i[10]=t.length;t.push([(-4*t[i[15]][0]-t[i[0]][0]+6*(t[i[11]][0]+t[i[14]][0])-2*(t[i[12]][0]+t[i[3]][0])+3*(t[i[2]][0]+t[i[8]][0]))/9,(-4*t[i[15]][1]-t[i[0]][1]+6*(t[i[11]][1]+t[i[14]][1])-2*(t[i[12]][1]+t[i[3]][1])+3*(t[i[2]][1]+t[i[8]][1]))/9]);e.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(o)})}}function v(e,r){var t=e.coords;var n=e.colors;var i=new Int32Array(16);var o=new Int32Array(4);while(r.hasData){var s=r.readFlag();if(!(0<=s&&s<=3)){throw new a.FormatError("Unknown type7 flag")}var c,l;var u=t.length;for(c=0,l=s!==0?12:16;c<l;c++){t.push(r.readCoordinate())}var f=n.length;for(c=0,l=s!==0?2:4;c<l;c++){n.push(r.readComponents())}var h,d,v,g;switch(s){case 0:i[12]=u+3;i[13]=u+4;i[14]=u+5;i[15]=u+6;i[8]=u+2;i[9]=u+13;i[10]=u+14;i[11]=u+7;i[4]=u+1;i[5]=u+12;i[6]=u+15;i[7]=u+8;i[0]=u;i[1]=u+11;i[2]=u+10;i[3]=u+9;o[2]=f+1;o[3]=f+2;o[0]=f;o[1]=f+3;break;case 1:h=i[12];d=i[13];v=i[14];g=i[15];i[12]=g;i[13]=u+0;i[14]=u+1;i[15]=u+2;i[8]=v;i[9]=u+9;i[10]=u+10;i[11]=u+3;i[4]=d;i[5]=u+8;i[6]=u+11;i[7]=u+4;i[0]=h;i[1]=u+7;i[2]=u+6;i[3]=u+5;h=o[2];d=o[3];o[2]=d;o[3]=f;o[0]=h;o[1]=f+1;break;case 2:h=i[15];d=i[11];i[12]=i[3];i[13]=u+0;i[14]=u+1;i[15]=u+2;i[8]=i[7];i[9]=u+9;i[10]=u+10;i[11]=u+3;i[4]=d;i[5]=u+8;i[6]=u+11;i[7]=u+4;i[0]=h;i[1]=u+7;i[2]=u+6;i[3]=u+5;h=o[3];o[2]=o[1];o[3]=f;o[0]=h;o[1]=f+1;break;case 3:i[12]=i[0];i[13]=u+0;i[14]=u+1;i[15]=u+2;i[8]=i[1];i[9]=u+9;i[10]=u+10;i[11]=u+3;i[4]=i[2];i[5]=u+8;i[6]=u+11;i[7]=u+4;i[0]=i[3];i[1]=u+7;i[2]=u+6;i[3]=u+5;o[2]=o[0];o[3]=f;o[0]=o[1];o[1]=f+1;break}e.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(o)})}}function g(e){var r=e.coords[0][0],t=e.coords[0][1],a=r,n=t;for(var i=1,o=e.coords.length;i<o;i++){var s=e.coords[i][0],c=e.coords[i][1];r=r>s?s:r;t=t>c?c:t;a=a<s?s:a;n=n<c?c:n}e.bounds=[r,t,a,n]}function p(e){var r,t,a,n;var i=e.coords;var o=new Float32Array(i.length*2);for(r=0,a=0,t=i.length;r<t;r++){var s=i[r];o[a++]=s[0];o[a++]=s[1]}e.coords=o;var c=e.colors;var l=new Uint8Array(c.length*3);for(r=0,a=0,t=c.length;r<t;r++){var u=c[r];l[a++]=u[0];l[a++]=u[1];l[a++]=u[2]}e.colors=l;var f=e.figures;for(r=0,t=f.length;r<t;r++){var h=f[r],d=h.coords,v=h.colors;for(a=0,n=d.length;a<n;a++){d[a]*=2;v[a]*=3}}}function m(e,c,l,u,f){if(!(0,i.isStream)(e)){throw new a.FormatError("Mesh data is not a stream")}var m=e.dict;this.matrix=c;this.shadingType=m.get("ShadingType");this.type="Pattern";var b=m.getArray("BBox");if(Array.isArray(b)&&b.length===4){this.bbox=a.Util.normalizeRect(b)}else{this.bbox=null}var y=m.get("ColorSpace","CS");y=n.ColorSpace.parse(y,l,u,f);this.cs=y;this.background=m.has("Background")?y.getRgb(m.get("Background"),0):null;var w=m.get("Function");var k=w?f.createFromArray(w):null;this.coords=[];this.colors=[];this.figures=[];var S={bitsPerCoordinate:m.get("BitsPerCoordinate"),bitsPerComponent:m.get("BitsPerComponent"),bitsPerFlag:m.get("BitsPerFlag"),decode:m.getArray("Decode"),colorFn:k,colorSpace:y,numComps:k?1:y.numComps};var x=new r(e,S);var C=false;switch(this.shadingType){case s.FREE_FORM_MESH:t(this,x);break;case s.LATTICE_FORM_MESH:var A=m.get("VerticesPerRow")|0;if(A<2){throw new a.FormatError("Invalid VerticesPerRow")}o(this,x,A);break;case s.COONS_PATCH_MESH:d(this,x);C=true;break;case s.TENSOR_PATCH_MESH:v(this,x);C=true;break;default:(0,a.unreachable)("Unsupported mesh type.");break}if(C){g(this);for(var O=0,P=this.figures.length;O<P;O++){h(this,O)}}g(this);p(this)}m.prototype={getIR:function e(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}};return m}();l.Dummy=function e(){function r(){this.type="Pattern"}r.prototype={getIR:function e(){return["Dummy"]}};return r}();function u(e,r,t){var n=r.getArray("Matrix");var i=a.Util.normalizeRect(r.getArray("BBox"));var o=r.get("XStep");var s=r.get("YStep");var c=r.get("PaintType");var l=r.get("TilingType");if(i[2]-i[0]===0||i[3]-i[1]===0){throw new a.FormatError("Invalid getTilingPatternIR /BBox array: [".concat(i,"]."))}return["TilingPattern",t,e,n,i,o,s,c,l]}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.bidi=v;var a=t(5);var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"];var i=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function o(e){return(e&1)!==0}function s(e){return(e&1)===0}function c(e,r,t){for(var a=r,n=e.length;a<n;++a){if(e[a]!==t){return a}}return a}function l(e,r,t,a){for(var n=r;n<t;++n){e[n]=a}}function u(e,r,t){for(var a=r,n=t-1;a<n;++a,--n){var i=e[a];e[a]=e[n];e[n]=i}}function f(e,r,t){return{str:e,dir:t?"ttb":r?"ltr":"rtl"}}var h=[];var d=[];function v(e,r,t){var v=true;var g=e.length;if(g===0||t){return f(e,v,t)}h.length=g;d.length=g;var p=0;var m,b;for(m=0;m<g;++m){h[m]=e.charAt(m);var y=e.charCodeAt(m);var w="L";if(y<=255){w=n[y]}else if(1424<=y&&y<=1524){w="R"}else if(1536<=y&&y<=1791){w=i[y&255];if(!w){(0,a.warn)("Bidi: invalid Unicode character "+y.toString(16))}}else if(1792<=y&&y<=2220){w="AL"}if(w==="R"||w==="AL"||w==="AN"){p++}d[m]=w}if(p===0){v=true;return f(e,v)}if(r===-1){if(p/g<.3){v=true;r=0}else{v=false;r=1}}var k=[];for(m=0;m<g;++m){k[m]=r}var S=o(r)?"R":"L";var x=S;var C=x;var A=x;for(m=0;m<g;++m){if(d[m]==="NSM"){d[m]=A}else{A=d[m]}}A=x;var O;for(m=0;m<g;++m){O=d[m];if(O==="EN"){d[m]=A==="AL"?"AN":"EN"}else if(O==="R"||O==="L"||O==="AL"){A=O}}for(m=0;m<g;++m){O=d[m];if(O==="AL"){d[m]="R"}}for(m=1;m<g-1;++m){if(d[m]==="ES"&&d[m-1]==="EN"&&d[m+1]==="EN"){d[m]="EN"}if(d[m]==="CS"&&(d[m-1]==="EN"||d[m-1]==="AN")&&d[m+1]===d[m-1]){d[m]=d[m-1]}}for(m=0;m<g;++m){if(d[m]==="EN"){var P;for(P=m-1;P>=0;--P){if(d[P]!=="ET"){break}d[P]="EN"}for(P=m+1;P<g;++P){if(d[P]!=="ET"){break}d[P]="EN"}}}for(m=0;m<g;++m){O=d[m];if(O==="WS"||O==="ES"||O==="ET"||O==="CS"){d[m]="ON"}}A=x;for(m=0;m<g;++m){O=d[m];if(O==="EN"){d[m]=A==="L"?"L":"EN"}else if(O==="R"||O==="L"){A=O}}for(m=0;m<g;++m){if(d[m]==="ON"){var I=c(d,m+1,"ON");var T=x;if(m>0){T=d[m-1]}var E=C;if(I+1<g){E=d[I+1]}if(T!=="L"){T="R"}if(E!=="L"){E="R"}if(T===E){l(d,m,I,T)}m=I-1}}for(m=0;m<g;++m){if(d[m]==="ON"){d[m]=S}}for(m=0;m<g;++m){O=d[m];if(s(k[m])){if(O==="R"){k[m]+=1}else if(O==="AN"||O==="EN"){k[m]+=2}}else{if(O==="L"||O==="AN"||O==="EN"){k[m]+=1}}}var F=-1;var B=99;var _;for(m=0,b=k.length;m<b;++m){_=k[m];if(F<_){F=_}if(B>_&&o(_)){B=_}}for(_=F;_>=B;--_){var R=-1;for(m=0,b=k.length;m<b;++m){if(k[m]<_){if(R>=0){u(h,R,m);R=-1}}else if(R<0){R=m}}if(R>=0){u(h,R,k.length)}}for(m=0,b=h.length;m<b;++m){var L=h[m];if(L==="<"||L===">"){h[m]=""}}return f(h.join(""),v)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getMetrics=void 0;var a=t(186);var n=(0,a.getLookupTableFactory)(function(e){e["Courier"]=600;e["Courier-Bold"]=600;e["Courier-BoldOblique"]=600;e["Courier-Oblique"]=600;e["Helvetica"]=(0,a.getLookupTableFactory)(function(e){e["space"]=278;e["exclam"]=278;e["quotedbl"]=355;e["numbersign"]=556;e["dollar"]=556;e["percent"]=889;e["ampersand"]=667;e["quoteright"]=222;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=389;e["plus"]=584;e["comma"]=278;e["hyphen"]=333;e["period"]=278;e["slash"]=278;e["zero"]=556;e["one"]=556;e["two"]=556;e["three"]=556;e["four"]=556;e["five"]=556;e["six"]=556;e["seven"]=556;e["eight"]=556;e["nine"]=556;e["colon"]=278;e["semicolon"]=278;e["less"]=584;e["equal"]=584;e["greater"]=584;e["question"]=556;e["at"]=1015;e["A"]=667;e["B"]=667;e["C"]=722;e["D"]=722;e["E"]=667;e["F"]=611;e["G"]=778;e["H"]=722;e["I"]=278;e["J"]=500;e["K"]=667;e["L"]=556;e["M"]=833;e["N"]=722;e["O"]=778;e["P"]=667;e["Q"]=778;e["R"]=722;e["S"]=667;e["T"]=611;e["U"]=722;e["V"]=667;e["W"]=944;e["X"]=667;e["Y"]=667;e["Z"]=611;e["bracketleft"]=278;e["backslash"]=278;e["bracketright"]=278;e["asciicircum"]=469;e["underscore"]=556;e["quoteleft"]=222;e["a"]=556;e["b"]=556;e["c"]=500;e["d"]=556;e["e"]=556;e["f"]=278;e["g"]=556;e["h"]=556;e["i"]=222;e["j"]=222;e["k"]=500;e["l"]=222;e["m"]=833;e["n"]=556;e["o"]=556;e["p"]=556;e["q"]=556;e["r"]=333;e["s"]=500;e["t"]=278;e["u"]=556;e["v"]=500;e["w"]=722;e["x"]=500;e["y"]=500;e["z"]=500;e["braceleft"]=334;e["bar"]=260;e["braceright"]=334;e["asciitilde"]=584;e["exclamdown"]=333;e["cent"]=556;e["sterling"]=556;e["fraction"]=167;e["yen"]=556;e["florin"]=556;e["section"]=556;e["currency"]=556;e["quotesingle"]=191;e["quotedblleft"]=333;e["guillemotleft"]=556;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=500;e["fl"]=500;e["endash"]=556;e["dagger"]=556;e["daggerdbl"]=556;e["periodcentered"]=278;e["paragraph"]=537;e["bullet"]=350;e["quotesinglbase"]=222;e["quotedblbase"]=333;e["quotedblright"]=333;e["guillemotright"]=556;e["ellipsis"]=1e3;e["perthousand"]=1e3;e["questiondown"]=611;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=1e3;e["AE"]=1e3;e["ordfeminine"]=370;e["Lslash"]=556;e["Oslash"]=778;e["OE"]=1e3;e["ordmasculine"]=365;e["ae"]=889;e["dotlessi"]=278;e["lslash"]=222;e["oslash"]=611;e["oe"]=944;e["germandbls"]=611;e["Idieresis"]=278;e["eacute"]=556;e["abreve"]=556;e["uhungarumlaut"]=556;e["ecaron"]=556;e["Ydieresis"]=667;e["divide"]=584;e["Yacute"]=667;e["Acircumflex"]=667;e["aacute"]=556;e["Ucircumflex"]=722;e["yacute"]=500;e["scommaaccent"]=500;e["ecircumflex"]=556;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=556;e["Uacute"]=722;e["uogonek"]=556;e["Edieresis"]=667;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=737;e["Emacron"]=667;e["ccaron"]=500;e["aring"]=556;e["Ncommaaccent"]=722;e["lacute"]=222;e["agrave"]=556;e["Tcommaaccent"]=611;e["Cacute"]=722;e["atilde"]=556;e["Edotaccent"]=667;e["scaron"]=500;e["scedilla"]=500;e["iacute"]=278;e["lozenge"]=471;e["Rcaron"]=722;e["Gcommaaccent"]=778;e["ucircumflex"]=556;e["acircumflex"]=556;e["Amacron"]=667;e["rcaron"]=333;e["ccedilla"]=500;e["Zdotaccent"]=611;e["Thorn"]=667;e["Omacron"]=778;e["Racute"]=722;e["Sacute"]=667;e["dcaron"]=643;e["Umacron"]=722;e["uring"]=556;e["threesuperior"]=333;e["Ograve"]=778;e["Agrave"]=667;e["Abreve"]=667;e["multiply"]=584;e["uacute"]=556;e["Tcaron"]=611;e["partialdiff"]=476;e["ydieresis"]=500;e["Nacute"]=722;e["icircumflex"]=278;e["Ecircumflex"]=667;e["adieresis"]=556;e["edieresis"]=556;e["cacute"]=500;e["nacute"]=556;e["umacron"]=556;e["Ncaron"]=722;e["Iacute"]=278;e["plusminus"]=584;e["brokenbar"]=260;e["registered"]=737;e["Gbreve"]=778;e["Idotaccent"]=278;e["summation"]=600;e["Egrave"]=667;e["racute"]=333;e["omacron"]=556;e["Zacute"]=611;e["Zcaron"]=611;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=722;e["lcommaaccent"]=222;e["tcaron"]=317;e["eogonek"]=556;e["Uogonek"]=722;e["Aacute"]=667;e["Adieresis"]=667;e["egrave"]=556;e["zacute"]=500;e["iogonek"]=222;e["Oacute"]=778;e["oacute"]=556;e["amacron"]=556;e["sacute"]=500;e["idieresis"]=278;e["Ocircumflex"]=778;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=556;e["twosuperior"]=333;e["Odieresis"]=778;e["mu"]=556;e["igrave"]=278;e["ohungarumlaut"]=556;e["Eogonek"]=667;e["dcroat"]=556;e["threequarters"]=834;e["Scedilla"]=667;e["lcaron"]=299;e["Kcommaaccent"]=667;e["Lacute"]=556;e["trademark"]=1e3;e["edotaccent"]=556;e["Igrave"]=278;e["Imacron"]=278;e["Lcaron"]=556;e["onehalf"]=834;e["lessequal"]=549;e["ocircumflex"]=556;e["ntilde"]=556;e["Uhungarumlaut"]=722;e["Eacute"]=667;e["emacron"]=556;e["gbreve"]=556;e["onequarter"]=834;e["Scaron"]=667;e["Scommaaccent"]=667;e["Ohungarumlaut"]=778;e["degree"]=400;e["ograve"]=556;e["Ccaron"]=722;e["ugrave"]=556;e["radical"]=453;e["Dcaron"]=722;e["rcommaaccent"]=333;e["Ntilde"]=722;e["otilde"]=556;e["Rcommaaccent"]=722;e["Lcommaaccent"]=556;e["Atilde"]=667;e["Aogonek"]=667;e["Aring"]=667;e["Otilde"]=778;e["zdotaccent"]=500;e["Ecaron"]=667;e["Iogonek"]=278;e["kcommaaccent"]=500;e["minus"]=584;e["Icircumflex"]=278;e["ncaron"]=556;e["tcommaaccent"]=278;e["logicalnot"]=584;e["odieresis"]=556;e["udieresis"]=556;e["notequal"]=549;e["gcommaaccent"]=556;e["eth"]=556;e["zcaron"]=500;e["ncommaaccent"]=556;e["onesuperior"]=333;e["imacron"]=278;e["Euro"]=556});e["Helvetica-Bold"]=(0,a.getLookupTableFactory)(function(e){e["space"]=278;e["exclam"]=333;e["quotedbl"]=474;e["numbersign"]=556;e["dollar"]=556;e["percent"]=889;e["ampersand"]=722;e["quoteright"]=278;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=389;e["plus"]=584;e["comma"]=278;e["hyphen"]=333;e["period"]=278;e["slash"]=278;e["zero"]=556;e["one"]=556;e["two"]=556;e["three"]=556;e["four"]=556;e["five"]=556;e["six"]=556;e["seven"]=556;e["eight"]=556;e["nine"]=556;e["colon"]=333;e["semicolon"]=333;e["less"]=584;e["equal"]=584;e["greater"]=584;e["question"]=611;e["at"]=975;e["A"]=722;e["B"]=722;e["C"]=722;e["D"]=722;e["E"]=667;e["F"]=611;e["G"]=778;e["H"]=722;e["I"]=278;e["J"]=556;e["K"]=722;e["L"]=611;e["M"]=833;e["N"]=722;e["O"]=778;e["P"]=667;e["Q"]=778;e["R"]=722;e["S"]=667;e["T"]=611;e["U"]=722;e["V"]=667;e["W"]=944;e["X"]=667;e["Y"]=667;e["Z"]=611;e["bracketleft"]=333;e["backslash"]=278;e["bracketright"]=333;e["asciicircum"]=584;e["underscore"]=556;e["quoteleft"]=278;e["a"]=556;e["b"]=611;e["c"]=556;e["d"]=611;e["e"]=556;e["f"]=333;e["g"]=611;e["h"]=611;e["i"]=278;e["j"]=278;e["k"]=556;e["l"]=278;e["m"]=889;e["n"]=611;e["o"]=611;e["p"]=611;e["q"]=611;e["r"]=389;e["s"]=556;e["t"]=333;e["u"]=611;e["v"]=556;e["w"]=778;e["x"]=556;e["y"]=556;e["z"]=500;e["braceleft"]=389;e["bar"]=280;e["braceright"]=389;e["asciitilde"]=584;e["exclamdown"]=333;e["cent"]=556;e["sterling"]=556;e["fraction"]=167;e["yen"]=556;e["florin"]=556;e["section"]=556;e["currency"]=556;e["quotesingle"]=238;e["quotedblleft"]=500;e["guillemotleft"]=556;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=611;e["fl"]=611;e["endash"]=556;e["dagger"]=556;e["daggerdbl"]=556;e["periodcentered"]=278;e["paragraph"]=556;e["bullet"]=350;e["quotesinglbase"]=278;e["quotedblbase"]=500;e["quotedblright"]=500;e["guillemotright"]=556;e["ellipsis"]=1e3;e["perthousand"]=1e3;e["questiondown"]=611;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=1e3;e["AE"]=1e3;e["ordfeminine"]=370;e["Lslash"]=611;e["Oslash"]=778;e["OE"]=1e3;e["ordmasculine"]=365;e["ae"]=889;e["dotlessi"]=278;e["lslash"]=278;e["oslash"]=611;e["oe"]=944;e["germandbls"]=611;e["Idieresis"]=278;e["eacute"]=556;e["abreve"]=556;e["uhungarumlaut"]=611;e["ecaron"]=556;e["Ydieresis"]=667;e["divide"]=584;e["Yacute"]=667;e["Acircumflex"]=722;e["aacute"]=556;e["Ucircumflex"]=722;e["yacute"]=556;e["scommaaccent"]=556;e["ecircumflex"]=556;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=556;e["Uacute"]=722;e["uogonek"]=611;e["Edieresis"]=667;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=737;e["Emacron"]=667;e["ccaron"]=556;e["aring"]=556;e["Ncommaaccent"]=722;e["lacute"]=278;e["agrave"]=556;e["Tcommaaccent"]=611;e["Cacute"]=722;e["atilde"]=556;e["Edotaccent"]=667;e["scaron"]=556;e["scedilla"]=556;e["iacute"]=278;e["lozenge"]=494;e["Rcaron"]=722;e["Gcommaaccent"]=778;e["ucircumflex"]=611;e["acircumflex"]=556;e["Amacron"]=722;e["rcaron"]=389;e["ccedilla"]=556;e["Zdotaccent"]=611;e["Thorn"]=667;e["Omacron"]=778;e["Racute"]=722;e["Sacute"]=667;e["dcaron"]=743;e["Umacron"]=722;e["uring"]=611;e["threesuperior"]=333;e["Ograve"]=778;e["Agrave"]=722;e["Abreve"]=722;e["multiply"]=584;e["uacute"]=611;e["Tcaron"]=611;e["partialdiff"]=494;e["ydieresis"]=556;e["Nacute"]=722;e["icircumflex"]=278;e["Ecircumflex"]=667;e["adieresis"]=556;e["edieresis"]=556;e["cacute"]=556;e["nacute"]=611;e["umacron"]=611;e["Ncaron"]=722;e["Iacute"]=278;e["plusminus"]=584;e["brokenbar"]=280;e["registered"]=737;e["Gbreve"]=778;e["Idotaccent"]=278;e["summation"]=600;e["Egrave"]=667;e["racute"]=389;e["omacron"]=611;e["Zacute"]=611;e["Zcaron"]=611;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=722;e["lcommaaccent"]=278;e["tcaron"]=389;e["eogonek"]=556;e["Uogonek"]=722;e["Aacute"]=722;e["Adieresis"]=722;e["egrave"]=556;e["zacute"]=500;e["iogonek"]=278;e["Oacute"]=778;e["oacute"]=611;e["amacron"]=556;e["sacute"]=556;e["idieresis"]=278;e["Ocircumflex"]=778;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=611;e["twosuperior"]=333;e["Odieresis"]=778;e["mu"]=611;e["igrave"]=278;e["ohungarumlaut"]=611;e["Eogonek"]=667;e["dcroat"]=611;e["threequarters"]=834;e["Scedilla"]=667;e["lcaron"]=400;e["Kcommaaccent"]=722;e["Lacute"]=611;e["trademark"]=1e3;e["edotaccent"]=556;e["Igrave"]=278;e["Imacron"]=278;e["Lcaron"]=611;e["onehalf"]=834;e["lessequal"]=549;e["ocircumflex"]=611;e["ntilde"]=611;e["Uhungarumlaut"]=722;e["Eacute"]=667;e["emacron"]=556;e["gbreve"]=611;e["onequarter"]=834;e["Scaron"]=667;e["Scommaaccent"]=667;e["Ohungarumlaut"]=778;e["degree"]=400;e["ograve"]=611;e["Ccaron"]=722;e["ugrave"]=611;e["radical"]=549;e["Dcaron"]=722;e["rcommaaccent"]=389;e["Ntilde"]=722;e["otilde"]=611;e["Rcommaaccent"]=722;e["Lcommaaccent"]=611;e["Atilde"]=722;e["Aogonek"]=722;e["Aring"]=722;e["Otilde"]=778;e["zdotaccent"]=500;e["Ecaron"]=667;e["Iogonek"]=278;e["kcommaaccent"]=556;e["minus"]=584;e["Icircumflex"]=278;e["ncaron"]=611;e["tcommaaccent"]=333;e["logicalnot"]=584;e["odieresis"]=611;e["udieresis"]=611;e["notequal"]=549;e["gcommaaccent"]=611;e["eth"]=611;e["zcaron"]=500;e["ncommaaccent"]=611;e["onesuperior"]=333;e["imacron"]=278;e["Euro"]=556});e["Helvetica-BoldOblique"]=(0,a.getLookupTableFactory)(function(e){e["space"]=278;e["exclam"]=333;e["quotedbl"]=474;e["numbersign"]=556;e["dollar"]=556;e["percent"]=889;e["ampersand"]=722;e["quoteright"]=278;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=389;e["plus"]=584;e["comma"]=278;e["hyphen"]=333;e["period"]=278;e["slash"]=278;e["zero"]=556;e["one"]=556;e["two"]=556;e["three"]=556;e["four"]=556;e["five"]=556;e["six"]=556;e["seven"]=556;e["eight"]=556;e["nine"]=556;e["colon"]=333;e["semicolon"]=333;e["less"]=584;e["equal"]=584;e["greater"]=584;e["question"]=611;e["at"]=975;e["A"]=722;e["B"]=722;e["C"]=722;e["D"]=722;e["E"]=667;e["F"]=611;e["G"]=778;e["H"]=722;e["I"]=278;e["J"]=556;e["K"]=722;e["L"]=611;e["M"]=833;e["N"]=722;e["O"]=778;e["P"]=667;e["Q"]=778;e["R"]=722;e["S"]=667;e["T"]=611;e["U"]=722;e["V"]=667;e["W"]=944;e["X"]=667;e["Y"]=667;e["Z"]=611;e["bracketleft"]=333;e["backslash"]=278;e["bracketright"]=333;e["asciicircum"]=584;e["underscore"]=556;e["quoteleft"]=278;e["a"]=556;e["b"]=611;e["c"]=556;e["d"]=611;e["e"]=556;e["f"]=333;e["g"]=611;e["h"]=611;e["i"]=278;e["j"]=278;e["k"]=556;e["l"]=278;e["m"]=889;e["n"]=611;e["o"]=611;e["p"]=611;e["q"]=611;e["r"]=389;e["s"]=556;e["t"]=333;e["u"]=611;e["v"]=556;e["w"]=778;e["x"]=556;e["y"]=556;e["z"]=500;e["braceleft"]=389;e["bar"]=280;e["braceright"]=389;e["asciitilde"]=584;e["exclamdown"]=333;e["cent"]=556;e["sterling"]=556;e["fraction"]=167;e["yen"]=556;e["florin"]=556;e["section"]=556;e["currency"]=556;e["quotesingle"]=238;e["quotedblleft"]=500;e["guillemotleft"]=556;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=611;e["fl"]=611;e["endash"]=556;e["dagger"]=556;e["daggerdbl"]=556;e["periodcentered"]=278;e["paragraph"]=556;e["bullet"]=350;e["quotesinglbase"]=278;e["quotedblbase"]=500;e["quotedblright"]=500;e["guillemotright"]=556;e["ellipsis"]=1e3;e["perthousand"]=1e3;e["questiondown"]=611;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=1e3;e["AE"]=1e3;e["ordfeminine"]=370;e["Lslash"]=611;e["Oslash"]=778;e["OE"]=1e3;e["ordmasculine"]=365;e["ae"]=889;e["dotlessi"]=278;e["lslash"]=278;e["oslash"]=611;e["oe"]=944;e["germandbls"]=611;e["Idieresis"]=278;e["eacute"]=556;e["abreve"]=556;e["uhungarumlaut"]=611;e["ecaron"]=556;e["Ydieresis"]=667;e["divide"]=584;e["Yacute"]=667;e["Acircumflex"]=722;e["aacute"]=556;e["Ucircumflex"]=722;e["yacute"]=556;e["scommaaccent"]=556;e["ecircumflex"]=556;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=556;e["Uacute"]=722;e["uogonek"]=611;e["Edieresis"]=667;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=737;e["Emacron"]=667;e["ccaron"]=556;e["aring"]=556;e["Ncommaaccent"]=722;e["lacute"]=278;e["agrave"]=556;e["Tcommaaccent"]=611;e["Cacute"]=722;e["atilde"]=556;e["Edotaccent"]=667;e["scaron"]=556;e["scedilla"]=556;e["iacute"]=278;e["lozenge"]=494;e["Rcaron"]=722;e["Gcommaaccent"]=778;e["ucircumflex"]=611;e["acircumflex"]=556;e["Amacron"]=722;e["rcaron"]=389;e["ccedilla"]=556;e["Zdotaccent"]=611;e["Thorn"]=667;e["Omacron"]=778;e["Racute"]=722;e["Sacute"]=667;e["dcaron"]=743;e["Umacron"]=722;e["uring"]=611;e["threesuperior"]=333;e["Ograve"]=778;e["Agrave"]=722;e["Abreve"]=722;e["multiply"]=584;e["uacute"]=611;e["Tcaron"]=611;e["partialdiff"]=494;e["ydieresis"]=556;e["Nacute"]=722;e["icircumflex"]=278;e["Ecircumflex"]=667;e["adieresis"]=556;e["edieresis"]=556;e["cacute"]=556;e["nacute"]=611;e["umacron"]=611;e["Ncaron"]=722;e["Iacute"]=278;e["plusminus"]=584;e["brokenbar"]=280;e["registered"]=737;e["Gbreve"]=778;e["Idotaccent"]=278;e["summation"]=600;e["Egrave"]=667;e["racute"]=389;e["omacron"]=611;e["Zacute"]=611;e["Zcaron"]=611;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=722;e["lcommaaccent"]=278;e["tcaron"]=389;e["eogonek"]=556;e["Uogonek"]=722;e["Aacute"]=722;e["Adieresis"]=722;e["egrave"]=556;e["zacute"]=500;e["iogonek"]=278;e["Oacute"]=778;e["oacute"]=611;e["amacron"]=556;e["sacute"]=556;e["idieresis"]=278;e["Ocircumflex"]=778;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=611;e["twosuperior"]=333;e["Odieresis"]=778;e["mu"]=611;e["igrave"]=278;e["ohungarumlaut"]=611;e["Eogonek"]=667;e["dcroat"]=611;e["threequarters"]=834;e["Scedilla"]=667;e["lcaron"]=400;e["Kcommaaccent"]=722;e["Lacute"]=611;e["trademark"]=1e3;e["edotaccent"]=556;e["Igrave"]=278;e["Imacron"]=278;e["Lcaron"]=611;e["onehalf"]=834;e["lessequal"]=549;e["ocircumflex"]=611;e["ntilde"]=611;e["Uhungarumlaut"]=722;e["Eacute"]=667;e["emacron"]=556;e["gbreve"]=611;e["onequarter"]=834;e["Scaron"]=667;e["Scommaaccent"]=667;e["Ohungarumlaut"]=778;e["degree"]=400;e["ograve"]=611;e["Ccaron"]=722;e["ugrave"]=611;e["radical"]=549;e["Dcaron"]=722;e["rcommaaccent"]=389;e["Ntilde"]=722;e["otilde"]=611;e["Rcommaaccent"]=722;e["Lcommaaccent"]=611;e["Atilde"]=722;e["Aogonek"]=722;e["Aring"]=722;e["Otilde"]=778;e["zdotaccent"]=500;e["Ecaron"]=667;e["Iogonek"]=278;e["kcommaaccent"]=556;e["minus"]=584;e["Icircumflex"]=278;e["ncaron"]=611;e["tcommaaccent"]=333;e["logicalnot"]=584;e["odieresis"]=611;e["udieresis"]=611;e["notequal"]=549;e["gcommaaccent"]=611;e["eth"]=611;e["zcaron"]=500;e["ncommaaccent"]=611;e["onesuperior"]=333;e["imacron"]=278;e["Euro"]=556});e["Helvetica-Oblique"]=(0,a.getLookupTableFactory)(function(e){e["space"]=278;e["exclam"]=278;e["quotedbl"]=355;e["numbersign"]=556;e["dollar"]=556;e["percent"]=889;e["ampersand"]=667;e["quoteright"]=222;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=389;e["plus"]=584;e["comma"]=278;e["hyphen"]=333;e["period"]=278;e["slash"]=278;e["zero"]=556;e["one"]=556;e["two"]=556;e["three"]=556;e["four"]=556;e["five"]=556;e["six"]=556;e["seven"]=556;e["eight"]=556;e["nine"]=556;e["colon"]=278;e["semicolon"]=278;e["less"]=584;e["equal"]=584;e["greater"]=584;e["question"]=556;e["at"]=1015;e["A"]=667;e["B"]=667;e["C"]=722;e["D"]=722;e["E"]=667;e["F"]=611;e["G"]=778;e["H"]=722;e["I"]=278;e["J"]=500;e["K"]=667;e["L"]=556;e["M"]=833;e["N"]=722;e["O"]=778;e["P"]=667;e["Q"]=778;e["R"]=722;e["S"]=667;e["T"]=611;e["U"]=722;e["V"]=667;e["W"]=944;e["X"]=667;e["Y"]=667;e["Z"]=611;e["bracketleft"]=278;e["backslash"]=278;e["bracketright"]=278;e["asciicircum"]=469;e["underscore"]=556;e["quoteleft"]=222;e["a"]=556;e["b"]=556;e["c"]=500;e["d"]=556;e["e"]=556;e["f"]=278;e["g"]=556;e["h"]=556;e["i"]=222;e["j"]=222;e["k"]=500;e["l"]=222;e["m"]=833;e["n"]=556;e["o"]=556;e["p"]=556;e["q"]=556;e["r"]=333;e["s"]=500;e["t"]=278;e["u"]=556;e["v"]=500;e["w"]=722;e["x"]=500;e["y"]=500;e["z"]=500;e["braceleft"]=334;e["bar"]=260;e["braceright"]=334;e["asciitilde"]=584;e["exclamdown"]=333;e["cent"]=556;e["sterling"]=556;e["fraction"]=167;e["yen"]=556;e["florin"]=556;e["section"]=556;e["currency"]=556;e["quotesingle"]=191;e["quotedblleft"]=333;e["guillemotleft"]=556;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=500;e["fl"]=500;e["endash"]=556;e["dagger"]=556;e["daggerdbl"]=556;e["periodcentered"]=278;e["paragraph"]=537;e["bullet"]=350;e["quotesinglbase"]=222;e["quotedblbase"]=333;e["quotedblright"]=333;e["guillemotright"]=556;e["ellipsis"]=1e3;e["perthousand"]=1e3;e["questiondown"]=611;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=1e3;e["AE"]=1e3;e["ordfeminine"]=370;e["Lslash"]=556;e["Oslash"]=778;e["OE"]=1e3;e["ordmasculine"]=365;e["ae"]=889;e["dotlessi"]=278;e["lslash"]=222;e["oslash"]=611;e["oe"]=944;e["germandbls"]=611;e["Idieresis"]=278;e["eacute"]=556;e["abreve"]=556;e["uhungarumlaut"]=556;e["ecaron"]=556;e["Ydieresis"]=667;e["divide"]=584;e["Yacute"]=667;e["Acircumflex"]=667;e["aacute"]=556;e["Ucircumflex"]=722;e["yacute"]=500;e["scommaaccent"]=500;e["ecircumflex"]=556;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=556;e["Uacute"]=722;e["uogonek"]=556;e["Edieresis"]=667;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=737;e["Emacron"]=667;e["ccaron"]=500;e["aring"]=556;e["Ncommaaccent"]=722;e["lacute"]=222;e["agrave"]=556;e["Tcommaaccent"]=611;e["Cacute"]=722;e["atilde"]=556;e["Edotaccent"]=667;e["scaron"]=500;e["scedilla"]=500;e["iacute"]=278;e["lozenge"]=471;e["Rcaron"]=722;e["Gcommaaccent"]=778;e["ucircumflex"]=556;e["acircumflex"]=556;e["Amacron"]=667;e["rcaron"]=333;e["ccedilla"]=500;e["Zdotaccent"]=611;e["Thorn"]=667;e["Omacron"]=778;e["Racute"]=722;e["Sacute"]=667;e["dcaron"]=643;e["Umacron"]=722;e["uring"]=556;e["threesuperior"]=333;e["Ograve"]=778;e["Agrave"]=667;e["Abreve"]=667;e["multiply"]=584;e["uacute"]=556;e["Tcaron"]=611;e["partialdiff"]=476;e["ydieresis"]=500;e["Nacute"]=722;e["icircumflex"]=278;e["Ecircumflex"]=667;e["adieresis"]=556;e["edieresis"]=556;e["cacute"]=500;e["nacute"]=556;e["umacron"]=556;e["Ncaron"]=722;e["Iacute"]=278;e["plusminus"]=584;e["brokenbar"]=260;e["registered"]=737;e["Gbreve"]=778;e["Idotaccent"]=278;e["summation"]=600;e["Egrave"]=667;e["racute"]=333;e["omacron"]=556;e["Zacute"]=611;e["Zcaron"]=611;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=722;e["lcommaaccent"]=222;e["tcaron"]=317;e["eogonek"]=556;e["Uogonek"]=722;e["Aacute"]=667;e["Adieresis"]=667;e["egrave"]=556;e["zacute"]=500;e["iogonek"]=222;e["Oacute"]=778;e["oacute"]=556;e["amacron"]=556;e["sacute"]=500;e["idieresis"]=278;e["Ocircumflex"]=778;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=556;e["twosuperior"]=333;e["Odieresis"]=778;e["mu"]=556;e["igrave"]=278;e["ohungarumlaut"]=556;e["Eogonek"]=667;e["dcroat"]=556;e["threequarters"]=834;e["Scedilla"]=667;e["lcaron"]=299;e["Kcommaaccent"]=667;e["Lacute"]=556;e["trademark"]=1e3;e["edotaccent"]=556;e["Igrave"]=278;e["Imacron"]=278;e["Lcaron"]=556;e["onehalf"]=834;e["lessequal"]=549;e["ocircumflex"]=556;e["ntilde"]=556;e["Uhungarumlaut"]=722;e["Eacute"]=667;e["emacron"]=556;e["gbreve"]=556;e["onequarter"]=834;e["Scaron"]=667;e["Scommaaccent"]=667;e["Ohungarumlaut"]=778;e["degree"]=400;e["ograve"]=556;e["Ccaron"]=722;e["ugrave"]=556;e["radical"]=453;e["Dcaron"]=722;e["rcommaaccent"]=333;e["Ntilde"]=722;e["otilde"]=556;e["Rcommaaccent"]=722;e["Lcommaaccent"]=556;e["Atilde"]=667;e["Aogonek"]=667;e["Aring"]=667;e["Otilde"]=778;e["zdotaccent"]=500;e["Ecaron"]=667;e["Iogonek"]=278;e["kcommaaccent"]=500;e["minus"]=584;e["Icircumflex"]=278;e["ncaron"]=556;e["tcommaaccent"]=278;e["logicalnot"]=584;e["odieresis"]=556;e["udieresis"]=556;e["notequal"]=549;e["gcommaaccent"]=556;e["eth"]=556;e["zcaron"]=500;e["ncommaaccent"]=556;e["onesuperior"]=333;e["imacron"]=278;e["Euro"]=556});e["Symbol"]=(0,a.getLookupTableFactory)(function(e){e["space"]=250;e["exclam"]=333;e["universal"]=713;e["numbersign"]=500;e["existential"]=549;e["percent"]=833;e["ampersand"]=778;e["suchthat"]=439;e["parenleft"]=333;e["parenright"]=333;e["asteriskmath"]=500;e["plus"]=549;e["comma"]=250;e["minus"]=549;e["period"]=250;e["slash"]=278;e["zero"]=500;e["one"]=500;e["two"]=500;e["three"]=500;e["four"]=500;e["five"]=500;e["six"]=500;e["seven"]=500;e["eight"]=500;e["nine"]=500;e["colon"]=278;e["semicolon"]=278;e["less"]=549;e["equal"]=549;e["greater"]=549;e["question"]=444;e["congruent"]=549;e["Alpha"]=722;e["Beta"]=667;e["Chi"]=722;e["Delta"]=612;e["Epsilon"]=611;e["Phi"]=763;e["Gamma"]=603;e["Eta"]=722;e["Iota"]=333;e["theta1"]=631;e["Kappa"]=722;e["Lambda"]=686;e["Mu"]=889;e["Nu"]=722;e["Omicron"]=722;e["Pi"]=768;e["Theta"]=741;e["Rho"]=556;e["Sigma"]=592;e["Tau"]=611;e["Upsilon"]=690;e["sigma1"]=439;e["Omega"]=768;e["Xi"]=645;e["Psi"]=795;e["Zeta"]=611;e["bracketleft"]=333;e["therefore"]=863;e["bracketright"]=333;e["perpendicular"]=658;e["underscore"]=500;e["radicalex"]=500;e["alpha"]=631;e["beta"]=549;e["chi"]=549;e["delta"]=494;e["epsilon"]=439;e["phi"]=521;e["gamma"]=411;e["eta"]=603;e["iota"]=329;e["phi1"]=603;e["kappa"]=549;e["lambda"]=549;e["mu"]=576;e["nu"]=521;e["omicron"]=549;e["pi"]=549;e["theta"]=521;e["rho"]=549;e["sigma"]=603;e["tau"]=439;e["upsilon"]=576;e["omega1"]=713;e["omega"]=686;e["xi"]=493;e["psi"]=686;e["zeta"]=494;e["braceleft"]=480;e["bar"]=200;e["braceright"]=480;e["similar"]=549;e["Euro"]=750;e["Upsilon1"]=620;e["minute"]=247;e["lessequal"]=549;e["fraction"]=167;e["infinity"]=713;e["florin"]=500;e["club"]=753;e["diamond"]=753;e["heart"]=753;e["spade"]=753;e["arrowboth"]=1042;e["arrowleft"]=987;e["arrowup"]=603;e["arrowright"]=987;e["arrowdown"]=603;e["degree"]=400;e["plusminus"]=549;e["second"]=411;e["greaterequal"]=549;e["multiply"]=549;e["proportional"]=713;e["partialdiff"]=494;e["bullet"]=460;e["divide"]=549;e["notequal"]=549;e["equivalence"]=549;e["approxequal"]=549;e["ellipsis"]=1e3;e["arrowvertex"]=603;e["arrowhorizex"]=1e3;e["carriagereturn"]=658;e["aleph"]=823;e["Ifraktur"]=686;e["Rfraktur"]=795;e["weierstrass"]=987;e["circlemultiply"]=768;e["circleplus"]=768;e["emptyset"]=823;e["intersection"]=768;e["union"]=768;e["propersuperset"]=713;e["reflexsuperset"]=713;e["notsubset"]=713;e["propersubset"]=713;e["reflexsubset"]=713;e["element"]=713;e["notelement"]=713;e["angle"]=768;e["gradient"]=713;e["registerserif"]=790;e["copyrightserif"]=790;e["trademarkserif"]=890;e["product"]=823;e["radical"]=549;e["dotmath"]=250;e["logicalnot"]=713;e["logicaland"]=603;e["logicalor"]=603;e["arrowdblboth"]=1042;e["arrowdblleft"]=987;e["arrowdblup"]=603;e["arrowdblright"]=987;e["arrowdbldown"]=603;e["lozenge"]=494;e["angleleft"]=329;e["registersans"]=790;e["copyrightsans"]=790;e["trademarksans"]=786;e["summation"]=713;e["parenlefttp"]=384;e["parenleftex"]=384;e["parenleftbt"]=384;e["bracketlefttp"]=384;e["bracketleftex"]=384;e["bracketleftbt"]=384;e["bracelefttp"]=494;e["braceleftmid"]=494;e["braceleftbt"]=494;e["braceex"]=494;e["angleright"]=329;e["integral"]=274;e["integraltp"]=686;e["integralex"]=686;e["integralbt"]=686;e["parenrighttp"]=384;e["parenrightex"]=384;e["parenrightbt"]=384;e["bracketrighttp"]=384;e["bracketrightex"]=384;e["bracketrightbt"]=384;e["bracerighttp"]=494;e["bracerightmid"]=494;e["bracerightbt"]=494;e["apple"]=790});e["Times-Roman"]=(0,a.getLookupTableFactory)(function(e){e["space"]=250;e["exclam"]=333;e["quotedbl"]=408;e["numbersign"]=500;e["dollar"]=500;e["percent"]=833;e["ampersand"]=778;e["quoteright"]=333;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=500;e["plus"]=564;e["comma"]=250;e["hyphen"]=333;e["period"]=250;e["slash"]=278;e["zero"]=500;e["one"]=500;e["two"]=500;e["three"]=500;e["four"]=500;e["five"]=500;e["six"]=500;e["seven"]=500;e["eight"]=500;e["nine"]=500;e["colon"]=278;e["semicolon"]=278;e["less"]=564;e["equal"]=564;e["greater"]=564;e["question"]=444;e["at"]=921;e["A"]=722;e["B"]=667;e["C"]=667;e["D"]=722;e["E"]=611;e["F"]=556;e["G"]=722;e["H"]=722;e["I"]=333;e["J"]=389;e["K"]=722;e["L"]=611;e["M"]=889;e["N"]=722;e["O"]=722;e["P"]=556;e["Q"]=722;e["R"]=667;e["S"]=556;e["T"]=611;e["U"]=722;e["V"]=722;e["W"]=944;e["X"]=722;e["Y"]=722;e["Z"]=611;e["bracketleft"]=333;e["backslash"]=278;e["bracketright"]=333;e["asciicircum"]=469;e["underscore"]=500;e["quoteleft"]=333;e["a"]=444;e["b"]=500;e["c"]=444;e["d"]=500;e["e"]=444;e["f"]=333;e["g"]=500;e["h"]=500;e["i"]=278;e["j"]=278;e["k"]=500;e["l"]=278;e["m"]=778;e["n"]=500;e["o"]=500;e["p"]=500;e["q"]=500;e["r"]=333;e["s"]=389;e["t"]=278;e["u"]=500;e["v"]=500;e["w"]=722;e["x"]=500;e["y"]=500;e["z"]=444;e["braceleft"]=480;e["bar"]=200;e["braceright"]=480;e["asciitilde"]=541;e["exclamdown"]=333;e["cent"]=500;e["sterling"]=500;e["fraction"]=167;e["yen"]=500;e["florin"]=500;e["section"]=500;e["currency"]=500;e["quotesingle"]=180;e["quotedblleft"]=444;e["guillemotleft"]=500;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=556;e["fl"]=556;e["endash"]=500;e["dagger"]=500;e["daggerdbl"]=500;e["periodcentered"]=250;e["paragraph"]=453;e["bullet"]=350;e["quotesinglbase"]=333;e["quotedblbase"]=444;e["quotedblright"]=444;e["guillemotright"]=500;e["ellipsis"]=1e3;e["perthousand"]=1e3;e["questiondown"]=444;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=1e3;e["AE"]=889;e["ordfeminine"]=276;e["Lslash"]=611;e["Oslash"]=722;e["OE"]=889;e["ordmasculine"]=310;e["ae"]=667;e["dotlessi"]=278;e["lslash"]=278;e["oslash"]=500;e["oe"]=722;e["germandbls"]=500;e["Idieresis"]=333;e["eacute"]=444;e["abreve"]=444;e["uhungarumlaut"]=500;e["ecaron"]=444;e["Ydieresis"]=722;e["divide"]=564;e["Yacute"]=722;e["Acircumflex"]=722;e["aacute"]=444;e["Ucircumflex"]=722;e["yacute"]=500;e["scommaaccent"]=389;e["ecircumflex"]=444;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=444;e["Uacute"]=722;e["uogonek"]=500;e["Edieresis"]=611;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=760;e["Emacron"]=611;e["ccaron"]=444;e["aring"]=444;e["Ncommaaccent"]=722;e["lacute"]=278;e["agrave"]=444;e["Tcommaaccent"]=611;e["Cacute"]=667;e["atilde"]=444;e["Edotaccent"]=611;e["scaron"]=389;e["scedilla"]=389;e["iacute"]=278;e["lozenge"]=471;e["Rcaron"]=667;e["Gcommaaccent"]=722;e["ucircumflex"]=500;e["acircumflex"]=444;e["Amacron"]=722;e["rcaron"]=333;e["ccedilla"]=444;e["Zdotaccent"]=611;e["Thorn"]=556;e["Omacron"]=722;e["Racute"]=667;e["Sacute"]=556;e["dcaron"]=588;e["Umacron"]=722;e["uring"]=500;e["threesuperior"]=300;e["Ograve"]=722;e["Agrave"]=722;e["Abreve"]=722;e["multiply"]=564;e["uacute"]=500;e["Tcaron"]=611;e["partialdiff"]=476;e["ydieresis"]=500;e["Nacute"]=722;e["icircumflex"]=278;e["Ecircumflex"]=611;e["adieresis"]=444;e["edieresis"]=444;e["cacute"]=444;e["nacute"]=500;e["umacron"]=500;e["Ncaron"]=722;e["Iacute"]=333;e["plusminus"]=564;e["brokenbar"]=200;e["registered"]=760;e["Gbreve"]=722;e["Idotaccent"]=333;e["summation"]=600;e["Egrave"]=611;e["racute"]=333;e["omacron"]=500;e["Zacute"]=611;e["Zcaron"]=611;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=667;e["lcommaaccent"]=278;e["tcaron"]=326;e["eogonek"]=444;e["Uogonek"]=722;e["Aacute"]=722;e["Adieresis"]=722;e["egrave"]=444;e["zacute"]=444;e["iogonek"]=278;e["Oacute"]=722;e["oacute"]=500;e["amacron"]=444;e["sacute"]=389;e["idieresis"]=278;e["Ocircumflex"]=722;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=500;e["twosuperior"]=300;e["Odieresis"]=722;e["mu"]=500;e["igrave"]=278;e["ohungarumlaut"]=500;e["Eogonek"]=611;e["dcroat"]=500;e["threequarters"]=750;e["Scedilla"]=556;e["lcaron"]=344;e["Kcommaaccent"]=722;e["Lacute"]=611;e["trademark"]=980;e["edotaccent"]=444;e["Igrave"]=333;e["Imacron"]=333;e["Lcaron"]=611;e["onehalf"]=750;e["lessequal"]=549;e["ocircumflex"]=500;e["ntilde"]=500;e["Uhungarumlaut"]=722;e["Eacute"]=611;e["emacron"]=444;e["gbreve"]=500;e["onequarter"]=750;e["Scaron"]=556;e["Scommaaccent"]=556;e["Ohungarumlaut"]=722;e["degree"]=400;e["ograve"]=500;e["Ccaron"]=667;e["ugrave"]=500;e["radical"]=453;e["Dcaron"]=722;e["rcommaaccent"]=333;e["Ntilde"]=722;e["otilde"]=500;e["Rcommaaccent"]=667;e["Lcommaaccent"]=611;e["Atilde"]=722;e["Aogonek"]=722;e["Aring"]=722;e["Otilde"]=722;e["zdotaccent"]=444;e["Ecaron"]=611;e["Iogonek"]=333;e["kcommaaccent"]=500;e["minus"]=564;e["Icircumflex"]=333;e["ncaron"]=500;e["tcommaaccent"]=278;e["logicalnot"]=564;e["odieresis"]=500;e["udieresis"]=500;e["notequal"]=549;e["gcommaaccent"]=500;e["eth"]=500;e["zcaron"]=444;e["ncommaaccent"]=500;e["onesuperior"]=300;e["imacron"]=278;e["Euro"]=500});e["Times-Bold"]=(0,a.getLookupTableFactory)(function(e){e["space"]=250;e["exclam"]=333;e["quotedbl"]=555;e["numbersign"]=500;e["dollar"]=500;e["percent"]=1e3;e["ampersand"]=833;e["quoteright"]=333;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=500;e["plus"]=570;e["comma"]=250;e["hyphen"]=333;e["period"]=250;e["slash"]=278;e["zero"]=500;e["one"]=500;e["two"]=500;e["three"]=500;e["four"]=500;e["five"]=500;e["six"]=500;e["seven"]=500;e["eight"]=500;e["nine"]=500;e["colon"]=333;e["semicolon"]=333;e["less"]=570;e["equal"]=570;e["greater"]=570;e["question"]=500;e["at"]=930;e["A"]=722;e["B"]=667;e["C"]=722;e["D"]=722;e["E"]=667;e["F"]=611;e["G"]=778;e["H"]=778;e["I"]=389;e["J"]=500;e["K"]=778;e["L"]=667;e["M"]=944;e["N"]=722;e["O"]=778;e["P"]=611;e["Q"]=778;e["R"]=722;e["S"]=556;e["T"]=667;e["U"]=722;e["V"]=722;e["W"]=1e3;e["X"]=722;e["Y"]=722;e["Z"]=667;e["bracketleft"]=333;e["backslash"]=278;e["bracketright"]=333;e["asciicircum"]=581;e["underscore"]=500;e["quoteleft"]=333;e["a"]=500;e["b"]=556;e["c"]=444;e["d"]=556;e["e"]=444;e["f"]=333;e["g"]=500;e["h"]=556;e["i"]=278;e["j"]=333;e["k"]=556;e["l"]=278;e["m"]=833;e["n"]=556;e["o"]=500;e["p"]=556;e["q"]=556;e["r"]=444;e["s"]=389;e["t"]=333;e["u"]=556;e["v"]=500;e["w"]=722;e["x"]=500;e["y"]=500;e["z"]=444;e["braceleft"]=394;e["bar"]=220;e["braceright"]=394;e["asciitilde"]=520;e["exclamdown"]=333;e["cent"]=500;e["sterling"]=500;e["fraction"]=167;e["yen"]=500;e["florin"]=500;e["section"]=500;e["currency"]=500;e["quotesingle"]=278;e["quotedblleft"]=500;e["guillemotleft"]=500;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=556;e["fl"]=556;e["endash"]=500;e["dagger"]=500;e["daggerdbl"]=500;e["periodcentered"]=250;e["paragraph"]=540;e["bullet"]=350;e["quotesinglbase"]=333;e["quotedblbase"]=500;e["quotedblright"]=500;e["guillemotright"]=500;e["ellipsis"]=1e3;e["perthousand"]=1e3;e["questiondown"]=500;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=1e3;e["AE"]=1e3;e["ordfeminine"]=300;e["Lslash"]=667;e["Oslash"]=778;e["OE"]=1e3;e["ordmasculine"]=330;e["ae"]=722;e["dotlessi"]=278;e["lslash"]=278;e["oslash"]=500;e["oe"]=722;e["germandbls"]=556;e["Idieresis"]=389;e["eacute"]=444;e["abreve"]=500;e["uhungarumlaut"]=556;e["ecaron"]=444;e["Ydieresis"]=722;e["divide"]=570;e["Yacute"]=722;e["Acircumflex"]=722;e["aacute"]=500;e["Ucircumflex"]=722;e["yacute"]=500;e["scommaaccent"]=389;e["ecircumflex"]=444;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=500;e["Uacute"]=722;e["uogonek"]=556;e["Edieresis"]=667;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=747;e["Emacron"]=667;e["ccaron"]=444;e["aring"]=500;e["Ncommaaccent"]=722;e["lacute"]=278;e["agrave"]=500;e["Tcommaaccent"]=667;e["Cacute"]=722;e["atilde"]=500;e["Edotaccent"]=667;e["scaron"]=389;e["scedilla"]=389;e["iacute"]=278;e["lozenge"]=494;e["Rcaron"]=722;e["Gcommaaccent"]=778;e["ucircumflex"]=556;e["acircumflex"]=500;e["Amacron"]=722;e["rcaron"]=444;e["ccedilla"]=444;e["Zdotaccent"]=667;e["Thorn"]=611;e["Omacron"]=778;e["Racute"]=722;e["Sacute"]=556;e["dcaron"]=672;e["Umacron"]=722;e["uring"]=556;e["threesuperior"]=300;e["Ograve"]=778;e["Agrave"]=722;e["Abreve"]=722;e["multiply"]=570;e["uacute"]=556;e["Tcaron"]=667;e["partialdiff"]=494;e["ydieresis"]=500;e["Nacute"]=722;e["icircumflex"]=278;e["Ecircumflex"]=667;e["adieresis"]=500;e["edieresis"]=444;e["cacute"]=444;e["nacute"]=556;e["umacron"]=556;e["Ncaron"]=722;e["Iacute"]=389;e["plusminus"]=570;e["brokenbar"]=220;e["registered"]=747;e["Gbreve"]=778;e["Idotaccent"]=389;e["summation"]=600;e["Egrave"]=667;e["racute"]=444;e["omacron"]=500;e["Zacute"]=667;e["Zcaron"]=667;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=722;e["lcommaaccent"]=278;e["tcaron"]=416;e["eogonek"]=444;e["Uogonek"]=722;e["Aacute"]=722;e["Adieresis"]=722;e["egrave"]=444;e["zacute"]=444;e["iogonek"]=278;e["Oacute"]=778;e["oacute"]=500;e["amacron"]=500;e["sacute"]=389;e["idieresis"]=278;e["Ocircumflex"]=778;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=556;e["twosuperior"]=300;e["Odieresis"]=778;e["mu"]=556;e["igrave"]=278;e["ohungarumlaut"]=500;e["Eogonek"]=667;e["dcroat"]=556;e["threequarters"]=750;e["Scedilla"]=556;e["lcaron"]=394;e["Kcommaaccent"]=778;e["Lacute"]=667;e["trademark"]=1e3;e["edotaccent"]=444;e["Igrave"]=389;e["Imacron"]=389;e["Lcaron"]=667;e["onehalf"]=750;e["lessequal"]=549;e["ocircumflex"]=500;e["ntilde"]=556;e["Uhungarumlaut"]=722;e["Eacute"]=667;e["emacron"]=444;e["gbreve"]=500;e["onequarter"]=750;e["Scaron"]=556;e["Scommaaccent"]=556;e["Ohungarumlaut"]=778;e["degree"]=400;e["ograve"]=500;e["Ccaron"]=722;e["ugrave"]=556;e["radical"]=549;e["Dcaron"]=722;e["rcommaaccent"]=444;e["Ntilde"]=722;e["otilde"]=500;e["Rcommaaccent"]=722;e["Lcommaaccent"]=667;e["Atilde"]=722;e["Aogonek"]=722;e["Aring"]=722;e["Otilde"]=778;e["zdotaccent"]=444;e["Ecaron"]=667;e["Iogonek"]=389;e["kcommaaccent"]=556;e["minus"]=570;e["Icircumflex"]=389;e["ncaron"]=556;e["tcommaaccent"]=333;e["logicalnot"]=570;e["odieresis"]=500;e["udieresis"]=556;e["notequal"]=549;e["gcommaaccent"]=500;e["eth"]=500;e["zcaron"]=444;e["ncommaaccent"]=556;e["onesuperior"]=300;e["imacron"]=278;e["Euro"]=500});e["Times-BoldItalic"]=(0,a.getLookupTableFactory)(function(e){e["space"]=250;e["exclam"]=389;e["quotedbl"]=555;e["numbersign"]=500;e["dollar"]=500;e["percent"]=833;e["ampersand"]=778;e["quoteright"]=333;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=500;e["plus"]=570;e["comma"]=250;e["hyphen"]=333;e["period"]=250;e["slash"]=278;e["zero"]=500;e["one"]=500;e["two"]=500;e["three"]=500;e["four"]=500;e["five"]=500;e["six"]=500;e["seven"]=500;e["eight"]=500;e["nine"]=500;e["colon"]=333;e["semicolon"]=333;e["less"]=570;e["equal"]=570;e["greater"]=570;e["question"]=500;e["at"]=832;e["A"]=667;e["B"]=667;e["C"]=667;e["D"]=722;e["E"]=667;e["F"]=667;e["G"]=722;e["H"]=778;e["I"]=389;e["J"]=500;e["K"]=667;e["L"]=611;e["M"]=889;e["N"]=722;e["O"]=722;e["P"]=611;e["Q"]=722;e["R"]=667;e["S"]=556;e["T"]=611;e["U"]=722;e["V"]=667;e["W"]=889;e["X"]=667;e["Y"]=611;e["Z"]=611;e["bracketleft"]=333;e["backslash"]=278;e["bracketright"]=333;e["asciicircum"]=570;e["underscore"]=500;e["quoteleft"]=333;e["a"]=500;e["b"]=500;e["c"]=444;e["d"]=500;e["e"]=444;e["f"]=333;e["g"]=500;e["h"]=556;e["i"]=278;e["j"]=278;e["k"]=500;e["l"]=278;e["m"]=778;e["n"]=556;e["o"]=500;e["p"]=500;e["q"]=500;e["r"]=389;e["s"]=389;e["t"]=278;e["u"]=556;e["v"]=444;e["w"]=667;e["x"]=500;e["y"]=444;e["z"]=389;e["braceleft"]=348;e["bar"]=220;e["braceright"]=348;e["asciitilde"]=570;e["exclamdown"]=389;e["cent"]=500;e["sterling"]=500;e["fraction"]=167;e["yen"]=500;e["florin"]=500;e["section"]=500;e["currency"]=500;e["quotesingle"]=278;e["quotedblleft"]=500;e["guillemotleft"]=500;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=556;e["fl"]=556;e["endash"]=500;e["dagger"]=500;e["daggerdbl"]=500;e["periodcentered"]=250;e["paragraph"]=500;e["bullet"]=350;e["quotesinglbase"]=333;e["quotedblbase"]=500;e["quotedblright"]=500;e["guillemotright"]=500;e["ellipsis"]=1e3;e["perthousand"]=1e3;e["questiondown"]=500;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=1e3;e["AE"]=944;e["ordfeminine"]=266;e["Lslash"]=611;e["Oslash"]=722;e["OE"]=944;e["ordmasculine"]=300;e["ae"]=722;e["dotlessi"]=278;e["lslash"]=278;e["oslash"]=500;e["oe"]=722;e["germandbls"]=500;e["Idieresis"]=389;e["eacute"]=444;e["abreve"]=500;e["uhungarumlaut"]=556;e["ecaron"]=444;e["Ydieresis"]=611;e["divide"]=570;e["Yacute"]=611;e["Acircumflex"]=667;e["aacute"]=500;e["Ucircumflex"]=722;e["yacute"]=444;e["scommaaccent"]=389;e["ecircumflex"]=444;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=500;e["Uacute"]=722;e["uogonek"]=556;e["Edieresis"]=667;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=747;e["Emacron"]=667;e["ccaron"]=444;e["aring"]=500;e["Ncommaaccent"]=722;e["lacute"]=278;e["agrave"]=500;e["Tcommaaccent"]=611;e["Cacute"]=667;e["atilde"]=500;e["Edotaccent"]=667;e["scaron"]=389;e["scedilla"]=389;e["iacute"]=278;e["lozenge"]=494;e["Rcaron"]=667;e["Gcommaaccent"]=722;e["ucircumflex"]=556;e["acircumflex"]=500;e["Amacron"]=667;e["rcaron"]=389;e["ccedilla"]=444;e["Zdotaccent"]=611;e["Thorn"]=611;e["Omacron"]=722;e["Racute"]=667;e["Sacute"]=556;e["dcaron"]=608;e["Umacron"]=722;e["uring"]=556;e["threesuperior"]=300;e["Ograve"]=722;e["Agrave"]=667;e["Abreve"]=667;e["multiply"]=570;e["uacute"]=556;e["Tcaron"]=611;e["partialdiff"]=494;e["ydieresis"]=444;e["Nacute"]=722;e["icircumflex"]=278;e["Ecircumflex"]=667;e["adieresis"]=500;e["edieresis"]=444;e["cacute"]=444;e["nacute"]=556;e["umacron"]=556;e["Ncaron"]=722;e["Iacute"]=389;e["plusminus"]=570;e["brokenbar"]=220;e["registered"]=747;e["Gbreve"]=722;e["Idotaccent"]=389;e["summation"]=600;e["Egrave"]=667;e["racute"]=389;e["omacron"]=500;e["Zacute"]=611;e["Zcaron"]=611;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=667;e["lcommaaccent"]=278;e["tcaron"]=366;e["eogonek"]=444;e["Uogonek"]=722;e["Aacute"]=667;e["Adieresis"]=667;e["egrave"]=444;e["zacute"]=389;e["iogonek"]=278;e["Oacute"]=722;e["oacute"]=500;e["amacron"]=500;e["sacute"]=389;e["idieresis"]=278;e["Ocircumflex"]=722;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=500;e["twosuperior"]=300;e["Odieresis"]=722;e["mu"]=576;e["igrave"]=278;e["ohungarumlaut"]=500;e["Eogonek"]=667;e["dcroat"]=500;e["threequarters"]=750;e["Scedilla"]=556;e["lcaron"]=382;e["Kcommaaccent"]=667;e["Lacute"]=611;e["trademark"]=1e3;e["edotaccent"]=444;e["Igrave"]=389;e["Imacron"]=389;e["Lcaron"]=611;e["onehalf"]=750;e["lessequal"]=549;e["ocircumflex"]=500;e["ntilde"]=556;e["Uhungarumlaut"]=722;e["Eacute"]=667;e["emacron"]=444;e["gbreve"]=500;e["onequarter"]=750;e["Scaron"]=556;e["Scommaaccent"]=556;e["Ohungarumlaut"]=722;e["degree"]=400;e["ograve"]=500;e["Ccaron"]=667;e["ugrave"]=556;e["radical"]=549;e["Dcaron"]=722;e["rcommaaccent"]=389;e["Ntilde"]=722;e["otilde"]=500;e["Rcommaaccent"]=667;e["Lcommaaccent"]=611;e["Atilde"]=667;e["Aogonek"]=667;e["Aring"]=667;e["Otilde"]=722;e["zdotaccent"]=389;e["Ecaron"]=667;e["Iogonek"]=389;e["kcommaaccent"]=500;e["minus"]=606;e["Icircumflex"]=389;e["ncaron"]=556;e["tcommaaccent"]=278;e["logicalnot"]=606;e["odieresis"]=500;e["udieresis"]=556;e["notequal"]=549;e["gcommaaccent"]=500;e["eth"]=500;e["zcaron"]=389;e["ncommaaccent"]=556;e["onesuperior"]=300;e["imacron"]=278;e["Euro"]=500});e["Times-Italic"]=(0,a.getLookupTableFactory)(function(e){e["space"]=250;e["exclam"]=333;e["quotedbl"]=420;e["numbersign"]=500;e["dollar"]=500;e["percent"]=833;e["ampersand"]=778;e["quoteright"]=333;e["parenleft"]=333;e["parenright"]=333;e["asterisk"]=500;e["plus"]=675;e["comma"]=250;e["hyphen"]=333;e["period"]=250;e["slash"]=278;e["zero"]=500;e["one"]=500;e["two"]=500;e["three"]=500;e["four"]=500;e["five"]=500;e["six"]=500;e["seven"]=500;e["eight"]=500;e["nine"]=500;e["colon"]=333;e["semicolon"]=333;e["less"]=675;e["equal"]=675;e["greater"]=675;e["question"]=500;e["at"]=920;e["A"]=611;e["B"]=611;e["C"]=667;e["D"]=722;e["E"]=611;e["F"]=611;e["G"]=722;e["H"]=722;e["I"]=333;e["J"]=444;e["K"]=667;e["L"]=556;e["M"]=833;e["N"]=667;e["O"]=722;e["P"]=611;e["Q"]=722;e["R"]=611;e["S"]=500;e["T"]=556;e["U"]=722;e["V"]=611;e["W"]=833;e["X"]=611;e["Y"]=556;e["Z"]=556;e["bracketleft"]=389;e["backslash"]=278;e["bracketright"]=389;e["asciicircum"]=422;e["underscore"]=500;e["quoteleft"]=333;e["a"]=500;e["b"]=500;e["c"]=444;e["d"]=500;e["e"]=444;e["f"]=278;e["g"]=500;e["h"]=500;e["i"]=278;e["j"]=278;e["k"]=444;e["l"]=278;e["m"]=722;e["n"]=500;e["o"]=500;e["p"]=500;e["q"]=500;e["r"]=389;e["s"]=389;e["t"]=278;e["u"]=500;e["v"]=444;e["w"]=667;e["x"]=444;e["y"]=444;e["z"]=389;e["braceleft"]=400;e["bar"]=275;e["braceright"]=400;e["asciitilde"]=541;e["exclamdown"]=389;e["cent"]=500;e["sterling"]=500;e["fraction"]=167;e["yen"]=500;e["florin"]=500;e["section"]=500;e["currency"]=500;e["quotesingle"]=214;e["quotedblleft"]=556;e["guillemotleft"]=500;e["guilsinglleft"]=333;e["guilsinglright"]=333;e["fi"]=500;e["fl"]=500;e["endash"]=500;e["dagger"]=500;e["daggerdbl"]=500;e["periodcentered"]=250;e["paragraph"]=523;e["bullet"]=350;e["quotesinglbase"]=333;e["quotedblbase"]=556;e["quotedblright"]=556;e["guillemotright"]=500;e["ellipsis"]=889;e["perthousand"]=1e3;e["questiondown"]=500;e["grave"]=333;e["acute"]=333;e["circumflex"]=333;e["tilde"]=333;e["macron"]=333;e["breve"]=333;e["dotaccent"]=333;e["dieresis"]=333;e["ring"]=333;e["cedilla"]=333;e["hungarumlaut"]=333;e["ogonek"]=333;e["caron"]=333;e["emdash"]=889;e["AE"]=889;e["ordfeminine"]=276;e["Lslash"]=556;e["Oslash"]=722;e["OE"]=944;e["ordmasculine"]=310;e["ae"]=667;e["dotlessi"]=278;e["lslash"]=278;e["oslash"]=500;e["oe"]=667;e["germandbls"]=500;e["Idieresis"]=333;e["eacute"]=444;e["abreve"]=500;e["uhungarumlaut"]=500;e["ecaron"]=444;e["Ydieresis"]=556;e["divide"]=675;e["Yacute"]=556;e["Acircumflex"]=611;e["aacute"]=500;e["Ucircumflex"]=722;e["yacute"]=444;e["scommaaccent"]=389;e["ecircumflex"]=444;e["Uring"]=722;e["Udieresis"]=722;e["aogonek"]=500;e["Uacute"]=722;e["uogonek"]=500;e["Edieresis"]=611;e["Dcroat"]=722;e["commaaccent"]=250;e["copyright"]=760;e["Emacron"]=611;e["ccaron"]=444;e["aring"]=500;e["Ncommaaccent"]=667;e["lacute"]=278;e["agrave"]=500;e["Tcommaaccent"]=556;e["Cacute"]=667;e["atilde"]=500;e["Edotaccent"]=611;e["scaron"]=389;e["scedilla"]=389;e["iacute"]=278;e["lozenge"]=471;e["Rcaron"]=611;e["Gcommaaccent"]=722;e["ucircumflex"]=500;e["acircumflex"]=500;e["Amacron"]=611;e["rcaron"]=389;e["ccedilla"]=444;e["Zdotaccent"]=556;e["Thorn"]=611;e["Omacron"]=722;e["Racute"]=611;e["Sacute"]=500;e["dcaron"]=544;e["Umacron"]=722;e["uring"]=500;e["threesuperior"]=300;e["Ograve"]=722;e["Agrave"]=611;e["Abreve"]=611;e["multiply"]=675;e["uacute"]=500;e["Tcaron"]=556;e["partialdiff"]=476;e["ydieresis"]=444;e["Nacute"]=667;e["icircumflex"]=278;e["Ecircumflex"]=611;e["adieresis"]=500;e["edieresis"]=444;e["cacute"]=444;e["nacute"]=500;e["umacron"]=500;e["Ncaron"]=667;e["Iacute"]=333;e["plusminus"]=675;e["brokenbar"]=275;e["registered"]=760;e["Gbreve"]=722;e["Idotaccent"]=333;e["summation"]=600;e["Egrave"]=611;e["racute"]=389;e["omacron"]=500;e["Zacute"]=556;e["Zcaron"]=556;e["greaterequal"]=549;e["Eth"]=722;e["Ccedilla"]=667;e["lcommaaccent"]=278;e["tcaron"]=300;e["eogonek"]=444;e["Uogonek"]=722;e["Aacute"]=611;e["Adieresis"]=611;e["egrave"]=444;e["zacute"]=389;e["iogonek"]=278;e["Oacute"]=722;e["oacute"]=500;e["amacron"]=500;e["sacute"]=389;e["idieresis"]=278;e["Ocircumflex"]=722;e["Ugrave"]=722;e["Delta"]=612;e["thorn"]=500;e["twosuperior"]=300;e["Odieresis"]=722;e["mu"]=500;e["igrave"]=278;e["ohungarumlaut"]=500;e["Eogonek"]=611;e["dcroat"]=500;e["threequarters"]=750;e["Scedilla"]=500;e["lcaron"]=300;e["Kcommaaccent"]=667;e["Lacute"]=556;e["trademark"]=980;e["edotaccent"]=444;e["Igrave"]=333;e["Imacron"]=333;e["Lcaron"]=611;e["onehalf"]=750;e["lessequal"]=549;e["ocircumflex"]=500;e["ntilde"]=500;e["Uhungarumlaut"]=722;e["Eacute"]=611;e["emacron"]=444;e["gbreve"]=500;e["onequarter"]=750;e["Scaron"]=500;e["Scommaaccent"]=500;e["Ohungarumlaut"]=722;e["degree"]=400;e["ograve"]=500;e["Ccaron"]=667;e["ugrave"]=500;e["radical"]=453;e["Dcaron"]=722;e["rcommaaccent"]=389;e["Ntilde"]=667;e["otilde"]=500;e["Rcommaaccent"]=611;e["Lcommaaccent"]=556;e["Atilde"]=611;e["Aogonek"]=611;e["Aring"]=611;e["Otilde"]=722;e["zdotaccent"]=389;e["Ecaron"]=611;e["Iogonek"]=333;e["kcommaaccent"]=444;e["minus"]=675;e["Icircumflex"]=333;e["ncaron"]=500;e["tcommaaccent"]=278;e["logicalnot"]=675;e["odieresis"]=500;e["udieresis"]=500;e["notequal"]=549;e["gcommaaccent"]=500;e["eth"]=500;e["zcaron"]=389;e["ncommaaccent"]=500;e["onesuperior"]=300;e["imacron"]=278;e["Euro"]=500});e["ZapfDingbats"]=(0,a.getLookupTableFactory)(function(e){e["space"]=278;e["a1"]=974;e["a2"]=961;e["a202"]=974;e["a3"]=980;e["a4"]=719;e["a5"]=789;e["a119"]=790;e["a118"]=791;e["a117"]=690;e["a11"]=960;e["a12"]=939;e["a13"]=549;e["a14"]=855;e["a15"]=911;e["a16"]=933;e["a105"]=911;e["a17"]=945;e["a18"]=974;e["a19"]=755;e["a20"]=846;e["a21"]=762;e["a22"]=761;e["a23"]=571;e["a24"]=677;e["a25"]=763;e["a26"]=760;e["a27"]=759;e["a28"]=754;e["a6"]=494;e["a7"]=552;e["a8"]=537;e["a9"]=577;e["a10"]=692;e["a29"]=786;e["a30"]=788;e["a31"]=788;e["a32"]=790;e["a33"]=793;e["a34"]=794;e["a35"]=816;e["a36"]=823;e["a37"]=789;e["a38"]=841;e["a39"]=823;e["a40"]=833;e["a41"]=816;e["a42"]=831;e["a43"]=923;e["a44"]=744;e["a45"]=723;e["a46"]=749;e["a47"]=790;e["a48"]=792;e["a49"]=695;e["a50"]=776;e["a51"]=768;e["a52"]=792;e["a53"]=759;e["a54"]=707;e["a55"]=708;e["a56"]=682;e["a57"]=701;e["a58"]=826;e["a59"]=815;e["a60"]=789;e["a61"]=789;e["a62"]=707;e["a63"]=687;e["a64"]=696;e["a65"]=689;e["a66"]=786;e["a67"]=787;e["a68"]=713;e["a69"]=791;e["a70"]=785;e["a71"]=791;e["a72"]=873;e["a73"]=761;e["a74"]=762;e["a203"]=762;e["a75"]=759;e["a204"]=759;e["a76"]=892;e["a77"]=892;e["a78"]=788;e["a79"]=784;e["a81"]=438;e["a82"]=138;e["a83"]=277;e["a84"]=415;e["a97"]=392;e["a98"]=392;e["a99"]=668;e["a100"]=668;e["a89"]=390;e["a90"]=390;e["a93"]=317;e["a94"]=317;e["a91"]=276;e["a92"]=276;e["a205"]=509;e["a85"]=509;e["a206"]=410;e["a86"]=410;e["a87"]=234;e["a88"]=234;e["a95"]=334;e["a96"]=334;e["a101"]=732;e["a102"]=544;e["a103"]=544;e["a104"]=910;e["a106"]=667;e["a107"]=760;e["a108"]=760;e["a112"]=776;e["a111"]=595;e["a110"]=694;e["a109"]=626;e["a120"]=788;e["a121"]=788;e["a122"]=788;e["a123"]=788;e["a124"]=788;e["a125"]=788;e["a126"]=788;e["a127"]=788;e["a128"]=788;e["a129"]=788;e["a130"]=788;e["a131"]=788;e["a132"]=788;e["a133"]=788;e["a134"]=788;e["a135"]=788;e["a136"]=788;e["a137"]=788;e["a138"]=788;e["a139"]=788;e["a140"]=788;e["a141"]=788;e["a142"]=788;e["a143"]=788;e["a144"]=788;e["a145"]=788;e["a146"]=788;e["a147"]=788;e["a148"]=788;e["a149"]=788;e["a150"]=788;e["a151"]=788;e["a152"]=788;e["a153"]=788;e["a154"]=788;e["a155"]=788;e["a156"]=788;e["a157"]=788;e["a158"]=788;e["a159"]=788;e["a160"]=894;e["a161"]=838;e["a163"]=1016;e["a164"]=458;e["a196"]=748;e["a165"]=924;e["a192"]=748;e["a166"]=918;e["a167"]=927;e["a168"]=928;e["a169"]=928;e["a170"]=834;e["a171"]=873;e["a172"]=828;e["a173"]=924;e["a162"]=924;e["a174"]=917;e["a175"]=930;e["a176"]=931;e["a177"]=463;e["a178"]=883;e["a179"]=836;e["a193"]=836;e["a180"]=867;e["a199"]=867;e["a181"]=696;e["a200"]=696;e["a182"]=874;e["a201"]=874;e["a183"]=760;e["a184"]=946;e["a197"]=771;e["a185"]=865;e["a194"]=771;e["a198"]=888;e["a186"]=967;e["a195"]=888;e["a187"]=831;e["a188"]=873;e["a189"]=927;e["a190"]=970;e["a191"]=918})});r.getMetrics=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.isPDFFunction=v;r.PostScriptCompiler=r.PostScriptEvaluator=r.PDFFunctionFactory=void 0;var a=t(5);var n=t(183);var i=t(219);function o(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(r){return typeof r}}else{o=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return o(e)}function s(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function c(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function l(e,r,t){if(r)c(e.prototype,r);if(t)c(e,t);return e}var u={get value(){return(0,a.shadow)(this,"value",(0,a.isEvalSupported)())}};var f=function(){function e(r){var t=r.xref,a=r.isEvalSupported,n=a===void 0?true:a;s(this,e);this.xref=t;this.isEvalSupported=n!==false}l(e,[{key:"create",value:function e(r){return d.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:r})}},{key:"createFromArray",value:function e(r){return d.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:r})}}]);return e}();r.PDFFunctionFactory=f;function h(e){if(!Array.isArray(e)){return null}var r=e.length;for(var t=0;t<r;t++){if(typeof e[t]!=="number"){var a=new Array(r);for(var n=0;n<r;n++){a[n]=+e[n]}return a}}return e}var d=function e(){var r=0;var t=2;var n=3;var o=4;return{getSampleArray:function e(r,t,a,n){var i,o;var s=1;for(i=0,o=r.length;i<o;i++){s*=r[i]}s*=t;var c=new Array(s);var l=0;var u=0;var f=1/(Math.pow(2,a)-1);var h=n.getBytes((s*a+7)/8);var d=0;for(i=0;i<s;i++){while(l<a){u<<=8;u|=h[d++];l+=8}l-=a;c[i]=(u>>l)*f;u&=(1<<l)-1}return c},getIR:function e(r){var t=r.xref,n=r.isEvalSupported,i=r.fn;var o=i.dict;if(!o){o=i}var s=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript];var c=o.get("FunctionType");var l=s[c];if(!l){throw new a.FormatError("Unknown type of function")}return l.call(this,{xref:t,isEvalSupported:n,fn:i,dict:o})},fromIR:function e(a){var i=a.xref,o=a.isEvalSupported,s=a.IR;var c=s[0];switch(c){case r:return this.constructSampledFromIR({xref:i,isEvalSupported:o,IR:s});case t:return this.constructInterpolatedFromIR({xref:i,isEvalSupported:o,IR:s});case n:return this.constructStichedFromIR({xref:i,isEvalSupported:o,IR:s});default:return this.constructPostScriptFromIR({xref:i,isEvalSupported:o,IR:s})}},parse:function e(r){var t=r.xref,a=r.isEvalSupported,n=r.fn;var i=this.getIR({xref:t,isEvalSupported:a,fn:n});return this.fromIR({xref:t,isEvalSupported:a,IR:i})},parseArray:function e(r){var t=r.xref,a=r.isEvalSupported,n=r.fnObj;if(!Array.isArray(n)){return this.parse({xref:t,isEvalSupported:a,fn:n})}var i=[];for(var o=0,s=n.length;o<s;o++){i.push(this.parse({xref:t,isEvalSupported:a,fn:t.fetchIfRef(n[o])}))}return function(e,r,t,a){for(var n=0,o=i.length;n<o;n++){i[n](e,r,t,a+n)}}},constructSampled:function e(t){var n=t.xref,i=t.isEvalSupported,o=t.fn,s=t.dict;function c(e){var r=e.length;var t=[];var a=0;for(var n=0;n<r;n+=2){t[a]=[e[n],e[n+1]];++a}return t}var l=h(s.getArray("Domain"));var u=h(s.getArray("Range"));if(!l||!u){throw new a.FormatError("No domain or range")}var f=l.length/2;var d=u.length/2;l=c(l);u=c(u);var v=h(s.getArray("Size"));var g=s.get("BitsPerSample");var p=s.get("Order")||1;if(p!==1){(0,a.info)("No support for cubic spline interpolation: "+p)}var m=h(s.getArray("Encode"));if(!m){m=[];for(var b=0;b<f;++b){m.push([0,v[b]-1])}}else{m=c(m)}var y=h(s.getArray("Decode"));if(!y){y=u}else{y=c(y)}var w=this.getSampleArray(v,d,g,o);return[r,f,l,m,y,w,v,d,Math.pow(2,g)-1,u]},constructSampledFromIR:function e(r){var t=r.xref,a=r.isEvalSupported,n=r.IR;function i(e,r,t,a,n){return a+(e-r)*((n-a)/(t-r))}return function e(r,t,a,o){var s=n[1];var c=n[2];var l=n[3];var u=n[4];var f=n[5];var h=n[6];var d=n[7];var v=n[9];var g=1<<s;var p=new Float64Array(g);var m=new Uint32Array(g);var b,y;for(y=0;y<g;y++){p[y]=1}var w=d,k=1;for(b=0;b<s;++b){var S=c[b][0];var x=c[b][1];var C=Math.min(Math.max(r[t+b],S),x);var A=i(C,S,x,l[b][0],l[b][1]);var O=h[b];A=Math.min(Math.max(A,0),O-1);var P=A<O-1?Math.floor(A):A-1;var I=P+1-A;var T=A-P;var E=P*w;var F=E+w;for(y=0;y<g;y++){if(y&k){p[y]*=T;m[y]+=F}else{p[y]*=I;m[y]+=E}}w*=O;k<<=1}for(y=0;y<d;++y){var B=0;for(b=0;b<g;b++){B+=f[m[b]+y]*p[b]}B=i(B,0,1,u[y][0],u[y][1]);a[o+y]=Math.min(Math.max(B,v[y][0]),v[y][1])}}},constructInterpolated:function e(r){var a=r.xref,n=r.isEvalSupported,i=r.fn,o=r.dict;var s=h(o.getArray("C0"))||[0];var c=h(o.getArray("C1"))||[1];var l=o.get("N");var u=s.length;var f=[];for(var d=0;d<u;++d){f.push(c[d]-s[d])}return[t,s,f,l]},constructInterpolatedFromIR:function e(r){var t=r.xref,a=r.isEvalSupported,n=r.IR;var i=n[1];var o=n[2];var s=n[3];var c=o.length;return function e(r,t,a,n){var l=s===1?r[t]:Math.pow(r[t],s);for(var u=0;u<c;++u){a[n+u]=i[u]+l*o[u]}}},constructStiched:function e(r){var t=r.xref,i=r.isEvalSupported,o=r.fn,s=r.dict;var c=h(s.getArray("Domain"));if(!c){throw new a.FormatError("No domain")}var l=c.length/2;if(l!==1){throw new a.FormatError("Bad domain for stiched function")}var u=s.get("Functions");var f=[];for(var d=0,v=u.length;d<v;++d){f.push(this.parse({xref:t,isEvalSupported:i,fn:t.fetchIfRef(u[d])}))}var g=h(s.getArray("Bounds"));var p=h(s.getArray("Encode"));return[n,c,g,p,f]},constructStichedFromIR:function e(r){var t=r.xref,a=r.isEvalSupported,n=r.IR;var i=n[1];var o=n[2];var s=n[3];var c=n[4];var l=new Float32Array(1);return function e(r,t,a,n){var u=function e(r,t,a){if(r>a){r=a}else if(r<t){r=t}return r};var f=u(r[t],i[0],i[1]);for(var h=0,d=o.length;h<d;++h){if(f<o[h]){break}}var v=i[0];if(h>0){v=o[h-1]}var g=i[1];if(h<o.length){g=o[h]}var p=s[2*h];var m=s[2*h+1];l[0]=v===g?p:p+(f-v)*(m-p)/(g-v);c[h](l,0,a,n)}},constructPostScript:function e(r){var t=r.xref,n=r.isEvalSupported,s=r.fn,c=r.dict;var l=h(c.getArray("Domain"));var u=h(c.getArray("Range"));if(!l){throw new a.FormatError("No domain.")}if(!u){throw new a.FormatError("No range.")}var f=new i.PostScriptLexer(s);var d=new i.PostScriptParser(f);var v=d.parse();return[o,l,u,v]},constructPostScriptFromIR:function e(r){var t=r.xref,n=r.isEvalSupported,i=r.IR;var o=i[1];var s=i[2];var c=i[3];if(n&&u.value){var l=(new m).compile(c,o,s);if(l){return new Function("src","srcOffset","dest","destOffset",l)}}(0,a.info)("Unable to compile PS function");var f=s.length>>1;var h=o.length>>1;var d=new p(c);var v=Object.create(null);var g=2048*4;var b=g;var y=new Float32Array(h);return function e(r,t,a,n){var i,o;var c="";var l=y;for(i=0;i<h;i++){o=r[t+i];l[i]=o;c+=o+"_"}var u=v[c];if(u!==undefined){a.set(u,n);return}var g=new Float32Array(f);var p=d.execute(l);var m=p.length-f;for(i=0;i<f;i++){o=p[m+i];var w=s[i*2];if(o<w){o=w}else{w=s[i*2+1];if(o>w){o=w}}g[i]=o}if(b>0){b--;v[c]=g}a.set(g,n)}}}}();function v(e){var r;if(o(e)!=="object"){return false}else if((0,n.isDict)(e)){r=e}else if((0,n.isStream)(e)){r=e.dict}else{return false}return r.has("FunctionType")}var g=function e(){var r=100;function t(e){this.stack=!e?[]:Array.prototype.slice.call(e,0)}t.prototype={push:function e(t){if(this.stack.length>=r){throw new Error("PostScript function stack overflow.")}this.stack.push(t)},pop:function e(){if(this.stack.length<=0){throw new Error("PostScript function stack underflow.")}return this.stack.pop()},copy:function e(t){if(this.stack.length+t>=r){throw new Error("PostScript function stack overflow.")}var a=this.stack;for(var n=a.length-t,i=t-1;i>=0;i--,n++){a.push(a[n])}},index:function e(r){this.push(this.stack[this.stack.length-r-1])},roll:function e(r,t){var a=this.stack;var n=a.length-r;var i=a.length-1,o=n+(t-Math.floor(t/r)*r),s,c,l;for(s=n,c=i;s<c;s++,c--){l=a[s];a[s]=a[c];a[c]=l}for(s=n,c=o-1;s<c;s++,c--){l=a[s];a[s]=a[c];a[c]=l}for(s=o,c=i;s<c;s++,c--){l=a[s];a[s]=a[c];a[c]=l}}};return t}();var p=function e(){function r(e){this.operators=e}r.prototype={execute:function e(r){var t=new g(r);var n=0;var i=this.operators;var o=i.length;var s,c,l;while(n<o){s=i[n++];if(typeof s==="number"){t.push(s);continue}switch(s){case"jz":l=t.pop();c=t.pop();if(!c){n=l}break;case"j":c=t.pop();n=c;break;case"abs":c=t.pop();t.push(Math.abs(c));break;case"add":l=t.pop();c=t.pop();t.push(c+l);break;case"and":l=t.pop();c=t.pop();if((0,a.isBool)(c)&&(0,a.isBool)(l)){t.push(c&&l)}else{t.push(c&l)}break;case"atan":c=t.pop();t.push(Math.atan(c));break;case"bitshift":l=t.pop();c=t.pop();if(c>0){t.push(c<<l)}else{t.push(c>>l)}break;case"ceiling":c=t.pop();t.push(Math.ceil(c));break;case"copy":c=t.pop();t.copy(c);break;case"cos":c=t.pop();t.push(Math.cos(c));break;case"cvi":c=t.pop()|0;t.push(c);break;case"cvr":break;case"div":l=t.pop();c=t.pop();t.push(c/l);break;case"dup":t.copy(1);break;case"eq":l=t.pop();c=t.pop();t.push(c===l);break;case"exch":t.roll(2,1);break;case"exp":l=t.pop();c=t.pop();t.push(Math.pow(c,l));break;case"false":t.push(false);break;case"floor":c=t.pop();t.push(Math.floor(c));break;case"ge":l=t.pop();c=t.pop();t.push(c>=l);break;case"gt":l=t.pop();c=t.pop();t.push(c>l);break;case"idiv":l=t.pop();c=t.pop();t.push(c/l|0);break;case"index":c=t.pop();t.index(c);break;case"le":l=t.pop();c=t.pop();t.push(c<=l);break;case"ln":c=t.pop();t.push(Math.log(c));break;case"log":c=t.pop();t.push(Math.log(c)/Math.LN10);break;case"lt":l=t.pop();c=t.pop();t.push(c<l);break;case"mod":l=t.pop();c=t.pop();t.push(c%l);break;case"mul":l=t.pop();c=t.pop();t.push(c*l);break;case"ne":l=t.pop();c=t.pop();t.push(c!==l);break;case"neg":c=t.pop();t.push(-c);break;case"not":c=t.pop();if((0,a.isBool)(c)){t.push(!c)}else{t.push(~c)}break;case"or":l=t.pop();c=t.pop();if((0,a.isBool)(c)&&(0,a.isBool)(l)){t.push(c||l)}else{t.push(c|l)}break;case"pop":t.pop();break;case"roll":l=t.pop();c=t.pop();t.roll(c,l);break;case"round":c=t.pop();t.push(Math.round(c));break;case"sin":c=t.pop();t.push(Math.sin(c));break;case"sqrt":c=t.pop();t.push(Math.sqrt(c));break;case"sub":l=t.pop();c=t.pop();t.push(c-l);break;case"true":t.push(true);break;case"truncate":c=t.pop();c=c<0?Math.ceil(c):Math.floor(c);t.push(c);break;case"xor":l=t.pop();c=t.pop();if((0,a.isBool)(c)&&(0,a.isBool)(l)){t.push(c!==l)}else{t.push(c^l)}break;default:throw new a.FormatError("Unknown operator ".concat(s))}}return t.stack}};return r}();r.PostScriptEvaluator=p;var m=function e(){function r(e){this.type=e}r.prototype.visit=function(e){(0,a.unreachable)("abstract method")};function t(e,t,a){r.call(this,"args");this.index=e;this.min=t;this.max=a}t.prototype=Object.create(r.prototype);t.prototype.visit=function(e){e.visitArgument(this)};function n(e){r.call(this,"literal");this.number=e;this.min=e;this.max=e}n.prototype=Object.create(r.prototype);n.prototype.visit=function(e){e.visitLiteral(this)};function i(e,t,a,n,i){r.call(this,"binary");this.op=e;this.arg1=t;this.arg2=a;this.min=n;this.max=i}i.prototype=Object.create(r.prototype);i.prototype.visit=function(e){e.visitBinaryOperation(this)};function o(e,t){r.call(this,"max");this.arg=e;this.min=e.min;this.max=t}o.prototype=Object.create(r.prototype);o.prototype.visit=function(e){e.visitMin(this)};function s(e,t,a){r.call(this,"var");this.index=e;this.min=t;this.max=a}s.prototype=Object.create(r.prototype);s.prototype.visit=function(e){e.visitVariable(this)};function c(e,t){r.call(this,"definition");this.variable=e;this.arg=t}c.prototype=Object.create(r.prototype);c.prototype.visit=function(e){e.visitVariableDefinition(this)};function l(){this.parts=[]}l.prototype={visitArgument:function e(r){this.parts.push("Math.max(",r.min,", Math.min(",r.max,", src[srcOffset + ",r.index,"]))")},visitVariable:function e(r){this.parts.push("v",r.index)},visitLiteral:function e(r){this.parts.push(r.number)},visitBinaryOperation:function e(r){this.parts.push("(");r.arg1.visit(this);this.parts.push(" ",r.op," ");r.arg2.visit(this);this.parts.push(")")},visitVariableDefinition:function e(r){this.parts.push("var ");r.variable.visit(this);this.parts.push(" = ");r.arg.visit(this);this.parts.push(";")},visitMin:function e(r){this.parts.push("Math.min(");r.arg.visit(this);this.parts.push(", ",r.max,")")},toString:function e(){return this.parts.join("")}};function u(e,r){if(r.type==="literal"&&r.number===0){return e}if(e.type==="literal"&&e.number===0){return r}if(r.type==="literal"&&e.type==="literal"){return new n(e.number+r.number)}return new i("+",e,r,e.min+r.min,e.max+r.max)}function f(e,r){if(r.type==="literal"){if(r.number===0){return new n(0)}else if(r.number===1){return e}else if(e.type==="literal"){return new n(e.number*r.number)}}if(e.type==="literal"){if(e.number===0){return new n(0)}else if(e.number===1){return r}}var t=Math.min(e.min*r.min,e.min*r.max,e.max*r.min,e.max*r.max);var a=Math.max(e.min*r.min,e.min*r.max,e.max*r.min,e.max*r.max);return new i("*",e,r,t,a)}function h(e,r){if(r.type==="literal"){if(r.number===0){return e}else if(e.type==="literal"){return new n(e.number-r.number)}}if(r.type==="binary"&&r.op==="-"&&e.type==="literal"&&e.number===1&&r.arg1.type==="literal"&&r.arg1.number===1){return r.arg2}return new i("-",e,r,e.min-r.max,e.max-r.min)}function d(e,r){if(e.min>=r){return new n(r)}else if(e.max<=r){return e}return new o(e,r)}function v(){}v.prototype={compile:function e(r,a,i){var o=[];var v,g;var p=[];var m=a.length>>1,b=i.length>>1;var y=0;var w,k;var S,x,C,A,O,P;for(v=0;v<m;v++){o.push(new t(v,a[v*2],a[v*2+1]))}for(v=0,g=r.length;v<g;v++){P=r[v];if(typeof P==="number"){o.push(new n(P));continue}switch(P){case"add":if(o.length<2){return null}x=o.pop();S=o.pop();o.push(u(S,x));break;case"cvr":if(o.length<1){return null}break;case"mul":if(o.length<2){return null}x=o.pop();S=o.pop();o.push(f(S,x));break;case"sub":if(o.length<2){return null}x=o.pop();S=o.pop();o.push(h(S,x));break;case"exch":if(o.length<2){return null}C=o.pop();A=o.pop();o.push(C,A);break;case"pop":if(o.length<1){return null}o.pop();break;case"index":if(o.length<1){return null}S=o.pop();if(S.type!=="literal"){return null}w=S.number;if(w<0||!Number.isInteger(w)||o.length<w){return null}C=o[o.length-w-1];if(C.type==="literal"||C.type==="var"){o.push(C);break}O=new s(y++,C.min,C.max);o[o.length-w-1]=O;o.push(O);p.push(new c(O,C));break;case"dup":if(o.length<1){return null}if(typeof r[v+1]==="number"&&r[v+2]==="gt"&&r[v+3]===v+7&&r[v+4]==="jz"&&r[v+5]==="pop"&&r[v+6]===r[v+1]){S=o.pop();o.push(d(S,r[v+1]));v+=6;break}C=o[o.length-1];if(C.type==="literal"||C.type==="var"){o.push(C);break}O=new s(y++,C.min,C.max);o[o.length-1]=O;o.push(O);p.push(new c(O,C));break;case"roll":if(o.length<2){return null}x=o.pop();S=o.pop();if(x.type!=="literal"||S.type!=="literal"){return null}k=x.number;w=S.number;if(w<=0||!Number.isInteger(w)||!Number.isInteger(k)||o.length<w){return null}k=(k%w+w)%w;if(k===0){break}Array.prototype.push.apply(o,o.splice(o.length-w,w-k));break;default:return null}}if(o.length!==b){return null}var I=[];p.forEach(function(e){var r=new l;e.visit(r);I.push(r.toString())});o.forEach(function(e,r){var t=new l;e.visit(t);var a=i[r*2],n=i[r*2+1];var o=[t.toString()];if(a>e.min){o.unshift("Math.max(",a,", ");o.push(")")}if(n<e.max){o.unshift("Math.min(",n,", ");o.push(")")}o.unshift("dest[destOffset + ",r,"] = ");o.push(";");I.push(o.join(""))});return I.join("\n")}};return v}();r.PostScriptCompiler=m},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PostScriptParser=r.PostScriptLexer=void 0;var a=t(5);var n=t(183);function i(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function o(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function s(e,r,t){if(r)o(e.prototype,r);if(t)o(e,t);return e}var c=function(){function e(r){i(this,e);this.lexer=r;this.operators=[];this.token=null;this.prev=null}s(e,[{key:"nextToken",value:function e(){this.prev=this.token;this.token=this.lexer.getToken()}},{key:"accept",value:function e(r){if(this.token.type===r){this.nextToken();return true}return false}},{key:"expect",value:function e(r){if(this.accept(r)){return true}throw new a.FormatError("Unexpected symbol: found ".concat(this.token.type," expected ").concat(r,"."))}},{key:"parse",value:function e(){this.nextToken();this.expect(l.LBRACE);this.parseBlock();this.expect(l.RBRACE);return this.operators}},{key:"parseBlock",value:function e(){while(true){if(this.accept(l.NUMBER)){this.operators.push(this.prev.value)}else if(this.accept(l.OPERATOR)){this.operators.push(this.prev.value)}else if(this.accept(l.LBRACE)){this.parseCondition()}else{return}}}},{key:"parseCondition",value:function e(){var r=this.operators.length;this.operators.push(null,null);this.parseBlock();this.expect(l.RBRACE);if(this.accept(l.IF)){this.operators[r]=this.operators.length;this.operators[r+1]="jz"}else if(this.accept(l.LBRACE)){var t=this.operators.length;this.operators.push(null,null);var n=this.operators.length;this.parseBlock();this.expect(l.RBRACE);this.expect(l.IFELSE);this.operators[t]=this.operators.length;this.operators[t+1]="j";this.operators[r]=n;this.operators[r+1]="jz"}else{throw new a.FormatError("PS Function: error parsing conditional.")}}}]);return e}();r.PostScriptParser=c;var l={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};var u=function e(){var r=Object.create(null);var t=function(){function e(r,t){i(this,e);this.type=r;this.value=t}s(e,null,[{key:"getOperator",value:function t(a){var n=r[a];if(n){return n}return r[a]=new e(l.OPERATOR,a)}},{key:"LBRACE",get:function r(){return(0,a.shadow)(this,"LBRACE",new e(l.LBRACE,"{"))}},{key:"RBRACE",get:function r(){return(0,a.shadow)(this,"RBRACE",new e(l.RBRACE,"}"))}},{key:"IF",get:function r(){return(0,a.shadow)(this,"IF",new e(l.IF,"IF"))}},{key:"IFELSE",get:function r(){return(0,a.shadow)(this,"IFELSE",new e(l.IFELSE,"IFELSE"))}}]);return e}();return t}();var f=function(){function e(r){i(this,e);this.stream=r;this.nextChar();this.strBuf=[]}s(e,[{key:"nextChar",value:function e(){return this.currentChar=this.stream.getByte()}},{key:"getToken",value:function e(){var r=false;var t=this.currentChar;while(true){if(t<0){return n.EOF}if(r){if(t===10||t===13){r=false}}else if(t===37){r=true}else if(!(0,a.isSpace)(t)){break}t=this.nextChar()}switch(t|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new u(l.NUMBER,this.getNumber());case 123:this.nextChar();return u.LBRACE;case 125:this.nextChar();return u.RBRACE}var i=this.strBuf;i.length=0;i[0]=String.fromCharCode(t);while((t=this.nextChar())>=0&&(t>=65&&t<=90||t>=97&&t<=122)){i.push(String.fromCharCode(t))}var o=i.join("");switch(o.toLowerCase()){case"if":return u.IF;case"ifelse":return u.IFELSE;default:return u.getOperator(o)}}},{key:"getNumber",value:function e(){var r=this.currentChar;var t=this.strBuf;t.length=0;t[0]=String.fromCharCode(r);while((r=this.nextChar())>=0){if(r>=48&&r<=57||r===45||r===46){t.push(String.fromCharCode(r))}else{break}}var n=parseFloat(t.join(""));if(isNaN(n)){throw new a.FormatError("Invalid floating point number: ".concat(n))}return n}}]);return e}();r.PostScriptLexer=f},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MurmurHash3_64=void 0;var a=t(5);function n(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function i(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function o(e,r,t){if(r)i(e.prototype,r);if(t)i(e,t);return e}var s=3285377520;var c=4294901760;var l=65535;var u=function(){function e(r){n(this,e);this.h1=r?r&4294967295:s;this.h2=r?r&4294967295:s}o(e,[{key:"update",value:function e(r){var t,n;if((0,a.isString)(r)){t=new Uint8Array(r.length*2);n=0;for(var i=0,o=r.length;i<o;i++){var s=r.charCodeAt(i);if(s<=255){t[n++]=s}else{t[n++]=s>>>8;t[n++]=s&255}}}else if((0,a.isArrayBuffer)(r)){t=r;n=t.byteLength}else{throw new Error("Wrong data format in MurmurHash3_64_update. "+"Input must be a string or array.")}var u=n>>2;var f=n-u*4;var h=new Uint32Array(t.buffer,0,u);var d=0,v=0;var g=this.h1,p=this.h2;var m=3432918353,b=461845907;var y=m&l,w=b&l;for(var k=0;k<u;k++){if(k&1){d=h[k];d=d*m&c|d*y&l;d=d<<15|d>>>17;d=d*b&c|d*w&l;g^=d;g=g<<13|g>>>19;g=g*5+3864292196}else{v=h[k];v=v*m&c|v*y&l;v=v<<15|v>>>17;v=v*b&c|v*w&l;p^=v;p=p<<13|p>>>19;p=p*5+3864292196}}d=0;switch(f){case 3:d^=t[u*4+2]<<16;case 2:d^=t[u*4+1]<<8;case 1:d^=t[u*4];d=d*m&c|d*y&l;d=d<<15|d>>>17;d=d*b&c|d*w&l;if(u&1){g^=d}else{p^=d}}this.h1=g;this.h2=p}},{key:"hexdigest",value:function e(){var r=this.h1,t=this.h2;r^=t>>>1;r=r*3981806797&c|r*36045&l;t=t*4283543511&c|((t<<16|r>>>16)*2950163797&c)>>>16;r^=t>>>1;r=r*444984403&c|r*60499&l;t=t*3301882366&c|((t<<16|r>>>16)*3120437893&c)>>>16;r^=t>>>1;var a=(r>>>0).toString(16),n=(t>>>0).toString(16);return a.padStart(8,"0")+n.padStart(8,"0")}}]);return e}();r.MurmurHash3_64=u},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NativeImageDecoder=void 0;var a=t(201);var n=t(196);var i=t(190);function o(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function s(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function c(e,r,t){if(r)s(e.prototype,r);if(t)s(e,t);return e}var l=function(){function e(r){var t=r.xref,a=r.resources,n=r.handler,i=r.forceDataSchema,s=i===void 0?false:i,c=r.pdfFunctionFactory;o(this,e);this.xref=t;this.resources=a;this.handler=n;this.forceDataSchema=s;this.pdfFunctionFactory=c}c(e,[{key:"canDecode",value:function r(t){return t instanceof n.JpegStream&&e.isDecodable(t,this.xref,this.resources,this.pdfFunctionFactory)}},{key:"decode",value:function e(r){var t=r.dict;var n=t.get("ColorSpace","CS");n=a.ColorSpace.parse(n,this.xref,this.resources,this.pdfFunctionFactory);return this.handler.sendWithPromise("JpegDecode",[r.getIR(this.forceDataSchema),n.numComps]).then(function(e){var r=e.data,a=e.width,n=e.height;return new i.Stream(r,0,r.length,t)})}}],[{key:"isSupported",value:function e(r,t,n,i){var o=r.dict;if(o.has("DecodeParms")||o.has("DP")){return false}var s=a.ColorSpace.parse(o.get("ColorSpace","CS"),t,n,i);return(s.name==="DeviceGray"||s.name==="DeviceRGB")&&s.isDefaultDecode(o.getArray("Decode","D"))}},{key:"isDecodable",value:function e(r,t,n,i){var o=r.dict;if(o.has("DecodeParms")||o.has("DP")){return false}var s=a.ColorSpace.parse(o.get("ColorSpace","CS"),t,n,i);var c=o.get("BitsPerComponent","BPC")||1;return(s.numComps===1||s.numComps===3)&&s.isDefaultDecode(o.getArray("Decode","D"),c)}}]);return e}();r.NativeImageDecoder=l},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PDFImage=void 0;var a=t(5);var n=t(183);var i=t(201);var o=t(190);var s=t(196);var c=t(199);function l(e,r){return h(e)||f(e,r)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(e,r){if(!(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")){return}var t=[];var a=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){t.push(s.value);if(r&&t.length===r)break}}catch(e){n=true;i=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(n)throw i}}return t}function h(e){if(Array.isArray(e))return e}var d=function e(){function r(e,r){if(r&&r.canDecode(e)){return r.decode(e)["catch"](function(r){(0,a.warn)("Native image decoding failed -- trying to recover: "+(r&&r.message));return e})}return Promise.resolve(e)}function t(e,r,t,a){e=r+e*t;return e<0?0:e>a?a:e}function u(e,r,t,a,n,i){var o=n*i;var s=r<=8?new Uint8Array(o):r<=16?new Uint16Array(o):new Uint32Array(o);var c=t/n;var l=a/i;var u,f,h,d=0,v;var g=new Uint16Array(n);var p=t;for(u=0;u<n;u++){g[u]=Math.floor(u*c)}for(u=0;u<i;u++){h=Math.floor(u*l)*p;for(f=0;f<n;f++){v=h+g[f];s[d++]=e[v]}}return s}function f(e){var r=e.xref,t=e.res,o=e.image,s=e.isInline,l=s===void 0?false:s,u=e.smask,h=u===void 0?null:u,d=e.mask,v=d===void 0?null:d,g=e.isMask,p=g===void 0?false:g,m=e.pdfFunctionFactory;this.image=o;var b=o.dict;var y=b.get("Filter");if((0,n.isName)(y)){switch(y.name){case"JPXDecode":var w=new c.JpxImage;w.parseImageProperties(o.stream);o.stream.reset();o.width=w.width;o.height=w.height;o.bitsPerComponent=w.bitsPerComponent;o.numComps=w.componentsCount;break;case"JBIG2Decode":o.bitsPerComponent=1;o.numComps=1;break}}var k=b.get("Width","W");var S=b.get("Height","H");if(Number.isInteger(o.width)&&o.width>0&&Number.isInteger(o.height)&&o.height>0&&(o.width!==k||o.height!==S)){(0,a.warn)("PDFImage - using the Width/Height of the image data, "+"rather than the image dictionary.");k=o.width;S=o.height}if(k<1||S<1){throw new a.FormatError("Invalid image width: ".concat(k," or ")+"height: ".concat(S))}this.width=k;this.height=S;this.interpolate=b.get("Interpolate","I")||false;this.imageMask=b.get("ImageMask","IM")||false;this.matte=b.get("Matte")||false;var x=o.bitsPerComponent;if(!x){x=b.get("BitsPerComponent","BPC");if(!x){if(this.imageMask){x=1}else{throw new a.FormatError("Bits per component missing in image: ".concat(this.imageMask))}}}this.bpc=x;if(!this.imageMask){var C=b.get("ColorSpace","CS");if(!C){(0,a.info)("JPX images (which do not require color spaces)");switch(o.numComps){case 1:C=n.Name.get("DeviceGray");break;case 3:C=n.Name.get("DeviceRGB");break;case 4:C=n.Name.get("DeviceCMYK");break;default:throw new Error("JPX images with ".concat(o.numComps," ")+"color components not supported.")}}var A=l?t:null;this.colorSpace=i.ColorSpace.parse(C,r,A,m);this.numComps=this.colorSpace.numComps}this.decode=b.getArray("Decode","D");this.needsDecode=false;if(this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,x)||p&&!i.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=true;var O=(1<<x)-1;this.decodeCoefficients=[];this.decodeAddends=[];var P=this.colorSpace&&this.colorSpace.name==="Indexed";for(var I=0,T=0;I<this.decode.length;I+=2,++T){var E=this.decode[I];var F=this.decode[I+1];this.decodeCoefficients[T]=P?(F-E)/O:F-E;this.decodeAddends[T]=P?E:O*E}}if(h){this.smask=new f({xref:r,res:t,image:h,isInline:l,pdfFunctionFactory:m})}else if(v){if((0,n.isStream)(v)){var B=v.dict,_=B.get("ImageMask","IM");if(!_){(0,a.warn)("Ignoring /Mask in image without /ImageMask.")}else{this.mask=new f({xref:r,res:t,image:v,isInline:l,isMask:true,pdfFunctionFactory:m})}}else{this.mask=v}}}f.buildImage=function(e){var t=e.handler,i=e.xref,o=e.res,s=e.image,c=e.isInline,u=c===void 0?false:c,h=e.nativeDecoder,d=h===void 0?null:h,v=e.pdfFunctionFactory;var g=r(s,d);var p;var m;var b=s.dict.get("SMask");var y=s.dict.get("Mask");if(b){p=r(b,d);m=Promise.resolve(null)}else{p=Promise.resolve(null);if(y){if((0,n.isStream)(y)){m=r(y,d)}else if(Array.isArray(y)){m=Promise.resolve(y)}else{(0,a.warn)("Unsupported mask format.");m=Promise.resolve(null)}}else{m=Promise.resolve(null)}}return Promise.all([g,p,m]).then(function(e){var r=l(e,3),t=r[0],a=r[1],n=r[2];return new f({xref:i,res:o,image:t,isInline:u,smask:a,mask:n,pdfFunctionFactory:v})})};f.createMask=function(e){var r=e.imgArray,t=e.width,a=e.height,n=e.imageIsFromDecodeStream,i=e.inverseDecode;var o=(t+7>>3)*a;var s=r.byteLength;var c=o===s;var l,u;if(n&&(!i||c)){l=r}else if(!i){l=new Uint8ClampedArray(s);l.set(r)}else{l=new Uint8ClampedArray(o);l.set(r);for(u=s;u<o;u++){l[u]=255}}if(i){for(u=0;u<s;u++){l[u]^=255}}return{data:l,width:t,height:a}};f.prototype={get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)},get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)},decodeBuffer:function e(r){var a=this.bpc;var n=this.numComps;var i=this.decodeAddends;var o=this.decodeCoefficients;var s=(1<<a)-1;var c,l;if(a===1){for(c=0,l=r.length;c<l;c++){r[c]=+!r[c]}return}var u=0;for(c=0,l=this.width*this.height;c<l;c++){for(var f=0;f<n;f++){r[u]=t(r[u],i[f],o[f],s);u++}}},getComponents:function e(r){var t=this.bpc;if(t===8){return r}var a=this.width;var n=this.height;var i=this.numComps;var o=a*n*i;var s=0;var c=t<=8?new Uint8Array(o):t<=16?new Uint16Array(o):new Uint32Array(o);var l=a*i;var u=(1<<t)-1;var f=0,h,d;if(t===1){var v,g,p;for(var m=0;m<n;m++){g=f+(l&~7);p=f+l;while(f<g){d=r[s++];c[f]=d>>7&1;c[f+1]=d>>6&1;c[f+2]=d>>5&1;c[f+3]=d>>4&1;c[f+4]=d>>3&1;c[f+5]=d>>2&1;c[f+6]=d>>1&1;c[f+7]=d&1;f+=8}if(f<p){d=r[s++];v=128;while(f<p){c[f++]=+!!(d&v);v>>=1}}}}else{var b=0;d=0;for(f=0,h=o;f<h;++f){if(f%l===0){d=0;b=0}while(b<t){d=d<<8|r[s++];b+=8}var y=b-t;var w=d>>y;c[f]=w<0?0:w>u?u:w;d=d&(1<<y)-1;b=y}}return c},fillOpacity:function e(r,t,n,i,o){var s=this.smask;var c=this.mask;var l,h,d,v,g,p;if(s){h=s.width;d=s.height;l=new Uint8ClampedArray(h*d);s.fillGrayBuffer(l);if(h!==t||d!==n){l=u(l,s.bpc,h,d,t,n)}}else if(c){if(c instanceof f){h=c.width;d=c.height;l=new Uint8ClampedArray(h*d);c.numComps=1;c.fillGrayBuffer(l);for(v=0,g=h*d;v<g;++v){l[v]=255-l[v]}if(h!==t||d!==n){l=u(l,c.bpc,h,d,t,n)}}else if(Array.isArray(c)){l=new Uint8ClampedArray(t*n);var m=this.numComps;for(v=0,g=t*n;v<g;++v){var b=0;var y=v*m;for(p=0;p<m;++p){var w=o[y+p];var k=p*2;if(w<c[k]||w>c[k+1]){b=255;break}}l[v]=b}}else{throw new a.FormatError("Unknown mask format.")}}if(l){for(v=0,p=3,g=t*i;v<g;++v,p+=4){r[p]=l[v]}}else{for(v=0,p=3,g=t*i;v<g;++v,p+=4){r[p]=255}}},undoPreblend:function e(r,t,a){var n=this.smask&&this.smask.matte;if(!n){return}var i=this.colorSpace.getRgb(n,0);var o=i[0];var s=i[1];var c=i[2];var l=t*a*4;for(var u=0;u<l;u+=4){var f=r[u+3];if(f===0){r[u]=255;r[u+1]=255;r[u+2]=255;continue}var h=255/f;r[u]=(r[u]-o)*h+o;r[u+1]=(r[u+1]-s)*h+s;r[u+2]=(r[u+2]-c)*h+c}},createImageData:function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var t=this.drawWidth;var n=this.drawHeight;var i={width:t,height:n,kind:0,data:null};var c=this.numComps;var l=this.width;var u=this.height;var f=this.bpc;var h=l*c*f+7>>3;var d;if(!r){var v;if(this.colorSpace.name==="DeviceGray"&&f===1){v=a.ImageKind.GRAYSCALE_1BPP}else if(this.colorSpace.name==="DeviceRGB"&&f===8&&!this.needsDecode){v=a.ImageKind.RGB_24BPP}if(v&&!this.smask&&!this.mask&&t===l&&n===u){i.kind=v;d=this.getImageBytes(u*h);if(this.image instanceof o.DecodeStream){i.data=d}else{var g=new Uint8ClampedArray(d.length);g.set(d);i.data=g}if(this.needsDecode){(0,a.assert)(v===a.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");var p=i.data;for(var m=0,b=p.length;m<b;m++){p[m]^=255}}return i}if(this.image instanceof s.JpegStream&&!this.smask&&!this.mask){var y=u*h;switch(this.colorSpace.name){case"DeviceGray":y*=3;case"DeviceRGB":case"DeviceCMYK":i.kind=a.ImageKind.RGB_24BPP;i.data=this.getImageBytes(y,t,n,true);return i}}}d=this.getImageBytes(u*h);var w=0|d.length/h*n/u;var k=this.getComponents(d);var S,x;if(!r&&!this.smask&&!this.mask){i.kind=a.ImageKind.RGB_24BPP;i.data=new Uint8ClampedArray(t*n*3);S=0;x=false}else{i.kind=a.ImageKind.RGBA_32BPP;i.data=new Uint8ClampedArray(t*n*4);S=1;x=true;this.fillOpacity(i.data,t,n,w,k)}if(this.needsDecode){this.decodeBuffer(k)}this.colorSpace.fillRgb(i.data,l,u,t,n,w,f,k,S);if(x){this.undoPreblend(i.data,t,w)}return i},fillGrayBuffer:function e(r){var t=this.numComps;if(t!==1){throw new a.FormatError("Reading gray scale from a color image: ".concat(t))}var n=this.width;var i=this.height;var o=this.bpc;var s=n*t*o+7>>3;var c=this.getImageBytes(i*s);var l=this.getComponents(c);var u,f;if(o===1){f=n*i;if(this.needsDecode){for(u=0;u<f;++u){r[u]=l[u]-1&255}}else{for(u=0;u<f;++u){r[u]=-l[u]&255}}return}if(this.needsDecode){this.decodeBuffer(l)}f=n*i;var h=255/((1<<o)-1);for(u=0;u<f;++u){r[u]=h*l[u]}},getImageBytes:function e(r,t,a){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this.image.reset();this.image.drawWidth=t||this.width;this.image.drawHeight=a||this.height;this.image.forceRGB=!!n;return this.image.getBytes(r,true)}};return f}();r.PDFImage=d},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MessageHandler=s;var a=t(5);function n(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(r){return typeof r}}else{n=function e(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return n(e)}var i={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(e){if(n(e)!=="object"){return e}switch(e.name){case"AbortException":return new a.AbortException(e.message);case"MissingPDFException":return new a.MissingPDFException(e.message);case"UnexpectedResponseException":return new a.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new a.UnknownErrorException(e.message,e.details);default:return new a.UnknownErrorException(e.message,e.toString())}}function s(e,r,t){var a=this;this.sourceName=e;this.targetName=r;this.comObj=t;this.callbackId=1;this.streamId=1;this.postMessageTransfers=true;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);var n=this.callbacksCapabilities=Object.create(null);var i=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var r=e.data;if(r.targetName!==a.sourceName){return}if(r.stream){a._processStreamMessage(r)}else if(r.isReply){var s=r.callbackId;if(r.callbackId in n){var c=n[s];delete n[s];if("reason"in r){c.reject(o(r.reason))}else{c.resolve(r.data)}}else{throw new Error("Cannot resolve callback ".concat(s))}}else if(r.action in i){var l=i[r.action];if(r.callbackId){var u=a.sourceName;var f=r.sourceName;new Promise(function(e){e(l(r.data))}).then(function(e){t.postMessage({sourceName:u,targetName:f,isReply:true,callbackId:r.callbackId,data:e})},function(e){t.postMessage({sourceName:u,targetName:f,isReply:true,callbackId:r.callbackId,reason:o(e)})})}else if(r.streamId){a._createStreamSink(r)}else{l(r.data)}}else{throw new Error("Unknown action from worker: ".concat(r.action))}};t.addEventListener("message",this._onComObjOnMessage)}s.prototype={on:function e(r,t){var a=this.actionHandler;if(a[r]){throw new Error('There is already an actionName called "'.concat(r,'"'))}a[r]=t},send:function e(r,t,a){this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,data:t},a)},sendWithPromise:function e(r,t,n){var i=this.callbackId++;var o=(0,a.createPromiseCapability)();this.callbacksCapabilities[i]=o;try{this.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,callbackId:i,data:t},n)}catch(e){o.reject(e)}return o.promise},sendWithStream:function e(r,t,n,s){var c=this;var l=this.streamId++;var u=this.sourceName;var f=this.targetName;var h=this.comObj;return new a.ReadableStream({start:function e(n){var i=(0,a.createPromiseCapability)();c.streamControllers[l]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:false};c.postMessage({sourceName:u,targetName:f,action:r,streamId:l,data:t,desiredSize:n.desiredSize},s);return i.promise},pull:function e(r){var t=(0,a.createPromiseCapability)();c.streamControllers[l].pullCall=t;h.postMessage({sourceName:u,targetName:f,stream:i.PULL,streamId:l,desiredSize:r.desiredSize});return t.promise},cancel:function e(r){(0,a.assert)(r instanceof Error,"cancel must have a valid reason");var t=(0,a.createPromiseCapability)();c.streamControllers[l].cancelCall=t;c.streamControllers[l].isClosed=true;h.postMessage({sourceName:u,targetName:f,stream:i.CANCEL,streamId:l,reason:o(r)});return t.promise}},n)},_createStreamSink:function e(r){var t=this;var n=this.actionHandler[r.action];var s=r.streamId;var c=r.desiredSize;var l=this.sourceName;var u=r.sourceName;var f=(0,a.createPromiseCapability)();var h=this.comObj;var d={enqueue:function e(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o=arguments.length>2?arguments[2]:undefined;if(this.isCancelled){return}var c=this.desiredSize;this.desiredSize-=n;if(c>0&&this.desiredSize<=0){this.sinkCapability=(0,a.createPromiseCapability)();this.ready=this.sinkCapability.promise}t.postMessage({sourceName:l,targetName:u,stream:i.ENQUEUE,streamId:s,chunk:r},o)},close:function e(){if(this.isCancelled){return}this.isCancelled=true;h.postMessage({sourceName:l,targetName:u,stream:i.CLOSE,streamId:s});delete t.streamSinks[s]},error:function e(r){(0,a.assert)(r instanceof Error,"error must have a valid reason");if(this.isCancelled){return}this.isCancelled=true;h.postMessage({sourceName:l,targetName:u,stream:i.ERROR,streamId:s,reason:o(r)})},sinkCapability:f,onPull:null,onCancel:null,isCancelled:false,desiredSize:c,ready:null};d.sinkCapability.resolve();d.ready=d.sinkCapability.promise;this.streamSinks[s]=d;new Promise(function(e){e(n(r.data,d))}).then(function(){h.postMessage({sourceName:l,targetName:u,stream:i.START_COMPLETE,streamId:s,success:true})},function(e){h.postMessage({sourceName:l,targetName:u,stream:i.START_COMPLETE,streamId:s,reason:o(e)})})},_processStreamMessage:function e(r){var t=this;var n=this.sourceName;var s=r.sourceName;var c=r.streamId;var l=this.comObj;var u=function e(){Promise.all([t.streamControllers[c].startCall,t.streamControllers[c].pullCall,t.streamControllers[c].cancelCall].map(function(e){return e&&e.promise["catch"](function(){})})).then(function(){delete t.streamControllers[c]})};switch(r.stream){case i.START_COMPLETE:if(r.success){this.streamControllers[c].startCall.resolve()}else{this.streamControllers[c].startCall.reject(o(r.reason))}break;case i.PULL_COMPLETE:if(r.success){this.streamControllers[c].pullCall.resolve()}else{this.streamControllers[c].pullCall.reject(o(r.reason))}break;case i.PULL:if(!this.streamSinks[c]){l.postMessage({sourceName:n,targetName:s,stream:i.PULL_COMPLETE,streamId:c,success:true});break}if(this.streamSinks[c].desiredSize<=0&&r.desiredSize>0){this.streamSinks[c].sinkCapability.resolve()}this.streamSinks[c].desiredSize=r.desiredSize;var f=this.streamSinks[r.streamId].onPull;new Promise(function(e){e(f&&f())}).then(function(){l.postMessage({sourceName:n,targetName:s,stream:i.PULL_COMPLETE,streamId:c,success:true})},function(e){l.postMessage({sourceName:n,targetName:s,stream:i.PULL_COMPLETE,streamId:c,reason:o(e)})});break;case i.ENQUEUE:(0,a.assert)(this.streamControllers[c],"enqueue should have stream controller");if(this.streamControllers[c].isClosed){break}this.streamControllers[c].controller.enqueue(r.chunk);break;case i.CLOSE:(0,a.assert)(this.streamControllers[c],"close should have stream controller");if(this.streamControllers[c].isClosed){break}this.streamControllers[c].isClosed=true;this.streamControllers[c].controller.close();u();break;case i.ERROR:(0,a.assert)(this.streamControllers[c],"error should have stream controller");this.streamControllers[c].controller.error(o(r.reason));u();break;case i.CANCEL_COMPLETE:if(r.success){this.streamControllers[c].cancelCall.resolve()}else{this.streamControllers[c].cancelCall.reject(o(r.reason))}u();break;case i.CANCEL:if(!this.streamSinks[c]){break}var h=this.streamSinks[r.streamId].onCancel;new Promise(function(e){e(h&&h(o(r.reason)))}).then(function(){l.postMessage({sourceName:n,targetName:s,stream:i.CANCEL_COMPLETE,streamId:c,success:true})},function(e){l.postMessage({sourceName:n,targetName:s,stream:i.CANCEL_COMPLETE,streamId:c,reason:o(e)})});this.streamSinks[c].sinkCapability.reject(o(r.reason));this.streamSinks[c].isCancelled=true;delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}},postMessage:function e(r,t){if(t&&this.postMessageTransfers){this.comObj.postMessage(r,t)}else{this.comObj.postMessage(r)}},destroy:function e(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PDFWorkerStream=void 0;var a=i(t(2));var n=t(5);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,r,t,a,n,i,o){try{var s=e[i](o);var c=s.value}catch(e){t(e);return}if(s.done){r(c)}else{Promise.resolve(c).then(a,n)}}function s(e){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=e.apply(r,t);function s(e){o(i,a,n,s,c,"next",e)}function c(e){o(i,a,n,s,c,"throw",e)}s(undefined)})}}function c(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function l(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function u(e,r,t){if(r)l(e.prototype,r);if(t)l(e,t);return e}var f=function(){function e(r){c(this,e);this._msgHandler=r;this._contentLength=null;this._fullRequestReader=null;this._rangeRequestReaders=[]}u(e,[{key:"getFullReader",value:function e(){(0,n.assert)(!this._fullRequestReader);this._fullRequestReader=new h(this._msgHandler);return this._fullRequestReader}},{key:"getRangeReader",value:function e(r,t){var a=new d(r,t,this._msgHandler);this._rangeRequestReaders.push(a);return a}},{key:"cancelAllRequests",value:function e(r){if(this._fullRequestReader){this._fullRequestReader.cancel(r)}var t=this._rangeRequestReaders.slice(0);t.forEach(function(e){e.cancel(r)})}}]);return e}();r.PDFWorkerStream=f;var h=function(){function e(r){var t=this;c(this,e);this._msgHandler=r;this.onProgress=null;this._contentLength=null;this._isRangeSupported=false;this._isStreamingSupported=false;var a=this._msgHandler.sendWithStream("GetReader");this._reader=a.getReader();this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(function(e){t._isStreamingSupported=e.isStreamingSupported;t._isRangeSupported=e.isRangeSupported;t._contentLength=e.contentLength})}u(e,[{key:"read",value:function(){var e=s(a["default"].mark(function e(){var r,t,n;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return this._reader.read();case 2:r=a.sent;t=r.value;n=r.done;if(!n){a.next=7;break}return a.abrupt("return",{value:undefined,done:true});case 7:return a.abrupt("return",{value:t.buffer,done:false});case 8:case"end":return a.stop()}}},e,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"cancel",value:function e(r){this._reader.cancel(r)}},{key:"headersReady",get:function e(){return this._headersReady}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}}]);return e}();var d=function(){function e(r,t,a){c(this,e);this._msgHandler=a;this.onProgress=null;var n=this._msgHandler.sendWithStream("GetRangeReader",{begin:r,end:t});this._reader=n.getReader()}u(e,[{key:"read",value:function(){var e=s(a["default"].mark(function e(){var r,t,n;return a["default"].wrap(function e(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return this._reader.read();case 2:r=a.sent;t=r.value;n=r.done;if(!n){a.next=7;break}return a.abrupt("return",{value:undefined,done:true});case 7:return a.abrupt("return",{value:t.buffer,done:false});case 8:case"end":return a.stop()}}},e,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"cancel",value:function e(r){this._reader.cancel(r)}},{key:"isStreamingSupported",get:function e(){return false}}]);return e}()}])});